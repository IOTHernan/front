import{A as Tn,B as wt,C as Ly,D as Vy,a as L,b as Ce,c as Nj,d as ky,e as Py,f as D,g as rT,h as fh,i as oT,j as sT,k as aT,l as Ny,m as ph,n as vl,o as Oy,p as mh,q as gh,r as cT,s as Fy,t as xe,u as Hn,v as fi,w as yh,x as Fo,y as vh,z as lT}from"./chunk-4TGAAJM3.js";var $p=Nj((Oi,b0)=>{"use strict";(function(t,e){typeof Oi=="object"&&typeof b0<"u"?b0.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Oi,function(){"use strict";var t={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};let e="swal2-",n=d=>{let h={};for(let p in d)h[d[p]]=e+d[p];return h},i=n(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),r=n(["success","warning","info","question","error"]),o="SweetAlert2:",s=d=>{let h=[];for(let p=0;p<d.length;p++)h.indexOf(d[p])===-1&&h.push(d[p]);return h},a=d=>d.charAt(0).toUpperCase()+d.slice(1),c=d=>{console.warn(`${o} ${typeof d=="object"?d.join(" "):d}`)},l=d=>{console.error(`${o} ${d}`)},u=[],f=d=>{u.includes(d)||(u.push(d),c(d))},m=(d,h)=>{f(`"${d}" is deprecated and will be removed in the next major release. Please use "${h}" instead.`)},g=d=>typeof d=="function"?d():d,_=d=>d&&typeof d.toPromise=="function",E=d=>_(d)?d.toPromise():Promise.resolve(d),w=d=>d&&Promise.resolve(d)===d,S=()=>document.body.querySelector(`.${i.container}`),j=d=>{let h=S();return h?h.querySelector(d):null},M=d=>j(`.${d}`),x=()=>M(i.popup),q=()=>M(i.icon),ee=()=>M(i["icon-content"]),Ie=()=>M(i.title),Je=()=>M(i["html-container"]),li=()=>M(i.image),Zs=()=>M(i["progress-steps"]),oh=()=>M(i["validation-message"]),$n=()=>j(`.${i.actions} .${i.confirm}`),xr=()=>j(`.${i.actions} .${i.deny}`),Y2=()=>M(i["input-label"]),Xs=()=>j(`.${i.loader}`),Po=()=>j(`.${i.actions} .${i.cancel}`),fl=()=>M(i.actions),bD=()=>M(i.footer),sh=()=>M(i["timer-progress-bar"]),gy=()=>M(i.close),Q2=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,yy=()=>{let d=Array.from(x().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((p,y)=>{let A=parseInt(p.getAttribute("tabindex")),W=parseInt(y.getAttribute("tabindex"));return A>W?1:A<W?-1:0}),h=Array.from(x().querySelectorAll(Q2)).filter(p=>p.getAttribute("tabindex")!=="-1");return s(d.concat(h)).filter(p=>gn(p))},vy=()=>er(document.body,i.shown)&&!er(document.body,i["toast-shown"])&&!er(document.body,i["no-backdrop"]),ah=()=>x()&&er(x(),i.toast),Z2=()=>x().hasAttribute("data-loading"),Js={previousBodyPadding:null},mn=(d,h)=>{if(d.textContent="",h){let y=new DOMParser().parseFromString(h,"text/html");Array.from(y.querySelector("head").childNodes).forEach(A=>{d.appendChild(A)}),Array.from(y.querySelector("body").childNodes).forEach(A=>{A instanceof HTMLVideoElement||A instanceof HTMLAudioElement?d.appendChild(A.cloneNode(!0)):d.appendChild(A)})}},er=(d,h)=>{if(!h)return!1;let p=h.split(/\s+/);for(let y=0;y<p.length;y++)if(!d.classList.contains(p[y]))return!1;return!0},X2=(d,h)=>{Array.from(d.classList).forEach(p=>{!Object.values(i).includes(p)&&!Object.values(r).includes(p)&&!Object.values(h.showClass).includes(p)&&d.classList.remove(p)})},Dn=(d,h,p)=>{if(X2(d,h),h.customClass&&h.customClass[p]){if(typeof h.customClass[p]!="string"&&!h.customClass[p].forEach){c(`Invalid type of customClass.${p}! Expected string or iterable object, got "${typeof h.customClass[p]}"`);return}De(d,h.customClass[p])}},_y=(d,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return d.querySelector(`.${i.popup} > .${i[h]}`);case"checkbox":return d.querySelector(`.${i.popup} > .${i.checkbox} input`);case"radio":return d.querySelector(`.${i.popup} > .${i.radio} input:checked`)||d.querySelector(`.${i.popup} > .${i.radio} input:first-child`);case"range":return d.querySelector(`.${i.popup} > .${i.range} input`);default:return d.querySelector(`.${i.popup} > .${i.input}`)}},ED=d=>{if(d.focus(),d.type!=="file"){let h=d.value;d.value="",d.value=h}},ID=(d,h,p)=>{!d||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(y=>{Array.isArray(d)?d.forEach(A=>{p?A.classList.add(y):A.classList.remove(y)}):p?d.classList.add(y):d.classList.remove(y)}))},De=(d,h)=>{ID(d,h,!0)},ui=(d,h)=>{ID(d,h,!1)},Rr=(d,h)=>{let p=Array.from(d.children);for(let y=0;y<p.length;y++){let A=p[y];if(A instanceof HTMLElement&&er(A,h))return A}},ea=(d,h,p)=>{p===`${parseInt(p)}`&&(p=parseInt(p)),p||parseInt(p)===0?d.style[h]=typeof p=="number"?`${p}px`:p:d.style.removeProperty(h)},Pt=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d.style.display=h},jt=d=>{d.style.display="none"},CD=(d,h,p,y)=>{let A=d.querySelector(h);A&&(A.style[p]=y)},ch=function(d,h){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?Pt(d,p):jt(d)},gn=d=>!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length)),J2=()=>!gn($n())&&!gn(xr())&&!gn(Po()),DD=d=>d.scrollHeight>d.clientHeight,TD=d=>{let h=window.getComputedStyle(d),p=parseFloat(h.getPropertyValue("animation-duration")||"0"),y=parseFloat(h.getPropertyValue("transition-duration")||"0");return p>0||y>0},wy=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=sh();gn(p)&&(h&&(p.style.transition="none",p.style.width="100%"),setTimeout(()=>{p.style.transition=`width ${d/1e3}s linear`,p.style.width="0%"},10))},eL=()=>{let d=sh(),h=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";let p=parseInt(window.getComputedStyle(d).width),y=h/p*100;d.style.removeProperty("transition"),d.style.width=`${y}%`},tL=100,we={},nL=()=>{we.previousActiveElement instanceof HTMLElement?(we.previousActiveElement.focus(),we.previousActiveElement=null):document.body&&document.body.focus()},iL=d=>new Promise(h=>{if(!d)return h();let p=window.scrollX,y=window.scrollY;we.restoreFocusTimeout=setTimeout(()=>{nL(),h()},tL),window.scrollTo(p,y)}),SD=()=>typeof window>"u"||typeof document>"u",rL=`
 <div aria-labelledby="${i.title}" aria-describedby="${i["html-container"]}" class="${i.popup}" tabindex="-1">
   <button type="button" class="${i.close}"></button>
   <ul class="${i["progress-steps"]}"></ul>
   <div class="${i.icon}"></div>
   <img class="${i.image}" />
   <h2 class="${i.title}" id="${i.title}"></h2>
   <div class="${i["html-container"]}" id="${i["html-container"]}"></div>
   <input class="${i.input}" />
   <input type="file" class="${i.file}" />
   <div class="${i.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${i.select}"></select>
   <div class="${i.radio}"></div>
   <label for="${i.checkbox}" class="${i.checkbox}">
     <input type="checkbox" />
     <span class="${i.label}"></span>
   </label>
   <textarea class="${i.textarea}"></textarea>
   <div class="${i["validation-message"]}" id="${i["validation-message"]}"></div>
   <div class="${i.actions}">
     <div class="${i.loader}"></div>
     <button type="button" class="${i.confirm}"></button>
     <button type="button" class="${i.deny}"></button>
     <button type="button" class="${i.cancel}"></button>
   </div>
   <div class="${i.footer}"></div>
   <div class="${i["timer-progress-bar-container"]}">
     <div class="${i["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),oL=()=>{let d=S();return d?(d.remove(),ui([document.documentElement,document.body],[i["no-backdrop"],i["toast-shown"],i["has-column"]]),!0):!1},No=()=>{we.currentInstance.resetValidationMessage()},sL=()=>{let d=x(),h=Rr(d,i.input),p=Rr(d,i.file),y=d.querySelector(`.${i.range} input`),A=d.querySelector(`.${i.range} output`),W=Rr(d,i.select),lt=d.querySelector(`.${i.checkbox} input`),hi=Rr(d,i.textarea);h.oninput=No,p.onchange=No,W.onchange=No,lt.onchange=No,hi.oninput=No,y.oninput=()=>{No(),A.value=y.value},y.onchange=()=>{No(),A.value=y.value}},aL=d=>typeof d=="string"?document.querySelector(d):d,cL=d=>{let h=x();h.setAttribute("role",d.toast?"alert":"dialog"),h.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||h.setAttribute("aria-modal","true")},lL=d=>{window.getComputedStyle(d).direction==="rtl"&&De(S(),i.rtl)},uL=d=>{let h=oL();if(SD()){l("SweetAlert2 requires document to initialize");return}let p=document.createElement("div");p.className=i.container,h&&De(p,i["no-transition"]),mn(p,rL);let y=aL(d.target);y.appendChild(p),cL(d),lL(y),sL()},by=(d,h)=>{d instanceof HTMLElement?h.appendChild(d):typeof d=="object"?dL(d,h):d&&mn(h,d)},dL=(d,h)=>{d.jquery?hL(h,d):mn(h,d.toString())},hL=(d,h)=>{if(d.textContent="",0 in h)for(let p=0;p in h;p++)d.appendChild(h[p].cloneNode(!0));else d.appendChild(h.cloneNode(!0))},pl=(()=>{if(SD())return!1;let d=document.createElement("div"),h={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(let p in h)if(Object.prototype.hasOwnProperty.call(h,p)&&typeof d.style[p]<"u")return h[p];return!1})(),fL=()=>{let d=document.createElement("div");d.className=i["scrollbar-measure"],document.body.appendChild(d);let h=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),h},pL=(d,h)=>{let p=fl(),y=Xs();!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?jt(p):Pt(p),Dn(p,h,"actions"),mL(p,y,h),mn(y,h.loaderHtml),Dn(y,h,"loader")};function mL(d,h,p){let y=$n(),A=xr(),W=Po();Ey(y,"confirm",p),Ey(A,"deny",p),Ey(W,"cancel",p),gL(y,A,W,p),p.reverseButtons&&(p.toast?(d.insertBefore(W,y),d.insertBefore(A,y)):(d.insertBefore(W,h),d.insertBefore(A,h),d.insertBefore(y,h)))}function gL(d,h,p,y){if(!y.buttonsStyling){ui([d,h,p],i.styled);return}De([d,h,p],i.styled),y.confirmButtonColor&&(d.style.backgroundColor=y.confirmButtonColor,De(d,i["default-outline"])),y.denyButtonColor&&(h.style.backgroundColor=y.denyButtonColor,De(h,i["default-outline"])),y.cancelButtonColor&&(p.style.backgroundColor=y.cancelButtonColor,De(p,i["default-outline"]))}function Ey(d,h,p){ch(d,p[`show${a(h)}Button`],"inline-block"),mn(d,p[`${h}ButtonText`]),d.setAttribute("aria-label",p[`${h}ButtonAriaLabel`]),d.className=i[h],Dn(d,p,`${h}Button`),De(d,p[`${h}ButtonClass`])}let yL=(d,h)=>{let p=gy();mn(p,h.closeButtonHtml),Dn(p,h,"closeButton"),ch(p,h.showCloseButton),p.setAttribute("aria-label",h.closeButtonAriaLabel)},vL=(d,h)=>{let p=S();p&&(_L(p,h.backdrop),wL(p,h.position),bL(p,h.grow),Dn(p,h,"container"))};function _L(d,h){typeof h=="string"?d.style.background=h:h||De([document.documentElement,document.body],i["no-backdrop"])}function wL(d,h){h in i?De(d,i[h]):(c('The "position" parameter is not valid, defaulting to "center"'),De(d,i.center))}function bL(d,h){if(h&&typeof h=="string"){let p=`grow-${h}`;p in i&&De(d,i[p])}}let EL=["input","file","range","select","radio","checkbox","textarea"],IL=(d,h)=>{let p=x(),y=t.innerParams.get(d),A=!y||h.input!==y.input;EL.forEach(W=>{let lt=Rr(p,i[W]);TL(W,h.inputAttributes),lt.className=i[W],A&&jt(lt)}),h.input&&(A&&CL(h),SL(h))},CL=d=>{if(!on[d.input]){l(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${d.input}"`);return}let h=AD(d.input),p=on[d.input](h,d);Pt(h),setTimeout(()=>{ED(p)})},DL=d=>{for(let h=0;h<d.attributes.length;h++){let p=d.attributes[h].name;["type","value","style"].includes(p)||d.removeAttribute(p)}},TL=(d,h)=>{let p=_y(x(),d);if(p){DL(p);for(let y in h)p.setAttribute(y,h[y])}},SL=d=>{let h=AD(d.input);typeof d.customClass=="object"&&De(h,d.customClass.input)},Iy=(d,h)=>{(!d.placeholder||h.inputPlaceholder)&&(d.placeholder=h.inputPlaceholder)},ml=(d,h,p)=>{if(p.inputLabel){d.id=i.input;let y=document.createElement("label"),A=i["input-label"];y.setAttribute("for",d.id),y.className=A,typeof p.customClass=="object"&&De(y,p.customClass.inputLabel),y.innerText=p.inputLabel,h.insertAdjacentElement("beforebegin",y)}},AD=d=>Rr(x(),i[d]||i.input),lh=(d,h)=>{["string","number"].includes(typeof h)?d.value=`${h}`:w(h)||c(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},on={};on.text=on.email=on.password=on.number=on.tel=on.url=(d,h)=>(lh(d,h.inputValue),ml(d,d,h),Iy(d,h),d.type=h.input,d),on.file=(d,h)=>(ml(d,d,h),Iy(d,h),d),on.range=(d,h)=>{let p=d.querySelector("input"),y=d.querySelector("output");return lh(p,h.inputValue),p.type=h.input,lh(y,h.inputValue),ml(p,d,h),d},on.select=(d,h)=>{if(d.textContent="",h.inputPlaceholder){let p=document.createElement("option");mn(p,h.inputPlaceholder),p.value="",p.disabled=!0,p.selected=!0,d.appendChild(p)}return ml(d,d,h),d},on.radio=d=>(d.textContent="",d),on.checkbox=(d,h)=>{let p=_y(x(),"checkbox");p.value="1",p.id=i.checkbox,p.checked=!!h.inputValue;let y=d.querySelector("span");return mn(y,h.inputPlaceholder),p},on.textarea=(d,h)=>{lh(d,h.inputValue),Iy(d,h),ml(d,d,h);let p=y=>parseInt(window.getComputedStyle(y).marginLeft)+parseInt(window.getComputedStyle(y).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let y=parseInt(window.getComputedStyle(x()).width),A=()=>{let W=d.offsetWidth+p(d);W>y?x().style.width=`${W}px`:x().style.width=null};new MutationObserver(A).observe(d,{attributes:!0,attributeFilter:["style"]})}}),d};let AL=(d,h)=>{let p=Je();Dn(p,h,"htmlContainer"),h.html?(by(h.html,p),Pt(p,"block")):h.text?(p.textContent=h.text,Pt(p,"block")):jt(p),IL(d,h)},xL=(d,h)=>{let p=bD();ch(p,h.footer),h.footer&&by(h.footer,p),Dn(p,h,"footer")},RL=(d,h)=>{let p=t.innerParams.get(d),y=q();if(p&&h.icon===p.icon){RD(y,h),xD(y,h);return}if(!h.icon&&!h.iconHtml){jt(y);return}if(h.icon&&Object.keys(r).indexOf(h.icon)===-1){l(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),jt(y);return}Pt(y),RD(y,h),xD(y,h),De(y,h.showClass.icon)},xD=(d,h)=>{for(let p in r)h.icon!==p&&ui(d,r[p]);De(d,r[h.icon]),NL(d,h),ML(),Dn(d,h,"icon")},ML=()=>{let d=x(),h=window.getComputedStyle(d).getPropertyValue("background-color"),p=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let y=0;y<p.length;y++)p[y].style.backgroundColor=h},kL=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,PL=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,RD=(d,h)=>{let p=d.innerHTML,y;h.iconHtml?y=MD(h.iconHtml):h.icon==="success"?(y=kL,p=p.replace(/ style=".*?"/g,"")):h.icon==="error"?y=PL:y=MD({question:"?",warning:"!",info:"i"}[h.icon]),p.trim()!==y.trim()&&mn(d,y)},NL=(d,h)=>{if(h.iconColor){d.style.color=h.iconColor,d.style.borderColor=h.iconColor;for(let p of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])CD(d,p,"backgroundColor",h.iconColor);CD(d,".swal2-success-ring","borderColor",h.iconColor)}},MD=d=>`<div class="${i["icon-content"]}">${d}</div>`,OL=(d,h)=>{let p=li();if(!h.imageUrl){jt(p);return}Pt(p,""),p.setAttribute("src",h.imageUrl),p.setAttribute("alt",h.imageAlt),ea(p,"width",h.imageWidth),ea(p,"height",h.imageHeight),p.className=i.image,Dn(p,h,"image")},FL=(d,h)=>{let p=S(),y=x();h.toast?(ea(p,"width",h.width),y.style.width="100%",y.insertBefore(Xs(),q())):ea(y,"width",h.width),ea(y,"padding",h.padding),h.color&&(y.style.color=h.color),h.background&&(y.style.background=h.background),jt(oh()),LL(y,h)},LL=(d,h)=>{d.className=`${i.popup} ${gn(d)?h.showClass.popup:""}`,h.toast?(De([document.documentElement,document.body],i["toast-shown"]),De(d,i.toast)):De(d,i.modal),Dn(d,h,"popup"),typeof h.customClass=="string"&&De(d,h.customClass),h.icon&&De(d,i[`icon-${h.icon}`])},VL=(d,h)=>{let p=Zs();if(!h.progressSteps||h.progressSteps.length===0){jt(p);return}Pt(p),p.textContent="",h.currentProgressStep>=h.progressSteps.length&&c("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),h.progressSteps.forEach((y,A)=>{let W=jL(y);if(p.appendChild(W),A===h.currentProgressStep&&De(W,i["active-progress-step"]),A!==h.progressSteps.length-1){let lt=BL(h);p.appendChild(lt)}})},jL=d=>{let h=document.createElement("li");return De(h,i["progress-step"]),mn(h,d),h},BL=d=>{let h=document.createElement("li");return De(h,i["progress-step-line"]),d.progressStepsDistance&&ea(h,"width",d.progressStepsDistance),h},UL=(d,h)=>{let p=Ie();ch(p,h.title||h.titleText,"block"),h.title&&by(h.title,p),h.titleText&&(p.innerText=h.titleText),Dn(p,h,"title")},kD=(d,h)=>{FL(d,h),vL(d,h),VL(d,h),RL(d,h),OL(d,h),UL(d,h),yL(d,h),AL(d,h),pL(d,h),xL(d,h),typeof h.didRender=="function"&&h.didRender(x())};function PD(){let d=t.innerParams.get(this);if(!d)return;let h=t.domCache.get(this);jt(h.loader),ah()?d.icon&&Pt(q()):$L(h),ui([h.popup,h.actions],i.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let $L=d=>{let h=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));h.length?Pt(h[0],"inline-block"):J2()&&jt(d.actions)};function HL(d){let h=t.innerParams.get(d||this),p=t.domCache.get(d||this);return p?_y(p.popup,h.input):null}let zL=()=>gn(x()),ND=()=>$n()&&$n().click(),qL=()=>xr()&&xr().click(),GL=()=>Po()&&Po().click(),ta=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),OD=d=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},WL=(d,h,p,y)=>{OD(h),p.toast||(h.keydownHandler=A=>YL(d,A,y),h.keydownTarget=p.keydownListenerCapture?window:x(),h.keydownListenerCapture=p.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},Cy=(d,h,p)=>{let y=yy();if(y.length)return h=h+p,h===y.length?h=0:h===-1&&(h=y.length-1),y[h].focus();x().focus()},FD=["ArrowRight","ArrowDown"],KL=["ArrowLeft","ArrowUp"],YL=(d,h,p)=>{let y=t.innerParams.get(d);y&&(h.isComposing||h.keyCode===229||(y.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?QL(d,h,y):h.key==="Tab"?ZL(h,y):[...FD,...KL].includes(h.key)?XL(h.key):h.key==="Escape"&&JL(h,y,p)))},QL=(d,h,p)=>{if(g(p.allowEnterKey)&&h.target&&d.getInput()&&h.target instanceof HTMLElement&&h.target.outerHTML===d.getInput().outerHTML){if(["textarea","file"].includes(p.input))return;ND(),h.preventDefault()}},ZL=(d,h)=>{let p=d.target,y=yy(),A=-1;for(let W=0;W<y.length;W++)if(p===y[W]){A=W;break}d.shiftKey?Cy(h,A,-1):Cy(h,A,1),d.stopPropagation(),d.preventDefault()},XL=d=>{let h=$n(),p=xr(),y=Po();if(document.activeElement instanceof HTMLElement&&![h,p,y].includes(document.activeElement))return;let A=FD.includes(d)?"nextElementSibling":"previousElementSibling",W=document.activeElement;for(let lt=0;lt<fl().children.length;lt++){if(W=W[A],!W)return;if(W instanceof HTMLButtonElement&&gn(W))break}W instanceof HTMLButtonElement&&W.focus()},JL=(d,h,p)=>{g(h.allowEscapeKey)&&(d.preventDefault(),p(ta.esc))};var gl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let eV=()=>{Array.from(document.body.children).forEach(h=>{h===S()||h.contains(S())||(h.hasAttribute("aria-hidden")&&h.setAttribute("data-previous-aria-hidden",h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))})},LD=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},tV=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!er(document.body,i.iosfix)){let h=document.body.scrollTop;document.body.style.top=`${h*-1}px`,De(document.body,i.iosfix),iV(),nV()}},nV=()=>{let d=navigator.userAgent,h=!!d.match(/iPad/i)||!!d.match(/iPhone/i),p=!!d.match(/WebKit/i);h&&p&&!d.match(/CriOS/i)&&x().scrollHeight>window.innerHeight-44&&(S().style.paddingBottom="44px")},iV=()=>{let d=S(),h;d.ontouchstart=p=>{h=rV(p)},d.ontouchmove=p=>{h&&(p.preventDefault(),p.stopPropagation())}},rV=d=>{let h=d.target,p=S();return oV(d)||sV(d)?!1:h===p||!DD(p)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(DD(Je())&&Je().contains(h))},oV=d=>d.touches&&d.touches.length&&d.touches[0].touchType==="stylus",sV=d=>d.touches&&d.touches.length>1,aV=()=>{if(er(document.body,i.iosfix)){let d=parseInt(document.body.style.top,10);ui(document.body,i.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},cV=()=>{Js.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Js.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Js.previousBodyPadding+fL()}px`)},lV=()=>{Js.previousBodyPadding!==null&&(document.body.style.paddingRight=`${Js.previousBodyPadding}px`,Js.previousBodyPadding=null)};function VD(d,h,p,y){ah()?jD(d,y):(iL(p).then(()=>jD(d,y)),OD(we)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),vy()&&(lV(),aV(),LD()),uV()}function uV(){ui([document.documentElement,document.body],[i.shown,i["height-auto"],i["no-backdrop"],i["toast-shown"]])}function uh(d){d=pV(d);let h=gl.swalPromiseResolve.get(this),p=hV(this);this.isAwaitingPromise()?d.isDismissed||(yl(this),h(d)):p&&h(d)}function dV(){return!!t.awaitingPromise.get(this)}let hV=d=>{let h=x();if(!h)return!1;let p=t.innerParams.get(d);if(!p||er(h,p.hideClass.popup))return!1;ui(h,p.showClass.popup),De(h,p.hideClass.popup);let y=S();return ui(y,p.showClass.backdrop),De(y,p.hideClass.backdrop),mV(d,h,p),!0};function fV(d){let h=gl.swalPromiseReject.get(this);yl(this),h&&h(d)}let yl=d=>{d.isAwaitingPromise()&&(t.awaitingPromise.delete(d),t.innerParams.get(d)||d._destroy())},pV=d=>typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d),mV=(d,h,p)=>{let y=S(),A=pl&&TD(h);typeof p.willClose=="function"&&p.willClose(h),A?gV(d,h,y,p.returnFocus,p.didClose):VD(d,y,p.returnFocus,p.didClose)},gV=(d,h,p,y,A)=>{we.swalCloseEventFinishedCallback=VD.bind(null,d,p,y,A),h.addEventListener(pl,function(W){W.target===h&&(we.swalCloseEventFinishedCallback(),delete we.swalCloseEventFinishedCallback)})},jD=(d,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(d.params)(),d._destroy()})};function BD(d,h,p){let y=t.domCache.get(d);h.forEach(A=>{y[A].disabled=p})}function UD(d,h){if(d)if(d.type==="radio"){let y=d.parentNode.parentNode.querySelectorAll("input");for(let A=0;A<y.length;A++)y[A].disabled=h}else d.disabled=h}function yV(){BD(this,["confirmButton","denyButton","cancelButton"],!1)}function vV(){BD(this,["confirmButton","denyButton","cancelButton"],!0)}function _V(){UD(this.getInput(),!1)}function wV(){UD(this.getInput(),!0)}function bV(d){let h=t.domCache.get(this),p=t.innerParams.get(this);mn(h.validationMessage,d),h.validationMessage.className=i["validation-message"],p.customClass&&p.customClass.validationMessage&&De(h.validationMessage,p.customClass.validationMessage),Pt(h.validationMessage);let y=this.getInput();y&&(y.setAttribute("aria-invalid",!0),y.setAttribute("aria-describedby",i["validation-message"]),ED(y),De(y,i.inputerror))}function EV(){let d=t.domCache.get(this);d.validationMessage&&jt(d.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),ui(h,i.inputerror))}let na={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},IV=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],CV={},DV=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],$D=d=>Object.prototype.hasOwnProperty.call(na,d),HD=d=>IV.indexOf(d)!==-1,Dy=d=>CV[d],TV=d=>{$D(d)||c(`Unknown parameter "${d}"`)},SV=d=>{DV.includes(d)&&c(`The parameter "${d}" is incompatible with toasts`)},AV=d=>{Dy(d)&&m(d,Dy(d))},xV=d=>{d.backdrop===!1&&d.allowOutsideClick&&c('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in d)TV(h),d.toast&&SV(h),AV(h)};function RV(d){let h=x(),p=t.innerParams.get(this);if(!h||er(h,p.hideClass.popup)){c("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let y=MV(d),A=Object.assign({},p,y);kD(this,A),t.innerParams.set(this,A),Object.defineProperties(this,{params:{value:Object.assign({},this.params,d),writable:!1,enumerable:!0}})}let MV=d=>{let h={};return Object.keys(d).forEach(p=>{HD(p)?h[p]=d[p]:c(`Invalid parameter to update: ${p}`)}),h};function kV(){let d=t.domCache.get(this),h=t.innerParams.get(this);if(!h){zD(this);return}d.popup&&we.swalCloseEventFinishedCallback&&(we.swalCloseEventFinishedCallback(),delete we.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),PV(this)}let PV=d=>{zD(d),delete d.params,delete we.keydownHandler,delete we.keydownTarget,delete we.currentInstance},zD=d=>{d.isAwaitingPromise()?(Ty(t,d),t.awaitingPromise.set(d,!0)):(Ty(gl,d),Ty(t,d))},Ty=(d,h)=>{for(let p in d)d[p].delete(h)};var qD=Object.freeze({__proto__:null,hideLoading:PD,disableLoading:PD,getInput:HL,close:uh,isAwaitingPromise:dV,rejectPromise:fV,handleAwaitingPromise:yl,closePopup:uh,closeModal:uh,closeToast:uh,enableButtons:yV,disableButtons:vV,enableInput:_V,disableInput:wV,showValidationMessage:bV,resetValidationMessage:EV,update:RV,_destroy:kV});let ia=d=>{let h=x();h||new hh,h=x();let p=Xs();ah()?jt(q()):NV(h,d),Pt(p),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},NV=(d,h)=>{let p=fl(),y=Xs();!h&&gn($n())&&(h=$n()),Pt(p),h&&(jt(h),y.setAttribute("data-button-to-replace",h.className)),y.parentNode.insertBefore(y,h),De([d,p],i.loading)},OV=(d,h)=>{h.input==="select"||h.input==="radio"?BV(d,h):["text","email","number","tel","textarea"].includes(h.input)&&(_(h.inputValue)||w(h.inputValue))&&(ia($n()),UV(d,h))},FV=(d,h)=>{let p=d.getInput();if(!p)return null;switch(h.input){case"checkbox":return LV(p);case"radio":return VV(p);case"file":return jV(p);default:return h.inputAutoTrim?p.value.trim():p.value}},LV=d=>d.checked?1:0,VV=d=>d.checked?d.value:null,jV=d=>d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null,BV=(d,h)=>{let p=x(),y=A=>{$V[h.input](p,Sy(A),h)};_(h.inputOptions)||w(h.inputOptions)?(ia($n()),E(h.inputOptions).then(A=>{d.hideLoading(),y(A)})):typeof h.inputOptions=="object"?y(h.inputOptions):l(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},UV=(d,h)=>{let p=d.getInput();jt(p),E(h.inputValue).then(y=>{p.value=h.input==="number"?`${parseFloat(y)||0}`:`${y}`,Pt(p),p.focus(),d.hideLoading()}).catch(y=>{l(`Error in inputValue promise: ${y}`),p.value="",Pt(p),p.focus(),d.hideLoading()})},$V={select:(d,h,p)=>{let y=Rr(d,i.select),A=(W,lt,hi)=>{let Gt=document.createElement("option");Gt.value=hi,mn(Gt,lt),Gt.selected=GD(hi,p.inputValue),W.appendChild(Gt)};h.forEach(W=>{let lt=W[0],hi=W[1];if(Array.isArray(hi)){let Gt=document.createElement("optgroup");Gt.label=lt,Gt.disabled=!1,y.appendChild(Gt),hi.forEach(oa=>A(Gt,oa[1],oa[0]))}else A(y,hi,lt)}),y.focus()},radio:(d,h,p)=>{let y=Rr(d,i.radio);h.forEach(W=>{let lt=W[0],hi=W[1],Gt=document.createElement("input"),oa=document.createElement("label");Gt.type="radio",Gt.name=i.radio,Gt.value=lt,GD(lt,p.inputValue)&&(Gt.checked=!0);let My=document.createElement("span");mn(My,hi),My.className=i.label,oa.appendChild(Gt),oa.appendChild(My),y.appendChild(oa)});let A=y.querySelectorAll("input");A.length&&A[0].focus()}},Sy=d=>{let h=[];return typeof Map<"u"&&d instanceof Map?d.forEach((p,y)=>{let A=p;typeof A=="object"&&(A=Sy(A)),h.push([y,A])}):Object.keys(d).forEach(p=>{let y=d[p];typeof y=="object"&&(y=Sy(y)),h.push([p,y])}),h},GD=(d,h)=>h&&h.toString()===d.toString(),HV=d=>{let h=t.innerParams.get(d);d.disableButtons(),h.input?WD(d,"confirm"):xy(d,!0)},zV=d=>{let h=t.innerParams.get(d);d.disableButtons(),h.returnInputValueOnDeny?WD(d,"deny"):Ay(d,!1)},qV=(d,h)=>{d.disableButtons(),h(ta.cancel)},WD=(d,h)=>{let p=t.innerParams.get(d);if(!p.input){l(`The "input" parameter is needed to be set when using returnInputValueOn${a(h)}`);return}let y=FV(d,p);p.inputValidator?GV(d,y,h):d.getInput().checkValidity()?h==="deny"?Ay(d,y):xy(d,y):(d.enableButtons(),d.showValidationMessage(p.validationMessage))},GV=(d,h,p)=>{let y=t.innerParams.get(d);d.disableInput(),Promise.resolve().then(()=>E(y.inputValidator(h,y.validationMessage))).then(W=>{d.enableButtons(),d.enableInput(),W?d.showValidationMessage(W):p==="deny"?Ay(d,h):xy(d,h)})},Ay=(d,h)=>{let p=t.innerParams.get(d||void 0);p.showLoaderOnDeny&&ia(xr()),p.preDeny?(t.awaitingPromise.set(d||void 0,!0),Promise.resolve().then(()=>E(p.preDeny(h,p.validationMessage))).then(A=>{A===!1?(d.hideLoading(),yl(d)):d.close({isDenied:!0,value:typeof A>"u"?h:A})}).catch(A=>YD(d||void 0,A))):d.close({isDenied:!0,value:h})},KD=(d,h)=>{d.close({isConfirmed:!0,value:h})},YD=(d,h)=>{d.rejectPromise(h)},xy=(d,h)=>{let p=t.innerParams.get(d||void 0);p.showLoaderOnConfirm&&ia(),p.preConfirm?(d.resetValidationMessage(),t.awaitingPromise.set(d||void 0,!0),Promise.resolve().then(()=>E(p.preConfirm(h,p.validationMessage))).then(A=>{gn(oh())||A===!1?(d.hideLoading(),yl(d)):KD(d,typeof A>"u"?h:A)}).catch(A=>YD(d||void 0,A))):KD(d,h)},WV=(d,h,p)=>{t.innerParams.get(d).toast?KV(d,h,p):(QV(h),ZV(h),XV(d,h,p))},KV=(d,h,p)=>{h.popup.onclick=()=>{let y=t.innerParams.get(d);y&&(YV(y)||y.timer||y.input)||p(ta.close)}},YV=d=>d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton,dh=!1,QV=d=>{d.popup.onmousedown=()=>{d.container.onmouseup=function(h){d.container.onmouseup=void 0,h.target===d.container&&(dh=!0)}}},ZV=d=>{d.container.onmousedown=()=>{d.popup.onmouseup=function(h){d.popup.onmouseup=void 0,(h.target===d.popup||d.popup.contains(h.target))&&(dh=!0)}}},XV=(d,h,p)=>{h.container.onclick=y=>{let A=t.innerParams.get(d);if(dh){dh=!1;return}y.target===h.container&&g(A.allowOutsideClick)&&p(ta.backdrop)}},JV=d=>typeof d=="object"&&d.jquery,QD=d=>d instanceof Element||JV(d),ej=d=>{let h={};return typeof d[0]=="object"&&!QD(d[0])?Object.assign(h,d[0]):["title","html","icon"].forEach((p,y)=>{let A=d[y];typeof A=="string"||QD(A)?h[p]=A:A!==void 0&&l(`Unexpected type of ${p}! Expected "string" or "Element", got ${typeof A}`)}),h};function tj(){let d=this;for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];return new d(...p)}function nj(d){class h extends this{_main(y,A){return super._main(y,Object.assign({},d,A))}}return h}let ij=()=>we.timeout&&we.timeout.getTimerLeft(),ZD=()=>{if(we.timeout)return eL(),we.timeout.stop()},XD=()=>{if(we.timeout){let d=we.timeout.start();return wy(d),d}},rj=()=>{let d=we.timeout;return d&&(d.running?ZD():XD())},oj=d=>{if(we.timeout){let h=we.timeout.increase(d);return wy(h,!0),h}},sj=()=>we.timeout&&we.timeout.isRunning(),JD=!1,Ry={};function aj(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Ry[d]=this,JD||(document.body.addEventListener("click",cj),JD=!0)}let cj=d=>{for(let h=d.target;h&&h!==document;h=h.parentNode)for(let p in Ry){let y=h.getAttribute(p);if(y){Ry[p].fire({template:y});return}}};var lj=Object.freeze({__proto__:null,isValidParameter:$D,isUpdatableParameter:HD,isDeprecatedParameter:Dy,argsToParams:ej,getContainer:S,getPopup:x,getTitle:Ie,getHtmlContainer:Je,getImage:li,getIcon:q,getIconContent:ee,getInputLabel:Y2,getCloseButton:gy,getActions:fl,getConfirmButton:$n,getDenyButton:xr,getCancelButton:Po,getLoader:Xs,getFooter:bD,getTimerProgressBar:sh,getFocusableElements:yy,getValidationMessage:oh,getProgressSteps:Zs,isLoading:Z2,isVisible:zL,clickConfirm:ND,clickDeny:qL,clickCancel:GL,fire:tj,mixin:nj,showLoading:ia,enableLoading:ia,getTimerLeft:ij,stopTimer:ZD,resumeTimer:XD,toggleTimer:rj,increaseTimer:oj,isTimerRunning:sj,bindClickHandler:aj});class uj{constructor(h,p){this.callback=h,this.remaining=p,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let p=this.running;return p&&this.stop(),this.remaining+=h,p&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let eT=["swal-title","swal-html","swal-footer"],dj=d=>{let h=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!h)return{};let p=h.content;return _j(p),Object.assign(hj(p),fj(p),pj(p),mj(p),gj(p),yj(p),vj(p,eT))},hj=d=>{let h={};return Array.from(d.querySelectorAll("swal-param")).forEach(y=>{Oo(y,["name","value"]);let A=y.getAttribute("name"),W=y.getAttribute("value");typeof na[A]=="boolean"?h[A]=W!=="false":typeof na[A]=="object"?h[A]=JSON.parse(W):h[A]=W}),h},fj=d=>{let h={};return Array.from(d.querySelectorAll("swal-function-param")).forEach(y=>{let A=y.getAttribute("name"),W=y.getAttribute("value");h[A]=new Function(`return ${W}`)()}),h},pj=d=>{let h={};return Array.from(d.querySelectorAll("swal-button")).forEach(y=>{Oo(y,["type","color","aria-label"]);let A=y.getAttribute("type");h[`${A}ButtonText`]=y.innerHTML,h[`show${a(A)}Button`]=!0,y.hasAttribute("color")&&(h[`${A}ButtonColor`]=y.getAttribute("color")),y.hasAttribute("aria-label")&&(h[`${A}ButtonAriaLabel`]=y.getAttribute("aria-label"))}),h},mj=d=>{let h={},p=d.querySelector("swal-image");return p&&(Oo(p,["src","width","height","alt"]),p.hasAttribute("src")&&(h.imageUrl=p.getAttribute("src")),p.hasAttribute("width")&&(h.imageWidth=p.getAttribute("width")),p.hasAttribute("height")&&(h.imageHeight=p.getAttribute("height")),p.hasAttribute("alt")&&(h.imageAlt=p.getAttribute("alt"))),h},gj=d=>{let h={},p=d.querySelector("swal-icon");return p&&(Oo(p,["type","color"]),p.hasAttribute("type")&&(h.icon=p.getAttribute("type")),p.hasAttribute("color")&&(h.iconColor=p.getAttribute("color")),h.iconHtml=p.innerHTML),h},yj=d=>{let h={},p=d.querySelector("swal-input");p&&(Oo(p,["type","label","placeholder","value"]),h.input=p.getAttribute("type")||"text",p.hasAttribute("label")&&(h.inputLabel=p.getAttribute("label")),p.hasAttribute("placeholder")&&(h.inputPlaceholder=p.getAttribute("placeholder")),p.hasAttribute("value")&&(h.inputValue=p.getAttribute("value")));let y=Array.from(d.querySelectorAll("swal-input-option"));return y.length&&(h.inputOptions={},y.forEach(A=>{Oo(A,["value"]);let W=A.getAttribute("value"),lt=A.innerHTML;h.inputOptions[W]=lt})),h},vj=(d,h)=>{let p={};for(let y in h){let A=h[y],W=d.querySelector(A);W&&(Oo(W,[]),p[A.replace(/^swal-/,"")]=W.innerHTML.trim())}return p},_j=d=>{let h=eT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(p=>{let y=p.tagName.toLowerCase();h.includes(y)||c(`Unrecognized element <${y}>`)})},Oo=(d,h)=>{Array.from(d.attributes).forEach(p=>{h.indexOf(p.name)===-1&&c([`Unrecognized attribute "${p.name}" on <${d.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},tT=10,wj=d=>{let h=S(),p=x();typeof d.willOpen=="function"&&d.willOpen(p);let A=window.getComputedStyle(document.body).overflowY;Ij(h,p,d),setTimeout(()=>{bj(h,p)},tT),vy()&&(Ej(h,d.scrollbarPadding,A),eV()),!ah()&&!we.previousActiveElement&&(we.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(()=>d.didOpen(p)),ui(h,i["no-transition"])},nT=d=>{let h=x();if(d.target!==h)return;let p=S();h.removeEventListener(pl,nT),p.style.overflowY="auto"},bj=(d,h)=>{pl&&TD(h)?(d.style.overflowY="hidden",h.addEventListener(pl,nT)):d.style.overflowY="auto"},Ej=(d,h,p)=>{tV(),h&&p!=="hidden"&&cV(),setTimeout(()=>{d.scrollTop=0})},Ij=(d,h,p)=>{De(d,p.showClass.backdrop),h.style.setProperty("opacity","0","important"),Pt(h,"grid"),setTimeout(()=>{De(h,p.showClass.popup),h.style.removeProperty("opacity")},tT),De([document.documentElement,document.body],i.shown),p.heightAuto&&p.backdrop&&!p.toast&&De([document.documentElement,document.body],i["height-auto"])};var iT={email:(d,h)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(d,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function Cj(d){d.inputValidator||Object.keys(iT).forEach(h=>{d.input===h&&(d.inputValidator=iT[h])})}function Dj(d){(!d.target||typeof d.target=="string"&&!document.querySelector(d.target)||typeof d.target!="string"&&!d.target.appendChild)&&(c('Target parameter is not valid, defaulting to "body"'),d.target="body")}function Tj(d){Cj(d),d.showLoaderOnConfirm&&!d.preConfirm&&c(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Dj(d),typeof d.title=="string"&&(d.title=d.title.split(`
`).join("<br />")),uL(d)}let di;class ra{constructor(){if(typeof window>"u")return;di=this;for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];let A=Object.freeze(this.constructor.argsToParams(p));Object.defineProperties(this,{params:{value:A,writable:!1,enumerable:!0,configurable:!0}});let W=di._main(di.params);t.promise.set(this,W)}_main(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};xV(Object.assign({},p,h)),we.currentInstance&&(we.currentInstance._destroy(),vy()&&LD()),we.currentInstance=di;let y=Aj(h,p);Tj(y),Object.freeze(y),we.timeout&&(we.timeout.stop(),delete we.timeout),clearTimeout(we.restoreFocusTimeout);let A=xj(di);return kD(di,y),t.innerParams.set(di,y),Sj(di,A,y)}then(h){return t.promise.get(this).then(h)}finally(h){return t.promise.get(this).finally(h)}}let Sj=(d,h,p)=>new Promise((y,A)=>{let W=lt=>{d.close({isDismissed:!0,dismiss:lt})};gl.swalPromiseResolve.set(d,y),gl.swalPromiseReject.set(d,A),h.confirmButton.onclick=()=>{HV(d)},h.denyButton.onclick=()=>{zV(d)},h.cancelButton.onclick=()=>{qV(d,W)},h.closeButton.onclick=()=>{W(ta.close)},WV(d,h,W),WL(d,we,p,W),OV(d,p),wj(p),Rj(we,p,W),Mj(h,p),setTimeout(()=>{h.container.scrollTop=0})}),Aj=(d,h)=>{let p=dj(d),y=Object.assign({},na,h,p,d);return y.showClass=Object.assign({},na.showClass,y.showClass),y.hideClass=Object.assign({},na.hideClass,y.hideClass),y},xj=d=>{let h={popup:x(),container:S(),actions:fl(),confirmButton:$n(),denyButton:xr(),cancelButton:Po(),loader:Xs(),closeButton:gy(),validationMessage:oh(),progressSteps:Zs()};return t.domCache.set(d,h),h},Rj=(d,h,p)=>{let y=sh();jt(y),h.timer&&(d.timeout=new uj(()=>{p("timer"),delete d.timeout},h.timer),h.timerProgressBar&&(Pt(y),Dn(y,h,"timerProgressBar"),setTimeout(()=>{d.timeout&&d.timeout.running&&wy(h.timer)})))},Mj=(d,h)=>{if(!h.toast){if(!g(h.allowEnterKey)){Pj();return}kj(d,h)||Cy(h,-1,1)}},kj=(d,h)=>h.focusDeny&&gn(d.denyButton)?(d.denyButton.focus(),!0):h.focusCancel&&gn(d.cancelButton)?(d.cancelButton.focus(),!0):h.focusConfirm&&gn(d.confirmButton)?(d.confirmButton.focus(),!0):!1,Pj=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){let d=new Date,h=localStorage.getItem("swal-initiation");h?(d.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let p=document.createElement("audio");p.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",p.loop=!0,document.body.appendChild(p),setTimeout(()=>{p.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${d}`)}Object.assign(ra.prototype,qD),Object.assign(ra,lj),Object.keys(qD).forEach(d=>{ra[d]=function(){if(di)return di[d](...arguments)}}),ra.DismissReason=ta,ra.version="11.6.13";let hh=ra;return hh.default=hh,hh});typeof Oi<"u"&&Oi.Sweetalert2&&(Oi.swal=Oi.sweetAlert=Oi.Swal=Oi.SweetAlert=Oi.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')});var uT=null;var jy=1,dT=Symbol("SIGNAL");function yn(t){let e=uT;return uT=t,e}var hT={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Oj(t){if(!($y(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===jy)){if(!t.producerMustRecompute(t)&&!By(t)){t.dirty=!1,t.lastCleanEpoch=jy;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=jy}}function fT(t){return t&&(t.nextProducerIndex=0),yn(t)}function pT(t,e){if(yn(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($y(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Uy(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function By(t){_h(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(Oj(n),i!==n.version))return!0}return!1}function mT(t){if(_h(t),$y(t))for(let e=0;e<t.producerNode.length;e++)Uy(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Uy(t,e){if(Fj(t),_h(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Uy(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];_h(r),r.producerIndexOfThis[i]=e}}function $y(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _h(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Fj(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Lj(){throw new Error}var Vj=Lj;function gT(t){Vj=t}function te(t){return typeof t=="function"}function sa(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var wh=sa(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Lo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(te(i))try{i()}catch(o){e=o instanceof wh?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{yT(o)}catch(s){e=e??[],s instanceof wh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new wh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Lo(n,e)}remove(e){let{_finalizers:n}=this;n&&Lo(n,e),e instanceof t&&e._removeParent(this)}};Ge.EMPTY=(()=>{let t=new Ge;return t.closed=!0,t})();var Hy=Ge.EMPTY;function bh(t){return t instanceof Ge||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function yT(t){te(t)?t():t.unsubscribe()}var zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var aa={setTimeout(t,e,...n){let{delegate:i}=aa;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=aa;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Eh(t){aa.setTimeout(()=>{let{onUnhandledError:e}=zn;if(e)e(t);else throw t})}function _l(){}var vT=zy("C",void 0,void 0);function _T(t){return zy("E",void 0,t)}function wT(t){return zy("N",t,void 0)}function zy(t,e,n){return{kind:t,value:e,error:n}}var Vo=null;function ca(t){if(zn.useDeprecatedSynchronousErrorHandling){let e=!Vo;if(e&&(Vo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Vo;if(Vo=null,n)throw i}}else t()}function bT(t){zn.useDeprecatedSynchronousErrorHandling&&Vo&&(Vo.errorThrown=!0,Vo.error=t)}var jo=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bh(e)&&e.add(this)):this.destination=Uj}static create(e,n,i){return new tr(e,n,i)}next(e){this.isStopped?Gy(wT(e),this):this._next(e)}error(e){this.isStopped?Gy(_T(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gy(vT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jj=Function.prototype.bind;function qy(t,e){return jj.call(t,e)}var Wy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Ih(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Ih(i)}else Ih(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ih(n)}}},tr=class extends jo{constructor(e,n,i){super();let r;if(te(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&zn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&qy(e.next,o),error:e.error&&qy(e.error,o),complete:e.complete&&qy(e.complete,o)}):r=e}this.destination=new Wy(r)}};function Ih(t){zn.useDeprecatedSynchronousErrorHandling?bT(t):Eh(t)}function Bj(t){throw t}function Gy(t,e){let{onStoppedNotification:n}=zn;n&&aa.setTimeout(()=>n(t,e))}var Uj={closed:!0,next:_l,error:Bj,complete:_l};var la=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(t){return t}function Ky(...t){return Yy(t)}function Yy(t){return t.length===0?Wt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=Hj(n)?n:new tr(n,i,r);return ca(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=ET(i),new i((r,o)=>{let s=new tr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[la](){return this}pipe(...n){return Yy(n)(this)}toPromise(n){return n=ET(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function ET(t){var e;return(e=t??zn.Promise)!==null&&e!==void 0?e:Promise}function $j(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function Hj(t){return t&&t instanceof jo||$j(t)&&bh(t)}function Qy(t){return te(t?.lift)}function le(t){return e=>{if(Qy(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,i,r){return new Zy(t,e,n,i,r)}var Zy=class extends jo{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ua(){return le((t,e)=>{let n=null;t._refCount++;let i=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var da=class extends ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Qy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return ua()(this)}};var IT=sa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=(()=>{class t extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Ch(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new IT}next(n){ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Hy:(this.currentObservers=null,o.push(n),new Ge(()=>{this.currentObservers=null,Lo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new ne;return n.source=this,n}}return t.create=(e,n)=>new Ch(e,n),t})(),Ch=class extends ue{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Hy}};var bt=class extends ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var wl={now(){return(wl.delegate||Date).now()},delegate:void 0};var Dh=class extends ue{constructor(e=1/0,n=1/0,i=wl){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var Th=class extends Ge{constructor(e,n){super()}schedule(e,n=0){return this}};var bl={setInterval(t,e,...n){let{delegate:i}=bl;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=bl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ha=class extends Th{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return bl.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&bl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Lo(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var fa=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};fa.now=wl.now;var pa=class extends fa{constructor(e,n=fa.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var pi=new pa(ha),Xy=pi;var Sh=class extends ha{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Ah=class extends pa{};var Jy=new Ah(Sh);var sn=new ne(t=>t.complete());function xh(t){return t&&te(t.schedule)}function ev(t){return t[t.length-1]}function Rh(t){return te(ev(t))?t.pop():void 0}function mi(t){return xh(ev(t))?t.pop():void 0}function CT(t,e){return typeof ev(t)=="number"?t.pop():e}var ma=t=>t&&typeof t.length=="number"&&typeof t!="function";function Mh(t){return te(t?.then)}function kh(t){return te(t[la])}function Ph(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Nh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zj(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Oh=zj();function Fh(t){return te(t?.[Oh])}function Lh(t){return oT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield fh(n.read());if(r)return yield fh(void 0);yield yield fh(i)}}finally{n.releaseLock()}})}function Vh(t){return te(t?.getReader)}function je(t){if(t instanceof ne)return t;if(t!=null){if(kh(t))return qj(t);if(ma(t))return Gj(t);if(Mh(t))return Wj(t);if(Ph(t))return DT(t);if(Fh(t))return Kj(t);if(Vh(t))return Yj(t)}throw Nh(t)}function qj(t){return new ne(e=>{let n=t[la]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Gj(t){return new ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Wj(t){return new ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Eh)})}function Kj(t){return new ne(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function DT(t){return new ne(e=>{Qj(t,e).catch(n=>e.error(n))})}function Yj(t){return DT(Lh(t))}function Qj(t,e){var n,i,r,o;return rT(this,void 0,void 0,function*(){try{for(n=sT(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function an(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function cn(t,e=0){return le((n,i)=>{n.subscribe(se(i,r=>an(i,t,()=>i.next(r),e),()=>an(i,t,()=>i.complete(),e),r=>an(i,t,()=>i.error(r),e)))})}function Sn(t,e=0){return le((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function TT(t,e){return je(t).pipe(Sn(e),cn(e))}function ST(t,e){return je(t).pipe(Sn(e),cn(e))}function AT(t,e){return new ne(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function xT(t,e){return new ne(n=>{let i;return an(n,e,()=>{i=t[Oh](),an(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>te(i?.return)&&i.return()})}function jh(t,e){if(!t)throw new Error("Iterable cannot be null");return new ne(n=>{an(n,e,()=>{let i=t[Symbol.asyncIterator]();an(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function RT(t,e){return jh(Lh(t),e)}function MT(t,e){if(t!=null){if(kh(t))return TT(t,e);if(ma(t))return AT(t,e);if(Mh(t))return ST(t,e);if(Ph(t))return jh(t,e);if(Fh(t))return xT(t,e);if(Vh(t))return RT(t,e)}throw Nh(t)}function ge(t,e){return e?MT(t,e):je(t)}function G(...t){let e=mi(t);return ge(t,e)}function ga(t,e){let n=te(t)?t:()=>t,i=r=>r.error(n());return new ne(e?r=>e.schedule(i,0,r):i)}function Bh(t){return!!t&&(t instanceof ne||te(t.lift)&&te(t.subscribe))}var nr=sa(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function kT(t){return t instanceof Date&&!isNaN(t)}function Y(t,e){return le((n,i)=>{let r=0;n.subscribe(se(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:Zj}=Array;function Xj(t,e){return Zj(e)?t(...e):t(e)}function ya(t){return Y(e=>Xj(t,e))}var{isArray:Jj}=Array,{getPrototypeOf:eB,prototype:tB,keys:nB}=Object;function Uh(t){if(t.length===1){let e=t[0];if(Jj(e))return{args:e,keys:null};if(iB(e)){let n=nB(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function iB(t){return t&&typeof t=="object"&&eB(t)===tB}function $h(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Bo(...t){let e=mi(t),n=Rh(t),{args:i,keys:r}=Uh(t);if(i.length===0)return ge([],e);let o=new ne(rB(i,e,r?s=>$h(r,s):Wt));return n?o.pipe(ya(n)):o}function rB(t,e,n=Wt){return i=>{PT(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)PT(e,()=>{let l=ge(t[c],e),u=!1;l.subscribe(se(i,f=>{o[c]=f,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function PT(t,e,n){t?an(n,t,e):e()}function NT(t,e,n,i,r,o,s,a){let c=[],l=0,u=0,f=!1,m=()=>{f&&!c.length&&!l&&e.complete()},g=E=>l<i?_(E):c.push(E),_=E=>{o&&e.next(E),l++;let w=!1;je(n(E,u++)).subscribe(se(e,S=>{r?.(S),o?g(S):e.next(S)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<i;){let S=c.shift();s?an(e,s,()=>_(S)):_(S)}m()}catch(S){e.error(S)}}))};return t.subscribe(se(e,g,()=>{f=!0,m()})),()=>{a?.()}}function rt(t,e,n=1/0){return te(e)?rt((i,r)=>Y((o,s)=>e(i,o,r,s))(je(t(i,r))),n):(typeof e=="number"&&(n=e),le((i,r)=>NT(i,r,t,n)))}function Mr(t=1/0){return rt(Wt,t)}function OT(){return Mr(1)}function kr(...t){return OT()(ge(t,mi(t)))}function Pr(t){return new ne(e=>{je(t()).subscribe(e)})}function tv(...t){let e=Rh(t),{args:n,keys:i}=Uh(t),r=new ne(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let f=!1;je(n[u]).subscribe(se(o,m=>{f||(f=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(i?$h(i,a):a),o.complete())}))}});return e?r.pipe(ya(e)):r}var oB=["addListener","removeListener"],sB=["addEventListener","removeEventListener"],aB=["on","off"];function El(t,e,n,i){if(te(n)&&(i=n,n=void 0),i)return El(t,e,n).pipe(ya(i));let[r,o]=uB(t)?sB.map(s=>a=>t[s](e,a,n)):cB(t)?oB.map(FT(t,e)):lB(t)?aB.map(FT(t,e)):[];if(!r&&ma(t))return rt(s=>El(s,e,n))(je(t));if(!r)throw new TypeError("Invalid event target");return new ne(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function FT(t,e){return n=>i=>t[n](e,i)}function cB(t){return te(t.addListener)&&te(t.removeListener)}function lB(t){return te(t.on)&&te(t.off)}function uB(t){return te(t.addEventListener)&&te(t.removeEventListener)}function LT(t=0,e,n=Xy){let i=-1;return e!=null&&(xh(e)?n=e:i=e),new ne(r=>{let o=kT(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Uo(...t){let e=mi(t),n=CT(t,1/0),i=t;return i.length?i.length===1?je(i[0]):Mr(n)(ge(i,e)):sn}function Re(t,e){return le((n,i)=>{let r=0;n.subscribe(se(i,o=>t.call(e,o,r++)&&i.next(o)))})}function VT(t){return le((e,n)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let l=r;r=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(se(n,l=>{i=!0,r=l,o||je(t(l)).subscribe(o=se(n,a,c))},()=>{s=!0,(!i||!o||o.closed)&&n.complete()}))})}function Hh(t,e=pi){return VT(()=>LT(t,e))}function Nr(t){return le((e,n)=>{let i=null,r=!1,o;i=e.subscribe(se(n,void 0,void 0,s=>{o=je(t(s,Nr(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function jT(t,e,n,i,r){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(se(s,u=>{let f=l++;c=a?t(c,u,f):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function ir(t,e){return te(e)?rt(t,e,1):rt(t,1)}function va(t,e=pi){return le((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let l=o;o=null,i.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){r=this.schedule(void 0,l-u),i.add(r);return}a()}n.subscribe(se(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Or(t){return le((e,n)=>{let i=!1;e.subscribe(se(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Et(t){return t<=0?()=>sn:le((e,n)=>{let i=0;e.subscribe(se(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function nv(t){return Y(()=>t)}function _a(t,e=Wt){return t=t??dB,le((n,i)=>{let r,o=!0;n.subscribe(se(i,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function dB(t,e){return t===e}function zh(t=hB){return le((e,n)=>{let i=!1;e.subscribe(se(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function hB(){return new nr}function Fr(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function An(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Re((r,o)=>t(r,o,i)):Wt,Et(1),n?Or(e):zh(()=>new nr))}function wa(t){return t<=0?()=>sn:le((e,n)=>{let i=[];e.subscribe(se(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function iv(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Re((r,o)=>t(r,o,i)):Wt,wa(1),n?Or(e):zh(()=>new nr))}function ba(){return le((t,e)=>{let n,i=!1;t.subscribe(se(e,r=>{let o=n;n=r,i&&e.next([o,r]),i=!0}))})}function $o(t,e){return le(jT(t,e,arguments.length>=2,!0))}function BT(t={}){let{connector:e=()=>new ue,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,c,l=0,u=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=c=void 0,u=f=!1},_=()=>{let E=s;g(),E?.unsubscribe()};return le((E,w)=>{l++,!f&&!u&&m();let S=c=c??e();w.add(()=>{l--,l===0&&!f&&!u&&(a=rv(_,r))}),S.subscribe(w),!s&&l>0&&(s=new tr({next:j=>S.next(j),error:j=>{f=!0,m(),a=rv(g,n,j),S.error(j)},complete:()=>{u=!0,m(),a=rv(g,i),S.complete()}}),je(E).subscribe(s))})(o)}}function rv(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new tr({next:()=>{i.unsubscribe(),t()}});return je(e(...n)).subscribe(i)}function Il(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,BT({connector:()=>new Dh(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Cl(t){return Re((e,n)=>t<=n)}function ln(...t){let e=mi(t);return le((n,i)=>{(e?kr(t,n,e):kr(t,n)).subscribe(i)})}function $e(t,e){return le((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(se(i,c=>{r?.unsubscribe();let l=0,u=o++;je(t(c,u)).subscribe(r=se(i,f=>i.next(e?e(c,f,u,l++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function qh(t,e){return te(e)?$e(()=>t,e):$e(()=>t)}function gi(t){return le((e,n)=>{je(t).subscribe(se(n,()=>n.complete(),_l)),!n.closed&&e.subscribe(n)})}function et(t,e,n){let i=te(t)||e||n?{next:t,error:e,complete:n}:t;return i?le((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(se(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Wt}var TS="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(Tf(e,n)),this.code=e}};function Tf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var wv=class extends ue{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=ov(o),r&&(r=ov(r)),s&&(s=ov(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ge&&e.add(a),a}};function ov(t){return e=>{setTimeout(t,void 0,e)}}var Me=wv;var _e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_e||{});function Yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function UT(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var SS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(SS||{}),_i=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_i||{});function Ll(t){return{toString:t}.toString()}var Qt=globalThis;var Aa={},Rn=[];function He(t){for(let e in t)if(t[e]===He)return e;throw Error("Could not find renamed property on target object.")}function fB(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var pB=He({\u0275cmp:He}),mB=He({\u0275dir:He}),gB=He({\u0275pipe:He}),yB=He({\u0275mod:He}),rf=He({\u0275fac:He}),Dl=He({__NG_ELEMENT_ID__:He}),$T=He({__NG_ENV_ID__:He}),ze=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ze||{});function AS(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function bv(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];vB(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function xS(t){return t===3||t===4||t===6}function vB(t){return t.charCodeAt(0)===64}function Sl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?HT(t,n,r,null,e[++i]):HT(t,n,r,null,null))}}return t}function HT(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var RS="ng-template";function _B(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let s=t[i++];if(n&&o==="class"&&AS(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function MS(t){return t.type===4&&t.value!==RS}function wB(t,e,n){let i=t.type===4&&!n?RS:t.value;return e===i}function bB(t,e,n){let i=4,r=t.attrs||[],o=CB(r),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!qn(i)&&!qn(c))return!1;if(s&&qn(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!wB(t,c,n)||c===""&&e.length===1){if(qn(i))return!1;s=!0}}else{let l=i&8?c:e[++a];if(i&8&&t.attrs!==null){if(!_B(t.attrs,l,n)){if(qn(i))return!1;s=!0}continue}let u=i&8?"class":c,f=EB(u,r,MS(t),n);if(f===-1){if(qn(i))return!1;s=!0;continue}if(l!==""){let m;f>o?m="":m=r[f+1].toLowerCase();let g=i&8?m:null;if(g&&AS(g,l,0)!==-1||i&2&&l!==m){if(qn(i))return!1;s=!0}}}}return qn(i)||s}function qn(t){return(t&1)===0}function EB(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return DB(e,t)}function IB(t,e,n=!1){for(let i=0;i<e.length;i++)if(bB(t,e[i],n))return!0;return!1}function CB(t){for(let e=0;e<t.length;e++){let n=t[e];if(xS(n))return e}return t.length}function DB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function zT(t,e){return t?":not("+e.trim()+")":e}function TB(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!qn(s)&&(e+=zT(o,r),r=""),i=s,o=o||!qn(i);n++}return r!==""&&(e+=zT(o,r)),e}function SB(t){return t.map(TB).join(",")}function AB(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!qn(r))break;r=o}i++}return{attrs:e,classes:n}}function be(t){return Ll(()=>{let e=FS(t),n=Ce(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===SS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_i.Emulated,styles:t.styles||Rn,_:null,schemas:t.schemas||null,tView:null,id:""});LS(n);let i=t.dependencies;return n.directiveDefs=GT(i,!1),n.pipeDefs=GT(i,!0),n.id=MB(n),n})}function xB(t){return jr(t)||kS(t)}function RB(t){return t!==null}function ie(t){return Ll(()=>({type:t.type,bootstrap:t.bootstrap||Rn,declarations:t.declarations||Rn,imports:t.imports||Rn,exports:t.exports||Rn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qT(t,e){if(t==null)return Aa;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=ze.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==ze.None?[i,a]:i,e[o]=s):n[o]=i}return n}function ke(t){return Ll(()=>{let e=FS(t);return LS(e),e})}function jr(t){return t[pB]||null}function kS(t){return t[mB]||null}function PS(t){return t[gB]||null}function NS(t){let e=jr(t)||kS(t)||PS(t);return e!==null?e.standalone:!1}function OS(t,e){let n=t[yB]||null;if(!n&&e===!0)throw new Error(`Type ${Yt(t)} does not have '\u0275mod' property.`);return n}function FS(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Aa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Rn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qT(t.inputs,e),outputs:qT(t.outputs),debugInfo:null}}function LS(t){t.features?.forEach(e=>e(t))}function GT(t,e){if(!t)return null;let n=e?PS:xB;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(RB)}function MB(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var ar=0,ye=1,oe=2,Nt=3,Gn=4,Kn=5,of=6,Al=7,Wn=8,xa=9,rr=10,It=11,xl=12,WT=13,La=14,wi=15,Vl=16,Ea=17,or=18,Sf=19,VS=20,Vr=21,sv=22,qo=23,Br=25,jS=1;var Go=7,sf=8,Ra=9,vn=10,f_=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(f_||{});function Ho(t){return Array.isArray(t)&&typeof t[jS]=="object"}function cr(t){return Array.isArray(t)&&t[jS]===!0}function BS(t){return(t.flags&4)!==0}function Af(t){return t.componentOffset>-1}function p_(t){return(t.flags&1)===1}function Ur(t){return!!t.template}function kB(t){return(t[oe]&512)!==0}var PB="svg",NB="math",OB=!1;function FB(){return OB}function bi(t){for(;Array.isArray(t);)t=t[ar];return t}function US(t,e){return bi(e[t])}function kn(t,e){return bi(e[t.index])}function $S(t,e){return t.data[e]}function Hr(t,e){let n=e[t];return Ho(n)?n:n[ar]}function LB(t){return(t[oe]&4)===4}function m_(t){return(t[oe]&128)===128}function VB(t){return cr(t[Nt])}function af(t,e){return e==null?null:t[e]}function HS(t){t[Ea]=0}function jB(t){t[oe]&1024||(t[oe]|=1024,m_(t)&&Rl(t))}function BB(t,e){for(;t>0;)e=e[La],t--;return e}function g_(t){return!!(t[oe]&9216||t[qo]?.dirty)}function Ev(t){g_(t)?Rl(t):t[oe]&64&&(FB()?(t[oe]|=1024,Rl(t)):t[rr].changeDetectionScheduler?.notify())}function Rl(t){t[rr].changeDetectionScheduler?.notify();let e=Ml(t);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!m_(e)));)e=Ml(e)}function zS(t,e){if((t[oe]&256)===256)throw new Q(911,!1);t[Vr]===null&&(t[Vr]=[]),t[Vr].push(e)}function UB(t,e){if(t[Vr]===null)return;let n=t[Vr].indexOf(e);n!==-1&&t[Vr].splice(n,1)}function Ml(t){let e=t[Nt];return cr(e)?e[Nt]:e}var ve={lFrame:XS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $B(){return ve.lFrame.elementDepthCount}function HB(){ve.lFrame.elementDepthCount++}function zB(){ve.lFrame.elementDepthCount--}function qS(){return ve.bindingsEnabled}function qB(){return ve.skipHydrationRootTNode!==null}function GB(t){return ve.skipHydrationRootTNode===t}function WB(){ve.skipHydrationRootTNode=null}function Ne(){return ve.lFrame.lView}function Xt(){return ve.lFrame.tView}function Yn(t){return ve.lFrame.contextLView=t,t[Wn]}function Qn(t){return ve.lFrame.contextLView=null,t}function _n(){let t=GS();for(;t!==null&&t.type===64;)t=t.parent;return t}function GS(){return ve.lFrame.currentTNode}function KB(){let t=ve.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function jl(t,e){let n=ve.lFrame;n.currentTNode=t,n.isParent=e}function WS(){return ve.lFrame.isParent}function YB(){ve.lFrame.isParent=!1}function QB(){let t=ve.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ZB(){return ve.lFrame.bindingIndex}function XB(t){return ve.lFrame.bindingIndex=t}function xf(){return ve.lFrame.bindingIndex++}function KS(t){let e=ve.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function JB(){return ve.lFrame.inI18n}function eU(t,e){let n=ve.lFrame;n.bindingIndex=n.bindingRootIndex=t,Iv(e)}function tU(){return ve.lFrame.currentDirectiveIndex}function Iv(t){ve.lFrame.currentDirectiveIndex=t}function nU(t){let e=ve.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function YS(){return ve.lFrame.currentQueryIndex}function y_(t){ve.lFrame.currentQueryIndex=t}function iU(t){let e=t[ye];return e.type===2?e.declTNode:e.type===1?t[Kn]:null}function QS(t,e,n){if(n&_e.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&_e.Host);)if(r=iU(o),r===null||(o=o[La],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=ve.lFrame=ZS();return i.currentTNode=e,i.lView=t,!0}function v_(t){let e=ZS(),n=t[ye];ve.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ZS(){let t=ve.lFrame,e=t===null?null:t.child;return e===null?XS(t):e}function XS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function JS(){let t=ve.lFrame;return ve.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var eA=JS;function __(){let t=JS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rU(t){return(ve.lFrame.contextLView=BB(t,ve.lFrame.contextLView))[Wn]}function es(){return ve.lFrame.selectedIndex}function Wo(t){ve.lFrame.selectedIndex=t}function Rf(){let t=ve.lFrame;return $S(t.tView,t.selectedIndex)}function oU(){return ve.lFrame.currentNamespace}var tA=!0;function w_(){return tA}function b_(t){tA=t}function sU(){return Va(_n(),Ne())}function Va(t,e){return new Oe(kn(t,e))}var Oe=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=sU;let t=e;return t})();function aU(t){return t instanceof Oe?t.nativeElement:t}function cU(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function lU(t){return t.flat(Number.POSITIVE_INFINITY)}function E_(t,e){t.forEach(n=>Array.isArray(n)?E_(n,e):e(n))}function nA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function uU(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function dU(t,e,n){let i=Bl(t,e);return i>=0?t[i|1]=n:(i=~i,uU(t,i,e,n)),i}function av(t,e){let n=Bl(t,e);if(n>=0)return t[n|1]}function Bl(t,e){return hU(t,e,1)}function hU(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}function fU(){return this._results[Symbol.iterator]()}var lf=class t{get changes(){return this._changes??=new Me}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=fU)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=lU(e);(this._changesDetected=!cU(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function iA(t){return(t.flags&128)===128}var Cv;function rA(t){Cv=t}function pU(){if(Cv!==void 0)return Cv;if(typeof document<"u")return document;throw new Q(210,!1)}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function re(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mf(t){return KT(t,sA)||KT(t,aA)}function oA(t){return Mf(t)!==null}function KT(t,e){return t.hasOwnProperty(e)?t[e]:null}function mU(t){let e=t&&(t[sA]||t[aA]);return e||null}function YT(t){return t&&(t.hasOwnProperty(QT)||t.hasOwnProperty(gU))?t[QT]:null}var sA=He({\u0275prov:He}),QT=He({\u0275inj:He}),aA=He({ngInjectableDef:He}),gU=He({ngInjectorDef:He}),F=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Ul=new F("",{providedIn:"root",factory:()=>yU}),yU="ng",I_=new F(""),pt=new F("",{providedIn:"platform",factory:()=>"unknown"});var ja=new F(""),$l=new F("",{providedIn:"root",factory:()=>pU().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vU=He({__forward_ref__:He});function zr(t){return t.__forward_ref__=zr,t.toString=function(){return Yt(this())},t}function Kt(t){return cA(t)?t():t}function cA(t){return typeof t=="function"&&t.hasOwnProperty(vU)&&t.__forward_ref__===zr}function lA(t){return t&&!!t.\u0275providers}function Ma(t){return typeof t=="string"?t:t==null?"":String(t)}function _U(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ma(t)}function wU(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function C_(t,e){throw new Q(-201,!1)}var Dv;function uA(){return Dv}function xn(t){let e=Dv;return Dv=t,e}function dA(t,e,n){let i=Mf(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&_e.Optional)return null;if(e!==void 0)return e;C_(t,"Injector")}var bU={},kl=bU,Tv="__NG_DI_FLAG__",uf="ngTempTokenPath",EU="ngTokenPath",IU=/\n/gm,CU="\u0275",ZT="__source",Ta;function DU(){return Ta}function Lr(t){let e=Ta;return Ta=t,e}function TU(t,e=_e.Default){if(Ta===void 0)throw new Q(-203,!1);return Ta===null?dA(t,void 0,e):Ta.get(t,e&_e.Optional?null:void 0,e)}function v(t,e=_e.Default){return(uA()||TU)(Kt(t),e)}function V(t,e=_e.Default){return v(t,kf(e))}function kf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Sv(t){let e=[];for(let n=0;n<t.length;n++){let i=Kt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new Q(900,!1);let r,o=_e.Default;for(let s=0;s<i.length;s++){let a=i[s],c=SU(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(v(r,o))}else e.push(v(i))}return e}function hA(t,e){return t[Tv]=e,t.prototype[Tv]=e,t}function SU(t){return t[Tv]}function AU(t,e,n,i){let r=t[uf];throw e[ZT]&&r.unshift(e[ZT]),t.message=xU(`
`+t.message,r,n,i),t[EU]=r,t[uf]=null,t}function xU(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==CU?t.slice(2):t;let r=Yt(e);if(Array.isArray(e))r=e.map(Yt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Yt(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(IU,`
  `)}`}var RU="h",MU="b";var kU=()=>null;function D_(t,e,n=!1){return kU(t,e,n)}var Gh="__parameters__";function PU(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function fA(t,e,n){return Ll(()=>{let i=PU(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let f=c.hasOwnProperty(Gh)?c[Gh]:Object.defineProperty(c,Gh,{value:[]})[Gh];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ba=hA(fA("Optional"),8);var T_=hA(fA("SkipSelf"),4);function ka(t,e){let n=t.hasOwnProperty(rf);return n?t[rf]:null}var Pa=new F(""),pA=new F("",-1),mA=new F(""),df=class{get(e,n=kl){if(n===kl){let i=new Error(`NullInjectorError: No provider for ${Yt(e)}!`);throw i.name="NullInjectorError",i}return n}};function Pf(t){return{\u0275providers:t}}function NU(...t){return{\u0275providers:gA(!0,t),\u0275fromNgModule:!0}}function gA(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return E_(e,s=>{let a=s;Av(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&yA(r,o),n}function yA(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];S_(r,o=>{e(o,i)})}}function Av(t,e,n,i){if(t=Kt(t),!t)return!1;let r=null,o=YT(t),s=!o&&jr(t);if(!o&&!s){let c=t.ngModule;if(o=YT(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Av(l,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{E_(o.imports,u=>{Av(u,e,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&yA(l,e)}if(!a){let l=ka(r)||(()=>new r);e({provide:r,useFactory:l,deps:Rn},r),e({provide:mA,useValue:r,multi:!0},r),e({provide:Pa,useValue:()=>v(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=t;S_(c,u=>{e(u,l)})}}else return!1;return r!==t&&t.providers!==void 0}function S_(t,e){for(let n of t)lA(n)&&(n=n.\u0275providers),Array.isArray(n)?S_(n,e):e(n)}var OU=He({provide:String,useValue:He});function vA(t){return t!==null&&typeof t=="object"&&OU in t}function FU(t){return!!(t&&t.useExisting)}function LU(t){return!!(t&&t.useFactory)}function Na(t){return typeof t=="function"}function VU(t){return!!t.useClass}var Nf=new F(""),Zh={},jU={},cv;function A_(){return cv===void 0&&(cv=new df),cv}var Zt=class{},Pl=class extends Zt{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rv(e,s=>this.processProvider(s)),this.records.set(pA,Ia(void 0,this)),r.has("environment")&&this.records.set(Zt,Ia(void 0,this));let o=this.records.get(Nf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mA,Rn,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Lr(this),i=xn(void 0),r;try{return e()}finally{Lr(n),xn(i)}}get(e,n=kl,i=_e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty($T))return e[$T](this);i=kf(i);let r,o=Lr(this),s=xn(void 0);try{if(!(i&_e.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=zU(e)&&Mf(e);l&&this.injectableDefInScope(l)?c=Ia(xv(e),Zh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&_e.Self?A_():this.parent;return n=i&_e.Optional&&n===kl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[uf]=a[uf]||[]).unshift(Yt(e)),o)throw a;return AU(a,e,"R3InjectorError",this.source)}else throw a}finally{xn(s),Lr(o)}}resolveInjectorInitializers(){let e=Lr(this),n=xn(void 0),i;try{let r=this.get(Pa,Rn,_e.Self);for(let o of r)o()}finally{Lr(e),xn(n)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Yt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Kt(e);let n=Na(e)?e:Kt(e&&e.provide),i=UU(e);if(!Na(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Ia(void 0,Zh,!0),r.factory=()=>Sv(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){return n.value===Zh&&(n.value=jU,n.value=n.factory()),typeof n.value=="object"&&n.value&&HU(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Kt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function xv(t){let e=Mf(t),n=e!==null?e.factory:ka(t);if(n!==null)return n;if(t instanceof F)throw new Q(204,!1);if(t instanceof Function)return BU(t);throw new Q(204,!1)}function BU(t){if(t.length>0)throw new Q(204,!1);let n=mU(t);return n!==null?()=>n.factory(t):()=>new t}function UU(t){if(vA(t))return Ia(void 0,t.useValue);{let e=_A(t);return Ia(e,Zh)}}function _A(t,e,n){let i;if(Na(t)){let r=Kt(t);return ka(r)||xv(r)}else if(vA(t))i=()=>Kt(t.useValue);else if(LU(t))i=()=>t.useFactory(...Sv(t.deps||[]));else if(FU(t))i=()=>v(Kt(t.useExisting));else{let r=Kt(t&&(t.useClass||t.provide));if($U(t))i=()=>new r(...Sv(t.deps));else return ka(r)||xv(r)}return i}function Ia(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $U(t){return!!t.deps}function HU(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function zU(t){return typeof t=="function"||typeof t=="object"&&t instanceof F}function Rv(t,e){for(let n of t)Array.isArray(n)?Rv(n,e):n&&lA(n)?Rv(n.\u0275providers,e):e(n)}function Ci(t,e){t instanceof Pl&&t.assertNotDestroyed();let n,i=Lr(t),r=xn(void 0);try{return e()}finally{Lr(i),xn(r)}}function qU(t){if(!uA()&&!DU())throw new Q(-203,!1)}function GU(t){let e=Qt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function WU(t){return typeof t=="function"}var Mv=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function wA(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function un(){return bA}function bA(t){return t.type.prototype.ngOnChanges&&(t.setInput=YU),KU}un.ngInherit=!0;function KU(){let t=IA(this),e=t?.current;if(e){let n=t.previous;if(n===Aa)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function YU(t,e,n,i,r){let o=this.declaredInputs[i],s=IA(t)||QU(t,{previous:Aa,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Mv(l&&l.currentValue,n,c===Aa),wA(t,e,r,n)}var EA="__ngSimpleChanges__";function IA(t){return t[EA]||null}function QU(t,e){return t[EA]=e}var XT=null;var yi=function(t,e,n){XT?.(t,e,n)};function ZU(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=bA(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function x_(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Xh(t,e,n){CA(t,e,3,n)}function Jh(t,e,n,i){(t[oe]&3)===n&&CA(t,e,n,i)}function lv(t,e){let n=t[oe];(n&3)===e&&(n&=16383,n+=1,t[oe]=n)}function CA(t,e,n,i){let r=i!==void 0?t[Ea]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[Ea]+=65536),(a<o||o==-1)&&(XU(t,n,e,c),t[Ea]=(t[Ea]&4294901760)+c+2),c++}function JT(t,e){yi(4,t,e);let n=yn(null);try{e.call(t)}finally{yn(n),yi(5,t,e)}}function XU(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[oe]>>14<t[Ea]>>16&&(t[oe]&3)===e&&(t[oe]+=16384,JT(a,o)):JT(a,o)}var Sa=-1,Ko=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function JU(t){return t instanceof Ko}function e$(t){return(t.flags&8)!==0}function t$(t){return(t.flags&16)!==0}function DA(t){return t!==Sa}function hf(t){return t&32767}function n$(t){return t>>16}function ff(t,e){let n=n$(t),i=e;for(;n>0;)i=i[La],n--;return i}var kv=!0;function eS(t){let e=kv;return kv=t,e}var i$=256,TA=i$-1,SA=5,r$=0,vi={};function o$(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Dl)&&(i=n[Dl]),i==null&&(i=n[Dl]=r$++);let r=i&TA,o=1<<r;e.data[t+(r>>SA)]|=o}function pf(t,e){let n=AA(t,e);if(n!==-1)return n;let i=e[ye];i.firstCreatePass&&(t.injectorIndex=e.length,uv(i.data,t),uv(e,null),uv(i.blueprint,null));let r=R_(t,e),o=t.injectorIndex;if(DA(r)){let s=hf(r),a=ff(r,e),c=a[ye].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function uv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function AA(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function R_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=PA(r),i===null)return Sa;if(n++,r=r[La],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Sa}function Pv(t,e,n){o$(t,e,n)}function s$(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(xS(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function xA(t,e,n){if(n&_e.Optional||t!==void 0)return t;C_(e,"NodeInjector")}function RA(t,e,n,i){if(n&_e.Optional&&i===void 0&&(i=null),!(n&(_e.Self|_e.Host))){let r=t[xa],o=xn(void 0);try{return r?r.get(e,i,n&_e.Optional):dA(e,i,n&_e.Optional)}finally{xn(o)}}return xA(i,e,n)}function MA(t,e,n,i=_e.Default,r){if(t!==null){if(e[oe]&2048&&!(i&_e.Self)){let s=u$(t,e,n,i,vi);if(s!==vi)return s}let o=kA(t,e,n,i,vi);if(o!==vi)return o}return RA(e,n,i,r)}function kA(t,e,n,i,r){let o=c$(n);if(typeof o=="function"){if(!QS(e,t,i))return i&_e.Host?xA(r,n,i):RA(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&_e.Optional))C_(n);else return s}finally{eA()}}else if(typeof o=="number"){let s=null,a=AA(t,e),c=Sa,l=i&_e.Host?e[wi][Kn]:null;for((a===-1||i&_e.SkipSelf)&&(c=a===-1?R_(t,e):e[a+8],c===Sa||!nS(i,!1)?a=-1:(s=e[ye],a=hf(c),e=ff(c,e)));a!==-1;){let u=e[ye];if(tS(o,a,u.data)){let f=a$(a,e,n,s,i,l);if(f!==vi)return f}c=e[a+8],c!==Sa&&nS(i,e[ye].data[a+8]===l)&&tS(o,a,e)?(s=u,a=hf(c),e=ff(c,e)):a=-1}}return r}function a$(t,e,n,i,r,o){let s=e[ye],a=s.data[t+8],c=i==null?Af(a)&&kv:i!=s&&(a.type&3)!==0,l=r&_e.Host&&o===a,u=ef(a,s,n,c,l);return u!==null?Yo(e,s,u,a):vi}function ef(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,f=i?a:a+u,m=r?a+u:l;for(let g=f;g<m;g++){let _=s[g];if(g<c&&n===_||g>=c&&_.type===n)return g}if(r){let g=s[c];if(g&&Ur(g)&&g.type===n)return c}return null}function Yo(t,e,n,i){let r=t[n],o=e.data;if(JU(r)){let s=r;s.resolving&&wU(_U(o[n]));let a=eS(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?xn(s.injectImpl):null,u=QS(t,i,_e.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&ZU(n,o[n],e)}finally{l!==null&&xn(l),eS(a),s.resolving=!1,eA()}}return r}function c$(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Dl)?t[Dl]:void 0;return typeof e=="number"?e>=0?e&TA:l$:e}function tS(t,e,n){let i=1<<t;return!!(n[e+(t>>SA)]&i)}function nS(t,e){return!(t&_e.Self)&&!(t&_e.Host&&e)}var zo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return MA(this._tNode,this._lView,e,kf(i),n)}};function l$(){return new zo(_n(),Ne())}function lr(t){return Ll(()=>{let e=t.prototype.constructor,n=e[rf]||Nv(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[rf]||Nv(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Nv(t){return cA(t)?()=>{let e=Nv(Kt(t));return e&&e()}:ka(t)}function u$(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[oe]&2048&&!(s[oe]&512);){let a=kA(o,s,n,i|_e.Self,vi);if(a!==vi)return a;let c=o.parent;if(!c){let l=s[VS];if(l){let u=l.get(n,vi,i);if(u!==vi)return u}c=PA(s),s=s[La]}o=c}return r}function PA(t){let e=t[ye],n=e.type;return n===2?e.declTNode:n===1?t[Kn]:null}function M_(t){return s$(_n(),t)}function iS(t,e=null,n=null,i){let r=NA(t,e,n,i);return r.resolveInjectorInitializers(),r}function NA(t,e=null,n=null,i,r=new Set){let o=[n||Rn,NU(t)];return i=i||(typeof t=="object"?void 0:Yt(t)),new Pl(o,e||A_(),i||null,r)}var tt=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return iS({name:""},r,i,"");{let o=i.name??"";return iS({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=kl,e.NULL=new df,e.\u0275prov=P({token:e,providedIn:"any",factory:()=>v(pA)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),d$="ngOriginalError";function dv(t){return t[d$]}var Ei=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&dv(e);for(;n&&dv(n);)n=dv(n);return n||null}},OA=new F("",{providedIn:"root",factory:()=>V(Ei).handleError.bind(void 0)});var FA=!1,h$=new F("",{providedIn:"root",factory:()=>FA});var Wh;function f$(){if(Wh===void 0&&(Wh=null,Qt.trustedTypes))try{Wh=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Wh}function rS(t){return f$()?.createScriptURL(t)||t}var mf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${TS})`}};function Hl(t){return t instanceof mf?t.changingThisBreaksApplicationSecurity:t}function k_(t,e){let n=p$(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${TS})`)}return n===e}function p$(t){return t instanceof mf&&t.getTypeName()||null}var m$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function LA(t){return t=String(t),t.match(m$)?t:"unsafe:"+t}var Of=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Of||{});function Zn(t){let e=jA();return e?e.sanitize(Of.URL,t)||"":k_(t,"URL")?Hl(t):LA(Ma(t))}function g$(t){let e=jA();if(e)return rS(e.sanitize(Of.RESOURCE_URL,t)||"");if(k_(t,"ResourceURL"))return rS(Hl(t));throw new Q(904,!1)}function y$(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?g$:Zn}function VA(t,e,n){return y$(e,n)(t)}function jA(){let t=Ne();return t&&t[rr].sanitizer}var BA=new Map,v$=0;function _$(){return v$++}function w$(t){BA.set(t[Sf],t)}function b$(t){BA.delete(t[Sf])}var oS="__ngContext__";function Qo(t,e){Ho(e)?(t[oS]=e[Sf],w$(e)):t[oS]=e}function UA(t){return t instanceof Function?t():t}function E$(t){return(t??V(tt)).get(pt)==="browser"}var sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(sr||{}),I$;function P_(t,e){return I$(t,e)}function Ca(t,e,n,i,r){if(i!=null){let o,s=!1;cr(i)?o=i:Ho(i)&&(s=!0,i=i[ar]);let a=bi(i);t===0&&n!==null?r==null?GA(e,n,a):gf(e,n,a,r||null,!0):t===1&&n!==null?gf(e,n,a,r||null,!0):t===2?B$(e,a,s):t===3&&e.destroyNode(a),o!=null&&$$(e,t,o,n,r)}}function C$(t,e){return t.createText(e)}function D$(t,e,n){t.setValue(e,n)}function $A(t,e,n){return t.createElement(e,n)}function T$(t,e){HA(t,e),e[ar]=null,e[Kn]=null}function S$(t,e,n,i,r,o){i[ar]=r,i[Kn]=e,Ff(t,i,n,1,r,o)}function HA(t,e){Ff(t,e,e[It],2,null,null)}function A$(t){let e=t[xl];if(!e)return hv(t[ye],t);for(;e;){let n=null;if(Ho(e))n=e[xl];else{let i=e[vn];i&&(n=i)}if(!n){for(;e&&!e[Gn]&&e!==t;)Ho(e)&&hv(e[ye],e),e=e[Nt];e===null&&(e=t),Ho(e)&&hv(e[ye],e),n=e&&e[Gn]}e=n}}function x$(t,e,n,i){let r=vn+i,o=n.length;i>0&&(n[r-1][Gn]=e),i<o-vn?(e[Gn]=n[r],nA(n,vn+i,e)):(n.push(e),e[Gn]=null),e[Nt]=n;let s=e[Vl];s!==null&&n!==s&&R$(s,e);let a=e[or];a!==null&&a.insertView(t),Ev(e),e[oe]|=128}function R$(t,e){let n=t[Ra],r=e[Nt][Nt][wi];e[wi]!==r&&(t[oe]|=f_.HasTransplantedViews),n===null?t[Ra]=[e]:n.push(e)}function zA(t,e){let n=t[Ra],i=n.indexOf(e);n.splice(i,1)}function Ov(t,e){if(t.length<=vn)return;let n=vn+e,i=t[n];if(i){let r=i[Vl];r!==null&&r!==t&&zA(r,i),e>0&&(t[n-1][Gn]=i[Gn]);let o=cf(t,vn+e);T$(i[ye],i);let s=o[or];s!==null&&s.detachView(o[ye]),i[Nt]=null,i[Gn]=null,i[oe]&=-129}return i}function qA(t,e){if(!(e[oe]&256)){let n=e[It];n.destroyNode&&Ff(t,e,n,3,null,null),A$(e)}}function hv(t,e){if(!(e[oe]&256)){e[oe]&=-129,e[oe]|=256,e[qo]&&mT(e[qo]),k$(t,e),M$(t,e),e[ye].type===1&&e[It].destroy();let n=e[Vl];if(n!==null&&cr(e[Nt])){n!==e[Nt]&&zA(n,e);let i=e[or];i!==null&&i.detachView(t)}b$(e)}}function M$(t,e){let n=t.cleanup,i=e[Al];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[Al]=null);let r=e[Vr];if(r!==null){e[Vr]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function k$(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Ko)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];yi(4,a,c);try{c.call(a)}finally{yi(5,a,c)}}else{yi(4,r,o);try{o.call(r)}finally{yi(5,r,o)}}}}}function P$(t,e,n){return N$(t,e.parent,n)}function N$(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[ar];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===_i.None||o===_i.Emulated)return null}return kn(i,n)}}function gf(t,e,n,i,r){t.insertBefore(e,n,i,r)}function GA(t,e,n){t.appendChild(e,n)}function sS(t,e,n,i,r){i!==null?gf(t,e,n,i,r):GA(t,e,n)}function O$(t,e,n,i){t.removeChild(e,n,i)}function N_(t,e){return t.parentNode(e)}function F$(t,e){return t.nextSibling(e)}function L$(t,e,n){return j$(t,e,n)}function V$(t,e,n){return t.type&40?kn(t,n):null}var j$=V$,aS;function O_(t,e,n,i){let r=P$(t,i,e),o=e[It],s=i.parent||e[Kn],a=L$(s,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)sS(o,r,n[c],a,!1);else sS(o,r,n,a,!1);aS!==void 0&&aS(o,i,e,n,r)}function tf(t,e){if(e!==null){let n=e.type;if(n&3)return kn(e,t);if(n&4)return Fv(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return tf(t,i);{let r=t[e.index];return cr(r)?Fv(-1,r):bi(r)}}else{if(n&32)return P_(e,t)()||bi(t[e.index]);{let i=WA(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ml(t[wi]);return tf(r,i)}else return tf(t,e.next)}}}return null}function WA(t,e){if(e!==null){let i=t[wi][Kn],r=e.projection;return i.projection[r]}return null}function Fv(t,e){let n=vn+t+1;if(n<e.length){let i=e[n],r=i[ye].firstChild;if(r!==null)return tf(i,r)}return e[Go]}function B$(t,e,n){let i=N_(t,e);i&&O$(t,i,e,n)}function F_(t,e,n,i,r,o,s){for(;n!=null;){let a=i[n.index],c=n.type;if(s&&e===0&&(a&&Qo(bi(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)F_(t,e,n.child,i,r,o,!1),Ca(e,t,r,a,o);else if(c&32){let l=P_(n,i),u;for(;u=l();)Ca(e,t,r,u,o);Ca(e,t,r,a,o)}else c&16?U$(t,e,i,n,r,o):Ca(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Ff(t,e,n,i,r,o){F_(n,i,t.firstChild,e,r,o,!1)}function U$(t,e,n,i,r,o){let s=n[wi],c=s[Kn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ca(e,t,r,u,o)}else{let l=c,u=s[Nt];iA(i)&&(l.flags|=128),F_(t,e,l,u,r,o,!0)}}function $$(t,e,n,i,r){let o=n[Go],s=bi(n);o!==s&&Ca(e,t,i,o,r);for(let a=vn;a<n.length;a++){let c=n[a];Ff(c[ye],c,t,e,i,o)}}function H$(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:sr.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=sr.Important),t.setStyle(n,i,r,o))}}function z$(t,e,n){t.setAttribute(e,"style",n)}function KA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function YA(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&bv(t,e,i),r!==null&&KA(t,e,r),o!==null&&z$(t,e,o)}var Di={};function K(t=1){QA(Xt(),Ne(),es()+t,!1)}function QA(t,e,n,i){if(!i)if((e[oe]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Xh(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Jh(e,o,0,n)}Wo(n)}function O(t,e=_e.Default){let n=Ne();if(n===null)return v(t,e);let i=_n();return MA(i,n,Kt(t),e)}function ZA(){let t="invalid";throw new Error(t)}function XA(t,e,n,i,r,o){let s=yn(null);try{let a=null;r&ze.SignalBased&&(a=e[i][dT]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&ze.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):wA(e,a,i,o)}finally{yn(s)}}function q$(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Wo(~r);else{let o=r,s=n[++i],a=n[++i];eU(s,o);let c=e[o];a(2,c)}}}finally{Wo(-1)}}function Lf(t,e,n,i,r,o,s,a,c,l,u){let f=e.blueprint.slice();return f[ar]=r,f[oe]=i|4|128|8|64,(l!==null||t&&t[oe]&2048)&&(f[oe]|=2048),HS(f),f[Nt]=f[La]=t,f[Wn]=n,f[rr]=s||t&&t[rr],f[It]=a||t&&t[It],f[xa]=c||t&&t[xa]||null,f[Kn]=o,f[Sf]=_$(),f[of]=u,f[VS]=l,f[wi]=e.type==2?t[wi]:f,f}function Vf(t,e,n,i,r){let o=t.data[e];if(o===null)o=G$(t,e,n,i,r),JB()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=KB();o.injectorIndex=s===null?-1:s.injectorIndex}return jl(o,!0),o}function G$(t,e,n,i,r){let o=GS(),s=WS(),a=s?o:o&&o.parent,c=t.data[e]=X$(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function JA(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function ex(t,e,n,i,r){let o=es(),s=i&2;try{Wo(-1),s&&e.length>Br&&QA(t,e,Br,!1),yi(s?2:0,r),n(i,r)}finally{Wo(o),yi(s?3:1,r)}}function tx(t,e,n){if(BS(e)){let i=yn(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{yn(i)}}}function nx(t,e,n){qS()&&(r4(t,e,n,kn(n,e)),(n.flags&64)===64&&ax(t,e,n))}function ix(t,e,n=kn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function rx(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=L_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function L_(t,e,n,i,r,o,s,a,c,l,u){let f=Br+i,m=f+r,g=W$(f,m),_=typeof l=="function"?l():l;return g[ye]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:u}}function W$(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Di);return n}function K$(t,e,n,i){let o=i.get(h$,FA)||n===_i.ShadowDom,s=t.selectRootElement(e,o);return Y$(s),s}function Y$(t){Q$(t)}var Q$=()=>null;function Z$(t,e,n,i){let r=ux(e);r.push(n),t.firstCreatePass&&dx(t).push(i,r.length-1)}function X$(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return qB()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function cS(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=ze.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}t===0?lS(i,n,l,a,c):lS(i,n,l,a)}return i}function lS(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function J$(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let f=o[u],m=n?n.get(f):null,g=m?m.inputs:null,_=m?m.outputs:null;c=cS(0,f.inputs,u,c,g),l=cS(1,f.outputs,u,l,_);let E=c!==null&&s!==null&&!MS(e)?m4(c,u,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function e4(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function V_(t,e,n,i,r,o,s,a){let c=kn(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(j_(t,n,u,i,r),Af(e)&&t4(n,e.index)):e.type&3?(i=e4(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function t4(t,e){let n=Hr(e,t);n[oe]&16||(n[oe]|=64)}function ox(t,e,n,i){if(qS()){let r=i===null?null:{"":-1},o=s4(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&sx(t,e,n,s,r,a),r&&a4(n,i,r)}n.mergedAttrs=Sl(n.mergedAttrs,n.attrs)}function sx(t,e,n,i,r,o){for(let l=0;l<i.length;l++)Pv(pf(n,e),t,i[l].type);l4(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=JA(t,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];n.mergedAttrs=Sl(n.mergedAttrs,u.hostAttrs),u4(t,n,e,c,u),c4(c,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let f=u.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}J$(t,n,o)}function n4(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;i4(s)!=a&&s.push(a),s.push(n,i,o)}}function i4(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function r4(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;Af(n)&&d4(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||pf(n,e),Qo(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],l=Yo(e,t,a,n);if(Qo(l,e),s!==null&&p4(e,a-r,l,c,n,s),Ur(c)){let u=Hr(n.index,e);u[Wn]=Yo(e,t,a,n)}}}function ax(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=tU();try{Wo(o);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];Iv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&o4(c,l)}}finally{Wo(-1),Iv(s)}}function o4(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function s4(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(IB(e,s.selectors,!1))if(i||(i=[]),Ur(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;Lv(t,e,c)}else i.unshift(s),Lv(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Lv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function a4(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new Q(-301,!1);i.push(e[r],o)}}}function c4(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ur(e)&&(n[""]=t)}}function l4(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function u4(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=ka(r.type,!0)),s=new Ko(o,Ur(r),O);t.blueprint[i]=s,n[i]=s,n4(t,e,i,JA(t,n,r.hostVars,Di),r)}function d4(t,e,n){let i=kn(e,t),r=rx(n),o=t[rr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=jf(t,Lf(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function h4(t,e,n,i,r,o){let s=kn(t,e);f4(e[It],s,o,t.value,n,i,r)}function f4(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?Ma(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function p4(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],f=s[a++];XA(i,n,c,l,u,f)}}function m4(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function cx(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function lx(t,e){let n=t.contentQueries;if(n!==null){let i=yn(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];y_(o),a.contentQueries(2,e[s],s)}}}finally{yn(i)}}}function jf(t,e){return t[xl]?t[WT][Gn]=e:t[xl]=e,t[WT]=e,e}function Vv(t,e,n){y_(0);let i=yn(null);try{e(t,n)}finally{yn(i)}}function ux(t){return t[Al]||(t[Al]=[])}function dx(t){return t.cleanup||(t.cleanup=[])}function hx(t,e){let n=t[xa],i=n?n.get(Ei,null):null;i&&i.handleError(e)}function j_(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];XA(u,l,i,a,c,r)}}function fx(t,e,n){let i=US(e,t);D$(t[It],i,n)}function g4(t,e){let n=Hr(e,t),i=n[ye];y4(i,n);let r=n[ar];r!==null&&n[of]===null&&(n[of]=D_(r,n[xa])),B_(i,n,n[Wn])}function y4(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function B_(t,e,n){v_(e);try{let i=t.viewQuery;i!==null&&Vv(1,i,n);let r=t.template;r!==null&&ex(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[or]?.finishViewCreation(t),t.staticContentQueries&&lx(t,e),t.staticViewQueries&&Vv(2,t.viewQuery,n);let o=t.components;o!==null&&v4(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[oe]&=-5,__()}}function v4(t,e){for(let n=0;n<e.length;n++)g4(t,e[n])}function _4(t,e,n,i){let r=e.tView,s=t[oe]&4096?4096:16,a=Lf(t,r,n,s,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),c=t[e.index];a[Vl]=c;let l=t[or];return l!==null&&(a[or]=l.createEmbeddedView(r)),B_(r,a,n),a}function uS(t,e){return!e||e.firstChild===null||iA(t)}function w4(t,e,n,i=!0){let r=e[ye];if(x$(r,e,t,n),i){let s=Fv(n,t),a=e[It],c=N_(a,t[Go]);c!==null&&S$(r,t[Kn],a,e,c,s)}let o=e[of];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function yf(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(bi(o)),cr(o)&&b4(o,i);let s=n.type;if(s&8)yf(t,e,n.child,i);else if(s&32){let a=P_(n,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=WA(e,n);if(Array.isArray(a))i.push(...a);else{let c=Ml(e[wi]);yf(c[ye],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function b4(t,e){for(let n=vn;n<t.length;n++){let i=t[n],r=i[ye].firstChild;r!==null&&yf(i[ye],i,r,e)}t[Go]!==t[ar]&&e.push(t[Go])}var px=[];function E4(t){return t[qo]??I4(t)}function I4(t){let e=px.pop()??Object.create(D4);return e.lView=t,e}function C4(t){t.lView[qo]!==t&&(t.lView=null,px.push(t))}var D4=Ce(L({},hT),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Rl(t.lView)},consumerOnSignalRead(){this.lView[qo]=this}});function mx(t){return yx(t[xl])}function gx(t){return yx(t[Gn])}function yx(t){for(;t!==null&&!cr(t);)t=t[Gn];return t}var vx=100;function _x(t,e=!0,n=0){let i=t[rr],r=i.rendererFactory,o=!1;o||r.begin?.();try{T4(t,n)}catch(s){throw e&&hx(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function T4(t,e){jv(t,e);let n=0;for(;g_(t);){if(n===vx)throw new Q(103,!1);n++,jv(t,1)}}function S4(t,e,n,i){let r=e[oe];if((r&256)===256)return;let o=!1;!o&&e[rr].inlineEffectRunner?.flush(),v_(e);let s=null,a=null;!o&&A4(t)&&(a=E4(e),s=fT(a));try{HS(e),XB(t.bindingStartIndex),n!==null&&ex(t,e,n,2,i);let c=(r&3)===3;if(!o)if(c){let f=t.preOrderCheckHooks;f!==null&&Xh(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Jh(e,f,0,null),lv(e,0)}if(x4(e),wx(e,0),t.contentQueries!==null&&lx(t,e),!o)if(c){let f=t.contentCheckHooks;f!==null&&Xh(e,f)}else{let f=t.contentHooks;f!==null&&Jh(e,f,1),lv(e,1)}q$(t,e);let l=t.components;l!==null&&Ex(e,l,0);let u=t.viewQuery;if(u!==null&&Vv(2,u,i),!o)if(c){let f=t.viewCheckHooks;f!==null&&Xh(e,f)}else{let f=t.viewHooks;f!==null&&Jh(e,f,2),lv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[sv]){for(let f of e[sv])f();e[sv]=null}o||(e[oe]&=-73)}catch(c){throw Rl(e),c}finally{a!==null&&(pT(a,s),C4(a)),__()}}function A4(t){return t.type!==2}function wx(t,e){for(let n=mx(t);n!==null;n=gx(n))for(let i=vn;i<n.length;i++){let r=n[i];bx(r,e)}}function x4(t){for(let e=mx(t);e!==null;e=gx(e)){if(!(e[oe]&f_.HasTransplantedViews))continue;let n=e[Ra];for(let i=0;i<n.length;i++){let r=n[i],o=r[Nt];jB(r)}}}function R4(t,e,n){let i=Hr(e,t);bx(i,n)}function bx(t,e){m_(t)&&jv(t,e)}function jv(t,e){let i=t[ye],r=t[oe],o=t[qo],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&By(o)),o&&(o.dirty=!1),t[oe]&=-9217,s)S4(i,t,i.template,t[Wn]);else if(r&8192){wx(t,1);let a=i.components;a!==null&&Ex(t,a,1)}}function Ex(t,e,n){for(let i=0;i<e.length;i++)R4(t,e[i],n)}function U_(t){for(t[rr].changeDetectionScheduler?.notify();t;){t[oe]|=64;let e=Ml(t);if(kB(t)&&!e)return t;t=e}return null}var Zo=class{get rootNodes(){let e=this._lView,n=e[ye];return yf(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wn]}set context(e){this._lView[Wn]=e}get destroyed(){return(this._lView[oe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nt];if(cr(e)){let n=e[sf],i=n?n.indexOf(this):-1;i>-1&&(Ov(e,i),cf(n,i))}this._attachedToViewContainer=!1}qA(this._lView[ye],this._lView)}onDestroy(e){zS(this._lView,e)}markForCheck(){U_(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-129}reattach(){Ev(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,_x(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,HA(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e,Ev(this._lView)}},Mn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=P4;let t=e;return t})(),M4=Mn,k4=class extends M4{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=_4(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new Zo(r)}};function P4(){return $_(_n(),Ne())}function $_(t,e){return t.type&4?new k4(e,t,Va(t,e)):null}var Bie=new RegExp(`^(\\d+)*(${MU}|${RU})*(.*)`);var N4=()=>null;function dS(t,e){return N4(t,e)}var Bv=class{},Uv=class{},vf=class{};function O4(t){let e=Error(`No component factory found for ${Yt(t)}.`);return e[F4]=t,e}var F4="ngComponent";var $v=class{resolveComponentFactory(e){throw O4(e)}},qr=(()=>{let e=class e{};e.NULL=new $v;let t=e;return t})(),Nl=class{},Gr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>L4();let t=e;return t})();function L4(){let t=Ne(),e=_n(),n=Hr(e.index,t);return(Ho(n)?n:t)[It]}var V4=(()=>{let e=class e{};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),fv={};var hS=new Set;function Bf(t){hS.has(t)||(hS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ix(t){return B4(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function j4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function B4(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Hv=class{constructor(){}supports(e){return Ix(e)}create(e){return new zv(e)}},U4=(t,e)=>e,zv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||U4}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<fS(i,r,o)?n:i,a=fS(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,u=c-r;if(l!=u){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,_=g+m;u<=_&&_<l&&(o[m]=g+1)}let f=s.previousIndex;o[f]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Ix(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,j4(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new qv(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new _f),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _f),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},qv=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Gv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},_f=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Gv,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fS(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function pS(){return new Uf([new Hv])}var Uf=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||pS()),deps:[[e,new T_,new Ba]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new Q(901,!1)}};e.\u0275prov=P({token:e,providedIn:"root",factory:pS});let t=e;return t})();var Xn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$4;let t=e;return t})();function $4(t){return H4(_n(),Ne(),(t&16)===16)}function H4(t,e,n){if(Af(t)&&!n){let i=Hr(t.index,e);return new Zo(i,i)}else if(t.type&47){let i=e[wi];return new Zo(i,e)}return null}var Cx=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=z4,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),Wv=class extends Cx{constructor(e){super(),this._lView=e}onDestroy(e){return zS(this._lView,e),()=>UB(this._lView,e)}};function z4(){return new Wv(Ne())}function mS(...t){}function q4(){let t=typeof Qt.requestAnimationFrame=="function",e=Qt[t?"requestAnimationFrame":"setTimeout"],n=Qt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Z=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Me(!1),this.onMicrotaskEmpty=new Me(!1),this.onStable=new Me(!1),this.onError=new Me(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=q4().nativeRequestAnimationFrame,K4(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,G4,mS,mS);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},G4={};function H_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function W4(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Qt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Kv(t),t.isCheckStableRunning=!0,H_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Kv(t))}function K4(t){let e=()=>{W4(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if(Y4(a))return n.invokeTask(r,o,s,a);try{return gS(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),yS(t)}},onInvoke:(n,i,r,o,s,a,c)=>{try{return gS(t),n.invoke(r,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),yS(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Kv(t),H_(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Kv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function gS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yS(t){t._nesting--,H_(t)}var Yv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Me,this.onMicrotaskEmpty=new Me,this.onStable=new Me,this.onError=new Me}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function Y4(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function Q4(t="zone.js",e){return t==="noop"?new Yv:t==="zone.js"?new Z(e):t}var Da=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Da||{}),Z4={destroy(){}};function z_(t,e){!e&&qU(z_);let n=e?.injector??V(tt);if(!E$(n))return Z4;Bf("NgAfterNextRender");let i=n.get(q_),r=i.handler??=new Zv,o=e?.phase??Da.MixedReadWrite,s=()=>{r.unregister(c),a()},a=n.get(Cx).onDestroy(s),c=new Qv(n,o,()=>{s(),t()});return r.register(c),{destroy:s}}var Qv=class{constructor(e,n,i){this.phase=n,this.callbackFn=i,this.zone=e.get(Z),this.errorHandler=e.get(Ei,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Zv=class{constructor(){this.executingCallbacks=!1,this.buckets={[Da.EarlyRead]:new Set,[Da.Write]:new Set,[Da.MixedReadWrite]:new Set,[Da.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},q_=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Xv(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=UT(r,a);else if(o==2){let c=a,l=e[++s];i=UT(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var wf=class extends qr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=jr(e);return new Oa(n,this.ngModule)}};function vS(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function X4(t){let e=t.toLowerCase();return e==="svg"?PB:e==="math"?NB:null}var Jv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=kf(i);let r=this.injector.get(e,fv,i);return r!==fv||n===fv?r:this.parentInjector.get(e,n,i)}},Oa=class extends vf{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=vS(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return vS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=SB(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){r=r||this.ngModule;let o=r instanceof Zt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Jv(e,o):e,a=s.get(Nl,null);if(a===null)throw new Q(407,!1);let c=s.get(V4,null),l=s.get(q_,null),u=s.get(Bv,null),f={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},m=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=i?K$(m,i,this.componentDef.encapsulation,s):$A(m,g,X4(g)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let w=null;_!==null&&(w=D_(_,s,!0));let S=L_(0,null,null,1,0,null,null,null,null,null,null),j=Lf(null,S,null,E,null,null,f,m,s,null,w);v_(j);let M,x;try{let q=this.componentDef,ee,Ie=null;q.findHostDirectiveDefs?(ee=[],Ie=new Map,q.findHostDirectiveDefs(q,ee,Ie),ee.push(q)):ee=[q];let Je=J4(j,_),li=e5(Je,_,q,ee,j,f,m);x=$S(S,Br),_&&i5(m,q,_,i),n!==void 0&&r5(x,this.ngContentSelectors,n),M=n5(li,q,ee,Ie,j,[o5]),B_(S,j,null)}finally{__()}return new e_(this.componentType,M,Va(x,j),j,x)}},e_=class extends Uv{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Zo(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;j_(o[ye],o,r,e,n),this.previousInputValues.set(e,n);let s=Hr(this._tNode.index,o);U_(s)}}get injector(){return new zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function J4(t,e){let n=t[ye],i=Br;return t[i]=e,Vf(n,i,2,"#host",null)}function e5(t,e,n,i,r,o,s){let a=r[ye];t5(i,t,e,s);let c=null;e!==null&&(c=D_(e,r[xa]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let f=Lf(r,rx(n),null,u,r[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Lv(a,t,i.length-1),jf(r,f),r[t.index]=f}function t5(t,e,n,i){for(let r of t)e.mergedAttrs=Sl(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Xv(e,e.mergedAttrs,!0),n!==null&&YA(i,n,e))}function n5(t,e,n,i,r,o){let s=_n(),a=r[ye],c=kn(s,r);sx(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let f=s.directiveStart+u,m=Yo(r,a,f,s);Qo(m,r)}ax(a,r,s),c&&Qo(c,r);let l=Yo(r,a,s.directiveStart+s.componentOffset,s);if(t[Wn]=r[Wn]=l,o!==null)for(let u of o)u(l,e);return tx(a,s,r),l}function i5(t,e,n,i){if(i)bv(t,n,["ng-version","17.2.3"]);else{let{attrs:r,classes:o}=AB(e.selectors[0]);r&&bv(t,n,r),o&&o.length>0&&KA(t,n,o.join(" "))}}function r5(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function o5(){let t=_n();x_(Ne()[ye],t)}var Pn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=s5;let t=e;return t})();function s5(){let t=_n();return Tx(t,Ne())}var a5=Pn,Dx=class extends a5{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new zo(this._hostTNode,this._hostLView)}get parentInjector(){let e=R_(this._hostTNode,this._hostLView);if(DA(e)){let n=ff(e,this._hostLView),i=hf(e),r=n[ye].data[i+8];return new zo(r,n)}else return new zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=_S(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-vn}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=dS(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,uS(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!WU(e),a;if(s)a=n;else{let _=n||{};a=_.index,i=_.injector,r=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new Oa(jr(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(Zt,null);E&&(o=E)}let u=jr(c.componentType??{}),f=dS(this._lContainer,u?.id??null),m=f?.firstChild??null,g=c.create(l,r,m,o);return this.insertImpl(g.hostView,a,uS(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(VB(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Nt],l=new Dx(c,c[Kn],c[Nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return w4(s,r,o,i),e.attachToViewContainerRef(),nA(pv(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=_S(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Ov(this._lContainer,n);i&&(cf(pv(this._lContainer),n),qA(i[ye],i))}detach(e){let n=this._adjustIndex(e,-1),i=Ov(this._lContainer,n);return i&&cf(pv(this._lContainer),n)!=null?new Zo(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function _S(t){return t[sf]}function pv(t){return t[sf]||(t[sf]=[])}function Tx(t,e){let n,i=e[t.index];return cr(i)?n=i:(n=cx(i,e,null,t),e[t.index]=n,jf(e,n)),l5(n,e,t,i),new Dx(n,t,e)}function c5(t,e){let n=t[It],i=n.createComment(""),r=kn(e,t),o=N_(n,r);return gf(n,o,i,F$(n,r),!1),i}var l5=h5,u5=()=>!1;function d5(t,e,n){return u5(t,e,n)}function h5(t,e,n,i){if(t[Go])return;let r;n.type&8?r=bi(i):r=c5(e,n),t[Go]=r}var t_=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},n_=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)G_(e,n).matches!==null&&this.queries[n].setDirty()}},i_=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=w5(e):this.predicate=e}},r_=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},o_=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,f5(n,o)),this.matchTNodeWithReadOption(e,n,ef(n,e,o,!1,!1))}else i===Mn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ef(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Oe||r===Pn||r===Mn&&n.type&4)this.addMatch(n.index,-2);else{let o=ef(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function f5(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function p5(t,e){return t.type&11?Va(t,e):t.type&4?$_(t,e):null}function m5(t,e,n,i){return n===-1?p5(e,t):n===-2?g5(t,e,i):Yo(t,t[ye],n,e)}function g5(t,e,n){if(n===Oe)return Va(e,t);if(n===Mn)return $_(e,t);if(n===Pn)return Tx(e,t)}function Sx(t,e,n,i){let r=e[or].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(m5(e,u,s[c+1],n.metadata.read))}}r.matches=a}return r.matches}function s_(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=Sx(t,e,r,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let f=vn;f<u.length;f++){let m=u[f];m[Vl]===m[Nt]&&s_(m[ye],m,l,i)}if(u[Ra]!==null){let f=u[Ra];for(let m=0;m<f.length;m++){let g=f[m];s_(g[ye],g,l,i)}}}}}return i}function y5(t,e){return t[or].queries[e].queryList}function v5(t,e,n){let i=new lf((n&4)===4);return Z$(t,e,i,i.destroy),(e[or]??=new n_).queries.push(new t_(i))-1}function _5(t,e,n){let i=Xt();return i.firstCreatePass&&(b5(i,new i_(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),v5(i,Ne(),e)}function w5(t){return t.split(",").map(e=>e.trim())}function b5(t,e,n){t.queries===null&&(t.queries=new r_),t.queries.track(new o_(e,n))}function G_(t,e){return t.queries.getByIndex(e)}function E5(t,e){let n=t[ye],i=G_(n,e);return i.crossesNgTemplate?s_(n,t,e,[]):Sx(n,t,i,e)}function I5(t){let e=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=t(r);n.set(r,o=s.then(S5))}return o}return bf.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(l=>{r.template=l}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let l=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((f,m)=>{a.push(""),s.push(i(f).then(g=>{a[l+m]=g,u.splice(u.indexOf(f),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(l=>{a.push(l),r.styleUrl=void 0}));let c=Promise.all(s).then(()=>A5(o));e.push(c)}),D5(),Promise.all(e).then(()=>{})}var bf=new Map,C5=new Set;function D5(){let t=bf;return bf=new Map,t}function T5(){return bf.size===0}function S5(t){return typeof t=="string"?t:t.text()}function A5(t){C5.delete(t)}function x5(t){return Object.getPrototypeOf(t.prototype).constructor}function Dt(t){let e=x5(t.type),n=!0,i=[t];for(;e;){let r;if(Ur(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=Kh(t.inputs),s.inputTransforms=Kh(t.inputTransforms),s.declaredInputs=Kh(t.declaredInputs),s.outputs=Kh(t.outputs);let a=r.hostBindings;a&&N5(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&k5(t,c),l&&P5(t,l),R5(t,r),fB(t.outputs,r.outputs),Ur(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Dt&&(n=!1)}}e=Object.getPrototypeOf(e)}M5(i)}function R5(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function M5(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Sl(r.hostAttrs,n=Sl(n,r.hostAttrs))}}function Kh(t){return t===Aa?{}:t===Rn?[]:t}function k5(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function P5(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function N5(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function Wr(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var $r=class{},Ol=class{};var Ef=class extends $r{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wf(this);let r=OS(e);this._bootstrapComponents=UA(r.bootstrap),this._r3Injector=NA(e,n,[{provide:$r,useValue:this},{provide:qr,useValue:this.componentFactoryResolver},...i],Yt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},If=class extends Ol{constructor(e){super(),this.moduleType=e}create(e){return new Ef(this.moduleType,e,[])}};function O5(t,e,n){return new Ef(t,e,n)}var a_=class extends $r{constructor(e){super(),this.componentFactoryResolver=new wf(this),this.instance=null;let n=new Pl([...e.providers,{provide:$r,useValue:this},{provide:qr,useValue:this.componentFactoryResolver}],e.parent||A_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $f(t,e,n=null){return new a_({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ts=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new bt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function F5(t,e,n){return t[e]=n}function Xo(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function Ax(t,e,n,i){let r=Xo(t,e,n);return Xo(t,e+1,i)||r}function L5(t,e,n,i,r,o,s,a,c){let l=e.consts,u=Vf(e,t,4,s||null,af(l,a));ox(e,n,u,af(l,c)),x_(e,u);let f=u.tView=L_(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}function Pe(t,e,n,i,r,o,s,a){let c=Ne(),l=Xt(),u=t+Br,f=l.firstCreatePass?L5(u,l,c,e,n,i,r,o,s):l.data[u];jl(f,!1);let m=V5(l,c,f,t);w_()&&O_(l,c,m,f),Qo(m,c);let g=cx(m,c,m,f);return c[u]=g,jf(c,g),d5(g,f,c),p_(f)&&nx(l,c,f),s!=null&&ix(c,f,a),Pe}var V5=j5;function j5(t,e,n,i){return b_(!0),e[It].createComment("")}function Bt(t,e,n,i){let r=Ne(),o=xf();if(Xo(r,o,e)){let s=Xt(),a=Rf();h4(a,r,t,e,n,i)}return Bt}function xx(t,e,n,i){return Xo(t,xf(),n)?e+Ma(n)+i:Di}function B5(t,e,n,i,r,o){let s=ZB(),a=Ax(t,s,n,r);return KS(2),a?e+Ma(n)+i+Ma(r)+o:Di}function Yh(t,e){return t<<17|e<<2}function Jo(t){return t>>17&32767}function U5(t){return(t&2)==2}function $5(t,e){return t&131071|e<<17}function c_(t){return t|2}function Fa(t){return(t&131068)>>2}function mv(t,e){return t&-131069|e<<2}function H5(t){return(t&1)===1}function l_(t){return t|1}function z5(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Jo(s),c=Fa(s);t[i]=n;let l=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||Bl(f,u)>0)&&(l=!0)}else u=n;if(r)if(c!==0){let m=Jo(t[a+1]);t[i+1]=Yh(m,a),m!==0&&(t[m+1]=mv(t[m+1],i)),t[a+1]=$5(t[a+1],i)}else t[i+1]=Yh(a,0),a!==0&&(t[a+1]=mv(t[a+1],i)),a=i;else t[i+1]=Yh(c,0),a===0?a=i:t[c+1]=mv(t[c+1],i),c=i;l&&(t[i+1]=c_(t[i+1])),wS(t,u,i,!0),wS(t,u,i,!1),q5(e,u,t,i,o),s=Yh(a,c),o?e.classBindings=s:e.styleBindings=s}function q5(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Bl(o,e)>=0&&(n[i+1]=l_(n[i+1]))}function wS(t,e,n,i){let r=t[n+1],o=e===null,s=i?Jo(r):Fa(r),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];G5(c,e)&&(a=!0,t[s+1]=i?l_(l):c_(l)),s=i?Jo(l):Fa(l)}a&&(t[n+1]=i?c_(r):l_(r))}function G5(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Bl(t,e)>=0:!1}function ae(t,e,n){let i=Ne(),r=xf();if(Xo(i,r,e)){let o=Xt(),s=Rf();V_(o,s,i,t,e,i[It],n,!1)}return ae}function bS(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";j_(t,n,o[s],s,i)}function ur(t,e){return W5(t,e,null,!0),ur}function W5(t,e,n,i){let r=Ne(),o=Xt(),s=KS(2);if(o.firstUpdatePass&&Y5(o,t,s,i),e!==Di&&Xo(r,s,e)){let a=o.data[es()];e3(o,a,r,r[It],t,r[s+1]=t3(e,n),i,s)}}function K5(t,e){return e>=t.expandoStartIndex}function Y5(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[es()],s=K5(t,n);n3(o,i)&&e===null&&!s&&(e=!1),e=Q5(r,o,e,i),z5(r,o,e,n,s,i)}}function Q5(t,e,n,i){let r=nU(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=gv(null,t,e,n,i),n=Fl(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=gv(r,t,e,n,i),o===null){let c=Z5(t,e,i);c!==void 0&&Array.isArray(c)&&(c=gv(null,t,e,c[1],i),c=Fl(c,e.attrs,i),X5(t,e,i,c))}else o=J5(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function Z5(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Fa(i)!==0)return t[Jo(i)]}function X5(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Jo(r)]=i}function J5(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Fl(i,s,n)}return Fl(i,e.attrs,n)}function gv(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=Fl(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Fl(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),dU(t,s,n?!0:e[++o]))}return t===void 0?null:t}function e3(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=H5(l)?ES(c,e,n,r,Fa(l),s):void 0;if(!Cf(u)){Cf(o)||U5(l)&&(o=ES(c,null,n,r,a,s));let f=US(es(),n);H$(i,s,f,r,o)}}function ES(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),u=l?c[1]:c,f=u===null,m=n[r+1];m===Di&&(m=f?Rn:void 0);let g=f?av(m,i):u===i?m:void 0;if(l&&!Cf(g)&&(g=av(c,i)),Cf(g)&&(a=g,s))return a;let _=t[r+1];r=s?Jo(_):Fa(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=av(c,i))}return a}function Cf(t){return t!==void 0}function t3(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Yt(Hl(t)))),t}function n3(t,e){return(t.flags&(e?8:16))!==0}function i3(t,e,n,i,r,o){let s=e.consts,a=af(s,r),c=Vf(e,t,2,i,a);return ox(e,n,c,af(s,o)),c.attrs!==null&&Xv(c,c.attrs,!1),c.mergedAttrs!==null&&Xv(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function I(t,e,n,i){let r=Ne(),o=Xt(),s=Br+t,a=r[It],c=o.firstCreatePass?i3(s,o,r,e,n,i):o.data[s],l=r3(o,r,c,a,e,t);r[s]=l;let u=p_(c);return jl(c,!0),YA(a,l,c),(c.flags&32)!==32&&w_()&&O_(o,r,l,c),$B()===0&&Qo(l,r),HB(),u&&(nx(o,r,c),tx(o,c,r)),i!==null&&ix(r,c),I}function b(){let t=_n();WS()?YB():(t=t.parent,jl(t,!1));let e=t;GB(e)&&WB(),zB();let n=Xt();return n.firstCreatePass&&(x_(n,t),BS(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&e$(e)&&bS(n,e,Ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&t$(e)&&bS(n,e,Ne(),e.stylesWithoutHost,!1),b}function B(t,e,n,i){return I(t,e,n,i),b(),B}var r3=(t,e,n,i,r,o)=>(b_(!0),$A(i,r,oU()));function dr(){return Ne()}function Hf(t,e,n){let i=Ne(),r=xf();if(Xo(i,r,e)){let o=Xt(),s=Rf();V_(o,s,i,t,e,i[It],n,!0)}return Hf}var Df="en-US";var o3=Df;function s3(t){typeof t=="string"&&(o3=t.toLowerCase().replace(/_/g,"-"))}function Qe(t,e,n,i){let r=Ne(),o=Xt(),s=_n();return c3(o,r,r[It],s,t,e,i),Qe}function a3(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Al],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function c3(t,e,n,i,r,o,s){let a=p_(i),l=t.firstCreatePass&&dx(t),u=e[Wn],f=ux(e),m=!0;if(i.type&3||s){let E=kn(i,e),w=s?s(E):E,S=f.length,j=s?x=>s(bi(x[i.index])):i.index,M=null;if(!s&&a&&(M=a3(t,e,r,i.index)),M!==null){let x=M.__ngLastListenerFn__||M;x.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,m=!1}else{o=CS(i,e,u,o,!1);let x=n.listen(w,r,o);f.push(o,x),l&&l.push(r,j,S,S+1)}}else o=CS(i,e,u,o,!1);let g=i.outputs,_;if(m&&g!==null&&(_=g[r])){let E=_.length;if(E)for(let w=0;w<E;w+=2){let S=_[w],j=_[w+1],q=e[S][j].subscribe(o),ee=f.length;if(f.push(o,q),l){let Ie=typeof q=="function"?ee+1:-(ee+1);l.push(r,i.index,ee,Ie)}}}}function IS(t,e,n,i){try{return yi(6,e,n),n(i)!==!1}catch(r){return hx(t,r),!1}finally{yi(7,e,n)}}function CS(t,e,n,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?Hr(t.index,e):e;U_(a);let c=IS(e,n,i,s),l=o.__ngNextListenerFn__;for(;l;)c=IS(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function ot(t=1){return rU(t)}function W_(t,e,n){return zl(t,"",e,"",n),W_}function zl(t,e,n,i,r){let o=Ne(),s=xx(o,e,n,i);if(s!==Di){let a=Xt(),c=Rf();V_(a,c,o,t,s,o[It],r,!1)}return zl}function zf(t,e,n){_5(t,e,n)}function ql(t){let e=Ne(),n=Xt(),i=YS();y_(i+1);let r=G_(n,i);if(t.dirty&&LB(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=E5(e,i);t.reset(o,aU),t.notifyOnChanges()}return!0}return!1}function Gl(){return y5(Ne(),YS())}function R(t,e=""){let n=Ne(),i=Xt(),r=t+Br,o=i.firstCreatePass?Vf(i,r,1,e,null):i.data[r],s=l3(i,n,o,e,t);n[r]=s,w_()&&O_(i,n,s,o),jl(o,!1)}var l3=(t,e,n,i,r)=>(b_(!0),C$(e[It],i));function dn(t){return hn("",t,""),dn}function hn(t,e,n){let i=Ne(),r=xx(i,t,e,n);return r!==Di&&fx(i,es(),r),hn}function Wl(t,e,n,i,r){let o=Ne(),s=B5(o,t,e,n,i,r);return s!==Di&&fx(o,es(),s),Wl}function u3(t,e,n){let i=Xt();if(i.firstCreatePass){let r=Ur(t);u_(n,i.data,i.blueprint,r,!0),u_(e,i.data,i.blueprint,r,!1)}}function u_(t,e,n,i,r){if(t=Kt(t),Array.isArray(t))for(let o=0;o<t.length;o++)u_(t[o],e,n,i,r);else{let o=Xt(),s=Ne(),a=_n(),c=Na(t)?t:Kt(t.provide),l=_A(t),u=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Na(t)||!t.multi){let g=new Ko(l,r,O),_=vv(c,e,r?u:u+m,f);_===-1?(Pv(pf(a,s),o,c),yv(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[_]=g,s[_]=g)}else{let g=vv(c,e,u+m,f),_=vv(c,e,u,u+m),E=g>=0&&n[g],w=_>=0&&n[_];if(r&&!w||!r&&!E){Pv(pf(a,s),o,c);let S=f3(r?h3:d3,n.length,r,i,l);!r&&w&&(n[_].providerFactory=S),yv(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(S),s.push(S)}else{let S=Rx(n[r?_:g],l,!r&&i);yv(o,t,g>-1?g:_,S)}!r&&i&&w&&n[_].componentProviders++}}}function yv(t,e,n,i){let r=Na(e),o=VU(e);if(r||o){let c=(o?Kt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function Rx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vv(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function d3(t,e,n,i){return d_(this.multi,[])}function h3(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Yo(n,n[ye],this.providerFactory.index,i);o=a.slice(0,s),d_(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],d_(r,o);return o}function d_(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function f3(t,e,n,i,r){let o=new Ko(t,n,O);return o.multi=[],o.index=e,o.componentProviders=0,Rx(o,r,i&&!n),o}function Ti(t,e=[]){return n=>{n.providersResolver=(i,r)=>u3(i,r?r(t):t,e)}}var p3=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=gA(!1,i.type),o=r.length>0?$f([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(v(Zt))});let t=e;return t})();function Kr(t){Bf("NgStandalone"),t.getStandaloneInjector=e=>e.get(p3).getOrCreateStandaloneInjector(t)}function K_(t,e,n,i,r){return g3(Ne(),QB(),t,e,n,i,r)}function m3(t,e){let n=t[e];return n===Di?void 0:n}function g3(t,e,n,i,r,o,s){let a=e+n;return Ax(t,a,r,o)?F5(t,a+2,s?i.call(s,r,o):i(r,o)):m3(t,a+2)}var Qh=null;function y3(t){Qh!==null&&(t.defaultEncapsulation!==Qh.defaultEncapsulation||t.preserveWhitespaces!==Qh.preserveWhitespaces)||(Qh=t)}var Ii=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Mx=new Ii("17.2.3"),qf=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Y_=new F(""),Kl=new F(""),Gf=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Q_||(v3(o),o.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),i()},r)),this._callbacks.push({doneCb:i,timeoutId:s,updateCb:o})}whenStable(i,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,o){return[]}};e.\u0275fac=function(r){return new(r||e)(v(Z),v(Wf),v(Kl))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Wf=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return Q_?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function v3(t){Q_=t}var Q_;function ns(t){return!!t&&typeof t.then=="function"}function kx(t){return!!t&&typeof t.subscribe=="function"}var Kf=new F(""),Px=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=V(Kf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if(ns(s))i.push(s);else if(kx(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yf=new F("");function _3(){gT(()=>{throw new Q(600,!1)})}function w3(t){return t.isBoundToModule}function b3(t,e,n){try{let i=n();return ns(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function Nx(t,e){return Array.isArray(e)?e.reduce(Nx,t):L(L({},t),e)}var hr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(OA),this.afterRenderEffectManager=V(q_),this.componentTypes=[],this.components=[],this.isStable=V(ts).hasPendingTasks.pipe(Y(i=>!i)),this._injector=V(Zt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof vf;if(!this._injector.get(Px).done){let g=!o&&NS(i),_=!1;throw new Q(405,_)}let a;o?a=i:a=this._injector.get(qr).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=w3(a)?void 0:this._injector.get($r),l=r||a.selector,u=a.create(tt.NULL,[],l,c),f=u.location.nativeElement,m=u.injector.get(Y_,null);return m?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),nf(this.components,u),m?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Q(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===vx)throw new Q(103,!1);let o=i===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!_v(s)||this.detectChangesInView(s,a,o);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:s})=>_v(s))&&(r.execute(),!this._views.some(({_lView:s})=>_v(s))))break}}detectChangesInView(i,r,o){let s;o?(s=0,i[oe]|=1024):i[oe]&64?s=0:s=1,_x(i,r,s)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;nf(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Yf,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>nf(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Q(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _v(t){return g_(t)}var h_=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Qf=(()=>{let e=class e{compileModuleSync(i){return new If(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=OS(i),s=UA(o.declarations).reduce((a,c)=>{let l=jr(c);return l&&a.push(new Oa(l)),a},[]);return new h_(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),E3=new F("");function I3(t,e,n){let i=new If(n);return Promise.resolve(i)}function DS(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var C3=(()=>{let e=class e{constructor(){this.zone=V(Z),this.applicationRef=V(hr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function D3(t){return[{provide:Z,useFactory:t},{provide:Pa,multi:!0,useFactory:()=>{let e=V(C3,{optional:!0});return()=>e.initialize()}},{provide:Pa,multi:!0,useFactory:()=>{let e=V(A3);return()=>{e.initialize()}}},{provide:OA,useFactory:T3}]}function T3(){let t=V(Z),e=V(Ei);return n=>t.runOutsideAngular(()=>e.handleError(n))}function S3(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var A3=(()=>{let e=class e{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=V(Z),this.pendingTasks=V(ts)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Z.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function x3(){return typeof $localize<"u"&&$localize.locale||Df}var Zf=new F("",{providedIn:"root",factory:()=>V(Zf,_e.Optional|_e.SkipSelf)||x3()});var Ox=new F(""),Fx=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let o=Q4(r?.ngZone,S3({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let s=O5(i.moduleType,this.injector,D3(()=>o)),a=s.injector.get(Ei,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{nf(this._modules,s),c.unsubscribe()})}),b3(a,o,()=>{let c=s.injector.get(Px);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(Zf,Df);return s3(l||Df),this._moduleDoBootstrap(s),s})})})}bootstrapModule(i,r=[]){let o=Nx({},r);return I3(this.injector,o,i).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(i){let r=i.injector.get(hr);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new Q(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Q(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(Ox,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(v(tt))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Tl=null,Lx=new F("");function R3(t){if(Tl&&!Tl.get(Lx,!1))throw new Q(400,!1);_3(),Tl=t;let e=t.get(Fx);return P3(t),e}function Z_(t,e,n=[]){let i=`Platform: ${e}`,r=new F(i);return(o=[])=>{let s=Vx();if(!s||s.injector.get(Lx,!1)){let a=[...n,...o,{provide:r,useValue:!0}];t?t(a):R3(M3(a,i))}return k3(r)}}function M3(t=[],e){return tt.create({name:e,providers:[{provide:Nf,useValue:"platform"},{provide:Ox,useValue:new Set([()=>Tl=null])},...t]})}function k3(t){let e=Vx();if(!e)throw new Q(401,!1);return e}function Vx(){return Tl?.get(Fx)??null}function P3(t){t.get(I_,null)?.forEach(n=>n())}function X_(){return!1}var jx=Z_(null,"core",[]),Bx=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(v(hr))},e.\u0275mod=ie({type:e}),e.\u0275inj=re({});let t=e;return t})();function Si(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ux(t){let e=jr(t);if(!e)return null;let n=new Oa(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Wx=null;function Ai(){return Wx}function Kx(t){Wx??=t}var Xf=class{};var he=new F(""),rw=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>V(F3),providedIn:"platform"});let t=e;return t})(),Yx=new F(""),F3=(()=>{let e=class e extends rw{constructor(){super(),this._doc=V(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ai().getBaseHref(this._doc)}onPopState(i){let r=Ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ow(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function $x(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function fr(t){return t&&t[0]!=="?"?"?"+t:t}var pr=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>V(sw),providedIn:"root"});let t=e;return t})(),Qx=new F(""),sw=(()=>{let e=class e extends pr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return ow(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+fr(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+fr(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+fr(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(v(rw),v(Qx,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zx=(()=>{let e=class e extends pr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=ow(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+fr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+fr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(v(rw),v(Qx,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),xi=(()=>{let e=class e{constructor(i){this._subject=new Me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=j3($x(Hx(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+fr(r))}normalize(i){return e.stripTrailingSlash(V3(this._basePath,Hx(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+fr(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+fr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=fr,e.joinWithSlash=ow,e.stripTrailingSlash=$x,e.\u0275fac=function(r){return new(r||e)(v(pr))},e.\u0275prov=P({token:e,factory:()=>L3(),providedIn:"root"});let t=e;return t})();function L3(){return new xi(v(pr))}function V3(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Hx(t){return t.replace(/\/index.html$/,"")}function j3(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Jf(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var J_=/\s+/,zx=[],Xx=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=zx,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(J_):zx}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(J_):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(J_).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(O(Oe),O(Gr))},e.\u0275dir=ke({type:e,selectors:[["","ngClass",""]],inputs:{klass:[ze.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var ew=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Yr=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new ew(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,a),qx(c,o)}});for(let o=0,s=r.length;o<s;o++){let c=r.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);qx(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(O(Pn),O(Mn),O(Uf))},e.\u0275dir=ke({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function qx(t,e){t.context.$implicit=e.item}var Qr=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new tw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Gx("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Gx("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(O(Pn),O(Mn))},e.\u0275dir=ke({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),tw=class{constructor(){this.$implicit=null,this.ngIf=null}};function Gx(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Yt(e)}'.`)}var ep=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({});let t=e;return t})(),aw="browser",B3="server";function cw(t){return t===aw}function is(t){return t===B3}var Jx=(()=>{let e=class e{};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>cw(V(pt))?new nw(V(he),window):new iw});let t=e;return t})(),nw=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=U3(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function U3(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var iw=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ua=class{};var Ql=class{},np=class{},mr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var uw=class{encodeKey(e){return eR(e)}encodeValue(e){return eR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function z3(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var q3=/%(\d[a-f0-9])/gi,G3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eR(t){return encodeURIComponent(t).replace(q3,(e,n)=>G3[n]??e)}function tp(t){return`${t}`}var Zr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new uw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=z3(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(tp):[tp(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(tp(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(tp(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var dw=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function W3(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function tR(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function nR(t){return typeof Blob<"u"&&t instanceof Blob}function iR(t){return typeof FormData<"u"&&t instanceof FormData}function K3(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Yl=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(W3(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new mr,this.context??=new dw,!this.params)this.params=new Zr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:tR(this.body)||nR(this.body)||iR(this.body)||K3(this.body)||typeof this.body=="string"?this.body:this.body instanceof Zr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||iR(this.body)?null:nR(this.body)?this.body.type||null:tR(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Zr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,m)=>f.set(m,e.setHeaders[m]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,m)=>f.set(m,e.setParams[m]),l)),new t(n,i,o,{params:l,headers:c,context:u,reportProgress:a,responseType:r,withCredentials:s})}},$a=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}($a||{}),Zl=class{constructor(e,n=op.Ok,i="OK"){this.headers=e.headers||new mr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},hw=class t extends Zl{constructor(e={}){super(e),this.type=$a.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ip=class t extends Zl{constructor(e={}){super(e),this.type=$a.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},rp=class extends Zl{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},op=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(op||{});function lw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var rs=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof Yl)s=i;else{let l;o.headers instanceof mr?l=o.headers:l=new mr(o.headers);let u;o.params&&(o.params instanceof Zr?u=o.params:u=new Zr({fromObject:o.params})),s=new Yl(i,r,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=G(s).pipe(ir(l=>this.handler.handle(l)));if(i instanceof Yl||o.observe==="events")return a;let c=a.pipe(Re(l=>l instanceof ip));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Y(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(Y(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Zr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,lw(o,r))}post(i,r,o={}){return this.request("POST",i,lw(o,r))}put(i,r,o={}){return this.request("PUT",i,lw(o,r))}};e.\u0275fac=function(r){return new(r||e)(v(Ql))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function aR(t,e){return e(t)}function Y3(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function Q3(t,e,n){return(i,r)=>Ci(n,()=>e(i,o=>t(o,r)))}var Z3=new F(""),fw=new F(""),X3=new F(""),J3=new F("");function eH(){let t=null;return(e,n)=>{t===null&&(t=(V(Z3,{optional:!0})??[]).reduceRight(Y3,aR));let i=V(ts),r=i.add();return t(e,n).pipe(Fr(()=>i.remove(r)))}}var rR=(()=>{let e=class e extends Ql{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=V(ts);let o=V(J3,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(fw),...this.injector.get(X3,[])]));this.chain=o.reduceRight((s,a)=>Q3(s,a,this.injector),aR)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(Fr(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(v(np),v(Zt))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();var tH=/^\)\]\}',?\n/;function nH(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var oR=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new Q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ge(r.\u0275loadImpl()):G(null)).pipe($e(()=>new ne(s=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((w,S)=>a.setRequestHeader(w,S.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let w=i.detectContentTypeHeader();w!==null&&a.setRequestHeader("Content-Type",w)}if(i.responseType){let w=i.responseType.toLowerCase();a.responseType=w!=="json"?w:"text"}let c=i.serializeBody(),l=null,u=()=>{if(l!==null)return l;let w=a.statusText||"OK",S=new mr(a.getAllResponseHeaders()),j=nH(a)||i.url;return l=new hw({headers:S,status:a.status,statusText:w,url:j}),l},f=()=>{let{headers:w,status:S,statusText:j,url:M}=u(),x=null;S!==op.NoContent&&(x=typeof a.response>"u"?a.responseText:a.response),S===0&&(S=x?op.Ok:0);let q=S>=200&&S<300;if(i.responseType==="json"&&typeof x=="string"){let ee=x;x=x.replace(tH,"");try{x=x!==""?JSON.parse(x):null}catch(Ie){x=ee,q&&(q=!1,x={error:Ie,text:x})}}q?(s.next(new ip({body:x,headers:w,status:S,statusText:j,url:M||void 0})),s.complete()):s.error(new rp({error:x,headers:w,status:S,statusText:j,url:M||void 0}))},m=w=>{let{url:S}=u(),j=new rp({error:w,status:a.status||0,statusText:a.statusText||"Unknown Error",url:S||void 0});s.error(j)},g=!1,_=w=>{g||(s.next(u()),g=!0);let S={type:$a.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(S.total=w.total),i.responseType==="text"&&a.responseText&&(S.partialText=a.responseText),s.next(S)},E=w=>{let S={type:$a.UploadProgress,loaded:w.loaded};w.lengthComputable&&(S.total=w.total),s.next(S)};return a.addEventListener("load",f),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),i.reportProgress&&(a.addEventListener("progress",_),c!==null&&a.upload&&a.upload.addEventListener("progress",E)),a.send(c),s.next({type:$a.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",f),a.removeEventListener("timeout",m),i.reportProgress&&(a.removeEventListener("progress",_),c!==null&&a.upload&&a.upload.removeEventListener("progress",E)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(v(Ua))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),cR=new F(""),iH="XSRF-TOKEN",rH=new F("",{providedIn:"root",factory:()=>iH}),oH="X-XSRF-TOKEN",sH=new F("",{providedIn:"root",factory:()=>oH}),sp=class{},aH=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jf(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(v(he),v(pt),v(rH))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function cH(t,e){let n=t.url.toLowerCase();if(!V(cR)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=V(sp).getToken(),r=V(sH);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var lR=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(lR||{});function lH(t,e){return{\u0275kind:t,\u0275providers:e}}function uH(...t){let e=[rs,oR,rR,{provide:Ql,useExisting:rR},{provide:np,useExisting:oR},{provide:fw,useValue:cH,multi:!0},{provide:cR,useValue:!0},{provide:sp,useClass:aH}];for(let n of t)e.push(...n.\u0275providers);return Pf(e)}var sR=new F("");function dH(){return lH(lR.LegacyInterceptors,[{provide:sR,useFactory:eH},{provide:fw,useExisting:sR,multi:!0}])}var uR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({providers:[uH(dH())]});let t=e;return t})();var yw=class extends Xf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},vw=class t extends yw{static makeCurrent(){Kx(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=hH();return n==null?null:fH(n)}resetBaseElement(){Xl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jf(document.cookie,e)}},Xl=null;function hH(){return Xl=Xl||document.querySelector("base"),Xl?Xl.getAttribute("href"):null}function fH(t){return new URL(t,document.baseURI).pathname}var _w=class{addToWindow(e){Qt.getAngularTestability=(i,r=!0)=>{let o=e.findTestabilityInTree(i,r);if(o==null)throw new Q(5103,!1);return o},Qt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Qt.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=Qt.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Qt.frameworkStabilizers||(Qt.frameworkStabilizers=[]),Qt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?Ai().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},pH=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),ww=new F(""),pR=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(v(ww),v(Z))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),ap=class{constructor(e){this._doc=e}},mw="ng-app-id",mR=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=is(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${mw}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(mw),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(mw,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(v(he),v(Ul),v($l,8),v(pt))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),gw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ew=/%COMP%/g,gR="%COMP%",mH=`_nghost-${gR}`,gH=`_ngcontent-${gR}`,yH=!0,vH=new F("",{providedIn:"root",factory:()=>yH});function _H(t){return gH.replace(Ew,t)}function wH(t){return mH.replace(Ew,t)}function yR(t,e){return e.map(n=>n.replace(Ew,t))}var dR=(()=>{let e=class e{constructor(i,r,o,s,a,c,l,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=is(c),this.defaultRenderer=new Jl(i,a,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_i.ShadowDom&&(r=Ce(L({},r),{encapsulation:_i.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof cp?o.applyToHost(i):o instanceof eu&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case _i.Emulated:s=new cp(l,u,r,this.appId,f,a,c,m);break;case _i.ShadowDom:return new bw(l,u,i,r,a,c,this.nonce,m);default:s=new eu(l,u,r,f,a,c,m);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(v(pR),v(mR),v(Ul),v(vH),v(he),v(pt),v(Z),v($l))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Jl=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(gw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(hR(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(hR(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Q(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=gw[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=gw[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(sr.DashCase|sr.Important)?e.style.setProperty(n,i,r&sr.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&sr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Ai().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function hR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var bw=class extends Jl{constructor(e,n,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=yR(r.id,r.styles);for(let u of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},eu=class extends Jl{constructor(e,n,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?yR(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},cp=class extends eu{constructor(e,n,i,r,o,s,a,c){let l=r+"-"+i.id;super(e,n,i,o,s,a,c,l),this.contentAttr=_H(l),this.hostAttr=wH(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},bH=(()=>{let e=class e extends ap{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(v(he))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),fR=["alt","control","meta","shift"],EH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IH={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},CH=(()=>{let e=class e extends ap{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ai().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),fR.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),a+=u+".")}),a+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(i,r){let o=EH[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),fR.forEach(a=>{if(a!==o){let c=IH[a];c(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(v(he))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function DH(){vw.makeCurrent()}function TH(){return new Ei}function SH(){return rA(document),document}var AH=[{provide:pt,useValue:aw},{provide:I_,useValue:DH,multi:!0},{provide:he,useFactory:SH,deps:[]}],vR=Z_(jx,"browser",AH),xH=new F(""),RH=[{provide:Kl,useClass:_w,deps:[]},{provide:Y_,useClass:Gf,deps:[Z,Wf,Kl]},{provide:Gf,useClass:Gf,deps:[Z,Wf,Kl]}],MH=[{provide:Nf,useValue:"root"},{provide:Ei,useFactory:TH,deps:[]},{provide:ww,useClass:bH,multi:!0,deps:[he,Z,pt]},{provide:ww,useClass:CH,multi:!0,deps:[he]},dR,mR,pR,{provide:Nl,useExisting:dR},{provide:Ua,useClass:pH,deps:[]},[]],_R=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Ul,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(v(xH,12))},e.\u0275mod=ie({type:e}),e.\u0275inj=re({providers:[...MH,...RH],imports:[ep,Bx]});let t=e;return t})();var wR=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(v(he))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var me="primary",mu=Symbol("RouteTitle"),Sw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Wa(t){return new Sw(t)}function kH(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function PH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Mi(t[n],e[n]))return!1;return!0}function Mi(t,e){let n=t?Aw(t):void 0,i=e?Aw(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!RR(t[r],e[r]))return!1;return!0}function Aw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function RR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function MR(t){return t.length>0?t[t.length-1]:null}function to(t){return Bh(t)?t:ns(t)?ge(Promise.resolve(t)):G(t)}var NH={exact:PR,subset:NR},kR={exact:OH,subset:FH,ignored:()=>!0};function ER(t,e,n){return NH[n.paths](t.root,e.root,n.matrixParams)&&kR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function OH(t,e){return Mi(t,e)}function PR(t,e,n){if(!ss(t.segments,e.segments)||!dp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!PR(t.children[i],e.children[i],n))return!1;return!0}function FH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>RR(t[n],e[n]))}function NR(t,e,n){return OR(t,e,e.segments,n)}function OR(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!ss(r,n)||e.hasChildren()||!dp(r,n,i))}else if(t.segments.length===n.length){if(!ss(t.segments,n)||!dp(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!NR(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ss(t.segments,r)||!dp(t.segments,r,i)||!t.children[me]?!1:OR(t.children[me],e,o,i)}}function dp(t,e,n){return e.every((i,r)=>kR[n](t[r].parameters,i.parameters))}var Xr=class{constructor(e=new Fe([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Wa(this.queryParams),this._queryParamMap}toString(){return jH.serialize(this)}},Fe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hp(this)}},os=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Wa(this.parameters),this._parameterMap}toString(){return LR(this)}};function LH(t,e){return ss(t,e)&&t.every((n,i)=>Mi(n.parameters,e[i].parameters))}function ss(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function VH(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===me&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==me&&(n=n.concat(e(r,i)))}),n}var gu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>new au,providedIn:"root"});let t=e;return t})(),au=class{parse(e){let n=new Rw(e);return new Xr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${tu(e.root,!0)}`,i=$H(e.queryParams),r=typeof e.fragment=="string"?`#${BH(e.fragment)}`:"";return`${n}${i}${r}`}},jH=new au;function hp(t){return t.segments.map(e=>LR(e)).join("/")}function tu(t,e){if(!t.hasChildren())return hp(t);if(e){let n=t.children[me]?tu(t.children[me],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==me&&i.push(`${r}:${tu(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=VH(t,(i,r)=>r===me?[tu(t.children[me],!1)]:[`${r}:${tu(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${hp(t)}/${n[0]}`:`${hp(t)}/(${n.join("//")})`}}function FR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lp(t){return FR(t).replace(/%3B/gi,";")}function BH(t){return encodeURI(t)}function xw(t){return FR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fp(t){return decodeURIComponent(t)}function IR(t){return fp(t.replace(/\+/g,"%20"))}function LR(t){return`${xw(t.path)}${UH(t.parameters)}`}function UH(t){return Object.entries(t).map(([e,n])=>`;${xw(e)}=${xw(n)}`).join("")}function $H(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${lp(n)}=${lp(r)}`).join("&"):`${lp(n)}=${lp(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var HH=/^[^\/()?;#]+/;function Iw(t){let e=t.match(HH);return e?e[0]:""}var zH=/^[^\/()?;=#]+/;function qH(t){let e=t.match(zH);return e?e[0]:""}var GH=/^[^=?&#]+/;function WH(t){let e=t.match(GH);return e?e[0]:""}var KH=/^[^&#]+/;function YH(t){let e=t.match(KH);return e?e[0]:""}var Rw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[me]=new Fe(e,n)),i}parseSegment(){let e=Iw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new os(fp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=qH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Iw(this.remaining);r&&(i=r,this.capture(i))}e[fp(n)]=fp(i)}parseQueryParam(e){let n=WH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=YH(this.remaining);s&&(i=s,this.capture(i))}let r=IR(n),o=IR(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Iw(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Q(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[me]:new Fe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function VR(t){return t.segments.length>0?new Fe([],{[me]:t}):t}function jR(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=jR(r);if(i===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Fe(t.segments,e);return QH(n)}function QH(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new Fe(t.segments.concat(e.segments),e.children)}return t}function Ka(t){return t instanceof Xr}function ZH(t,e,n=null,i=null){let r=BR(t);return UR(r,e,n,i)}function BR(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Fe(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=VR(i);return e??r}function UR(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Cw(r,r,r,n,i);let o=XH(e);if(o.toRoot())return Cw(r,r,new Fe([],{}),n,i);let s=JH(o,r,t),a=s.processChildren?ru(s.segmentGroup,s.index,o.commands):HR(s.segmentGroup,s.index,o.commands);return Cw(r,s.segmentGroup,a,n,i)}function pp(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function cu(t){return typeof t=="object"&&t!=null&&t.outlets}function Cw(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=$R(t,e,n);let a=VR(jR(s));return new Xr(a,o,r)}function $R(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=$R(o,e,n)}),new Fe(t.segments,i)}var mp=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&pp(i[0]))throw new Q(4003,!1);let r=i.find(cu);if(r&&r!==MR(i))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new mp(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new mp(n,e,i)}var qa=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function JH(t,e,n){if(t.isAbsolute)return new qa(e,!0,0);if(!n)return new qa(e,!1,NaN);if(n.parent===null)return new qa(n,!0,0);let i=pp(t.commands[0])?0:1,r=n.segments.length-1+i;return ez(n,r,t.numberOfDoubleDots)}function ez(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Q(4005,!1);r=i.segments.length}return new qa(i,!1,r-o)}function tz(t){return cu(t[0])?t[0].outlets:{[me]:t}}function HR(t,e,n){if(t??=new Fe([],{}),t.segments.length===0&&t.hasChildren())return ru(t,e,n);let i=nz(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Fe(t.segments.slice(0,i.pathIndex),{});return o.children[me]=new Fe(t.segments.slice(i.pathIndex),t.children),ru(o,0,r)}else return i.match&&r.length===0?new Fe(t.segments,{}):i.match&&!t.hasChildren()?Mw(t,e,n):i.match?ru(t,0,r):Mw(t,e,n)}function ru(t,e,n){if(n.length===0)return new Fe(t.segments,{});{let i=tz(n),r={};if(Object.keys(i).some(o=>o!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let o=ru(t.children[me],e,n);return new Fe(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=HR(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Fe(t.segments,r)}}function nz(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(cu(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!DR(c,l,s))return o;i+=2}else{if(!DR(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Mw(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(cu(o)){let c=iz(o.outlets);return new Fe(i,c)}if(r===0&&pp(n[0])){let c=t.segments[e];i.push(new os(c.path,CR(n[0]))),r++;continue}let s=cu(o)?o.outlets[me]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&pp(a)?(i.push(new os(s,CR(a))),r+=2):(i.push(new os(s,{})),r++)}return new Fe(i,{})}function iz(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Mw(new Fe([],{}),0,i))}),e}function CR(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function DR(t,e,n){return t==n.path&&Mi(e,n.parameters)}var ou="imperative",Tt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Tt||{}),On=class{constructor(e,n){this.id=e,this.url=n}},Ya=class extends On{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Tt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ki=class extends On{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nn||{}),gp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(gp||{}),Jr=class extends On{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},eo=class extends On{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Tt.NavigationSkipped}},lu=class extends On{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yp=class extends On{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kw=class extends On{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pw=class extends On{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nw=class extends On{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ow=class extends On{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fw=class{constructor(e){this.route=e,this.type=Tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lw=class{constructor(e){this.route=e,this.type=Tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vw=class{constructor(e){this.snapshot=e,this.type=Tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jw=class{constructor(e){this.snapshot=e,this.type=Tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bw=class{constructor(e){this.snapshot=e,this.type=Tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uw=class{constructor(e){this.snapshot=e,this.type=Tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vp=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=Tt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},uu=class{},du=class{constructor(e){this.url=e}};var $w=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new yu,this.attachRef=null}},yu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new $w,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_p=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Hw(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=Hw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=zw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return zw(e,this._root).map(n=>n.value)}};function Hw(t,e){if(t===e.value)return e;for(let n of e.children){let i=Hw(t,n);if(i)return i}return null}function zw(t,e){if(t===e.value)return[e];for(let n of e.children){let i=zw(t,n);if(i.length)return i.unshift(e),i}return[]}var wn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function za(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var wp=class extends _p{constructor(e,n){super(e),this.snapshot=n,e0(this,e)}toString(){return this.snapshot.toString()}};function zR(t){let e=rz(t),n=new bt([new os("",{})]),i=new bt({}),r=new bt({}),o=new bt({}),s=new bt(""),a=new as(n,i,o,s,r,me,t,e.root);return a.snapshot=e.root,new wp(new wn(a,[]),e)}function rz(t){let e={},n={},i={},r="",o=new hu([],e,i,r,n,me,t,null,{});return new bp("",new wn(o,[]))}var as=class{constructor(e,n,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Y(l=>l[mu]))??G(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>Wa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>Wa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jw(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),r?.data),t._resolvedData)}:i={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},r&&GR(r)&&(i.resolve[mu]=r.title),i}var hu=class{get title(){return this.data?.[mu]}constructor(e,n,i,r,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},bp=class extends _p{constructor(e,n){super(n),this.url=e,e0(this,n)}toString(){return qR(this._root)}};function e0(t,e){e.value._routerState=t,e.children.forEach(n=>e0(t,n))}function qR(t){let e=t.children.length>0?` { ${t.children.map(qR).join(", ")} } `:"";return`${t.value}${e}`}function Dw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Mi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Mi(e.params,n.params)||t.paramsSubject.next(n.params),PH(e.url,n.url)||t.urlSubject.next(n.url),Mi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qw(t,e){let n=Mi(t.params,e.params)&&LH(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||qw(t.parent,e.parent))}function GR(t){return typeof t.title=="string"||t.title===null}var t0=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new Me,this.deactivateEvents=new Me,this.attachEvents=new Me,this.detachEvents=new Me,this.parentContexts=V(yu),this.location=V(Pn),this.changeDetector=V(Xn),this.environmentInjector=V(Zt),this.inputBinder=V(Tp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Gw(i,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ke({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[un]});let t=e;return t})(),Gw=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===as?this.route:e===yu?this.childContexts:this.parent.get(e,n)}},Tp=new F(""),TR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=Bo([r.queryParams,r.params,r.data]).pipe($e(([s,a,c],l)=>(c=L(L(L({},s),a),c),l===0?G(c):Promise.resolve(c)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=Ux(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function oz(t,e,n){let i=fu(t,e._root,n?n._root:void 0);return new wp(i,e)}function fu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=sz(t,e,n);return new wn(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>fu(t,a)),s}}let i=az(e.value),r=e.children.map(o=>fu(t,o));return new wn(i,r)}}function sz(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return fu(t,i,r);return fu(t,i)})}function az(t){return new as(new bt(t.url),new bt(t.params),new bt(t.queryParams),new bt(t.fragment),new bt(t.data),t.outlet,t.component,t)}var WR="ngNavigationCancelingError";function KR(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Ka(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=YR(!1,Nn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function YR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[WR]=!0,n.cancellationCode=e,n}function cz(t){return QR(t)&&Ka(t.url)}function QR(t){return!!t&&t[WR]}var lz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=be({type:e,selectors:[["ng-component"]],standalone:!0,features:[Kr],decls:1,vars:0,template:function(r,o){r&1&&B(0,"router-outlet")},dependencies:[t0],encapsulation:2});let t=e;return t})();function uz(t,e){return t.providers&&!t._injector&&(t._injector=$f(t.providers,e,`Route: ${t.path}`)),t._injector??e}function n0(t){let e=t.children&&t.children.map(n0),n=e?Ce(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=lz),n}function Pi(t){return t.outlet||me}function dz(t,e){let n=t.filter(i=>Pi(i)===e);return n.push(...t.filter(i=>Pi(i)!==e)),n}function vu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var hz=(t,e,n,i)=>Y(r=>(new Ww(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Ww=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Dw(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=za(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=za(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=za(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=za(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Uw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jw(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(Dw(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=vu(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},Ep=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ga=class{constructor(e,n){this.component=e,this.route=n}};function fz(t,e,n){let i=t._root,r=e?e._root:null;return nu(i,r,n,[i.value])}function pz(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Za(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!oA(t)?t:e.get(t):i}function nu(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=za(e);return t.children.forEach(s=>{mz(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>su(a,n.getContext(s),r)),r}function mz(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=gz(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Ep(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?nu(t,e,a?a.children:null,i,r):nu(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ga(a.outlet.component,s))}else s&&su(e,a,r),r.canActivateChecks.push(new Ep(i)),o.component?nu(t,null,a?a.children:null,i,r):nu(t,null,n,i,r);return r}function gz(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ss(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ss(t.url,e.url)||!Mi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qw(t,e)||!Mi(t.queryParams,e.queryParams);case"paramsChange":default:return!qw(t,e)}}function su(t,e,n){let i=za(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?su(s,e.children.getContext(o),n):su(s,null,n):su(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ga(e.outlet.component,r)):n.canDeactivateChecks.push(new Ga(null,r)):n.canDeactivateChecks.push(new Ga(null,r))}function _u(t){return typeof t=="function"}function yz(t){return typeof t=="boolean"}function vz(t){return t&&_u(t.canLoad)}function _z(t){return t&&_u(t.canActivate)}function wz(t){return t&&_u(t.canActivateChild)}function bz(t){return t&&_u(t.canDeactivate)}function Ez(t){return t&&_u(t.canMatch)}function ZR(t){return t instanceof nr||t?.name==="EmptyError"}var up=Symbol("INITIAL_VALUE");function Qa(){return $e(t=>Bo(t.map(e=>e.pipe(Et(1),ln(up)))).pipe(Y(e=>{for(let n of e)if(n!==!0){if(n===up)return up;if(n===!1||n instanceof Xr)return n}return!0}),Re(e=>e!==up),Et(1)))}function Iz(t,e){return rt(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?G(Ce(L({},n),{guardsResult:!0})):Cz(s,i,r,t).pipe(rt(a=>a&&yz(a)?Dz(i,o,t,e):G(a)),Y(a=>Ce(L({},n),{guardsResult:a})))})}function Cz(t,e,n,i){return ge(t).pipe(rt(r=>Rz(r.component,r.route,n,e,i)),An(r=>r!==!0,!0))}function Dz(t,e,n,i){return ge(e).pipe(ir(r=>kr(Sz(r.route.parent,i),Tz(r.route,i),xz(t,r.path,n),Az(t,r.route,n))),An(r=>r!==!0,!0))}function Tz(t,e){return t!==null&&e&&e(new Bw(t)),G(!0)}function Sz(t,e){return t!==null&&e&&e(new Vw(t)),G(!0)}function Az(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return G(!0);let r=i.map(o=>Pr(()=>{let s=vu(e)??n,a=Za(o,s),c=_z(a)?a.canActivate(e,t):Ci(s,()=>a(e,t));return to(c).pipe(An())}));return G(r).pipe(Qa())}function xz(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>pz(s)).filter(s=>s!==null).map(s=>Pr(()=>{let a=s.guards.map(c=>{let l=vu(s.node)??n,u=Za(c,l),f=wz(u)?u.canActivateChild(i,t):Ci(l,()=>u(i,t));return to(f).pipe(An())});return G(a).pipe(Qa())}));return G(o).pipe(Qa())}function Rz(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let c=vu(e)??r,l=Za(a,c),u=bz(l)?l.canDeactivate(t,e,n,i):Ci(c,()=>l(t,e,n,i));return to(u).pipe(An())});return G(s).pipe(Qa())}function Mz(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return G(!0);let o=r.map(s=>{let a=Za(s,t),c=vz(a)?a.canLoad(e,n):Ci(t,()=>a(e,n));return to(c)});return G(o).pipe(Qa(),XR(i))}function XR(t){return Ky(et(e=>{if(Ka(e))throw KR(t,e)}),Y(e=>e===!0))}function kz(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return G(!0);let o=r.map(s=>{let a=Za(s,t),c=Ez(a)?a.canMatch(e,n):Ci(t,()=>a(e,n));return to(c)});return G(o).pipe(Qa(),XR(i))}var pu=class{constructor(e){this.segmentGroup=e||null}},Ip=class extends Error{constructor(e){super(),this.urlTree=e}};function Ha(t){return ga(new pu(t))}function Pz(t){return ga(new Q(4e3,!1))}function Nz(t){return ga(YR(!1,Nn.GuardRejected))}var Kw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return G(i);if(r.numberOfChildren>1||!r.children[me])return Pz(e.redirectTo);r=r.children[me]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Ip(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Xr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Fe(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new Q(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Yw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Oz(t,e,n,i,r){let o=i0(t,e,n);return o.matched?(i=uz(e,i),kz(i,e,n,r).pipe(Y(s=>s===!0?o:L({},Yw)))):G(o)}function i0(t,e,n){if(e.path==="**")return Fz(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},Yw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||kH)(n,t,e);if(!r)return L({},Yw);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?L(L({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Fz(t){return{matched:!0,parameters:t.length>0?MR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function SR(t,e,n,i){return n.length>0&&jz(t,n,i)?{segmentGroup:new Fe(e,Vz(i,new Fe(n,t.children))),slicedSegments:[]}:n.length===0&&Bz(t,n,i)?{segmentGroup:new Fe(t.segments,Lz(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Fe(t.segments,t.children),slicedSegments:n}}function Lz(t,e,n,i){let r={};for(let o of n)if(Sp(t,e,o)&&!i[Pi(o)]){let s=new Fe([],{});r[Pi(o)]=s}return L(L({},i),r)}function Vz(t,e){let n={};n[me]=e;for(let i of t)if(i.path===""&&Pi(i)!==me){let r=new Fe([],{});n[Pi(i)]=r}return n}function jz(t,e,n){return n.some(i=>Sp(t,e,i)&&Pi(i)!==me)}function Bz(t,e,n){return n.some(i=>Sp(t,e,i))}function Sp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Uz(t,e,n,i){return Pi(t)!==i&&(i===me||!Sp(e,n,t))?!1:i0(e,t,n).matched}function $z(t,e,n){return e.length===0&&!t.children[n]}var Qw=class{};function Hz(t,e,n,i,r,o,s="emptyOnly"){return new Zw(t,e,n,i,r,s,o).recognize()}var zz=31,Zw=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Kw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=SR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(n=>{let i=new hu([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,{}),r=new wn(i,n),o=new bp("",r),s=ZH(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,me).pipe(Nr(i=>{if(i instanceof Ip)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof pu?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=Jw(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(Y(o=>o instanceof wn?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return ge(r).pipe(ir(o=>{let s=i.children[o],a=dz(n,o);return this.processSegmentGroup(e,a,s,o)}),$o((o,s)=>(o.push(...s),o)),Or(null),iv(),rt(o=>{if(o===null)return Ha(i);let s=JR(o);return qz(s),G(s)}))}processSegment(e,n,i,r,o,s){return ge(n).pipe(ir(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,o,s).pipe(Nr(c=>{if(c instanceof pu)return G(null);throw c}))),An(a=>!!a),Nr(a=>{if(ZR(a))return $z(i,r,o)?G(new Qw):Ha(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,o,s,a){return Uz(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s):Ha(r):Ha(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=i0(n,r,o);if(!a)return Ha(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zz&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,f).pipe(rt(m=>this.processSegment(e,i,n,m.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let s=Oz(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe($e(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe($e(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:f,parameters:m}=a,g=new hu(u,m,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Wz(i),Pi(i),i.component??i._loadedComponent??null,i,Kz(i)),{segmentGroup:_,slicedSegments:E}=SR(n,u,f,c);if(E.length===0&&_.hasChildren())return this.processChildren(l,c,_).pipe(Y(S=>S===null?null:new wn(g,S)));if(c.length===0&&E.length===0)return G(new wn(g,[]));let w=Pi(i)===o;return this.processSegment(l,c,_,E,w?me:o,!0).pipe(Y(S=>new wn(g,S instanceof wn?[S]:[])))}))):Ha(n)))}getChildConfig(e,n,i){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):Mz(e,n,i,this.urlSerializer).pipe(rt(r=>r?this.configLoader.loadChildren(e,n).pipe(et(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Nz(n))):G({routes:[],injector:e})}};function qz(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function Gz(t){let e=t.value.routeConfig;return e&&e.path===""}function JR(t){let e=[],n=new Set;for(let i of t){if(!Gz(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=JR(i.children);e.push(new wn(i.value,r))}return e.filter(i=>!n.has(i))}function Wz(t){return t.data||{}}function Kz(t){return t.resolve||{}}function Yz(t,e,n,i,r,o){return rt(s=>Hz(t,e,n,i,s.extractedUrl,r,o).pipe(Y(({state:a,tree:c})=>Ce(L({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Qz(t,e){return rt(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return G(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of eM(c))s.add(l);let a=0;return ge(s).pipe(ir(c=>o.has(c)?Zz(c,i,t,e):(c.data=Jw(c,c.parent,t).resolve,G(void 0))),et(()=>a++),wa(1),rt(c=>a===s.size?G(n):sn))})}function eM(t){let e=t.children.map(n=>eM(n)).flat();return[t,...e]}function Zz(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!GR(r)&&(o[mu]=r.title),Xz(o,t,e,i).pipe(Y(s=>(t._resolvedData=s,t.data=Jw(t,t.parent,n).resolve,null)))}function Xz(t,e,n,i){let r=Aw(t);if(r.length===0)return G({});let o={};return ge(r).pipe(rt(s=>Jz(t[s],e,n,i).pipe(An(),et(a=>{o[s]=a}))),wa(1),nv(o),Nr(s=>ZR(s)?sn:ga(s)))}function Jz(t,e,n,i){let r=vu(e)??i,o=Za(t,r),s=o.resolve?o.resolve(e,n):Ci(r,()=>o(e,n));return to(s)}function Tw(t){return $e(e=>{let n=t(e);return n?ge(n).pipe(Y(()=>e)):G(e)})}var tM=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===me);return r}getResolvedTitleForRoute(i){return i.data[mu]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>V(eq),providedIn:"root"});let t=e;return t})(),eq=(()=>{let e=class e extends tM{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(v(wR))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wu=new F("",{providedIn:"root",factory:()=>({})}),Cp=new F(""),r0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(Qf)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return G(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=to(i.loadComponent()).pipe(Y(nM),et(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),Fr(()=>{this.componentLoaders.delete(i)})),o=new da(r,()=>new ue).pipe(ua());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=tq(r,this.compiler,i,this.onLoadEndListener).pipe(Fr(()=>{this.childrenLoaders.delete(r)})),a=new da(s,()=>new ue).pipe(ua());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tq(t,e,n,i){return to(t.loadChildren()).pipe(Y(nM),rt(r=>r instanceof Ol||Array.isArray(r)?G(r):ge(e.compileModuleAsync(r))),Y(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Cp,[],{optional:!0,self:!0}).flat()),{routes:s.map(n0),injector:o}}))}function nq(t){return t&&typeof t=="object"&&"default"in t}function nM(t){return nq(t)?t.default:t}var o0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>V(iq),providedIn:"root"});let t=e;return t})(),iq=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iM=new F(""),rM=new F("");function rq(t,e,n){let i=t.get(rM),r=t.get(he);return t.get(Z).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),oq(t))),{onViewTransitionCreated:c}=i;return c&&Ci(t,()=>c({transition:a,from:e,to:n})),s})}function oq(t){return new Promise(e=>{z_(e,{injector:t})})}var s0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ue,this.transitionAbortSubject=new ue,this.configLoader=V(r0),this.environmentInjector=V(Zt),this.urlSerializer=V(gu),this.rootContexts=V(yu),this.location=V(xi),this.inputBindingEnabled=V(Tp,{optional:!0})!==null,this.titleStrategy=V(tM),this.options=V(wu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(o0),this.createViewTransition=V(iM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let i=o=>this.events.next(new Fw(o)),r=o=>this.events.next(new Lw(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Ce(L(L({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new bt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ou,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Re(s=>s.id!==0),Y(s=>Ce(L({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),$e(s=>{this.currentTransition=s;let a=!1,c=!1;return G(s).pipe(et(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ce(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$e(l=>{let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&f!=="reload"){let m="";return this.events.next(new eo(l.id,this.urlSerializer.serialize(l.rawUrl),m,gp.IgnoredSameUrlNavigation)),l.resolve(null),sn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return G(l).pipe($e(m=>{let g=this.transitions?.getValue();return this.events.next(new Ya(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?sn:Promise.resolve(m)}),Yz(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),et(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Ce(L({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let g=new yp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:g,source:_,restoredState:E,extras:w}=l,S=new Ya(m,this.urlSerializer.serialize(g),_,E);this.events.next(S);let j=zR(this.rootComponentType).snapshot;return this.currentTransition=s=Ce(L({},l),{targetSnapshot:j,urlAfterRedirects:g,extras:Ce(L({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,G(s)}else{let m="";return this.events.next(new eo(l.id,this.urlSerializer.serialize(l.extractedUrl),m,gp.IgnoredByUrlHandlingStrategy)),l.resolve(null),sn}}),et(l=>{let u=new kw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Y(l=>(this.currentTransition=s=Ce(L({},l),{guards:fz(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Iz(this.environmentInjector,l=>this.events.next(l)),et(l=>{if(s.guardsResult=l.guardsResult,Ka(l.guardsResult))throw KR(this.urlSerializer,l.guardsResult);let u=new Pw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Re(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Nn.GuardRejected),!1)),Tw(l=>{if(l.guards.canActivateChecks.length)return G(l).pipe(et(u=>{let f=new Nw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),$e(u=>{let f=!1;return G(u).pipe(Qz(this.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",Nn.NoDataFromResolver)}}))}),et(u=>{let f=new Ow(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),Tw(l=>{let u=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(et(g=>{f.component=g}),Y(()=>{})));for(let g of f.children)m.push(...u(g));return m};return Bo(u(l.targetSnapshot.root)).pipe(Or(null),Et(1))}),Tw(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,f=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return f?ge(f).pipe(Y(()=>s)):G(s)}),Y(l=>{let u=oz(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ce(L({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),et(()=>{this.events.next(new uu)}),hz(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Et(1),et({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ki(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),gi(this.transitionAbortSubject.pipe(et(l=>{throw l}))),Fr(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Nn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nr(l=>{if(c=!0,QR(l))this.events.next(new Jr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),cz(l)?this.events.next(new du(l.url)):s.resolve(!1);else{this.events.next(new lu(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return sn}))}))}cancelNavigationTransition(i,r,o){let s=new Jr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sq(t){return t!==ou}var aq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>V(cq),providedIn:"root"});let t=e;return t})(),Xw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},cq=(()=>{let e=class e extends Xw{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:()=>V(lq),providedIn:"root"});let t=e;return t})(),lq=(()=>{let e=class e extends oM{constructor(){super(...arguments),this.location=V(xi),this.urlSerializer=V(gu),this.options=V(wu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(o0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Xr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Ya)this.stateMemento=this.createStateMemento();else if(i instanceof eo)this.rawUrlTree=r.initialUrl;else if(i instanceof yp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof uu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Jr&&(i.code===Nn.GuardRejected||i.code===Nn.NoDataFromResolver)?this.restoreHistory(r):i instanceof lu?this.restoreHistory(r,!0):i instanceof ki&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=L(L({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(iu||{});function sM(t,e){t.events.pipe(Re(n=>n instanceof ki||n instanceof Jr||n instanceof lu||n instanceof eo),Y(n=>n instanceof ki||n instanceof eo?iu.COMPLETE:(n instanceof Jr?n.code===Nn.Redirect||n.code===Nn.SupersededByNewNavigation:!1)?iu.REDIRECTING:iu.FAILED),Re(n=>n!==iu.REDIRECTING),Et(1)).subscribe(()=>{e()})}function uq(t){throw t}var dq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},fn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=V(qf),this.stateManager=V(oM),this.options=V(wu,{optional:!0})||{},this.pendingTasks=V(ts),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(s0),this.urlSerializer=V(gu),this.location=V(xi),this.urlHandlingStrategy=V(o0),this._events=new ue,this.errorHandler=this.options.errorHandler||uq,this.navigated=!1,this.routeReuseStrategy=V(aq),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(Cp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(Tp,{optional:!0}),this.eventsSubscription=new Ge,this.isNgZoneEnabled=V(Z)instanceof Z&&Z.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Jr&&r.code!==Nn.Redirect&&r.code!==Nn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ki)this.navigated=!0;else if(r instanceof du){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||sq(o.source)};this.scheduleNavigation(a,ou,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}pq(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ou,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=L({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(n0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=L(L({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let g=o?o.snapshot:this.routerState.snapshot.root;m=BR(g)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),m=this.currentUrlTree.root}return UR(m,i,f,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Ka(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ou,null,r)}navigate(i,r={skipLocationChange:!1}){return fq(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=L({},dq):r===!1?o=L({},hq):o=r,Ka(i))return ER(this.currentUrlTree,i,o);let s=this.parseUrl(i);return ER(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((m,g)=>{c=m,l=g});let f=this.pendingTasks.add();return sM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function pq(t){return!(t instanceof uu)&&!(t instanceof du)}var Xa=(()=>{let e=class e{constructor(i,r,o,s,a,c){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ue,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(i!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:VA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,i,r):o.removeAttribute(s,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(O(fn),O(as),M_("tabindex"),O(Gr),O(Oe),O(pr))},e.\u0275dir=ke({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&Qe("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Bt("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ze.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Si],skipLocationChange:[ze.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Si],replaceUrl:[ze.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Si],routerLink:"routerLink"},standalone:!0,features:[Wr,un]});let t=e;return t})();var Dp=class{};var mq=(()=>{let e=class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Re(i=>i instanceof ki),ir(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=$f(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ge(o).pipe(Mr())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=G(null);let s=o.pipe(rt(a=>a===null?G(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ge([s,a]).pipe(Mr())}else return s})}};e.\u0275fac=function(r){return new(r||e)(v(fn),v(Qf),v(Zt),v(Dp),v(r0))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aM=new F(""),gq=(()=>{let e=class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Ya?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof ki?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof eo&&i.code===gp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof vp&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vp(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){ZA()},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function yq(t){return t.routerState.root}function bu(t,e){return{\u0275kind:t,\u0275providers:e}}function vq(){let t=V(tt);return e=>{let n=t.get(hr);if(e!==n.components[0])return;let i=t.get(fn),r=t.get(cM);t.get(a0)===1&&i.initialNavigation(),t.get(lM,null,_e.Optional)?.setUpPreloading(),t.get(aM,null,_e.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var cM=new F("",{factory:()=>new ue}),a0=new F("",{providedIn:"root",factory:()=>1});function _q(){return bu(2,[{provide:a0,useValue:0},{provide:Kf,multi:!0,deps:[tt],useFactory:e=>{let n=e.get(Yx,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(fn),o=e.get(cM);sM(r,()=>{i(!0)}),e.get(s0).afterPreactivation=()=>(i(!0),o.closed?G(void 0):o),r.initialNavigation()}))}}])}function wq(){return bu(3,[{provide:Kf,multi:!0,useFactory:()=>{let e=V(fn);return()=>{e.setUpLocationChangeListener()}}},{provide:a0,useValue:2}])}var lM=new F("");function bq(t){return bu(0,[{provide:lM,useExisting:mq},{provide:Dp,useExisting:t}])}function Eq(){return bu(8,[TR,{provide:Tp,useExisting:TR}])}function Iq(t){let e=[{provide:iM,useValue:rq},{provide:rM,useValue:L({skipNextTransition:!!t?.skipInitialTransition},t)}];return bu(9,e)}var AR=new F("ROUTER_FORROOT_GUARD"),Cq=[xi,{provide:gu,useClass:au},fn,yu,{provide:as,useFactory:yq,deps:[fn]},r0,[]],Eu=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[Cq,[],{provide:Cp,multi:!0,useValue:i},{provide:AR,useFactory:Aq,deps:[[fn,new Ba,new T_]]},{provide:wu,useValue:r||{}},r?.useHash?Tq():Sq(),Dq(),r?.preloadingStrategy?bq(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?xq(r):[],r?.bindToComponentInputs?Eq().\u0275providers:[],r?.enableViewTransitions?Iq().\u0275providers:[],Rq()]}}static forChild(i){return{ngModule:e,providers:[{provide:Cp,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(v(AR,8))},e.\u0275mod=ie({type:e}),e.\u0275inj=re({});let t=e;return t})();function Dq(){return{provide:aM,useFactory:()=>{let t=V(Jx),e=V(Z),n=V(wu),i=V(s0),r=V(gu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new gq(r,i,t,e,n)}}}function Tq(){return{provide:pr,useClass:Zx}}function Sq(){return{provide:pr,useClass:sw}}function Aq(t){return"guarded"}function xq(t){return[t.initialNavigation==="disabled"?wq().\u0275providers:[],t.initialNavigation==="enabledBlocking"?_q().\u0275providers:[]]}var xR=new F("");function Rq(){return[{provide:xR,useFactory:vq},{provide:Yf,multi:!0,useExisting:xR}]}var c0=class{constructor(){this.class="",this.backgroundGradient=!1,this.backgroundColor="transparent",this.backgroundGradientStopColor="transparent",this.backgroundOpacity=1,this.backgroundStroke="transparent",this.backgroundStrokeWidth=0,this.backgroundPadding=5,this.percent=0,this.radius=90,this.space=4,this.toFixed=0,this.maxPercent=1e3,this.renderOnClick=!0,this.units="%",this.unitsFontSize="10",this.unitsFontWeight="normal",this.unitsColor="#444444",this.outerStrokeGradient=!1,this.outerStrokeWidth=8,this.outerStrokeColor="#78C000",this.outerStrokeGradientStopColor="transparent",this.outerStrokeLinecap="round",this.innerStrokeColor="#C7E596",this.innerStrokeWidth=4,this.titleFormat=void 0,this.title="auto",this.titleColor="#444444",this.titleFontSize="20",this.titleFontWeight="normal",this.subtitleFormat=void 0,this.subtitle="progress",this.subtitleColor="#A9A9A9",this.subtitleFontSize="10",this.subtitleFontWeight="normal",this.imageSrc=void 0,this.imageHeight=0,this.imageWidth=0,this.animation=!0,this.animateTitle=!0,this.animateSubtitle=!1,this.animationDuration=500,this.showTitle=!0,this.showSubtitle=!0,this.showUnits=!0,this.showImage=!1,this.showBackground=!0,this.showInnerStroke=!0,this.clockwise=!0,this.responsive=!1,this.startFromZero=!0,this.showZeroOuterStroke=!0,this.lazy=!1}};var uM=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[{provide:c0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ie({type:t}),t.\u0275inj=re({imports:[ep]}),t})();var vM=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(O(Gr),O(Oe))},e.\u0275dir=ke({type:e});let t=e;return t})(),Mq=(()=>{let e=class e extends vM{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275dir=ke({type:e,features:[Dt]});let t=e;return t})(),_M=new F("");var kq={provide:_M,useExisting:zr(()=>tc),multi:!0};function Pq(){let t=Ai()?Ai().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Nq=new F(""),tc=(()=>{let e=class e extends vM{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Pq())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(O(Gr),O(Oe),O(Nq,8))},e.\u0275dir=ke({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Qe("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Ti([kq]),Dt]});let t=e;return t})();function no(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function wM(t){return t!=null&&typeof t.length=="number"}var Op=new F(""),f0=new F(""),Oq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ve=class{static min(e){return Fq(e)}static max(e){return Lq(e)}static required(e){return bM(e)}static requiredTrue(e){return Vq(e)}static email(e){return jq(e)}static minLength(e){return Bq(e)}static maxLength(e){return Uq(e)}static pattern(e){return $q(e)}static nullValidator(e){return xp(e)}static compose(e){return SM(e)}static composeAsync(e){return AM(e)}};function Fq(t){return e=>{if(no(e.value)||no(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Lq(t){return e=>{if(no(e.value)||no(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function bM(t){return no(t.value)?{required:!0}:null}function Vq(t){return t.value===!0?null:{required:!0}}function jq(t){return no(t.value)||Oq.test(t.value)?null:{email:!0}}function Bq(t){return e=>no(e.value)||!wM(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Uq(t){return e=>wM(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function $q(t){if(!t)return xp;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(no(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function xp(t){return null}function EM(t){return t!=null}function IM(t){return ns(t)?ge(t):t}function CM(t){let e={};return t.forEach(n=>{e=n!=null?L(L({},e),n):e}),Object.keys(e).length===0?null:e}function DM(t,e){return e.map(n=>n(t))}function Hq(t){return!t.validate}function TM(t){return t.map(e=>Hq(e)?e:n=>e.validate(n))}function SM(t){if(!t)return null;let e=t.filter(EM);return e.length==0?null:function(n){return CM(DM(n,e))}}function p0(t){return t!=null?SM(TM(t)):null}function AM(t){if(!t)return null;let e=t.filter(EM);return e.length==0?null:function(n){let i=DM(n,e).map(IM);return tv(i).pipe(Y(CM))}}function m0(t){return t!=null?AM(TM(t)):null}function dM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function xM(t){return t._rawValidators}function RM(t){return t._rawAsyncValidators}function l0(t){return t?Array.isArray(t)?t:[t]:[]}function Rp(t,e){return Array.isArray(t)?t.includes(e):t===e}function hM(t,e){let n=l0(e);return l0(t).forEach(r=>{Rp(n,r)||n.push(r)}),n}function fM(t,e){return l0(e).filter(n=>!Rp(t,n))}var Mp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=p0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=m0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},io=class extends Mp{get formDirective(){return null}get path(){return null}},Su=class extends Mp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},kp=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},zq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Soe=Ce(L({},zq),{"[class.ng-submitted]":"isSubmitted"}),Fp=(()=>{let e=class e extends kp{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(O(Su,2))},e.\u0275dir=ke({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&ur("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Dt]});let t=e;return t})(),ro=(()=>{let e=class e extends kp{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(O(io,10))},e.\u0275dir=ke({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&ur("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Dt]});let t=e;return t})();var Cu="VALID",Ap="INVALID",Ja="PENDING",Du="DISABLED";function g0(t){return(Lp(t)?t.validators:t)||null}function qq(t){return Array.isArray(t)?p0(t):t||null}function y0(t,e){return(Lp(e)?e.asyncValidators:t)||null}function Gq(t){return Array.isArray(t)?m0(t):t||null}function Lp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function MM(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Q(1e3,"");if(!i[n])throw new Q(1001,"")}function kM(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new Q(1002,"")})}var ec=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Cu}get invalid(){return this.status===Ap}get pending(){return this.status==Ja}get disabled(){return this.status===Du}get enabled(){return this.status!==Du}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fM(e,this._rawAsyncValidators))}hasValidator(e){return Rp(this._rawValidators,e)}hasAsyncValidator(e){return Rp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ja,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Du,this.errors=null,this._forEachChild(i=>{i.disable(Ce(L({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ce(L({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Cu,this._forEachChild(i=>{i.enable(Ce(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ce(L({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cu||this.status===Ja)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Du:Cu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ja,this._hasOwnPendingAsyncValidator=!0;let n=IM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?Du:this.errors?Ap:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ja)?Ja:this._anyControlsHaveStatus(Ap)?Ap:Cu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=qq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Gq(this._rawAsyncValidators)}},Ni=class extends ec{constructor(e,n,i){super(g0(n),y0(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){kM(this,!0,e),Object.keys(e).forEach(i=>{MM(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var u0=class extends Ni{};var Vp=new F("CallSetDisabledState",{providedIn:"root",factory:()=>jp}),jp="always";function Wq(t,e){return[...e.path,t]}function d0(t,e,n=jp){v0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Yq(t,e),Zq(t,e),Qq(t,e),Kq(t,e)}function pM(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Np(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Pp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Kq(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function v0(t,e){let n=xM(t);e.validator!==null?t.setValidators(dM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=RM(t);e.asyncValidator!==null?t.setAsyncValidators(dM(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Pp(e._rawValidators,r),Pp(e._rawAsyncValidators,r)}function Np(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=xM(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=RM(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Pp(e._rawValidators,i),Pp(e._rawAsyncValidators,i),n}function Yq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&PM(t,e)})}function Qq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&PM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function PM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Zq(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function NM(t,e){t==null,v0(t,e)}function Xq(t,e){return Np(t,e)}function Jq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function eG(t){return Object.getPrototypeOf(t.constructor)===Mq}function OM(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function tG(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===tc?n=o:eG(o)?i=o:r=o}),r||i||n||null}function nG(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var iG={provide:io,useExisting:zr(()=>_0)},Tu=Promise.resolve(),_0=(()=>{let e=class e extends io{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Me,this.form=new Ni({},p0(i),m0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Tu.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),d0(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Tu.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Tu.then(()=>{let r=this._findContainer(i.path),o=new Ni({});NM(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Tu.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Tu.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,OM(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(O(Op,10),O(f0,10),O(Vp,8))},e.\u0275dir=ke({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Qe("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[ze.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ti([iG]),Dt]});let t=e;return t})();function mM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function gM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Le=class extends ec{constructor(e=null,n,i){super(g0(n),y0(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(gM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){gM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rG=t=>t instanceof Le;var oo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ke({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var FM=new F("");var oG={provide:io,useExisting:zr(()=>cs)},cs=(()=>{let e=class e extends io{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Me,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Np(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return d0(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){pM(i.control||null,i,!1),nG(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,OM(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(pM(r||null,i),rG(o)&&(d0(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);NM(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&Xq(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){v0(this.form,this),this._oldForm&&Np(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(O(Op,10),O(f0,10),O(Vp,8))},e.\u0275dir=ke({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&Qe("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[ze.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ti([oG]),Dt,un]});let t=e;return t})();var sG={provide:Su,useExisting:zr(()=>Au)},Au=(()=>{let e=class e extends Su{set isDisabled(i){}constructor(i,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Me,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=tG(this,s)}ngOnChanges(i){this._added||this._setUpControl(),Jq(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Wq(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(O(io,13),O(Op,10),O(f0,10),O(_M,10),O(FM,8))},e.\u0275dir=ke({type:e,selectors:[["","formControlName",""]],inputs:{name:[ze.None,"formControlName","name"],isDisabled:[ze.None,"disabled","isDisabled"],model:[ze.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ti([sG]),Dt,un]});let t=e;return t})();var aG=(()=>{let e=class e{constructor(){this._validator=xp}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xp,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ke({type:e,features:[un]});let t=e;return t})();var cG={provide:Op,useExisting:zr(()=>w0),multi:!0};var w0=(()=>{let e=class e extends aG{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Si,this.createValidator=i=>bM}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275dir=ke({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Bt("required",o._enabled?"":null)},inputs:{required:"required"},features:[Ti([cG]),Dt]});let t=e;return t})();var LM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({});let t=e;return t})(),h0=class extends ec{constructor(e,n,i){super(g0(n),y0(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){kM(this,!1,e),e.forEach((i,r)=>{MM(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function yM(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Bp=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let o=this._reduceControls(i),s={};return yM(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ni(o,s)}record(i,r=null){let o=this._reduceControls(i);return new u0(o,r)}control(i,r,o){let s={};return this.useNonNullable?(yM(r)?s=r:(s.validators=r,s.asyncValidators=o),new Le(i,Ce(L({},s),{nonNullable:!0}))):new Le(i,r,o)}array(i,r,o){let s=i.map(a=>this._createControl(a));return new h0(s,r,o)}_reduceControls(i){let r={};return Object.keys(i).forEach(o=>{r[o]=this._createControl(i[o])}),r}_createControl(i){if(i instanceof Le)return i;if(i instanceof ec)return i;if(Array.isArray(i)){let r=i[0],o=i.length>1?i[1]:null,s=i.length>2?i[2]:null;return this.control(r,o,s)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var VM=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Vp,useValue:i.callSetDisabledState??jp}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({imports:[LM]});let t=e;return t})(),jM=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:FM,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Vp,useValue:i.callSetDisabledState??jp}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({imports:[LM]});let t=e;return t})();var BM=(()=>{let e=class e{constructor(){this.title="front"}ngOnInit(){console.log("[app.components]")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=be({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"allScreen","content"]],template:function(r,o){r&1&&(I(0,"div",0),B(1,"router-outlet"),b())},dependencies:[t0],styles:[".allScreen[_ngcontent-%COMP%]{width:100%;height:100%;background-color:gray}"]});let t=e;return t})();var z1=ky($p());var lG="firebase",uG="10.9.0";Tn(lG,uG,"app");var Li=new Ii("ANGULARFIRE2_VERSION");var UM=(t,e)=>{let n=e?[e]:lT(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Fi=class{constructor(){return UM(dG)}},dG="app-check";function nc(){}var Hp=class{zone;delegate;constructor(e,n=Jy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},E0=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nc,{},nc,nc)),n.pipe(et({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},us=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Hp(Zone.current)),this.insideAngular=n.run(()=>new Hp(Zone.current,pi)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(v(Z))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function hG(t){return xu().ngZone.runOutsideAngular(()=>t())}function ls(t){return xu().ngZone.run(()=>t())}function I0(t){return t.pipe(cn(xu().outsideAngular))}function St(t){return fG(xu())(t)}function fG(t){return function(n){return n=n.lift(new E0(t.ngZone)),n.pipe(Sn(t.outsideAngular),cn(t.insideAngular))}}var pG=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ls(()=>t.apply(void 0,i))},C0=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=ls(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nc,{},nc,nc))),i[o]=pG(i[o],n));let r=hG(()=>t.apply(this,i));if(!e)if(r instanceof ne){let o=xu();return r.pipe(Sn(o.outsideAngular),cn(o.insideAngular))}else return ls(()=>r);return r instanceof ne?r.pipe(St):r instanceof Promise?ls(()=>new Promise((o,s)=>r.then(a=>ls(()=>o(a)),a=>ls(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:ls(()=>r)};var mG=new Map,gG={activated:!1,tokenObservers:[]},yG={initialized:!1,enabled:!1};function Jn(t){return mG.get(t)||Object.assign({},gG)}function KM(){return yG}var vG="https://content-firebaseappcheck.googleapis.com/v1";var _G="exchangeDebugToken",$M={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Woe=24*60*60*1e3;var S0=class{constructor(e,n,i,r,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return D(this,null,function*(){this.stop();try{this.pending=new Ny,this.pending.promise.catch(n=>{}),yield wG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ny,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function wG(t){return new Promise(e=>{setTimeout(e,t)})}var bG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},so=new cT("appCheck","AppCheck",bG);function YM(t){if(!Jn(t).activated)throw so.create("use-before-activation",{appName:t.name})}function QM(i,r){return D(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(g){throw so.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw so.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(g){throw so.create("fetch-parse-error",{originalErrorMessage:g?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw so.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(u[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function ZM(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${vG}/projects/${n}/apps/${i}:${_G}?key=${r}`,body:{debug_token:e}}}var EG="firebase-app-check-database",IG=1,A0="firebase-app-check-store";var zp=null;function CG(){return zp||(zp=new Promise((t,e)=>{try{let n=indexedDB.open(EG,IG);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(so.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(A0,{keyPath:"compositeKey"})}}}catch(n){e(so.create("storage-open",{originalErrorMessage:n?.message}))}}),zp)}function DG(t,e){return TG(SG(t),e)}function TG(t,e){return D(this,null,function*(){let i=(yield CG()).transaction(A0,"readwrite"),o=i.objectStore(A0).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(so.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function SG(t){return`${t.options.appId}-${t.name}`}var x0=new yh("@firebase/app-check");function T0(t,e){return mh()?DG(t,e).catch(n=>{x0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function XM(){return KM().enabled}function JM(){return D(this,null,function*(){let t=KM();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var AG={error:"UNKNOWN_ERROR"};function xG(t){return aT.encodeString(JSON.stringify(t),!1)}function R0(t,e=!1){return D(this,null,function*(){let n=t.app;YM(n);let i=Jn(n),r=i.token,o;if(r&&!Ru(r)&&(i.token=void 0,r=void 0),!r){let c=yield i.cachedTokenPromise;c&&(Ru(c)?r=c:yield T0(n,void 0))}if(!e&&r&&Ru(r))return{token:r.token};let s=!1;if(XM()){i.exchangeTokenPromise||(i.exchangeTokenPromise=QM(ZM(n,yield JM()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let c=yield i.exchangeTokenPromise;return yield T0(n,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Jn(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?x0.warn(c.message):x0.error(c),o=c}let a;return r?o?Ru(r)?a={token:r.token,internalError:o}:a=zM(o):(a={token:r.token},i.token=r,yield T0(n,r)):a=zM(o),s&&PG(n,a),a})}function RG(t){return D(this,null,function*(){let e=t.app;YM(e);let{provider:n}=Jn(e);if(XM()){let i=yield JM(),{token:r}=yield QM(ZM(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function MG(t,e,n,i){let{app:r}=t,o=Jn(r),s={next:n,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ru(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),HM(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>HM(t))}function e1(t,e){let n=Jn(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function HM(t){let{app:e}=t,n=Jn(e),i=n.tokenRefresher;i||(i=kG(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function kG(t){let{app:e}=t;return new S0(()=>D(this,null,function*(){let n=Jn(e),i;if(n.token?i=yield R0(t,!0):i=yield R0(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Jn(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},$M.RETRIAL_MIN_WAIT,$M.RETRIAL_MAX_WAIT)}function PG(t,e){let n=Jn(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Ru(t){return t.expireTimeMillis-Date.now()>0}function zM(t){return{token:xG(AG),error:t}}var M0=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Jn(this.app);for(let n of e)e1(this.app,n.next);return Promise.resolve()}};function NG(t,e){return new M0(t,e)}function OG(t){return{getToken:e=>R0(t,e),getLimitedUseToken:()=>RG(t),addTokenListener:e=>MG(t,"INTERNAL",e),removeTokenListener:e=>e1(t.app,e)}}var FG="@firebase/app-check",LG="0.8.2";var VG="app-check",qM="app-check-internal";function jG(){Fo(new Hn(VG,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return NG(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(qM).initialize()})),Fo(new Hn(qM,t=>{let e=t.getProvider("app-check").getImmediate();return OG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Tn(FG,LG)}jG();var BG=["localhost","0.0.0.0","127.0.0.1"],ose=typeof window<"u"&&BG.includes(window.location.hostname);var UG="firebase",$G="10.9.0";wt.registerVersion(UG,$G,"app-compat");var HG=["ngOnDestroy"],n1=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{if(t[o])return i?.spy?.get&&i.spy.get(o,t[o]),t[o];if(HG.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(u=>{let f=u?.(...l);return i?.spy?.apply&&i.spy.apply(o,l,f),f})})})});var qp=class{constructor(e){return e}},ao=new F("angularfire2.app.options"),co=new F("angularfire2.app.name");function ds(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=wt.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>wt.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;zG("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new qp(s)}var zG=(t,...e)=>{X_()&&typeof console<"u"&&console[t](...e)},qG={provide:qp,useFactory:ds,deps:[ao,Z,[new Ba,co]]},i1=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:ao,useValue:n},{provide:co,useValue:i}]}}constructor(n){wt.registerVersion("angularfire",Li.full,"core"),wt.registerVersion("angularfire",Li.full,"app-compat"),wt.registerVersion("angular",Mx.full,n.toString())}static \u0275fac=function(i){return new(i||t)(v(pt))};static \u0275mod=ie({type:t});static \u0275inj=re({providers:[qG]})}return t})();function ic(t,e,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return GG(r,s)||(t1("error",`${e} was already initialized on the ${n} Firebase App with different settings.${WG?" You may need to reload as Firebase is not HMR aware.":""}`),t1("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function GG(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var WG=typeof module<"u"&&!!module.hot,t1=(t,...e)=>{X_()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var h1="firebasestorage.googleapis.com",f1="storageBucket",YG=2*60*1e3,QG=10*60*1e3,ZG=1e3;var nt=class t extends gh{constructor(e,n,i=0){super(P0(e),`Firebase Storage: ${n} (${P0(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return P0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ze=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ze||{});function P0(t){return"storage/"+t}function U0(){let t="An unknown error occurred, please check the error payload for server response.";return new nt(Ze.UNKNOWN,t)}function XG(t){return new nt(Ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function JG(t){return new nt(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function e9(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nt(Ze.UNAUTHENTICATED,t)}function t9(){return new nt(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function n9(t){return new nt(Ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function p1(){return new nt(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function m1(){return new nt(Ze.CANCELED,"User canceled the upload/download.")}function i9(t){return new nt(Ze.INVALID_URL,"Invalid URL '"+t+"'.")}function r9(t){return new nt(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function o9(){return new nt(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+f1+"' property when initializing the app?")}function g1(){return new nt(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function s9(){return new nt(Ze.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function a9(){return new nt(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c9(t){return new nt(Ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hs(t){return new nt(Ze.INVALID_ARGUMENT,t)}function y1(){return new nt(Ze.APP_DELETED,"The Firebase app was deleted.")}function $0(t){return new nt(Ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ku(t,e){return new nt(Ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mu(t){throw new nt(Ze.INTERNAL_ERROR,"Internal error: "+t)}var Jt=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw r9(e)}static makeFromUrl(e,n){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function l(x){x.path_=decodeURIComponent(x.path)}let u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${u}/b/${r}/o${m}`,"i"),_={bucket:1,path:3},E=n===h1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",S=new RegExp(`^https?://${E}/${r}/${w}`,"i"),M=[{regex:a,indices:c,postModify:o},{regex:g,indices:_,postModify:l},{regex:S,indices:{bucket:1,path:2},postModify:l}];for(let x=0;x<M.length;x++){let q=M[x],ee=q.regex.exec(e);if(ee){let Ie=ee[q.indices.bucket],Je=ee[q.indices.path];Je||(Je=""),i=new t(Ie,Je),q.postModify(i);break}}if(i==null)throw i9(e);return i}},O0=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function l9(t,e,n){let i=1,r=null,o=null,s=!1,a=0;function c(){return a===2}let l=!1;function u(...w){l||(l=!0,e.apply(null,w))}function f(w){r=setTimeout(()=>{r=null,t(g,c())},w)}function m(){o&&clearTimeout(o)}function g(w,...S){if(l){m();return}if(w){m(),u.call(null,w,...S);return}if(c()||s){m(),u.call(null,w,...S);return}i<64&&(i*=2);let M;a===1?(a=2,M=0):M=(i+Math.random())*1e3,f(M)}let _=!1;function E(w){_||(_=!0,m(),!l&&(r!==null?(w||(a=2),clearTimeout(r),f(0)):w||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,E(!0)},n),E}function u9(t){t(!1)}function d9(t){return t!==void 0}function h9(t){return typeof t=="function"}function f9(t){return typeof t=="object"&&!Array.isArray(t)}function Kp(t){return typeof t=="string"||t instanceof String}function r1(t){return H0()&&t instanceof Blob}function H0(){return typeof Blob<"u"}function F0(t,e,n,i){if(i<e)throw hs(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw hs(`Invalid value for '${t}'. Expected ${n} or less.`)}function lo(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function v1(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var sc=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(sc||{});function _1(t,e){let n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}var L0=class{constructor(e,n,i,r,o,s,a,c,l,u,f,m=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new oc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===sc.NO_ERROR,c=o.getStatus();if(!a||_1(c,this.additionalRetryCodes_)&&this.retry){let u=o.getErrorCode()===sc.ABORT;i(!1,new oc(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;i(!0,new oc(l,o))})},n=(i,r)=>{let o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());d9(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=U0();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(r.canceled){let c=this.appDelete_?y1():m1();s(c)}else{let c=p1();s(c)}};this.canceled_?n(!1,new oc(!1,null,!0)):this.backoffId_=l9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},oc=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function p9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function m9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function g9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function y9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function v9(t,e,n,i,r,o,s=!0){let a=v1(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return g9(l,e),p9(l,n),m9(l,o),y9(l,i),new L0(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,s)}function _9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function w9(...t){let e=_9();if(e!==void 0){let n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(H0())return new Blob(t);throw new nt(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function b9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function E9(t){if(typeof atob>"u")throw c9("base-64");return atob(t)}var bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Pu=class{constructor(e,n){this.data=e,this.contentType=n||null}};function z0(t,e){switch(t){case bn.RAW:return new Pu(w1(e));case bn.BASE64:case bn.BASE64URL:return new Pu(b1(t,e));case bn.DATA_URL:return new Pu(C9(e),D9(e))}throw U0()}function w1(t){let e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=i,s=t.charCodeAt(++n);i=65536|(o&1023)<<10|s&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function I9(t){let e;try{e=decodeURIComponent(t)}catch{throw ku(bn.DATA_URL,"Malformed data URL.")}return w1(e)}function b1(t,e){switch(t){case bn.BASE64:{let r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw ku(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case bn.BASE64URL:{let r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw ku(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=E9(e)}catch(r){throw r.message.includes("polyfill")?r:ku(t,"Invalid character found")}let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}var Wp=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw ku(bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=n[1]||null;i!=null&&(this.base64=T9(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function C9(t){let e=new Wp(t);return e.base64?b1(bn.BASE64,e.rest):I9(e.rest)}function D9(t){return new Wp(t).contentType}function T9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var ac=class t{constructor(e,n){let i=0,r="";r1(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(r1(this.data_)){let i=this.data_,r=b9(i,e,n);return r===null?null:new t(r)}else{let i=new Uint8Array(this.data_.buffer,e,n-e);return new t(i,!0)}}static getBlob(...e){if(H0()){let n=e.map(i=>i instanceof t?i.data_:i);return new t(w9.apply(null,n))}else{let n=e.map(s=>Kp(s)?z0(bn.RAW,s).data:s.data_),i=0;n.forEach(s=>{i+=s.byteLength});let r=new Uint8Array(i),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new t(r,!0)}}uploadData(){return this.data_}};function q0(t){let e;try{e=JSON.parse(t)}catch{return null}return f9(e)?e:null}function S9(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function A9(t,e){let n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function E1(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function x9(t,e){return e}var Ot=class{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||x9}},Gp=null;function R9(t){return!Kp(t)||t.length<2?t:E1(t)}function Yp(){if(Gp)return Gp;let t=[];t.push(new Ot("bucket")),t.push(new Ot("generation")),t.push(new Ot("metageneration")),t.push(new Ot("name","fullPath",!0));function e(o,s){return R9(s)}let n=new Ot("name");n.xform=e,t.push(n);function i(o,s){return s!==void 0?Number(s):s}let r=new Ot("size");return r.xform=i,t.push(r),t.push(new Ot("timeCreated")),t.push(new Ot("updated")),t.push(new Ot("md5Hash",null,!0)),t.push(new Ot("cacheControl",null,!0)),t.push(new Ot("contentDisposition",null,!0)),t.push(new Ot("contentEncoding",null,!0)),t.push(new Ot("contentLanguage",null,!0)),t.push(new Ot("contentType",null,!0)),t.push(new Ot("metadata","customMetadata",!0)),Gp=t,Gp}function M9(t,e){function n(){let i=t.bucket,r=t.fullPath,o=new Jt(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function k9(t,e,n){let i={};i.type="file";let r=n.length;for(let o=0;o<r;o++){let s=n[o];i[s.local]=s.xform(i,e[s.server])}return M9(i,t),i}function I1(t,e,n){let i=q0(e);return i===null?null:k9(t,i,n)}function P9(t,e,n,i){let r=q0(e);if(r===null||!Kp(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let u=t.bucket,f=t.fullPath,m="/b/"+s(u)+"/o/"+s(f),g=lo(m,n,i),_=v1({alt:"media",token:l});return g+_})[0]}function G0(t,e){let n={},i=e.length;for(let r=0;r<i;r++){let o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var o1="prefixes",s1="items";function N9(t,e,n){let i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[o1])for(let r of n[o1]){let o=r.replace(/\/$/,""),s=t._makeStorageReference(new Jt(e,o));i.prefixes.push(s)}if(n[s1])for(let r of n[s1]){let o=t._makeStorageReference(new Jt(e,r.name));i.items.push(o)}return i}function O9(t,e,n){let i=q0(n);return i===null?null:N9(t,e,i)}var ei=class{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function ji(t){if(!t)throw U0()}function Qp(t,e){function n(i,r){let o=I1(t,r,e);return ji(o!==null),o}return n}function F9(t,e){function n(i,r){let o=O9(t,e,r);return ji(o!==null),o}return n}function L9(t,e){function n(i,r){let o=I1(t,r,e);return ji(o!==null),P9(o,r,t.host,t._protocol)}return n}function uc(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=t9():r=e9():n.getStatus()===402?r=JG(t.bucket):n.getStatus()===403?r=n9(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function Zp(t){let e=uc(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=XG(t.path)),o.serverResponse=r.serverResponse,o}return n}function C1(t,e,n){let i=e.fullServerUrl(),r=lo(i,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new ei(r,o,Qp(t,n),s);return a.errorHandler=Zp(e),a}function V9(t,e,n,i,r){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);let s=e.bucketOnlyServerUrl(),a=lo(s,t.host,t._protocol),c="GET",l=t.maxOperationRetryTime,u=new ei(a,c,F9(t,e.bucket),l);return u.urlParams=o,u.errorHandler=uc(e),u}function j9(t,e,n){let i=e.fullServerUrl(),r=lo(i,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new ei(r,o,L9(t,n),s);return a.errorHandler=Zp(e),a}function B9(t,e,n,i){let r=e.fullServerUrl(),o=lo(r,t.host,t._protocol),s="PATCH",a=G0(n,i),c={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,u=new ei(o,s,Qp(t,i),l);return u.headers=c,u.body=a,u.errorHandler=Zp(e),u}function U9(t,e){let n=e.fullServerUrl(),i=lo(n,t.host,t._protocol),r="DELETE",o=t.maxOperationRetryTime;function s(c,l){}let a=new ei(i,r,s,o);return a.successCodes=[200,204],a.errorHandler=Zp(e),a}function $9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function D1(t,e,n){let i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=$9(null,e)),i}function H9(t,e,n,i,r){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let M="";for(let x=0;x<2;x++)M=M+Math.random().toString().slice(2);return M}let c=a();s["Content-Type"]="multipart/related; boundary="+c;let l=D1(e,i,r),u=G0(l,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,m=`\r
--`+c+"--",g=ac.getBlob(f,i,m);if(g===null)throw g1();let _={name:l.fullPath},E=lo(o,t.host,t._protocol),w="POST",S=t.maxUploadRetryTime,j=new ei(E,w,Qp(t,n),S);return j.urlParams=_,j.headers=s,j.body=g.uploadData(),j.errorHandler=uc(e),j}var cc=class{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}};function W0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ji(!1)}return ji(!!n&&(e||["active"]).indexOf(n)!==-1),n}function z9(t,e,n,i,r){let o=e.bucketOnlyServerUrl(),s=D1(e,i,r),a={name:s.fullPath},c=lo(o,t.host,t._protocol),l="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=G0(s,n),m=t.maxUploadRetryTime;function g(E){W0(E);let w;try{w=E.getResponseHeader("X-Goog-Upload-URL")}catch{ji(!1)}return ji(Kp(w)),w}let _=new ei(c,l,g,m);return _.urlParams=a,_.headers=u,_.body=f,_.errorHandler=uc(e),_}function q9(t,e,n,i){let r={"X-Goog-Upload-Command":"query"};function o(l){let u=W0(l,["active","final"]),f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ji(!1)}f||ji(!1);let m=Number(f);return ji(!isNaN(m)),new cc(m,i.size(),u==="final")}let s="POST",a=t.maxUploadRetryTime,c=new ei(n,s,o,a);return c.headers=r,c.errorHandler=uc(e),c}var a1=256*1024;function G9(t,e,n,i,r,o,s,a){let c=new cc(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw s9();let l=c.total-c.current,u=l;r>0&&(u=Math.min(u,r));let f=c.current,m=f+u,g="";u===0?g="finalize":l===u?g="upload, finalize":g="upload";let _={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${c.current}`},E=i.slice(f,m);if(E===null)throw g1();function w(x,q){let ee=W0(x,["active","final"]),Ie=c.current+u,Je=i.size(),li;return ee==="final"?li=Qp(e,o)(x,q):li=null,new cc(Ie,Je,ee==="final",li)}let S="POST",j=e.maxUploadRetryTime,M=new ei(n,S,w,j);return M.headers=_,M.body=E.uploadData(),M.progressCallback=a||null,M.errorHandler=uc(t),M}var T1={STATE_CHANGED:"state_changed"},Ut={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function N0(t){switch(t){case"running":case"pausing":case"canceling":return Ut.RUNNING;case"paused":return Ut.PAUSED;case"success":return Ut.SUCCESS;case"canceled":return Ut.CANCELED;case"error":return Ut.ERROR;default:return Ut.ERROR}}var V0=class{constructor(e,n,i){if(h9(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{let o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function rc(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var c1=null,j0=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Mu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},B0=class extends j0{initXhr(){this.xhr_.responseType="text"}};function Vi(){return c1?c1():new B0}var Nu=class{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=Yp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ze.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(_1(r.status,[]))if(o)r=p1();else{this.sleepTime=Math.max(this.sleepTime*2,ZG),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ze.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let i=z9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Vi,e,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,i)=>{let r=q9(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,Vi,n,i);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=a1*this._chunkMultiplier,n=new cc(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=G9(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let a=this._ref.storage._makeRequest(s,Vi,r,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){a1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let i=C1(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Vi,e,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let i=H9(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Vi,e,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=m1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=N0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){let o=new V0(n||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(N0(this._state)){case Ut.SUCCESS:rc(this._resolve.bind(null,this.snapshot))();break;case Ut.CANCELED:case Ut.ERROR:let n=this._reject;rc(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(N0(this._state)){case Ut.RUNNING:case Ut.PAUSED:e.next&&rc(e.next.bind(e,this.snapshot))();break;case Ut.SUCCESS:e.complete&&rc(e.complete.bind(e))();break;case Ut.CANCELED:case Ut.ERROR:e.error&&rc(e.error.bind(e,this._error))();break;default:e.error&&rc(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var lc=class t{constructor(e,n){this._service=e,n instanceof Jt?this._location=n:this._location=Jt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Jt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E1(this._location.path)}get storage(){return this._service}get parent(){let e=S9(this._location.path);if(e===null)return null;let n=new Jt(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $0(e)}};function W9(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Nu(t,new ac(e),n)}function K9(t){let e={prefixes:[],items:[]};return S1(t,e).then(()=>e)}function S1(t,e,n){return D(this,null,function*(){let r=yield A1(t,{pageToken:n});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&(yield S1(t,e,r.nextPageToken))})}function A1(t,e){e!=null&&typeof e.maxResults=="number"&&F0("options.maxResults",1,1e3,e.maxResults);let n=e||{},i=V9(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,Vi)}function Y9(t){t._throwIfRoot("getMetadata");let e=C1(t.storage,t._location,Yp());return t.storage.makeRequestWithTokens(e,Vi)}function Q9(t,e){t._throwIfRoot("updateMetadata");let n=B9(t.storage,t._location,e,Yp());return t.storage.makeRequestWithTokens(n,Vi)}function Z9(t){t._throwIfRoot("getDownloadURL");let e=j9(t.storage,t._location,Yp());return t.storage.makeRequestWithTokens(e,Vi).then(n=>{if(n===null)throw a9();return n})}function X9(t){t._throwIfRoot("deleteObject");let e=U9(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Vi)}function x1(t,e){let n=A9(t._location.path,e),i=new Jt(t._location.bucket,n);return new lc(t.storage,i)}function J9(t){return/^[A-Za-z]+:\/\//.test(t)}function e6(t,e){return new lc(t,e)}function R1(t,e){if(t instanceof Ou){let n=t;if(n._bucket==null)throw o9();let i=new lc(n,n._bucket);return e!=null?R1(i,e):i}else return e!==void 0?x1(t,e):t}function t6(t,e){if(e&&J9(e)){if(t instanceof Ou)return e6(t,e);throw hs("To use ref(service, url), the first argument must be a Storage instance.")}else return R1(t,e)}function l1(t,e){let n=e?.[f1];return n==null?null:Jt.makeFromBucketSpec(n,t)}function n6(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:ph(r,t.app.options.projectId))}var Ou=class{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=h1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YG,this._maxUploadRetryTime=QG,this._requests=new Set,r!=null?this._bucket=Jt.makeFromBucketSpec(r,this._host):this._bucket=l1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jt.makeFromBucketSpec(this._url,e):this._bucket=l1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return D(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return D(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lc(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new O0(y1());{let s=v9(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return D(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()})}},u1="@firebase/storage",d1="0.12.2";var i6="storage";function M1(t,e,n){return t=xe(t),W9(t,e,n)}function k1(t){return t=xe(t),Y9(t)}function P1(t,e){return t=xe(t),Q9(t,e)}function N1(t,e){return t=xe(t),A1(t,e)}function O1(t){return t=xe(t),K9(t)}function K0(t){return t=xe(t),Z9(t)}function F1(t){return t=xe(t),X9(t)}function Xp(t,e){return t=xe(t),t6(t,e)}function L1(t,e){return x1(t,e)}function V1(t,e,n,i={}){n6(t,e,n,i)}function r6(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Ou(n,i,r,e,vh)}function o6(){Fo(new Hn(i6,r6,"PUBLIC").setMultipleInstances(!0)),Tn(u1,d1,""),Tn(u1,d1,"esm2017")}o6();var dc=class{constructor(e,n,i){this._delegate=e,this.task=n,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var Jp=class{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new dc(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(i=>{if(e)return e(new dc(i,this,this._ref))},n)}on(e,n,i,r){let o;return n&&(typeof n=="function"?o=s=>n(new dc(s,this,this._ref)):o={next:n.next?s=>n.next(new dc(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,i||void 0,r||void 0)}},em=class{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new fs(e,this._service))}get items(){return this._delegate.items.map(e=>new fs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var fs=class t{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let n=L1(this._delegate,e);return new t(n,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new Jp(M1(this._delegate,e,n),this)}putString(e,n=bn.RAW,i){this._throwIfRoot("putString");let r=z0(n,e),o=Object.assign({},i);return o.contentType==null&&r.contentType!=null&&(o.contentType=r.contentType),new Jp(new Nu(this._delegate,new ac(r.data,!0),o),this)}listAll(){return O1(this._delegate).then(e=>new em(e,this.storage))}list(e){return N1(this._delegate,e||void 0).then(n=>new em(n,this.storage))}getMetadata(){return k1(this._delegate)}updateMetadata(e){return P1(this._delegate,e)}getDownloadURL(){return K0(this._delegate)}delete(){return this._throwIfRoot("delete"),F1(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw $0(e)}};var tm=class{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(j1(e))throw hs("ref() expected a child path but got a URL, use refFromURL instead.");return new fs(Xp(this._delegate,e),this)}refFromURL(e){if(!j1(e))throw hs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Jt.makeFromUrl(e,this._delegate.host)}catch{throw hs("refFromUrl() expected a valid full URL but got an invalid one.")}return new fs(Xp(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,i={}){V1(this._delegate,e,n,i)}};function j1(t){return/^[A-Za-z]+:\/\//.test(t)}var s6="@firebase/storage-compat",a6="0.3.5";var c6="storage-compat";function l6(t,{instanceIdentifier:e}){let n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("storage").getImmediate({identifier:e});return new tm(n,i)}function u6(t){let e={TaskState:Ut,TaskEvent:T1,StringFormat:bn,Storage:tm,Reference:fs};t.INTERNAL.registerComponent(new Hn(c6,l6,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(s6,a6)}u6(wt);function d6(t){return new ne(e=>{let n=s=>e.next(s),i=s=>e.error(s),r=()=>e.complete();n(t.snapshot);let o=t.on("state_changed",n);return t.then(s=>{n(s),r()},s=>{n(t.snapshot),i(s)}),function(){o()}}).pipe(va(0))}function B1(t){let e=d6(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Y(n=>n.bytesTransferred/n.totalBytes*100))}}function nm(t){return{getDownloadURL:()=>G(void 0).pipe(I0,$e(()=>t.getDownloadURL()),St),getMetadata:()=>G(void 0).pipe(I0,$e(()=>t.getMetadata()),St),delete:()=>ge(t.delete()),child:e=>nm(t.child(e)),updateMetadata:e=>ge(t.updateMetadata(e)),put:(e,n)=>{let i=t.put(e,n);return B1(i)},putString:(e,n,i)=>{let r=t.putString(e,n,i);return B1(r)},list:e=>ge(t.list(e)),listAll:()=>ge(t.listAll())}}var h6=new F("angularfire2.storageBucket"),f6=new F("angularfire2.storage.maxUploadRetryTime"),p6=new F("angularfire2.storage.maxOperationRetryTime"),m6=new F("angularfire2.storage.use-emulator"),Y0=(()=>{class t{storage;constructor(n,i,r,o,s,a,c,l,u,f){let m=ds(n,s,i);this.storage=ic(`${m.name}.storage.${r}`,"AngularFireStorage",m.name,()=>{let g=s.runOutsideAngular(()=>m.storage(r||void 0)),_=u;return _&&g.useEmulator(..._),c&&g.setMaxUploadRetryTime(c),l&&g.setMaxOperationRetryTime(l),g},[c,l])}ref(n){return nm(this.storage.ref(n))}refFromURL(n){return nm(this.storage.refFromURL(n))}upload(n,i,r){let o=this.storage.ref(n);return nm(o).put(i,r)}static \u0275fac=function(i){return new(i||t)(v(ao),v(co,8),v(h6,8),v(pt),v(Z),v(us),v(f6,8),v(p6,8),v(m6,8),v(Fi,8))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var g6=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ie({type:t});static \u0275inj=re({})}return t})(),U1=(()=>{class t{constructor(){wt.registerVersion("angularfire",Li.full,"gcs-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=ie({type:t});static \u0275inj=re({providers:[Y0],imports:[g6]})}return t})();var $1="auth",im=(()=>{let e=class e{constructor(i){this.http=i,console.log("El servicio de autenticaci\xF3n est\xE1 corriendo.")}token(){return console.log("Archivo Autenticacion Service, token(): ",sessionStorage.getItem("token")),sessionStorage.getItem("token")}setToken(i){sessionStorage.setItem("token",i)}removeToken(){sessionStorage.removeItem("token"),console.log("Token removido, desde archivo autentication service",sessionStorage.getItem("token"))}iniciarSesion(){console.log("[CHE-AutenticacionService]"),window.sessionStorage.setItem($1,"solecita")}cerrarSesion(){window.sessionStorage.clear()}getToken(){return sessionStorage.getItem($1)}};e.\u0275fac=function(r){return new(r||e)(v(rs))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function v6(t,e){t&1&&(I(0,"div")(1,"button",21),R(2,"MODO EDICI\xD3N"),b()())}function _6(t,e){if(t&1){let n=dr();I(0,"div")(1,"button",22),Qe("click",function(r){Yn(n);let o=ot();return Qn(o.logout(r))}),R(2,"TERMINAR EDICI\xD3N"),b()()}}var hc=(()=>{let e=class e{constructor(i,r,o){this.storage=i,this.router=r,this.autenticacionService=o,this.loginActive=!0,this.registerActive=!1,this.portfolioActive=!1,this.pageNotFoundActive=!1}ngOnInit(){switch(console.log("[CHE-NAVBAR]"),console.log("CHE: islogged:",this.isLogged),console.log(this.imageUrl),this.rutaActiva=this.router.url,console.log(this.rutaActiva),console.log("Ruta activa: ",this.router.url),this.router.url){case"/portfolio":{this.portfolioActive=!0,this.registerActive=!1,this.loginActive=!1;break}case"/login":{this.loginActive=!0,this.registerActive=!1,this.portfolioActive=!1,this.pageNotFoundActive=!1;break}case"/register":{this.registerActive=!0,this.loginActive=!1;break}default:{this.pageNotFoundActive=!0,this.portfolioActive=!1,this.registerActive=!1,this.loginActive=!1;break}}}cerrarSesion(){this.autenticacionService.cerrarSesion(),window.location.reload()}logout(i){i.preventDefault,z1.default.fire({title:"\xBFCerrar sesi\xF3n?",text:"",icon:"warning",showCancelButton:!0,cancelButtonColor:"#747174",cancelButtonText:"Cancelar",confirmButtonColor:"#00b5ff",confirmButtonText:"Confirmar"}).then(r=>{r.isConfirmed&&(sessionStorage.removeItem("token"),this.autenticacionService.removeToken(),console.log("Token removido, notifico desde navbar ",sessionStorage.getItem("token")),this.router.navigate(["/login"]))})}};e.\u0275fac=function(r){return new(r||e)(O(Y0),O(fn),O(im))},e.\u0275cmp=be({type:e,selectors:[["app-navbar"]],inputs:{isLogged:"isLogged",personas:"personas"},decls:29,vars:2,consts:[[1,"divgrid"],[1,"columna"],["href","https://argentinaprograma.inti.gob.ar","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Argentina Programa..."],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/logoArgProg.png?alt=media&token=abb59739-47fa-4585-9fbd-ad7d7c36a9ed","alt","INTI...",1,"logoInti"],["id","nvtext",1,"columna","d-flex","justify-content-center","align-items-center"],[1,"ttit"],[1,"columna","d-flex","justify-content-center","align-items-center","iconos"],["href","https://github.com/HCanestraro","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to GitHub..."],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/logo-github.svg?alt=media&token=3e2cef89-71db-4f14-8832-722cf7e15bb8","alt","GitHub...",1,"logos","m-1","shadow","rounded","p-1"],["href","https://instagram.com/@canestraro-che","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Instagram..."],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/cheinstagram.png?alt=media&token=77cdf397-bac9-4f0f-b613-2e7865d2d1b9","alt","Instagram...",1,"logos"],["href","https://www.twitter.com/@canestraro-che","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to X (ex-Twitter)..."],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/x-Twitter.jpg?alt=media&token=a4ea6cd4-f7ae-4ebb-a493-a9083cc4a29c","alt","Twitter...",1,"logos"],["href","https://ar.linkedin.com/in/hernan-canestraro-44448435","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Linkedin.."],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/chelinkedin.png?alt=media&token=b0cac579-0286-4c34-9d38-e42e190bb13c","alt","Linkedin...",1,"logos"],["href","https://sites.google.com/view/HCanestraro","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Google Sites..."],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/chegooglesites.jpeg?alt=media&token=f93b024d-0394-45e0-9ff8-d1a4372f362e","alt","Google Sites...",1,"logos"],["href","https://www.youtube.com/@HCanestraro","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Youtube..."],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/cheyoutube.png?alt=media&token=5aaf1f92-1587-4b48-809d-7fbbf25c37d8","alt","Youtube...",1,"logos"],[1,"colunma","d-flex","justify-content-center","align-items-center"],[4,"ngIf"],["data-bs-toggle","tooltip","data-bs-placement","bottom","title","Abrir sesi\xF3n...","routerLink","/portfolio",1,"btn","btn-info","btn-md","fw-bold","shadow-lg","buttonx"],["data-bs-toggle","tooltip","data-bs-placement","bottom","title","Cerrar sesi\xF3n...",1,"btn","btn-dark","rounded","text-white","shadow-lg","buttonx",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"a",2),B(3,"img",3),b()(),I(4,"div",4)(5,"h1",5),R(6,"Integrator Project"),b()(),I(7,"div",6)(8,"div")(9,"a",7),B(10,"img",8),b()(),I(11,"div")(12,"a",9),B(13,"img",10),b()(),I(14,"div")(15,"a",11),B(16,"img",12),b()(),I(17,"div")(18,"a",13),B(19,"img",14),b()(),I(20,"div")(21,"a",15),B(22,"img",16),b()(),I(23,"div")(24,"a",17),B(25,"img",18),b()()(),I(26,"div",19),Pe(27,v6,3,0,"div",20)(28,_6,3,0,"div",20),b()()),r&2&&(K(27),ae("ngIf",o.portfolioActive===!1),K(),ae("ngIf",o.portfolioActive===!0))},dependencies:[Qr,Xa],styles:[".divgrid[_ngcontent-%COMP%]{border:2px solid blue;display:grid;grid-template-columns:25% 25% 25% 25%;border-radius:5px}.gridSocial[_ngcontent-%COMP%]{display:grid;grid-template-columns:25% 25% 25% 25% 25%}.columna[_ngcontent-%COMP%]{border:1px solid #ddd}.buttonx[_ngcontent-%COMP%]{font-size:x-large}.buttonx[_ngcontent-%COMP%]:after{border-color:#00f}.imgCover[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.iconos[_ngcontent-%COMP%]{flex-direction:row;padding:1px}"]});let t=e;return t})();function Fu(t,e=0){return w6(t)?Number(t):e}function w6(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function fc(t){return Array.isArray(t)?t:[t]}function ut(t){return t==null?"":typeof t=="string"?t:`${t}px`}function gr(t){return t instanceof Oe?t.nativeElement:t}var Z0;try{Z0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Z0=!1}var At=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?cw(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Z0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(v(pt))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Lu;function b6(){if(Lu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Lu=!0}))}finally{Lu=Lu||!1}return Lu}function pc(t){return b6()?t:!!t.capture}var ps;function G1(){if(ps==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ps=!1,ps;if("scrollBehavior"in document.documentElement.style)ps=!0;else{let t=Element.prototype.scrollTo;t?ps=!/\{\s*\[native code\]\s*\}/.test(t.toString()):ps=!1}}return ps}var Q0;function E6(){if(Q0==null){let t=typeof document<"u"?document.head:null;Q0=!!(t&&(t.createShadowRoot||t.attachShadow))}return Q0}function W1(t){if(E6()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Vu(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function ti(t){return t.composedPath?t.composedPath()[0]:t.target}function ju(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var I6=new F("cdk-dir-doc",{providedIn:"root",factory:C6});function C6(){return V(he)}var D6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function T6(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?D6.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Bu=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new Me,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=T6(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(v(I6,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({});let t=e;return t})();var R6=20,Y1=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this._platform=r,this._scrolled=new ue,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=R6){return this._platform.isBrowser?new ne(r=>{this._globalSubscription||this._addGlobalListener();let o=i>0?this._scrolled.pipe(Hh(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):G()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let o=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(Re(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,i)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let o=gr(r),s=i.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return El(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(v(Z),v(At),v(he,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var M6=20,X0=(()=>{let e=class e{constructor(i,r,o){this._platform=i,this._change=new ue,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(i.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+o,right:i.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),o=i.documentElement,s=o.getBoundingClientRect(),a=-s.top||i.body.scrollTop||r.scrollY||o.scrollTop||0,c=-s.left||i.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:c}}change(i=M6){return i>0?this._change.pipe(Hh(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(v(At),v(Z),v(he,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var K1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({});let t=e;return t})(),J0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({imports:[uo,K1,uo,K1]});let t=e;return t})();var Uu=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},mc=class extends Uu{constructor(e,n,i,r,o){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},gc=class extends Uu{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},eb=class extends Uu{constructor(e){super(),this.element=e instanceof Oe?e.nativeElement:e}},yc=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof mc)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof gc)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof eb)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var om=class extends yc{constructor(e,n,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||tt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var $u=(()=>{let e=class e extends yc{constructor(i,r,o){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Me,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=r.createComponent(s,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};e.\u0275fac=function(r){return new(r||e)(O(qr),O(Pn),O(he))},e.\u0275dir=ke({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[ze.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Dt]});let t=e;return t})();var ms=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({});let t=e;return t})();function sm(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Q1=G1(),tb=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ut(-this._previousScrollPosition.left),e.style.top=ut(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,i=e.style,r=n.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Q1&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Q1&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var nb=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Re(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},am=class{enable(){}disable(){}attach(){}};function ib(t,e){return e.some(n=>{let i=t.bottom<n.top,r=t.top>n.bottom,o=t.right<n.left,s=t.left>n.right;return i||r||o||s})}function Z1(t,e){return e.some(n=>{let i=t.top<n.top,r=t.bottom>n.bottom,o=t.left<n.left,s=t.right>n.right;return i||r||o||s})}var rb=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();ib(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},P6=(()=>{let e=class e{constructor(i,r,o,s){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new am,this.close=a=>new nb(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new tb(this._viewportRuler,this._document),this.reposition=a=>new rb(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(v(Y1),v(X0),v(Z),v(he))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hu=class{constructor(e){if(this.scrollStrategy=new am,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let i of n)e[i]!==void 0&&(this[i]=e[i])}}};var ob=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var nk=(()=>{let e=class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(v(he))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),N6=(()=>{let e=class e extends nk{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let c=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(o)):c.next(o);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(v(he),v(Z,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),O6=(()=>{let e=class e extends nk{constructor(i,r,o){super(i),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ti(s)},this._clickListener=s=>{let a=ti(s),c=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){let f=l[u];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(a)||f.overlayElement.contains(c))break;let m=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(s)):m.next(s)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(v(he),v(At),v(Z,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vc=(()=>{let e=class e{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||ju()){let o=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(i),ju()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(v(he),v(At))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yr=class{constructor(e,n,i,r,o,s,a,c,l,u=!1){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new ue,this._attachments=new ue,this._detachments=new ue,this._locationChanges=Ge.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new ue,this._outsidePointerEvents=new ue,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Et(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=L(L({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Ce(L({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=ut(this._config.width),e.height=ut(this._config.height),e.minWidth=ut(this._config.minWidth),e.minHeight=ut(this._config.minHeight),e.maxWidth=ut(this._config.maxWidth),e.maxHeight=ut(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){let r=fc(n||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(gi(Uo(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},X1="cdk-overlay-connected-position-bounding-box",F6=/([A-Za-z%]+)$/,sb=class{get positions(){return this._preferredPositions}constructor(e,n,i,r,o){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ue,this._resizeSubscription=Ge.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(X1),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,n,a),u=this._getOverlayFit(l,n,i,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(u,l,i)){o.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:n})}if(o.length){let a=null,c=-1;for(let l of o){let u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(X1),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:a}n.left<0&&(r-=n.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(e,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return i.overlayY=="center"?o=-n.height/2:o=i.overlayY=="top"?0:-n.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,n,i,r){let o=ek(n),{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let u=0-s,f=s+o.width-i.width,m=0-a,g=a+o.height-i.height,_=this._subtractOverflows(o.width,u,f),E=this._subtractOverflows(o.height,m,g),w=_*E;return{visibleArea:w,isCompletelyWithinViewport:o.width*o.height===w,fitsInViewportVertically:E===o.height,fitsInViewportHorizontally:_==o.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,o=i.right-n.x,s=J1(this._overlayRef.getConfig().minHeight),a=J1(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=r,l=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&l}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=ek(n),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0),u=0,f=0;return r.width<=o.width?u=l||-s:u=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?f=c||-a:f=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:f},{x:e.x+u,y:e.y+f}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!L6(this._lastScrollVisibility,i)){let r=new ob(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(n.overlayY==="top")s=e.y,o=i.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let g=Math.min(i.bottom-e.y+i.top,e.y),_=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>_&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-_/2)}let c=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,l=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,u,f,m;if(l)m=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if(c)f=e.x,u=i.right-e.x;else{let g=Math.min(i.right-e.x+i.left,e.x),_=this._lastBoundingBoxSize.width;u=g*2,f=e.x-g,u>_&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-_/2)}return{top:s,left:f,bottom:a,right:m,width:u,height:o}}_setBoundingBoxStyles(e,n){let i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ut(i.height),r.top=ut(i.top),r.bottom=ut(i.bottom),r.width=ut(i.width),r.left=ut(i.left),r.right=ut(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=ut(o)),s&&(r.maxWidth=ut(s))}this._lastBoundingBoxSize=i,gs(this._boundingBox.style,r)}_resetBoundingBoxStyles(){gs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();gs(i,this._getExactOverlayY(n,e,u)),gs(i,this._getExactOverlayX(n,e,u))}else i.position="static";let a="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ut(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ut(s.maxWidth):o&&(i.maxWidth="")),gs(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=ut(o.y);return r}_getExactOverlayX(e,n,i){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=ut(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Z1(e,i),isOriginOutsideView:ib(e,i),isOverlayClipped:Z1(n,i),isOverlayOutsideView:ib(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&fc(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Oe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}};function gs(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function J1(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(F6);return!n||n==="px"?parseFloat(e):null}return t||null}function ek(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function L6(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var tk="cdk-global-overlay-wrapper",ab=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(tk),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,f=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",g="",_="",E="";c?E="flex-start":u==="center"?(E="center",m?_=f:g=f):m?u==="left"||u==="end"?(E="flex-end",g=f):(u==="right"||u==="start")&&(E="flex-start",_=f):u==="left"||u==="start"?(E="flex-start",g=f):(u==="right"||u==="end")&&(E="flex-end",_=f),e.position=this._cssPosition,e.marginLeft=c?"0":g,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":_,n.justifyContent=E,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(tk),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},V6=(()=>{let e=class e{constructor(i,r,o,s){this._viewportRuler=i,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new ab}flexibleConnectedTo(i){return new sb(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(v(X0),v(he),v(At),v(vc))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),j6=0,ni=(()=>{let e=class e{constructor(i,r,o,s,a,c,l,u,f,m,g,_){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=c,this._ngZone=l,this._document=u,this._directionality=f,this._location=m,this._outsideClickDispatcher=g,this._animationsModuleType=_}create(i){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new Hu(i);return a.direction=a.direction||this._directionality.value,new yr(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${j6++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(hr)),new om(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(v(P6),v(vc),v(qr),v(V6),v(N6),v(tt),v(Z),v(he),v(Bu),v(xi),v(O6),v(ja,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var B6=new F("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=V(ni);return()=>t.scrollStrategies.reposition()}});function U6(t){return()=>t.scrollStrategies.reposition()}var $6={provide:B6,deps:[ni],useFactory:U6},cm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({providers:[ni,$6],imports:[uo,ms,J0,J0]});let t=e;return t})();var H6=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({providers:[H6]});let t=e;return t})();var ok=new Set,ys,z6=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):G6}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&q6(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(v(At),v($l,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q6(t,e){if(!ok.has(t))try{ys||(ys=document.createElement("style"),e&&(ys.nonce=e),ys.setAttribute("type","text/css"),document.head.appendChild(ys)),ys.sheet&&(ys.sheet.insertRule(`@media ${t} {body{ }}`,0),ok.add(t))}catch(n){console.error(n)}}function G6(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var ak=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new ue}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return sk(fc(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=sk(fc(i)).map(a=>this._registerQuery(a).observable),s=Bo(o);return s=kr(s.pipe(Et(1)),s.pipe(Cl(1),va(0))),s.pipe(Y(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{c.matches=c.matches||l,c.breakpoints[u]=l}),c}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new ne(a=>{let c=l=>this._zone.run(()=>a.next(l));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(ln(r),Y(({matches:a})=>({query:i,matches:a})),gi(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)(v(z6),v(Z))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sk(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var zu=(()=>{let e=class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return K6(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let r=W6(nW(i));if(r&&(ck(r)===-1||!this.isVisible(r)))return!1;let o=i.nodeName.toLowerCase(),s=ck(i);return i.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!eW(i)?!1:o==="audio"?i.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,r){return tW(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}};e.\u0275fac=function(r){return new(r||e)(v(At))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function W6(t){try{return t.frameElement}catch{return null}}function K6(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function Y6(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function Q6(t){return X6(t)&&t.type=="hidden"}function Z6(t){return J6(t)&&t.hasAttribute("href")}function X6(t){return t.nodeName.toLowerCase()=="input"}function J6(t){return t.nodeName.toLowerCase()=="a"}function dk(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function ck(t){if(!dk(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function eW(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function tW(t){return Q6(t)?!1:Y6(t)||Z6(t)||t.hasAttribute("contenteditable")||dk(t)}function nW(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var lb=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,i,r,o=!1){this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(e),!!i}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Et(1)).subscribe(e)}},dm=(()=>{let e=class e{constructor(i,r,o){this._checker=i,this._ngZone=r,this._document=o}create(i,r=!1){return new lb(i,this._checker,this._ngZone,this._document,r)}};e.\u0275fac=function(r){return new(r||e)(v(zu),v(Z),v(he))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ub(t){return t.buttons===0||t.detail===0}function db(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var iW=new F("cdk-input-modality-detector-options"),rW={ignoreKeys:[18,17,224,91,16]},hk=650,_c=pc({passive:!0,capture:!0}),oW=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new bt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ti(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<hk||(this._modality.next(ub(a)?"keyboard":"mouse"),this._mostRecentTarget=ti(a))},this._onTouchstart=a=>{if(db(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ti(a)},this._options=L(L({},rW),s),this.modalityDetected=this._modality.pipe(Cl(1)),this.modalityChanged=this.modalityDetected.pipe(_a()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,_c),o.addEventListener("mousedown",this._onMousedown,_c),o.addEventListener("touchstart",this._onTouchstart,_c)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_c),document.removeEventListener("mousedown",this._onMousedown,_c),document.removeEventListener("touchstart",this._onTouchstart,_c))}};e.\u0275fac=function(r){return new(r||e)(v(At),v(Z),v(he),v(iW,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var um=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(um||{}),sW=new F("cdk-focus-monitor-default-options"),lm=pc({passive:!0,capture:!0}),hm=(()=>{let e=class e{constructor(i,r,o,s,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ue,this._rootNodeFocusAndBlurListener=c=>{let l=ti(c);for(let u=l;u;u=u.parentElement)c.type==="focus"?this._onFocus(c,u):this._onBlur(c,u)},this._document=s,this._detectionMode=a?.detectionMode||um.IMMEDIATE}monitor(i,r=!1){let o=gr(i);if(!this._platform.isBrowser||o.nodeType!==1)return G();let s=W1(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let c={checkChildren:r,subject:new ue,rootNode:s};return this._elementInfo.set(o,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(i){let r=gr(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=gr(i),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([c,l])=>this._originChanged(c,r,l)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===um.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===um.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?hk:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=ti(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,lm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,lm)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(gi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(v(Z),v(At),v(oW),v(he,8),v(sW,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vs=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(vs||{}),lk="cdk-high-contrast-black-on-white",uk="cdk-high-contrast-white-on-black",cb="cdk-high-contrast-active",hb=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=V(ak).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return vs.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return vs.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return vs.BLACK_ON_WHITE}return vs.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(cb,lk,uk),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===vs.BLACK_ON_WHITE?i.add(cb,lk):r===vs.WHITE_ON_BLACK&&i.add(cb,uk)}}};e.\u0275fac=function(r){return new(r||e)(v(At),v(he))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fk=(()=>{let e=class e{constructor(i){i._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(r){return new(r||e)(v(hb))},e.\u0275mod=ie({type:e}),e.\u0275inj=re({imports:[rk]});let t=e;return t})();function aW(t,e){}var _s=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var gb=(()=>{let e=class e extends yc{constructor(i,r,o,s,a,c,l,u){super(),this._elementRef=i,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=a,this._ngZone=c,this._overlayRef=l,this._focusMonitor=u,this._platform=V(At),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=V(Xn),this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let m=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),m},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let r=this._ariaLabelledByQueue.indexOf(i);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),r}attachTemplatePortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,r){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{i.removeEventListener("blur",o),i.removeEventListener("mousedown",o),i.removeAttribute("tabindex")};i.addEventListener("blur",o),i.addEventListener("mousedown",o)})),i.focus(r)}_focusByCssSelector(i,r){let o=this._elementRef.nativeElement.querySelector(i);o&&this._forceFocus(o,r)}_trapFocus(){let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let i=this._config.restoreFocus,r=null;if(typeof i=="string"?r=this._document.querySelector(i):typeof i=="boolean"?r=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(r=i),this._config.restoreFocus&&r&&typeof r.focus=="function"){let o=Vu(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,r=Vu();return i===r||i.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Vu()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(r){return new(r||e)(O(Oe),O(dm),O(he,8),O(_s),O(zu),O(Z),O(yr),O(hm))},e.\u0275cmp=be({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(r&1&&zf($u,7),r&2){let s;ql(s=Gl())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){r&2&&Bt("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[Dt,Kr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&Pe(0,aW,0,0,"ng-template",0)},dependencies:[$u],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),qu=class{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new ue,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!sm(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},cW=new F("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=V(ni);return()=>t.scrollStrategies.block()}}),lW=new F("DialogData"),uW=new F("DefaultDialogConfig");var dW=0,yb=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,r,o,s,a,c){this._overlay=i,this._injector=r,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ue,this._afterOpenedAtThisLevel=new ue,this._ariaHiddenElements=new Map,this.afterAllClosed=Pr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ln(void 0))),this._scrollStrategy=c}open(i,r){let o=this._defaultOptions||new _s;r=L(L({},o),r),r.id=r.id||`cdk-dialog-${dW++}`,r.id&&this.getDialogById(r.id);let s=this._getOverlayConfig(r),a=this._overlay.create(s),c=new qu(a,r),l=this._attachContainer(a,c,r);return c.containerInstance=l,this._attachDialogContent(i,c,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){pb(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){pb(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),pb(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let r=new Hu({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(r.backdropClass=i.backdropClass),r}_attachContainer(i,r,o){let s=o.injector||o.viewContainerRef?.injector,a=[{provide:_s,useValue:o},{provide:qu,useValue:r},{provide:yr,useValue:i}],c;o.container?typeof o.container=="function"?c=o.container:(c=o.container.type,a.push(...o.container.providers(o))):c=gb;let l=new mc(c,o.viewContainerRef,tt.create({parent:s||this._injector,providers:a}),o.componentFactoryResolver);return i.attach(l).instance}_attachDialogContent(i,r,o,s){if(i instanceof Mn){let a=this._createInjector(s,r,o,void 0),c={$implicit:s.data,dialogRef:r};s.templateContext&&(c=L(L({},c),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new gc(i,null,c,a))}else{let a=this._createInjector(s,r,o,this._injector),c=o.attachComponentPortal(new mc(i,s.viewContainerRef,a,s.componentFactoryResolver));r.componentRef=c,r.componentInstance=c.instance}}_createInjector(i,r,o,s){let a=i.injector||i.viewContainerRef?.injector,c=[{provide:lW,useValue:i.data},{provide:qu,useValue:r}];return i.providers&&(typeof i.providers=="function"?c.push(...i.providers(r,i,o)):c.push(...i.providers)),i.direction&&(!a||!a.get(Bu,null,{optional:!0}))&&c.push({provide:Bu,useValue:{value:i.direction,change:G()}}),tt.create({parent:a||s,providers:c})}_removeOpenDialog(i,r){let o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let r=i.parentElement.children;for(let o=r.length-1;o>-1;o--){let s=r[o];s!==i&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(r){return new(r||e)(v(ni),v(tt),v(uW,8),v(e,12),v(vc),v(cW))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pb(t,e){let n=t.length;for(;n--;)e(t[n])}var pk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({providers:[yb],imports:[cm,ms,fk,ms]});let t=e;return t})();function hW(){return!0}var fW=new F("mat-sanity-checks",{providedIn:"root",factory:hW}),wb=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return ju()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(v(hb),v(fW,8),v(he))},e.\u0275mod=ie({type:e}),e.\u0275inj=re({imports:[uo,uo]});let t=e;return t})();var Fn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Fn||{}),vb=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Fn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},mk=pc({passive:!0,capture:!0}),_b=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=ti(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,mk)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,mk)))}},gk={enterDuration:225,exitDuration:150},pW=800,yk=pc({passive:!0,capture:!0}),vk=["mousedown","touchstart"],_k=["mouseup","mouseleave","touchend","touchcancel"],Gu=class Gu{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=gr(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=L(L({},gk),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||mW(e,n,r),a=e-r.left,c=n-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let f=window.getComputedStyle(u),m=f.transitionProperty,g=f.transitionDuration,_=m==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,E=new vb(this,u,i,_);u.style.transform="scale3d(1, 1, 1)",E.state=Fn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=E);let w=null;return!_&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let S=()=>this._finishRippleTransition(E),j=()=>this._destroyRipple(E);u.addEventListener("transitionend",S),u.addEventListener("transitioncancel",j),w={onTransitionEnd:S,onTransitionCancel:j}}),this._activeRipples.set(E,w),(_||!l)&&this._finishRippleTransition(E),E}fadeOutRipple(e){if(e.state===Fn.FADING_OUT||e.state===Fn.HIDDEN)return;let n=e.element,i=L(L({},gk),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=Fn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=gr(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,vk.forEach(i=>{Gu._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_k.forEach(n=>{this._triggerElement.addEventListener(n,this,yk)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Fn.FADING_IN?this._startFadeOutTransition(e):e.state===Fn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Fn.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Fn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=ub(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+pW;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!db(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Fn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Fn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(vk.forEach(n=>Gu._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&_k.forEach(n=>e.removeEventListener(n,this,yk)))}};Gu._eventManager=new _b;var wk=Gu;function mW(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}function gW(t,e){}var Wu=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},bb="mdc-dialog--open",bk="mdc-dialog--opening",Ek="mdc-dialog--closing",yW=150,vW=75,_W=(()=>{let e=class e extends gb{constructor(i,r,o,s,a,c,l,u,f){super(i,r,o,s,a,c,l,f),this._animationMode=u,this._animationStateChanged=new Me,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Ck(this._config.enterAnimationDuration)??yW:0,this._exitAnimationDuration=this._animationsEnabled?Ck(this._config.exitAnimationDuration)??vW:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ik,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(bk,bb)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(bb),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(bb),this._animationsEnabled?(this._hostElement.style.setProperty(Ik,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ek)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(bk,Ek)}_waitForAnimationToComplete(i,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let r=super.attachComponentPortal(i);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};e.\u0275fac=function(r){return new(r||e)(O(Oe),O(dm),O(he,8),O(Wu),O(zu),O(Z),O(yr),O(ja,8),O(hm))},e.\u0275cmp=be({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){r&2&&(Hf("id",o._config.id),Bt("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),ur("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[Dt,Kr],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1),Pe(2,gW,0,0,"ng-template",2),b()())},dependencies:[$u],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let t=e;return t})(),Ik="--mat-dialog-transition-duration";function Ck(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Fu(t.substring(0,t.length-2)):t.endsWith("s")?Fu(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var fm=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(fm||{}),wc=class{constructor(e,n,i){this._ref=e,this._containerInstance=i,this._afterOpened=new ue,this._beforeClosed=new ue,this._state=fm.OPEN,this.disableClose=n.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Re(r=>r.state==="opened"),Et(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Re(r=>r.state==="closed"),Et(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Uo(this.backdropClick(),this.keydownEvents().pipe(Re(r=>r.keyCode===27&&!this.disableClose&&!sm(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),wW(this,r.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Re(n=>n.state==="closing"),Et(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=fm.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=fm.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function wW(t,e,n){return t._closeInteractionType=e,t.close(n)}var bW=new F("MatMdcDialogData"),EW=new F("mat-mdc-dialog-default-options"),IW=new F("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=V(ni);return()=>t.scrollStrategies.block()}});var CW=0,pm=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,r,o,s,a,c,l,u){this._overlay=i,this._defaultOptions=s,this._scrollStrategy=a,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ue,this._afterOpenedAtThisLevel=new ue,this.dialogConfigClass=Wu,this.afterAllClosed=Pr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ln(void 0))),this._dialog=r.get(yb),this._dialogRefConstructor=wc,this._dialogContainerType=_W,this._dialogDataToken=bW}open(i,r){let o;r=L(L({},this._defaultOptions||new Wu),r),r.id=r.id||`mat-mdc-dialog-${CW++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(i,Ce(L({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:_s,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(a,c,l)=>(o=new this._dialogRefConstructor(a,r,l),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=s.componentRef,o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(o);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let r=i.length;for(;r--;)i[r].close()}};e.\u0275fac=function(r){return new(r||e)(v(ni),v(tt),v(xi,8),v(EW,8),v(IW),v(e,12),v(vc),v(ja,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var DW=(()=>{let e=class e{constructor(i,r,o){this._dialogRef=i,this._elementRef=r,this._dialog=o}ngOnInit(){this._dialogRef||(this._dialogRef=TW(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}};e.\u0275fac=function(r){return new(r||e)(O(wc,8),O(Oe),O(pm))},e.\u0275dir=ke({type:e,standalone:!0});let t=e;return t})();var Dk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ke({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0});let t=e;return t})(),Tk=(()=>{let e=class e extends DW{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275dir=ke({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(r,o){r&2&&ur("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},standalone:!0,features:[Dt]});let t=e;return t})();function TW(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-mdc-dialog-container");)n=n.parentElement;return n?e.find(i=>i.id===n.id):null}var Sk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({providers:[pm],imports:[pk,cm,ms,wb,wb]});let t=e;return t})();var xk=(()=>{let e=class e{constructor(i){this.dialogRef=i}ngOnInit(){console.log("DEBUG: MIDIALOG")}cerrarDialog(){this.dialogRef.close()}};e.\u0275fac=function(r){return new(r||e)(O(wc))},e.\u0275cmp=be({type:e,selectors:[["app-mi-dialog"]],decls:24,vars:0,consts:[[1,"dialog-content"],[1,"dialog-title"],[1,"dialog-subtitle"],["align","center"],["mat-button","","color","primary",3,"click"]],template:function(r,o){r&1&&(I(0,"mat-dialog-content",0)(1,"h5",1),R(2,"Argentina Programa 4.0"),b(),I(3,"h6",2),R(4,"Proyecto Final"),b(),I(5,"h6"),R(6,"Luego de recorrer nueve m\xF3dulos llegamos a construir una pagina web"),b(),I(7,"h6"),R(8,"en Angular usando un frontend de Firebase con TypeScript"),b(),B(9,"br"),I(10,"h6"),R(11,"\xA1Lo hemos logrado!"),b(),B(12,"br"),I(13,"h6"),R(14,"Editor Visual Code \xA9 Microsoft."),b(),I(15,"h6"),R(16,"Firebase \xA9 Google"),b(),I(17,"h6"),R(18,"TypeScript \xA9 Microsoft."),b(),I(19,"h6"),R(20,"Im\xE1genes obtenidas de Google y Freepik.es"),b(),I(21,"mat-dialog-actions",3)(22,"button",4),Qe("click",function(){return o.cerrarDialog()}),R(23,"Cerrar"),b()()())},dependencies:[Tk,Dk],styles:[".dialog-content[_ngcontent-%COMP%]{background-image:url(https://drive.google.com/uc?export=download&id=1rX5zCl1lQPjeGbYsH8BQUI-1L1HT0nL2);background-repeat:repeat;width:auto;height:auto;color:#7fff00}.dialog-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}.dialog-subtitle[_ngcontent-%COMP%]{font-size:18px;text-align:center}button[color=primary][_ngcontent-%COMP%]{color:green}"]});let t=e;return t})();var mm=(()=>{let e=class e{constructor(i){this.dialog=i}ngOnInit(){console.log("DEBUG: FOOTER")}abrirDialog(){this.dialog.open(xk,{width:"400px"}).afterClosed().subscribe(r=>{console.log("Dialog result: ${result}")})}};e.\u0275fac=function(r){return new(r||e)(O(pm))},e.\u0275cmp=be({type:e,selectors:[["app-footer"]],decls:17,vars:0,consts:[["id","footer",1,"container"],[1,"row"],[1,"d-flex","container-fluid","align-items-center","justify-content-center"],["data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Informaci\xF3n Page...","onclick","abrirDialog()",1,"btn","btn-primary"],["href","mailto:hernancanestraro.dev@gmail.com"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"footer")(3,"p"),R(4,'Proyecto Integrador Argentina Programa | "Yo Programo2" | Portafolio/CV Personal. | '),b(),I(5,"p"),R(6,"Backend hecho en Java con Spring framework | Frontend hecho en TypeScript con Angular framework."),b(),I(7,"p"),R(8,"2023 \xA9 HERNAN CANESTRARO"),b(),I(9,"div",2)(10,"button",3),R(11,"Info"),b()(),I(12,"a",4)(13,"p"),R(14,"Enviar un Email a: hernancanestraro.dev@gmail.com"),b()(),I(15,"p"),R(16,"Gracias por usar la aplicaci\xF3n!!!"),b()()()())},styles:[".row[_ngcontent-%COMP%]{padding:20px}p[_ngcontent-%COMP%]{color:#f0f8ff}footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}"]});let t=e;return t})();var Bi=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="http://localhost:8080/",this.headers=new mr({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})}obtenerDatos(){return this.http.get("./../../assets/data/data.json")}obtenerDatosAcercaDe(){return this.http.get(this.apiUrl+"acercade")}obtenerDatosPersona(){return console.log("ObtenerDatosPersona"),this.http.get(this.apiUrl+"persona/lista")}obtenerDatosEducacion(){return this.http.get(this.apiUrl+"educacion/lista")}obtenerDatosExperiencia(){return this.http.get(this.apiUrl+"experiencia")}obtenerDatosProyectos(){return this.http.get(this.apiUrl+"proyectos")}obtenerDatosSkills(){return this.http.get(this.apiUrl+"skills")}obtenerOneDatosAcercaDe(i){return this.http.get(this.apiUrl+"acercade/"+i)}obtenerOneDatosEducacion(i){return this.http.get(this.apiUrl+"educacion/"+i)}obtenerOneDatosExperiencia(i){return this.http.get(this.apiUrl+"experiencias/"+i)}obtenerOneDatosProyecto(i){return this.http.get(this.apiUrl+"proyectos/"+i)}obtenerOneDatosSkill(i){return this.http.get(this.apiUrl+"skills/"+i)}postAcercaDe(i){let r=JSON.stringify(i);return this.http.post(this.apiUrl+"acercade",r,{headers:this.headers})}postEducacion(i){return this.http.post(this.apiUrl+"educacion",i,{headers:this.headers})}postExperiencia(i){return this.http.post(this.apiUrl+"experiencias",i,{headers:this.headers})}postProyecto(i){return this.http.post(this.apiUrl+"proyectos",i,{headers:this.headers})}postSkill(i){return this.http.post(this.apiUrl+"skills",i,{headers:this.headers})}putAcercaDe(i,r){return this.http.put(this.apiUrl+"acercade/"+r,i,{headers:this.headers})}putExperiencia(i,r){return this.http.put(this.apiUrl+"experiencias/"+r,i,{headers:this.headers})}putEducacion(i,r){return this.http.put(this.apiUrl+"educacion/"+r,i,{headers:this.headers})}putProyecto(i,r){return this.http.put(this.apiUrl+"proyectos/"+r,i,{headers:this.headers})}putSkill(i,r){return this.http.put(this.apiUrl+"skills/"+r,i,{headers:this.headers})}deleteAcercaDe(i){return this.http.delete(this.apiUrl+"acercade/"+i,{headers:this.headers})}deleteEducacion(i){return this.http.delete(this.apiUrl+"educacion/"+i,{headers:this.headers})}deleteExperiencia(i){return this.http.delete(this.apiUrl+"experiencias/"+i,{headers:this.headers})}deleteProyecto(i){return this.http.delete(this.apiUrl+"proyectos/"+i,{headers:this.headers})}deleteSkill(i){return this.http.delete(this.apiUrl+"skills/"+i,{headers:this.headers})}holaChe(){return this.http.get("localhost:8080/che/hola")}};e.\u0275fac=function(r){return new(r||e)(v(rs))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mk=(()=>{let e=class e{constructor(i){this.portfolioService=i}ngOnInit(){console.log("[CHE-Acerdade]"),this.portfolioService.obtenerDatosAcercaDe().subscribe(i=>{console.log("data:",i),this.miPortfolio=i.acercade,console.log("this.portfolio:",this.miPortfolio)}),this.portfolioService.obtenerDatosPersona().subscribe(i=>{console.log(i),this.miPortfolio2=i,console.log("miPortfolio2:",this.miPortfolio2)})}};e.\u0275fac=function(r){return new(r||e)(O(Bi))},e.\u0275cmp=be({type:e,selectors:[["app-acercade"]],inputs:{isLogged:"isLogged"},decls:10,vars:2,consts:[["id","acercaDeFirstCard",1,"card","card-mx","d-flex","acercaDe"],[1,"card-titles"],[1,"btn-edit"],["href","#","data-bs-toggle","tooltip","title","Editar acercade...",1,"btn-right"],[1,"fa","fa-pen"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"h2"),R(3,"Acerca de"),b(),I(4,"div",2)(5,"a",3)(6,"i",4),R(7,"\u270F "),b()()(),I(8,"div"),R(9),b()()()),r&2&&(K(9),Wl(" ",o.miPortfolio.acercaDe," Nombres: ",o.miPortfolio2.nombres," "))},styles:["h1[_ngcontent-%COMP%]{color:#00f}div[_ngcontent-%COMP%]   #acercade[_ngcontent-%COMP%]{border-radius:50%;border:1px solid greenyellow;margin:1px}.acercaDe[_ngcontent-%COMP%]{margin:5px;background-color:#f0f8ff;width:95%;height:50px;padding:5px;border-top:5px;border-left:5px;border-right:5px;border:2px solid red;border-radius:5px}"]});let t=e;return t})();var gm={production:!1,URL:"http://localhost:8080/",firebaseConfig:{apiKey:"AIzaSyBH_g3d8yMuuJOfZqttgwQWfbEbyj_9kz8",authDomain:"front-ad0dc.firebaseapp.com",projectId:"front-ad0dc",storageBucket:"front-ad0dc.appspot.com",messagingSenderId:"782994755810",appId:"1:782994755810:web:b002b5319a822a5379cebb",measurementId:"G-MLKW7W7WXG"}};var ym=(()=>{let e=class e{constructor(i){this.httpClient=i,this.URL=gm.URL+"educacion/"}lista(){return this.httpClient.get(this.URL+"lista")}detail(i){return this.httpClient.get(this.URL+`detail/${i}`)}save(i){return this.httpClient.post(this.URL+"create",i)}update(i,r){return this.httpClient.put(this.URL+`update/${i}`,r)}delete(i){return this.httpClient.delete(this.URL+`delete/${i}`)}};e.\u0275fac=function(r){return new(r||e)(v(rs))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ib="AuthToken",Cb="AuthUsername",vm="AuthAuthorities",kk=(()=>{let e=class e{constructor(){this.roles=[]}setToken(i){window.sessionStorage.removeItem(Ib),window.sessionStorage.setItem(Ib,i)}getToken(){return sessionStorage.getItem(Ib)}setUsername(i){window.sessionStorage.removeItem(Cb),window.sessionStorage.setItem(Cb,i)}getUsername(){return sessionStorage.getItem(Cb)}setAuthorities(i){window.sessionStorage.removeItem(vm),window.sessionStorage.setItem(vm,JSON.stringify(i))}getAuthorities(){return this.roles=[],sessionStorage.getItem(vm)&&JSON.parse(sessionStorage.getItem(vm)).forEach(i=>{this.roles.push(i.authority)}),this.roles}logOut(){window.sessionStorage.clear()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xW(t,e){t&1&&(I(0,"button",5),R(1," Agregar Educacion "),b())}function RW(t,e){if(t&1){let n=dr();I(0,"div")(1,"button",13),B(2,"i",14),R(3," Editar "),b(),I(4,"button",15),Qe("click",function(){Yn(n);let r=ot().$implicit,o=ot();return Qn(o.delete(r.id))}),B(5,"i",16),R(6," Borrar "),b()()}if(t&2){let n=ot().$implicit;K(),zl("routerLink","/editeduc/",n.id,"")}}function MW(t,e){if(t&1&&(I(0,"ul")(1,"li",6)(2,"div",7)(3,"div",8),B(4,"img",9),b(),I(5,"div",10)(6,"h2"),R(7),b(),I(8,"h4"),R(9),b(),I(10,"h5"),R(11),b(),I(12,"p",11),R(13),b()(),Pe(14,RW,7,1,"div",12),b()()()),t&2){let n=e.$implicit,i=ot();K(4),W_("src",n.img,Zn),zl("alt","education_ ",n.id,""),K(3),dn(n.titulo),K(2),dn(n.nombreE),K(2),dn(n.periodo),K(2),hn(" ",n.descripcionE," "),K(),ae("ngIf",i.isLogged)}}var Pk=(()=>{let e=class e{constructor(i,r){this.sEducacion=i,this.sToken=r,this.educacion=[],this.isLogged=!1}ngOnInit(){this.cargarEducacion(),this.sToken.getToken()?this.isLogged=!0:this.isLogged=!1}cargarEducacion(){this.sEducacion.lista().subscribe(i=>{this.educacion=i})}delete(i){i!==void 0&&this.sEducacion.delete(i).subscribe(r=>{this.cargarEducacion()},r=>alert("No se pudo borrar la educacion"))}};e.\u0275fac=function(r){return new(r||e)(O(ym),O(kk))},e.\u0275cmp=be({type:e,selectors:[["app-educacion"]],decls:8,vars:2,consts:[[1,"container"],["id","education",1,"row"],[1,"layout","position-relative"],["type","button","class","btn btn-dark btn-right","routerLink","/nuevaeduc",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","routerLink","/nuevaeduc",1,"btn","btn-dark","btn-right"],[1,"card","mat-card"],[1,"row"],[1,"col-md-3","text-center"],[1,"img-fluid","logo",3,"src","alt"],[1,"col-12","col-md-9"],["id","preline"],[4,"ngIf"],[1,"btn","btn-outline-secondary","btn-right",3,"routerLink"],[1,"bi","bi-pencil"],[1,"btn","btn-danger","btn-right",3,"click"],[1,"bi","bi-trash3"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),R(4,"Educacion"),b(),Pe(5,xW,2,0,"button",3),b(),I(6,"div"),Pe(7,MW,15,7,"ul",4),b()()()),r&2&&(K(5),ae("ngIf",o.isLogged),K(2),ae("ngForOf",o.educacion))},dependencies:[Yr,Qr,Xa],styles:[".row[_ngcontent-%COMP%]{padding:20px}.logo[_ngcontent-%COMP%]{margin-top:20px;-webkit-filter:drop-shadow(5px 5px 5px #222);filter:drop-shadow(5px 5px 5px #222)}@media (max-width: 768px){.logo[_ngcontent-%COMP%]{margin-top:-20px;margin-bottom:20px}}.mat-card[_ngcontent-%COMP%]{border-radius:32px;margin:10px 20px;padding:20px;box-shadow:#00000059 0 5px 15px}.card[_ngcontent-%COMP%]{border-radius:10px}.btn-right[_ngcontent-%COMP%]{float:right;margin-left:10px}@media (max-width: 768px){.btn-right[_ngcontent-%COMP%]{margin-top:5px}}.layout[_ngcontent-%COMP%]{padding-top:25px;padding-bottom:25px;display:flex;justify-content:space-between;align-items:center}ul[_ngcontent-%COMP%]{padding:0}p#preline[_ngcontent-%COMP%]{white-space:pre-line}"]});let t=e;return t})();var Db=ky($p());function PW(t,e){if(t&1){let n=dr();I(0,"div")(1,"div",7)(2,"button",8),Qe("click",function(r){Yn(n);let o=ot();return Qn(o.onCrear(r))}),I(3,"span"),B(4,"img",9),R(5,"AGREGAR EXPERIENCIA"),b()()()()}}function NW(t,e){if(t&1){let n=dr();I(0,"div")(1,"div",29)(2,"div",30)(3,"button",31),Qe("click",function(){Yn(n);let r=ot(2);return Qn(r.onCancelNuevoRegistro())}),I(4,"span"),B(5,"img",32),b()(),I(6,"button",31),Qe("click",function(r){Yn(n);let o=ot(2);return Qn(o.onSaveNewNuevoRegistro(r))}),I(7,"span"),B(8,"img",33),b()()()()()}}function OW(t,e){if(t&1&&(I(0,"div",10)(1,"form",11)(2,"div",12),Pe(3,NW,9,0,"div",3),I(4,"h3",13),B(5,"img",14),I(6,"span"),R(7,"Nueva Experiencia"),b()(),I(8,"div",15)(9,"div",16)(10,"label",17),R(11,"Ubicaci\xF3n:"),b()(),B(12,"input",18),b(),I(13,"div",15)(14,"div",16)(15,"label",19),R(16,"puesto:"),b()(),B(17,"input",20),b(),I(18,"div",15)(19,"div",16)(20,"label",21),R(21,"periodo:"),b()(),B(22,"input",22),b(),I(23,"div",15)(24,"div",16)(25,"label",23),R(26,"empresa:"),b()(),B(27,"input",24),b(),I(28,"div",15)(29,"div",16)(30,"label",25),R(31,"actividades:"),b()(),B(32,"input",26),b(),I(33,"div",15)(34,"div",16)(35,"label",27),R(36,"URL Imagen:"),b()(),B(37,"input",28),b()()()()),t&2){let n=ot();K(),ae("formGroup",n.form),K(2),ae("ngIf",n.modoNuevoRegistro===!0)}}function FW(t,e){if(t&1){let n=dr();I(0,"div")(1,"div",29)(2,"div",30)(3,"button",31),Qe("click",function(){Yn(n);let r=ot(2);return Qn(r.onCancelNuevoRegistro())}),I(4,"span"),B(5,"img",32),b()(),I(6,"button",31),Qe("click",function(r){Yn(n);let o=ot(2);return Qn(o.onSaveNewNuevoRegistro(r))}),I(7,"span"),B(8,"img",33),b()()()()()}}function LW(t,e){if(t&1&&(I(0,"div",34)(1,"form",35)(2,"div",12),Pe(3,FW,9,0,"div",3),I(4,"h3",13),B(5,"img",14),I(6,"span"),R(7,"Nueva Experiencia"),b()(),I(8,"div",15)(9,"div",16)(10,"label",36),R(11,"Experiencia:"),b()(),B(12,"input",37),b(),I(13,"div",15)(14,"div",16)(15,"label",19),R(16,"puesto:"),b()(),B(17,"input",20),b(),I(18,"div",15)(19,"div",16)(20,"label",21),R(21,"periodo:"),b()(),B(22,"input",22),b(),I(23,"div",15)(24,"div",16)(25,"label",23),R(26,"empresa:"),b()(),B(27,"input",24),b(),I(28,"div",15)(29,"div",16)(30,"label",25),R(31,"actividades:"),b()(),B(32,"input",26),b(),I(33,"div",15)(34,"div",16)(35,"label",27),R(36,"URL Imagen:"),b()(),B(37,"input",28),b()()()()),t&2){let n=ot();K(),ae("formGroup",n.form),K(2),ae("ngIf",n.modoEdicion===!0)}}function VW(t,e){if(t&1&&(I(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",30)(4,"button",41)(5,"span"),B(6,"img",42),b()()(),I(7,"div",30)(8,"button",43)(9,"span"),B(10,"img",44),b()()()(),I(11,"div",45),B(12,"img",46),b(),I(13,"div",47)(14,"p")(15,"b"),R(16,"Ubicacion:"),b(),R(17),b(),I(18,"p")(19,"b"),R(20,"Puesto:"),b(),R(21),b(),I(22,"p")(23,"b"),R(24,"Periodo:"),b(),R(25),b(),I(26,"p")(27,"b"),R(28,"Empresa:"),b(),R(29),b(),I(30,"p")(31,"b"),R(32,"Actividades: "),b(),R(33),b()()()()),t&2){let n=e.$implicit,i=e.index;Bt("data-index",i),K(12),ae("src",n.imagen,Zn),K(5),hn(" ",n.ubicacion,""),K(4),hn(" ",n.puesto,""),K(4),dn(n.periodo),K(4),dn(n.empresa),K(4),dn(n.actividades)}}var Nk=(()=>{let e=class e{constructor(i){this.datosPortfolio=i,this.modoEdicion=!1,this.modoNuevoRegistro=!1,this.form=new Ni({ubicacion:new Le(["",[Ve.required,Ve.minLength(2)]]),puesto:new Le(["",[Ve.required,Ve.minLength(2)]]),periodo:new Le(["",[Ve.required,Ve.minLength(2)]]),empresa:new Le(["",[Ve.required,Ve.minLength(2)]]),actividades:new Le(["",[Ve.required,Ve.minLength(2)]])})}ngOnInit(){console.log("CHE-EXPERIENCIA"),this.datosPortfolio.obtenerDatosExperiencia().subscribe(i=>{console.log("Experiencias:",i),this.miPortfolio=i,console.log(this.miPortfolio)})}selectItem(i){console.log(i)}onCrear(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),s[3].setValue(""),s[4].setValue(""),console.log("valueFormDetalles: ",s[0].value),console.log("valueFormEstado: ",s[1].value),console.log("valueFormInstitucion: ",s[2].value),console.log("valueFormPeriodo: ",s[3].value),console.log("valueFormTitulo: ",s[4].value),this.modoNuevoRegistro=!0}onEdit(i,r,o){this.editID=i,this.i=r,console.log("i",r),console.log("editID",this.editID),console.log("this.form.value: ",this.form.value),console.log("id: ",i),this.form.setValue({detalles:this.miPortfolio[r].detalles,estado:this.miPortfolio[r].estado,institucion:this.miPortfolio[r].institucion,periodo:this.miPortfolio[r].periodo,titulo:this.miPortfolio[r].titulo}),console.log("this.form.value: ",this.form.value),this.modoEdicion=!0}onSaveEdit(i){i.preventDefault,this.datosPortfolio.putEducacion(this.form.value,this.editID).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("id: ",this.editID),console.log("EDUCACI\xD3N method PUT Data Editada",r),this.datosPortfolio.obtenerOneDatosEducacion(this.editID).subscribe(o=>{console.log("Dato: "+JSON.stringify(o)),this.miPortfolio[this.i]=o,console.log("miPortfolio[i : ",this.miPortfolio[this.i])})}),this.modoEdicion=!1}onSaveNewNuevoRegistro(i){i.preventDefault,this.datosPortfolio.postEducacion(this.form.value).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("AcercaDe method post Data",r),this.datosPortfolio.obtenerDatosEducacion().subscribe(o=>{this.miPortfolio=o})}),this.modoNuevoRegistro=!1}onDelete(i,r){console.log("ondelete",i),this.i=i,this.modoEdicion=!1,r.preventDefault,Db.default.fire({title:`\xBFELIMINAR EDUCACI\xD3N ${this.miPortfolio[i].titulo.toUpperCase()}?`,text:"No podr\xE1 revertir los cambios.",icon:"warning",confirmButtonColor:"#d33",confirmButtonText:"Si, Eliminar.",showCancelButton:!0,cancelButtonText:"Cancelar",cancelButtonColor:"#00b5ff"}).then(o=>{o.isConfirmed&&(this.datosPortfolio.deleteEducacion(this.miPortfolio[i].id).subscribe(s=>{console.log("Borrando registro",s),this.datosPortfolio.obtenerDatosEducacion().subscribe(a=>{this.miPortfolio=a})}),Db.default.fire({title:"ITEM ELIMINADO",icon:"success",showConfirmButton:!1,timer:1e3}))})}onCancelNuevoRegistro(){this.modoNuevoRegistro=!1}onCancel(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),s[3].setValue(""),s[4].setValue(""),s[5].setValue(""),console.log("valueFormDetalles: ",s[0].value),console.log("valueFormEstado: ",s[1].value),console.log("valueFormInstitucion: ",s[2].value),console.log("valueFormPeriodo: ",s[3].value),console.log("valueFormTitulo: ",s[4].value),console.log("valueFormImagen: ",s[5].value),this.modoEdicion=!1}};e.\u0275fac=function(r){return new(r||e)(O(Bi))},e.\u0275cmp=be({type:e,selectors:[["app-experiencia"]],inputs:{isLogged:"isLogged"},decls:9,vars:4,consts:[["id","experienciaFirstCard"],[1,"cHeader"],[1,"cTitle","column","justify-content-start"],[4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["class","d-flex",4,"ngIf"],["click","selectItem(miP);",4,"ngFor","ngForOf"],[1,"cAdd"],[1,"btn-agregar",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/chemindhub2.png?alt=media&token=3e4f4203-e1a9-4bb8-a263-11ad9ee6fd04","alt","Agregar experiencia...",1,"logos","mt-1","bg-blue","rounded-circle"],[1,"d-flex","justify-content-center"],[1,"mb-4",3,"formGroup"],[1,"text-center","border","mt-5","p-3","shadow","rounded"],[1,"text-center","m-3"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/logoEdu.png?alt=media&token=87405494-9eba-41b2-8c96-d6246314043b","alt","",1,"logos"],[1,""],[1,"text-start"],["for","ubicacion",1,"form-label","fw-bold"],["type","text","id","ubicacion","placeholder","Ubicaci\xF3n","formControlName","ubicacion","required","","autofocus","",1,"p-2","mb-2","border","rounded","border","shadow"],["for","puesto",1,"form-label"],["type","text","id","puesto","placeholder","puesto","formControlName","puesto","required",""],["for","periodo",1,"form-label"],["type","text","id","periodo","placeholder","periodo","formControlName","periodo","required",""],["for","empresa",1,"form-label"],["type","text","id","empresa","placeholder","empresa","formControlName","empresa","required",""],["for","actividades",1,"form-label"],["type","text","id","actividades","placeholder","actividades","formControlName","actividades","required",""],["for","imagen",1,"form-label"],["type","text","id","imagen","placeholder","imagen","formControlName","imagen"],[1,"d-flex","justify-content-end"],[1,"p-1"],[1,"btn","p-0","m-1",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/logoCancel.png?alt=media&token=83159e9a-70bd-42eb-8a4e-880915e4790f","alt","Editar",1,"logos"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/logoSave.png?alt=media&token=e96414ef-b581-4377-b93f-3b9d82acd43f","alt","Editar",1,"logos"],[1,"d-flex"],[3,"formGroup"],["for","experiencia",1,"form-label"],["type","text","id","experiencia","placeholder","Experiencia","formControlName","experiencia","required","","autofocus",""],["click","selectItem(miP);"],[1,"cCard","row","box1"],[1,"d-flex","justify-content-end","border"],["data-bs-toggle","tooltip","title",`
							Editar experiencia...`,1,"btn","p-0","m-1"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/logoPencil.png?alt=media&token=88ca1c53-4a67-4f79-b464-be77772fb95ealt=media&token=83159e9a-70bd-42eb-8a4e-880915e4790f"",1,"logos"],["data-bs-toggle","tooltip","title",`
							Eliminar experiencia...`,1,"btn","p-0","m-1"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/logoDelete.png?alt=media&token=73a189bb-d546-4f78-8631-ef6f8d1cdb7e",1,"logos"],[1,"column",2,"width","25%","margin-bottom","10px"],["alt","","id","imgExperiencia",3,"src"],[1,"column",2,"width","75%"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),R(4,"Experiencia"),b()(),Pe(5,PW,6,0,"div",3),b(),Pe(6,OW,38,2,"div",4)(7,LW,38,2,"div",5)(8,VW,34,7,"div",6),b()),r&2&&(K(5),ae("ngIf",o.modoNuevoRegistro===!1),K(),ae("ngIf",o.modoNuevoRegistro===!0),K(),ae("ngIf",o.modoEdicion===!0),K(),ae("ngForOf",o.miPortfolio))},dependencies:[Yr,Qr,oo,tc,Fp,ro,w0,cs,Au],styles:[".row[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;display:flex;flex-wrap:wrap;margin-top:calc(-1 * var(--bs-gutter-y));margin-right:calc(-.5 * var(--bs-gutter-x));margin-left:calc(1 * var(--bs-gutter-x))}"]});let t=e;return t})();var Tb=ky($p());function BW(t,e){if(t&1&&(I(0,"li",9)(1,"div",10)(2,"div")(3,"div",11)(4,"button",12)(5,"span"),B(6,"img",13),b()()(),I(7,"div",14)(8,"button",15)(9,"span"),B(10,"img",16),b()()()(),I(11,"div")(12,"div",17),B(13,"img",18),b(),I(14,"div",19)(15,"p")(16,"b"),R(17,"Titulo:"),b(),R(18),b(),I(19,"p")(20,"b"),R(21,"Descripcion:"),b(),R(22),b()()()()()),t&2){let n=e.$implicit,i=e.index;Bt("data-index",i),K(13),ae("src",n.imagen,Zn),K(5),hn(" ",n.titulo,""),K(4),dn(n.descripcion)}}function UW(t,e){t&1&&(I(0,"div",20)(1,"h1",21),R(2,"A\xF1adir Proyecto"),b(),I(3,"form",22)(4,"label",23),R(5,"Titulo: "),b(),B(6,"input",24),I(7,"label",25),R(8,"Descripci\xF3n: "),b(),B(9,"input",26),I(10,"label",27),R(11,"URL de imag\xE9n: "),b(),B(12,"input",28),I(13,"button",29),R(14,"Submit"),b()()())}var Ok=(()=>{let e=class e{constructor(i){this.datosPortfolio=i,this.modoEdicion=!1,this.modoNuevoRegistro=!1,this.form=new Ni({titulo:new Le(["",[Ve.required,Ve.maxLength(2)]]),descripcion:new Le(["",[Ve.required,Ve.maxLength(2)]]),imagen:new Le(["",[Ve.required,Ve.maxLength(2)]])})}ngOnInit(){console.log("PROYECTOS"),this.datosPortfolio.obtenerDatosProyectos().subscribe(i=>{console.log("Datos Personales: "+JSON.stringify(i)),this.miPortfolio=i,console.log(i)})}selectItem(i){console.log(i)}onCrear(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),console.log("valueFormTitulo: ",s[0].value),console.log("valueFormDescripcion: ",s[1].value),console.log("valueFormImagen: ",s[2].value),this.modoNuevoRegistro=!0}onEdit(i,r,o){this.editID=i,this.i=r,console.log("i",r),console.log("editID",this.editID),console.log("this.form.value: ",this.form.value),console.log("id: ",i),this.form.setValue({titulo:this.miPortfolio[r].titulo,descripcion:this.miPortfolio[r].descripcion,imagen:this.miPortfolio[r].imagen}),console.log("this.form.value: ",this.form.value),this.modoEdicion=!0}onSaveEdit(i){i.preventDefault,this.datosPortfolio.putEducacion(this.form.value,this.editID).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("id: ",this.editID),console.log("PROYECTO method PUT Data Editada",r),this.datosPortfolio.obtenerOneDatosEducacion(this.editID).subscribe(o=>{console.log("Dato: "+JSON.stringify(o)),this.miPortfolio[this.i]=o,console.log("miPortfolio[i : ",this.miPortfolio[this.i])})}),this.modoEdicion=!1}onSaveNewNuevoRegistro(i){i.preventDefault,this.datosPortfolio.postProyecto(this.form.value).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("AcercaDe method post Data",r),this.datosPortfolio.obtenerDatosProyectos().subscribe(o=>{this.miPortfolio=o})}),this.modoNuevoRegistro=!1}onDelete(i,r){console.log("ondelete",i),this.i=i,this.modoEdicion=!1,r.preventDefault,Tb.default.fire({title:`\xBFELIMINAR PROYECTO ${this.miPortfolio[i].titulo.toUpperCase()}?`,text:"No podr\xE1 revertir los cambios.",icon:"warning",confirmButtonColor:"#d33",confirmButtonText:"Si, Eliminar.",showCancelButton:!0,cancelButtonText:"Cancelar",cancelButtonColor:"#00b5ff"}).then(o=>{o.isConfirmed&&(this.datosPortfolio.deleteProyecto(this.miPortfolio[i].id).subscribe(s=>{console.log("Borrando registro",s),this.datosPortfolio.obtenerDatosProyectos().subscribe(a=>{this.miPortfolio=a})}),Tb.default.fire({title:"ITEM ELIMINADO",icon:"success",showConfirmButton:!1,timer:1e3}))})}onCancelNuevoRegistro(){this.modoNuevoRegistro=!1}onCancel(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),console.log("valueFormTitulo: ",s[0].value),console.log("valueFormDescripcion: ",s[1].value),console.log("valueFormImagen: ",s[2].value),this.modoEdicion=!1}};e.\u0275fac=function(r){return new(r||e)(O(Bi))},e.\u0275cmp=be({type:e,selectors:[["app-proyectos"]],inputs:{isLogged:"isLogged"},decls:14,vars:2,consts:[["id","proyectosFirstCard"],[1,"cHeader"],[1,"cTitle","column","justify-content-start"],[1,"cAdd"],["onclick","addProyecto()",1,"btn-agregar"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/chemindhub2.png?alt=media&token=3e4f4203-e1a9-4bb8-a263-11ad9ee6fd04","alt","Agregar Proyecto...",1,"logos","mt-1","bg-blue","rounded-circle"],["onclick","selectItem(miP);",4,"ngFor","ngForOf"],["id","addProyecto"],["class","d-flex",4,"ngIf[modoNuevoRegistro]"],["onclick","selectItem(miP);"],[1,"cCard","row","box1"],[1,"p-1","border",2,"margin","3px"],["data-bs-toggle","tooltip","title",`
						Editar proyecto...`,"onclick","editarProyecto()",1,"btn","p-0","m-1"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/logoPencil.png?alt=media&token=88ca1c53-4a67-4f79-b464-be77772fb95ealt=media&token=83159e9a-70bd-42eb-8a4e-880915e4790f"",1,"logos"],[1,"p-1","border"],["data-bs-toggle","tooltip","title",`
						Eliminar proyecto...`,"onclick","deleteProyecto()",1,"btn","p-0","m-1"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/logoDelete.png?alt=media&token=73a189bb-d546-4f78-8631-ef6f8d1cdb7e",1,"logos"],[1,"column",2,"width","25%","margin-bottom","10px","margin-left","10px"],["alt","","id","imgProyecto",3,"src"],[1,"column",2,"width","65%","margin-left","10px"],[1,"d-flex"],[1,"centertext"],["action",""],["for","titulo"],["type","text","name","titulo","id","titulo","placeholder","Titulo"],["for","descripcion"],["type","text","name","descripcion","id","descripcion"],["for","imagen"],["type","text","name","imagen","id","imagen","autocomplete","src\\assets\\media\\empty.jpg"],["type","submit"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),R(4,"Proyectos"),b()(),I(5,"div",3)(6,"button",4)(7,"span"),B(8,"img",5),R(9,"AGREGAR PROYECTO"),b()()()(),I(10,"ul"),Pe(11,BW,23,4,"li",6),b()(),I(12,"section",7),Pe(13,UW,15,0,"div",8),b()),r&2&&(K(11),ae("ngForOf",o.miPortfolio),K(2),ae("ngIf[modoNuevoRegistro]",o.True))},dependencies:[Yr,oo,ro,_0]});let t=e;return t})();function HW(t,e){if(t&1&&(I(0,"li",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11)(5,"span"),B(6,"img",12),b()()(),I(7,"div",10)(8,"button",13)(9,"span"),B(10,"img",14),b()()()(),I(11,"div",15),B(12,"img",16),b(),I(13,"div",17)(14,"p")(15,"b"),R(16,"Descripcion:"),b(),R(17),b()()()()),t&2){let n=e.$implicit;K(12),ae("src",n.imagen,Zn),K(5),hn(" ",n.descripcion,"")}}var Fk=(()=>{let e=class e{constructor(i){this.portfolioService=i}ngOnInit(){this.portfolioService.obtenerDatos().subscribe(i=>{console.log(i),this.miPortfolio=i.skills,console.log(this.miPortfolio)})}selectItem(i){this.portfolioService.obtenerOneDatosSkill(i).subscribe(r=>{console.log(i)})}};e.\u0275fac=function(r){return new(r||e)(O(Bi))},e.\u0275cmp=be({type:e,selectors:[["app-skills"]],decls:12,vars:1,consts:[["id","skillsFirstCard"],[1,"cHeader"],[1,"cTitle","column","justify-content-start"],[1,"cAdd"],[1,"btn-agregar"],["src","https://drive.google.com/uc?export=download&id=1fjYoxt7euY7eeMicSfKYoLxuppo6kGiO","alt","Agregar skills...",1,"logos","mt-1","bg-blue","rounded-circle"],["onclick","selectItem(miP);",4,"ngFor","ngForOf"],["onclick","selectItem(miP);"],[1,"cCard","row","box1"],[1,"d-flex","justify-content-end","border"],[1,"p-1"],["data-bs-toggle","tooltip","title",`
						Editar skills...`,1,"btn","p-0","m-1"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/logoPencil.png?alt=media&token=88ca1c53-4a67-4f79-b464-be77772fb95ealt=media&token=83159e9a-70bd-42eb-8a4e-880915e4790f"",1,"logos"],["data-bs-toggle","tooltip","title",`
						Eliminar skills...`,1,"btn","p-0","m-1"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/logoDelete.png?alt=media&token=73a189bb-d546-4f78-8631-ef6f8d1cdb7e",1,"logos"],[1,"column",2,"width","25%","margin-bottom","10px"],["alt","","id","imgSkill",3,"src"],[1,"column","align-self-center",2,"width","75%"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),R(4,"Skills"),b()(),I(5,"div",3)(6,"button",4)(7,"span"),B(8,"img",5),R(9,"AGREGAR SKILLS"),b()()()(),I(10,"ul"),Pe(11,HW,18,2,"li",6),b()()),r&2&&(K(11),ae("ngForOf",o.miPortfolio))},dependencies:[Yr]});let t=e;return t})();var Lk=(()=>{let e=class e{constructor(i){this.portfolioService=i}ngOnInit(){console.log("[CHE-BANNER]"),this.miAcercade2=this.portfolioService.obtenerDatosAcercaDe(),console.log("[miAcercade2:] ",this.miAcercade2),this.miPersona2=this.portfolioService.obtenerDatosPersona(),console.log("[P2:] ",this.miPersona2),this.portfolioService.obtenerDatosAcercaDe().subscribe(i=>{this.miAcercade=i,console.log(this.miAcercade)}),this.portfolioService.obtenerDatosPersona().subscribe(i=>{this.miPersona=i,console.log(this.miPersona)})}};e.\u0275fac=function(r){return new(r||e)(O(Bi))},e.\u0275cmp=be({type:e,selectors:[["app-banner"]],decls:46,vars:4,consts:[["id","first-card"],["id","profile-background",1,"img"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/bg-ap.jpg?alt=media&token=1f84341a-caa6-49ae-9bbf-b977ef94a926","alt","","id","profile-image"],["id","info",2,"padding","16px"],["id","info-img"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/chedata1foto.png?alt=media&token=04e2cb1c-ebc4-420f-9515-4d66cb389369","alt","",1,"profile-image"],[1,"btn-edit"],["href","#",1,"btn-right"],[1,"fa","fa-pen"],["id","info-data"],["id","info-company"],["id","info-contact"],["href","#"],["id","info-details"],[1,"d-flex","container","bg-black"],["alt","",1,"img-info",3,"src"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/chemindhub2.png?alt=media&token=3e4f4203-e1a9-4bb8-a263-11ad9ee6fd04","alt","","width","3vw","height","3vw"],["id","info-actions"],["type","button",1,"btn","btn-primary"],["type","button",1,"btn","btn-light"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1),B(2,"img",2),b(),I(3,"div",3)(4,"div",4),B(5,"img",5),I(6,"div",6)(7,"a",7),B(8,"i",8),b()()(),I(9,"div",9)(10,"div")(11,"h1"),R(12),b(),I(13,"div",10)(14,"p"),R(15),b()(),I(16,"div",11),R(17," Ubicaci\xF3n:"),I(18,"span"),R(19,"Buenos Aires (Argentina) "),b(),B(20,"br"),I(21,"span")(22,"a",12),R(23,"Informaci\xF3n de contacto"),b()()()(),I(24,"div")(25,"ul",13)(26,"li")(27,"a",12)(28,"div",14),B(29,"img",15),b(),I(30,"p")(31,"b"),R(32,"I.N.T.I."),b()()()(),I(33,"li")(34,"a",12)(35,"div",14),B(36,"img",16),b(),I(37,"h2"),R(38,"Argentina Programa - MINDHUB"),b()()()()()(),I(39,"div",17)(40,"button",18),R(41,"Tengo inter\xE9s en"),b(),I(42,"button",19),R(43,"A\xF1adir secci\xF3n"),b(),I(44,"button",19),R(45,"M\xE1s"),b()()()()),r&2&&(K(12),Wl("Nombres: [",o.miPersona2.nombres,"] Apellido: ",o.miPersona2.apellido,""),K(3),hn("[Ocupaci\xF3n:] ",o.miAcercade.ocupacion,""),K(14),ae("src",o.miAcercade.institutionImage,Zn))},styles:[".mat-card[_ngcontent-%COMP%]{border-radius:32px;border:3px solid blue}.mat-card#first-card[_ngcontent-%COMP%]{padding:0}div#profile-background[_ngcontent-%COMP%]{display:flex}div#profile-background[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:32px}div#info-actions[_ngcontent-%COMP%]{display:flex}div#info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div#info-img[_ngcontent-%COMP%]{width:30%}div#info-data[_ngcontent-%COMP%]{display:flex}div#info-company[_ngcontent-%COMP%]{font-size:medium}div#info-contact[_ngcontent-%COMP%]{font-size:large}.profile-image[_ngcontent-%COMP%]{background-color:#000;border-radius:50%;width:152px;height:152px;margin-top:-110px;z-index:3}.btn-edit[_ngcontent-%COMP%], .btn-right[_ngcontent-%COMP%]{width:32px}@media (max-width: 320px){div#info-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{bottom:auto}.profile-image[_ngcontent-%COMP%]{border-radius:50%;width:52px;height:52px;margin-top:-110px;z-index:3}.img-info[_ngcontent-%COMP%]{width:35%;height:35%}}@media (max-width: 768px){.profile-image[_ngcontent-%COMP%]{border-radius:50%;width:52px;height:52px;margin-top:-110px;z-index:3}.img-info[_ngcontent-%COMP%]{width:35%;height:35%}}"]});let t=e;return t})();var Vk=(()=>{let e=class e{ngOnInit(){console.log("[Portfolio-l11]")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=be({type:e,selectors:[["app-portfolio"]],decls:8,vars:0,template:function(r,o){r&1&&B(0,"app-navbar")(1,"app-banner")(2,"app-acercade")(3,"app-educacion")(4,"app-experiencia")(5,"app-skills")(6,"app-proyectos")(7,"app-footer")},dependencies:[hc,mm,Mk,Pk,Nk,Ok,Fk,Lk]});let t=e;return t})();var jk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=be({type:e,selectors:[["app-page-not-found"]],decls:1,vars:0,consts:[["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/che404.png?alt=media&token=1d7437f1-42a8-46a4-807b-90430409218b","alt",""]],template:function(r,o){r&1&&B(0,"img",0)}});let t=e;return t})();function GW(t,e){t&1&&(I(0,"p",17),R(1," The name of user is required... "),b())}function WW(t,e){t&1&&(I(0,"p",17),R(1," The format of the name be valid. "),b())}function KW(t,e){if(t&1&&(I(0,"div"),Pe(1,GW,2,0,"p",16)(2,WW,2,0,"p",16),b()),t&2){let n=ot();K(),ae("ngIf",n.username==null?null:n.username.hasError("required")),K(),ae("ngIf",n.username==null?null:n.username.hasError("nombreUsuario"))}}function YW(t,e){t&1&&B(0,"p",17)}function QW(t,e){t&1&&(I(0,"p",17),R(1," The password must long 8 characters minimal. "),b())}function ZW(t,e){if(t&1&&(I(0,"div"),Pe(1,YW,1,0,"p",16),R(2," The password is required. "),Pe(3,QW,2,0,"p",16),b()),t&2){let n=ot();K(),ae("ngIf",n.password==null?null:n.password.hasError("required")),K(2),ae("ngIf",n.password==null||n.password.errors==null?null:n.password.errors.minlength)}}function XW(t,e){t&1&&(I(0,"p"),R(1,"Enviando datos..."),b())}function JW(t,e){if(t&1&&(I(0,"p"),R(1),b()),t&2){let n=ot(2);K(),dn(n.respta.msj)}}function e8(t,e){if(t&1&&(I(0,"div",18),Pe(1,XW,2,0,"p",7)(2,JW,2,1,"p",7),b()),t&2){let n=ot();ae("ngClass",n.respta.salioBien?"alert alert-success":"alert alert-danger"),K(),ae("ngIf",n.respta.msj==""),K(),ae("ngIf",n.respta.msj!="")}}var Bk=(t,e)=>({"is-invalid":t,"is-valid":e}),Uk=(()=>{let e=class e{constructor(i,r,o){this.formBuilder=i,this.autenticacionService=r,this.ruta=o,this.respta={salioBien:!1,msj:""},this.mostrarMsj=!1,this.loginForm=this.formBuilder.group({username:["",[Ve.required,Ve.minLength(2)]],password:["",[Ve.required,Ve.minLength(8)]]})}ngOnInit(){console.log("[ln29] Login")}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}ingresar(){this.loginForm.valid&&(this.loginForm.value.username==="sole"&&this.loginForm.value.password==="12345678"?(this.mostrarMsj=!0,this.autenticacionService.iniciarSesion(),this.respta.salioBien=!0,this.respta.msj="\xA1Buena! Ya iniciaste sesi\xF3n!",this.ruta.navigate(["/portfolio"])):this.loginForm.value.username===""||this.loginForm.value.password===""?(this.mostrarMsj=!0,this.respta.msj="Se necesita usuario y contrase\xF1a para ingresar"):(this.mostrarMsj=!0,this.respta.msj="Mmm... Usuario o contrase\xF1a inv\xE1lidos"))}loginWithGoogle(){}};e.\u0275fac=function(r){return new(r||e)(O(Bp),O(im),O(fn))},e.\u0275cmp=be({type:e,selectors:[["app-login"]],decls:30,vars:12,consts:[[1,"container-fluid","imagen-fondo","d-flex","justify-content-center","border","loginBorder",2,"padding","5px 5px"],[1,"row","justify-content-center","col-10",2,"width","40vw","height","30vw","border","2px solid gray","padding-bottom","10px"],["name","loginForm","id","loginForm",1,"shadow","col-sm-6","p-4","m-auto",3,"formGroup","ngSubmit"],[1,"text-center","text-info","shadow","border","cc",2,"color","blueviolet"],[1,"mb-3","mt-3"],["for","username",1,"form-label","spcLabel"],["type","text","formControlName","username","id","username","aria-describedby","nombreUsuarioHelp","placeholder","Enter the name of user...","tooltip","Enter the name of current user...",1,"form-control",3,"ngClass"],[4,"ngIf"],[1,"mb-5"],["for","exampleInputPassword1",1,"form-label","spcLabel"],["type","password","formControlName","password","tooltip","Enter your password...","id","exampleInputPassword1","placeholder","Enter your password...",1,"form-control",3,"ngClass"],["role","alert",3,"ngClass",4,"ngIf"],[1,"d-flex","botones","my-1"],["type","button","onclick","loginWithGoogle();",1,"btn","btn-blue"],["type","submit","routerLink","/portfolio",1,"btn","btn-skyblue","btn-sm","w-50","fw-bold","border"],["type","button","routerLink","/register",1,"btn","border"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["role","alert",3,"ngClass"]],template:function(r,o){r&1&&(B(0,"app-navbar"),I(1,"div",0)(2,"div",1)(3,"form",2),Qe("ngSubmit",function(){return o.ingresar()}),I(4,"h2",3)(5,"i"),R(6,"MY PORTFOLIO"),b()(),I(7,"div",4)(8,"label",5),R(9,"User Name: "),b(),B(10,"input",6),Pe(11,KW,3,2,"div",7),b(),I(12,"div",8)(13,"label",9),R(14," Password: "),b(),B(15,"input",10),Pe(16,ZW,4,2,"div",7),b(),Pe(17,e8,3,3,"div",11),B(18,"br")(19,"br"),I(20,"div",12)(21,"button",13),R(22,"Login with Google Acount"),b(),B(23,"br"),I(24,"button",14),R(25,"INIT SESSION"),b(),B(26,"br"),I(27,"button",15),R(28,"New user"),b()()()()(),B(29,"app-footer")),r&2&&(K(3),ae("formGroup",o.loginForm),K(7),ae("ngClass",K_(6,Bk,(o.username==null?null:o.username.errors)&&(o.username==null?null:o.username.touched),!(o.username!=null&&o.username.errors)&&(o.username==null?null:o.username.touched))),K(),ae("ngIf",(o.username==null?null:o.username.errors)&&(o.username==null?null:o.username.touched)),K(4),ae("ngClass",K_(9,Bk,(o.password==null?null:o.password.errors)&&(o.password==null?null:o.password.touched),!(o.password!=null&&o.password.errors)&&(o.password==null?null:o.password.touched))),K(),ae("ngIf",(o.password==null?null:o.password.errors)&&(o.password==null?null:o.password.touched)),K(),ae("ngIf",o.mostrarMsj))},dependencies:[Xx,Qr,Xa,oo,tc,Fp,ro,cs,Au,hc,mm],styles:[".loginBorder[_ngcontent-%COMP%]{background-color:#f0f8ff;border:2px solid rgb(160,15,15);border-radius:5px;top:5px;padding-top:5px}.cc[_ngcontent-%COMP%]{text-align:center}.spcLabel[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.botones[_ngcontent-%COMP%]{line-height:.5;justify-content:center;text-align:center;flex-direction:column}"]});let t=e;return t})();var _m=class{constructor(e){return e}};var $k=C0(Ly,!0);var Hk=C0(Vy,!0);var zk=(()=>{let e=class e{constructor(i){this.auth=i}register({email:i,password:r}){return $k(this.auth,i,r)}login({email:i,password:r}){return Hk(this.auth,i,r)}};e.\u0275fac=function(r){return new(r||e)(v(_m))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qk=(()=>{let e=class e{constructor(i,r,o){this.formBuilder=i,this.userService=r,this.router=o,this.formReg=this.formBuilder.group({nombres:new Le(["",[Ve.required,Ve.maxLength(2)]]),apellido:new Le(["",[Ve.required,Ve.maxLength(2)]]),fecha_nacimiento:new Le,nacionalidad:new Le,mail:new Le,password:new Le,sobre_mi:new Le,ocupacion:new Le,bannerUrl:new Le,image_background_header:new Le,image_perfil:new Le,linkedinUrl:new Le,githubUrl:new Le,descripcion:new Le,imgUrl:new Le})}ngOnInit(){console.log("[CHE-Register]")}onSubmit(){console.log(this.formReg.value),this.userService.register(this.formReg.value).then(i=>{console.log(i),this.router.navigate(["/login"])}).catch(i=>console.error(i))}};e.\u0275fac=function(r){return new(r||e)(O(Bp),O(zk),O(fn))},e.\u0275cmp=be({type:e,selectors:[["app-register"]],decls:23,vars:1,consts:[[1,"d-flex","container-fluid","border","shadow"],["name","formReg",3,"formGroup"],["type","text","name","nombres","id","nombres",1,"form-control"],["type","text","name","apellido","id","apellido",1,"form-control"],["type","date","name","fecha_nacimiento","id","fecha_nacimiento",1,"form-control"],["type","text","name","nacionalidad","id","nacionalidad",1,"form-control"],["type","text","name","mail","id","mail",1,"form-control"],["type","password","name","password","id","password",1,"form-control"],["type","sobre_mi","name","sobre_mi","id","sobre_mi",1,"form-control"],["type","text","name","ocupacion","id","ocupacion",1,"form-control"],["type","text","name","bannerUrl","id","bannerUrl",1,"form-control"],["type","text","name","image_background_header","id","image_background_header",1,"form-control"],["type","text","name","image_perfil","id","image_perfil",1,"form-control"],["type","text","name","linkedinUrl","id","linkedinUrl",1,"form-control"],["type","text","name","githubUrl","id","githubUrl",1,"form-control"],["type","text","name","descripcion","id","descripcion",1,"form-control"],["type","text","name","imgUrl","id","imgUrl",1,"form-control"],["type","submit"],[1,"btn","danger"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"h1"),R(2,"Registro de usuario"),b(),I(3,"form",1),B(4,"input",2)(5,"input",3)(6,"input",4)(7,"input",5)(8,"input",6)(9,"input",7)(10,"input",8)(11,"input",9)(12,"input",10)(13,"input",11)(14,"input",12)(15,"input",13)(16,"input",14)(17,"input",15)(18,"input",16),I(19,"button",17),R(20,"Enviar"),b(),I(21,"button",18),R(22,"Cancelar"),b()()()),r&2&&(K(3),ae("formGroup",o.formReg))},dependencies:[oo,ro,cs]});let t=e;return t})();var t7=[{path:"login",component:Uk},{path:"portfolio",component:Vk},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",component:jk},{path:"navbar",component:hc},{path:"register",component:qk}],Gk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=re({imports:[Eu.forRoot(t7),Eu]});let t=e;return t})();var Sb=new F("angularfire2.auth.use-emulator"),Ab=new F("angularfire2.auth.settings"),xb=new F("angularfire2.auth.tenant-id"),Rb=new F("angularfire2.auth.langugage-code"),Mb=new F("angularfire2.auth.use-device-language"),kb=new F("angularfire.auth.persistence"),Pb=(t,e,n,i,r,o,s,a)=>ic(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(let[l,u]of Object.entries(s))c.settings[l]=u;return a&&c.setPersistence(a),c},[n,i,r,o,s,a]),Nb=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,c,l,u,f,m,g){let _=new ue,E=G(void 0).pipe(cn(s.outsideAngular),$e(()=>o.runOutsideAngular(()=>import("./chunk-26RWEZGO.js"))),Y(()=>ds(n,o,i)),Y(w=>Pb(w,o,a,l,u,f,c,m)),Il({bufferSize:1,refCount:!1}));if(is(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=G(null);else{E.pipe(An()).subscribe();let w=E.pipe($e(M=>M.getRedirectResult().then(x=>x,()=>null)),St,Il({bufferSize:1,refCount:!1})),S=E.pipe($e(M=>new ne(x=>({unsubscribe:o.runOutsideAngular(()=>M.onAuthStateChanged(q=>x.next(q),q=>x.error(q),()=>x.complete()))})))),j=E.pipe($e(M=>new ne(x=>({unsubscribe:o.runOutsideAngular(()=>M.onIdTokenChanged(q=>x.next(q),q=>x.error(q),()=>x.complete()))}))));this.authState=w.pipe(qh(S),Sn(s.outsideAngular),cn(s.insideAngular)),this.user=w.pipe(qh(j),Sn(s.outsideAngular),cn(s.insideAngular)),this.idToken=this.user.pipe($e(M=>M?ge(M.getIdToken()):G(null))),this.idTokenResult=this.user.pipe($e(M=>M?ge(M.getIdTokenResult()):G(null))),this.credential=Uo(w,_,this.authState.pipe(Re(M=>!M))).pipe(Y(M=>M?.user?M:null),Sn(s.outsideAngular),cn(s.insideAngular))}return n1(this,E,o,{spy:{apply:(w,S,j)=>{(w.startsWith("signIn")||w.startsWith("createUser"))&&j.then(M=>_.next(M))}}})}static \u0275fac=function(i){return new(i||t)(v(ao),v(co,8),v(pt),v(Z),v(us),v(Sb,8),v(Ab,8),v(xb,8),v(Rb,8),v(Mb,8),v(kb,8),v(Fi,8))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Wk=(()=>{class t{constructor(){wt.registerVersion("angularfire",Li.full,"auth-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=ie({type:t});static \u0275inj=re({providers:[Nb]})}return t})();var i7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ri={},H,nE=nE||{},ce=i7||self;function Pm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function cd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function r7(t){return Object.prototype.hasOwnProperty.call(t,Ob)&&t[Ob]||(t[Ob]=++o7)}var Ob="closure_uid_"+(1e9*Math.random()>>>0),o7=0;function s7(t,e,n){return t.call.apply(t.bind,arguments)}function a7(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function $t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$t=s7:$t=a7,$t.apply(null,arguments)}function wm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Rt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function ho(){this.s=this.s,this.o=this.o}var c7=0;ho.prototype.s=!1;ho.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),c7!=0)&&r7(this)};ho.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var sP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function iE(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Kk(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(Pm(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let s=0;s<o;s++)t[r+s]=i[s]}else t.push(i)}}function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var l7=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function ed(t){return/^[\s\xa0]*$/.test(t)}function Nm(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Ui(t){return Nm().indexOf(t)!=-1}function rE(t){return rE[" "](t),t}rE[" "]=function(){};function u7(t,e){var n=X7;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var d7=Ui("Opera"),Cc=Ui("Trident")||Ui("MSIE"),aP=Ui("Edge"),Bb=aP||Cc,cP=Ui("Gecko")&&!(Nm().toLowerCase().indexOf("webkit")!=-1&&!Ui("Edge"))&&!(Ui("Trident")||Ui("MSIE"))&&!Ui("Edge"),h7=Nm().toLowerCase().indexOf("webkit")!=-1&&!Ui("Edge");function lP(){var t=ce.document;return t?t.documentMode:void 0}var Ub;e:{if(bm="",Em=function(){var t=Nm();if(cP)return/rv:([^\);]+)(\)|;)/.exec(t);if(aP)return/Edge\/([\d\.]+)/.exec(t);if(Cc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(h7)return/WebKit\/(\S+)/.exec(t);if(d7)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Em&&(bm=Em?Em[1]:""),Cc&&(Im=lP(),Im!=null&&Im>parseFloat(bm))){Ub=String(Im);break e}Ub=bm}var bm,Em,Im,$b;ce.document&&Cc?(Fb=lP(),$b=Fb||parseInt(Ub,10)||void 0):$b=void 0;var Fb,f7=$b;function td(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cP){e:{try{rE(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:p7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&td.$.h.call(this)}}Rt(td,Ht);var p7={2:"touch",3:"pen",4:"mouse"};td.prototype.h=function(){td.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ld="closure_listenable_"+(1e6*Math.random()|0),m7=0;function g7(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++m7,this.fa=this.ia=!1}function Om(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function oE(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function y7(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function uP(t){let e={};for(let n in t)e[n]=t[n];return e}var Yk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dP(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<Yk.length;o++)n=Yk[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Fm(t){this.src=t,this.g={},this.h=0}Fm.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=zb(t,e,i,r);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new g7(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function Hb(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=sP(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Om(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function zb(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var sE="closure_lm_"+(1e6*Math.random()|0),Lb={};function hP(t,e,n,i,r){if(i&&i.once)return pP(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)hP(t,e[o],n,i,r);return null}return n=lE(n),t&&t[ld]?t.O(e,n,cd(i)?!!i.capture:!!i,r):fP(t,e,n,!1,i,r)}function fP(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=cd(r)?!!r.capture:!!r,a=cE(t);if(a||(t[sE]=a=new Fm(t)),n=a.add(e,n,i,s,o),n.proxy)return n;if(i=v7(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)l7||(r=s),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(gP(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function v7(){function t(n){return e.call(t.src,t.listener,n)}let e=_7;return t}function pP(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)pP(t,e[o],n,i,r);return null}return n=lE(n),t&&t[ld]?t.P(e,n,cd(i)?!!i.capture:!!i,r):fP(t,e,n,!0,i,r)}function mP(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)mP(t,e[o],n,i,r);else i=cd(i)?!!i.capture:!!i,n=lE(n),t&&t[ld]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=zb(o,n,i,r),-1<n&&(Om(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=cE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zb(e,n,i,r)),(n=-1<t?e[t]:null)&&aE(n))}function aE(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ld])Hb(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(gP(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=cE(e))?(Hb(n,t),n.h==0&&(n.src=null,e[sE]=null)):Om(t)}}}function gP(t){return t in Lb?Lb[t]:Lb[t]="on"+t}function _7(t,e){if(t.fa)t=!0;else{e=new td(e,this);var n=t.listener,i=t.la||t.src;t.ia&&aE(t),t=n.call(i,e)}return t}function cE(t){return t=t[sE],t instanceof Fm?t:null}var Vb="__closure_events_fn_"+(1e9*Math.random()>>>0);function lE(t){return typeof t=="function"?t:(t[Vb]||(t[Vb]=function(e){return t.handleEvent(e)}),t[Vb])}function xt(){ho.call(this),this.i=new Fm(this),this.S=this,this.J=null}Rt(xt,ho);xt.prototype[ld]=!0;xt.prototype.removeEventListener=function(t,e,n,i){mP(this,t,e,n,i)};function Lt(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var r=e;e=new Ht(i,t),dP(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=Cm(s,i,!0,e)&&r}if(s=e.g=t,r=Cm(s,i,!0,e)&&r,r=Cm(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)s=e.g=n[o],r=Cm(s,i,!1,e)&&r}xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Om(n[i]);delete t.g[e],t.h--}}this.J=null};xt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};xt.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Cm(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Hb(t.i,s),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var uE=ce.JSON.stringify,qb=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function w7(){var t=dE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Gb=class{constructor(){this.h=this.g=null}add(e,n){let i=yP.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},yP=new qb(()=>new Wb,t=>t.reset()),Wb=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function b7(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function E7(t){ce.setTimeout(()=>{throw t},0)}var nd,id=!1,dE=new Gb,vP=()=>{let t=ce.Promise.resolve(void 0);nd=()=>{t.then(I7)}},I7=()=>{for(var t;t=w7();){try{t.h.call(t.g)}catch(n){E7(n)}var e=yP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}id=!1};function Lm(t,e){xt.call(this),this.h=t||1,this.g=e||ce,this.j=$t(this.qb,this),this.l=Date.now()}Rt(Lm,xt);H=Lm.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lt(this,"tick"),this.ga&&(hE(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function hE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Lm.$.N.call(this),hE(this),delete this.g};function fE(t,e,n){if(typeof t=="function")n&&(t=$t(t,n));else if(t&&typeof t.handleEvent=="function")t=$t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function _P(t){t.g=fE(()=>{t.g=null,t.i&&(t.i=!1,_P(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Kb=class extends ho{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_P(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function rd(t){ho.call(this),this.h=t,this.g={}}Rt(rd,ho);var Qk=[];function wP(t,e,n,i){Array.isArray(n)||(n&&(Qk[0]=n.toString()),n=Qk);for(var r=0;r<n.length;r++){var o=hP(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function bP(t){oE(t.g,function(e,n){this.g.hasOwnProperty(n)&&aE(e)},t),t.g={}}rd.prototype.N=function(){rd.$.N.call(this),bP(this)};rd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Vm(){this.g=!0}Vm.prototype.Ea=function(){this.g=!1};function C7(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");s=2<=f.length&&f[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+s})}function D7(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+s})}function Ec(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+S7(t,n)+(i?" "+i:"")})}function T7(t,e){t.info(function(){return"TIMEOUT: "+e})}Vm.prototype.info=function(){};function S7(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return uE(n)}catch{return e}}var Is={},Zk=null;function jm(){return Zk=Zk||new xt}Is.Ta="serverreachability";function EP(t){Ht.call(this,Is.Ta,t)}Rt(EP,Ht);function od(t){let e=jm();Lt(e,new EP(e))}Is.STAT_EVENT="statevent";function IP(t,e){Ht.call(this,Is.STAT_EVENT,t),this.stat=e}Rt(IP,Ht);function en(t){let e=jm();Lt(e,new IP(e,t))}Is.Ua="timingevent";function CP(t,e){Ht.call(this,Is.Ua,t),this.size=e}Rt(CP,Ht);function ud(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Bm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},DP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pE(){}pE.prototype.h=null;function Xk(t){return t.h||(t.h=t.i())}function TP(){}var dd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mE(){Ht.call(this,"d")}Rt(mE,Ht);function gE(){Ht.call(this,"c")}Rt(gE,Ht);var Yb;function Um(){}Rt(Um,pE);Um.prototype.g=function(){return new XMLHttpRequest};Um.prototype.i=function(){return{}};Yb=new Um;function hd(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new rd(this),this.P=A7,t=Bb?125:void 0,this.V=new Lm(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new SP}function SP(){this.i=null,this.g="",this.h=!1}var A7=45e3,AP={},Qb={};H=hd.prototype;H.setTimeout=function(t){this.P=t};function Zb(t,e,n){t.L=1,t.A=Hm(_r(e)),t.u=n,t.S=!0,xP(t,null)}function xP(t,e){t.G=Date.now(),fd(t),t.B=_r(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),LP(n.i,"t",i),t.o=0,n=t.l.J,t.h=new SP,t.g=rN(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Kb($t(t.Pa,t,t.g),t.O)),wP(t.U,t.g,"readystatechange",t.nb),e=t.I?uP(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),od(),C7(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;let e=this.M;e&&$i(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{let u=$i(this.g);var e=this.g.Ia();let f=this.g.da();if(!(3>u)&&(u!=3||Bb||this.g&&(this.h.h||this.g.ja()||nP(this.g)))){this.J||u!=4||e==7||(e==8||0>=f?od(3):od(2)),$m(this);var n=this.g.da();this.ca=n;t:if(RP(this)){var i=nP(this.g);t="";var r=i.length,o=$i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ws(this),Ju(this);var s="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,D7(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ed(a)){var l=a;break t}}l=null}if(n=l)Ec(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xb(this,n);else{this.i=!1,this.s=3,en(12),ws(this),Ju(this);break e}}this.S?(MP(this,u,s),Bb&&this.i&&u==3&&(wP(this.U,this.V,"tick",this.mb),this.V.start())):(Ec(this.j,this.m,s,null),Xb(this,s)),u==4&&ws(this),this.i&&!this.J&&(u==4?eN(this.l,this):(this.i=!1,fd(this)))}else Y7(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),ws(this),Ju(this)}}}catch{}finally{}};function RP(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function MP(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=x7(t,n),r==Qb){e==4&&(t.s=4,en(14),i=!1),Ec(t.j,t.m,null,"[Incomplete Response]");break}else if(r==AP){t.s=4,en(15),Ec(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Ec(t.j,t.m,r,null),Xb(t,r);RP(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,en(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),EE(e),e.M=!0,en(11))):(Ec(t.j,t.m,n,"[Invalid Chunked Response]"),ws(t),Ju(t))}H.mb=function(){if(this.g){var t=$i(this.g),e=this.g.ja();this.o<e.length&&($m(this),MP(this,t,e),this.i&&t!=4&&fd(this))}};function x7(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?Qb:(n=Number(e.substring(n,i)),isNaN(n)?AP:(i+=1,i+n>e.length?Qb:(e=e.slice(i,i+n),t.o=i+n,e)))}H.cancel=function(){this.J=!0,ws(this)};function fd(t){t.Y=Date.now()+t.P,kP(t,t.P)}function kP(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ud($t(t.lb,t),e)}function $m(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(T7(this.j,this.B),this.L!=2&&(od(),en(17)),ws(this),this.s=2,Ju(this)):kP(this,this.Y-t)};function Ju(t){t.l.H==0||t.J||eN(t.l,t)}function ws(t){$m(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,hE(t.V),bP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Xb(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Jb(n.i,t))){if(!t.K&&Jb(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)xm(n),Gm(n);else break e;bE(n),en(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=ud($t(n.ib,n),6e3));if(1>=BP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else bs(n,11)}else if((t.K||n.g==t)&&xm(n),!ed(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));let m=l[5];m!=null&&typeof m=="number"&&0<m&&(i=1.5*m,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let g=t.g;if(g){let _=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=i.i;o.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(yE(o,o.h),o.h=null))}if(i.F){let E=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(i.Da=E,Ke(i.I,i.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var s=t;if(i.wa=iN(i,i.J?i.pa:null,i.Y),s.K){UP(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.C&&($m(a),fd(a)),i.g=s}else XP(i);0<n.j.length&&Wm(n)}else l[0]!="stop"&&l[0]!="close"||bs(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?bs(n,7):wE(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}od(4)}catch{}}function R7(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Pm(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function M7(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Pm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function PP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Pm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=M7(t),i=R7(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var NP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k7(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Es(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Es){this.h=t.h,Sm(this,t.j),this.s=t.s,this.g=t.g,Am(this,t.m),this.l=t.l;var e=t.i,n=new sd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Jk(this,n),this.o=t.o}else t&&(e=String(t).match(NP))?(this.h=!1,Sm(this,e[1]||"",!0),this.s=Zu(e[2]||""),this.g=Zu(e[3]||"",!0),Am(this,e[4]),this.l=Zu(e[5]||"",!0),Jk(this,e[6]||"",!0),this.o=Zu(e[7]||"")):(this.h=!1,this.i=new sd(null,this.h))}Es.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xu(e,eP,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Xu(e,eP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Xu(n,n.charAt(0)=="/"?O7:N7,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xu(n,L7)),t.join("")};function _r(t){return new Es(t)}function Sm(t,e,n){t.j=n?Zu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Am(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Jk(t,e,n){e instanceof sd?(t.i=e,V7(t.i,t.h)):(n||(e=Xu(e,F7)),t.i=new sd(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function Hm(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,P7),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function P7(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var eP=/[#\/\?@]/g,N7=/[#\?:]/g,O7=/[#\?]/g,F7=/[#\?@]/g,L7=/#/g;function sd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fo(t){t.g||(t.g=new Map,t.h=0,t.i&&k7(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=sd.prototype;H.add=function(t,e){fo(this),this.i=null,t=Dc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function OP(t,e){fo(t),e=Dc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function FP(t,e){return fo(t),e=Dc(t,e),t.g.has(e)}H.forEach=function(t,e){fo(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};H.ta=function(){fo(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};H.Z=function(t){fo(this);let e=[];if(typeof t=="string")FP(this,t)&&(e=e.concat(this.g.get(Dc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return fo(this),this.i=null,t=Dc(this,t),FP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function LP(t,e,n){OP(t,e),0<n.length&&(t.i=null,t.g.set(Dc(t,e),iE(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),t.push(r)}}return this.i=t.join("&")};function Dc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function V7(t,e){e&&!t.j&&(fo(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(OP(this,i),LP(this,r,n))},t)),t.j=e}var j7=class{constructor(t,e){this.g=t,this.map=e}};function VP(t){this.l=t||B7,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var B7=10;function jP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BP(t){return t.h?1:t.g?t.g.size:0}function Jb(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function yE(t,e){t.g?t.g.add(e):t.h=e}function UP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}VP.prototype.cancel=function(){if(this.i=$P(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function $P(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return iE(t.i)}var U7=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function $7(){this.g=new U7}function H7(t,e,n){let i=n||"";try{PP(t,function(r,o){let s=r;cd(r)&&(s=uE(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function z7(t,e){let n=new Vm;if(ce.Image){let i=new Image;i.onload=wm(Dm,n,i,"TestLoadImage: loaded",!0,e),i.onerror=wm(Dm,n,i,"TestLoadImage: error",!1,e),i.onabort=wm(Dm,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=wm(Dm,n,i,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Dm(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function pd(t){this.l=t.ec||null,this.j=t.ob||!1}Rt(pd,pE);pd.prototype.g=function(){return new zm(this.l,this.j)};pd.prototype.i=function(t){return function(){return t}}({});function zm(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=vE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rt(zm,xt);var vE=0;H=zm.prototype;H.open=function(t,e){if(this.readyState!=vE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ad(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,md(this)),this.readyState=vE};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ad(this)),this.g&&(this.readyState=3,ad(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function HP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?md(this):ad(this),this.readyState==3&&HP(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,md(this))};H.Ya=function(t){this.g&&(this.response=t,md(this))};H.ka=function(){this.g&&md(this)};function md(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ad(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ad(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(zm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var q7=ce.JSON.parse;function st(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zP,this.L=this.M=!1}Rt(st,xt);var zP="",G7=/^https?$/i,W7=["POST","PUT"];H=st.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yb.g(),this.C=this.u?Xk(this.u):Xk(Yb),this.g.onreadystatechange=$t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){tP(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=ce.FormData&&t instanceof ce.FormData,!(0<=sP(W7,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WP(this),0<this.B&&((this.L=K7(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$t(this.ua,this)):this.A=fE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){tP(this,o)}};function K7(t){return Cc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof nE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))};function tP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qP(t),qm(t)}function qP(t){t.F||(t.F=!0,Lt(t,"complete"),Lt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),qm(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qm(this,!0)),st.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?GP(this):this.kb())};H.kb=function(){GP(this)};function GP(t){if(t.h&&typeof nE<"u"&&(!t.C[1]||$i(t)!=4||t.da()!=2)){if(t.v&&$i(t)==4)fE(t.La,0,t);else if(Lt(t,"readystatechange"),$i(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=s===0){var r=String(t.I).match(NP)[1]||null;!r&&ce.self&&ce.self.location&&(r=ce.self.location.protocol.slice(0,-1)),i=!G7.test(r?r.toLowerCase():"")}n=i}if(n)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var o=2<$i(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",qP(t)}}finally{qm(t)}}}}function qm(t,e){if(t.g){WP(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=i}catch{}}}function WP(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function $i(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<$i(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),q7(e)}};function nP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Y7(t){let e={};t=(t.g&&2<=$i(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(ed(t[i]))continue;var n=b7(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}y7(e,function(i){return i.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function KP(t){let e="";return oE(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function _E(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=KP(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function Yu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YP(t){this.Ga=0,this.j=[],this.l=new Vm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yu("baseRetryDelayMs",5e3,t),this.hb=Yu("retryDelaySeedMs",1e4,t),this.eb=Yu("forwardChannelMaxRetries",2,t),this.xa=Yu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new VP(t&&t.concurrentRequestLimit),this.Ja=new $7,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=YP.prototype;H.ra=8;H.H=1;function wE(t){if(QP(t),t.H==3){var e=t.W++,n=_r(t.I);if(Ke(n,"SID",t.K),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),gd(t,n),e=new hd(t,t.l,e),e.L=2,e.A=Hm(_r(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=rN(e.l,null),e.g.ha(e.A)),e.G=Date.now(),fd(e)}nN(t)}function Gm(t){t.g&&(EE(t),t.g.cancel(),t.g=null)}function QP(t){Gm(t),t.u&&(ce.clearTimeout(t.u),t.u=null),xm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Wm(t){if(!jP(t.i)&&!t.m){t.m=!0;var e=t.Na;nd||vP(),id||(nd(),id=!0),dE.add(e,t),t.C=0}}function Q7(t,e){return BP(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ud($t(t.Na,t,e),tN(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new hd(this,this.l,t),o=this.s;if(this.U&&(o?(o=uP(o),dP(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZP(this,r,e),n=_r(this.I),Ke(n,"RID",t),Ke(n,"CVER",22),this.F&&Ke(n,"X-HTTP-Session-Id",this.F),gd(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(KP(o)))+"&"+e:this.o&&_E(n,this.o,o)),yE(this.i,r),this.bb&&Ke(n,"TYPE","init"),this.P?(Ke(n,"$req",e),Ke(n,"SID","null"),r.aa=!0,Zb(r,n,null)):Zb(r,n,e),this.H=2}}else this.H==3&&(t?iP(this,t):this.j.length==0||jP(this.i)||iP(this))};function iP(t,e){var n;e?n=e.m:n=t.W++;let i=_r(t.I);Ke(i,"SID",t.K),Ke(i,"RID",n),Ke(i,"AID",t.V),gd(t,i),t.o&&t.s&&_E(i,t.o,t.s),n=new hd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ZP(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),yE(t.i,n),Zb(n,i,e)}function gd(t,e){t.na&&oE(t.na,function(n,i){Ke(e,i,n)}),t.h&&PP({},function(n,i){Ke(e,i,n)})}function ZP(t,e,n){n=Math.min(t.j.length,n);var i=t.h?$t(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=r[c].g,u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{H7(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function XP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;nd||vP(),id||(nd(),id=!0),dE.add(e,t),t.A=0}}function bE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ud($t(t.Ma,t),tN(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,JP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ud($t(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,en(10),Gm(this),JP(this))};function EE(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function JP(t){t.g=new hd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=_r(t.wa);Ke(e,"RID","rpc"),Ke(e,"SID",t.K),Ke(e,"AID",t.V),Ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ke(e,"TO",t.qa),Ke(e,"TYPE","xmlhttp"),gd(t,e),t.o&&t.s&&_E(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Hm(_r(e)),n.u=null,n.S=!0,xP(n,t)}H.ib=function(){this.v!=null&&(this.v=null,Gm(this),bE(this),en(19))};function xm(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function eN(t,e){var n=null;if(t.g==e){xm(t),EE(t),t.g=null;var i=2}else if(Jb(t.i,e))n=e.F,UP(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=jm(),Lt(i,new CP(i,n)),Wm(t)}else XP(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&Q7(t,e)||i==2&&bE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:bs(t,5);break;case 4:bs(t,10);break;case 3:bs(t,6);break;default:bs(t,2)}}}function tN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function bs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=$t(t.pb,t);n||(n=new Es("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Sm(n,"https"),Hm(n)),z7(n.toString(),i)}else en(2);t.H=0,t.h&&t.h.za(e),nN(t),QP(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),en(2)):(this.l.info("Failed to ping google.com"),en(1))};function nN(t){if(t.H=0,t.ma=[],t.h){let e=$P(t.i);(e.length!=0||t.j.length!=0)&&(Kk(t.ma,e),Kk(t.ma,t.j),t.i.i.length=0,iE(t.j),t.j.length=0),t.h.ya()}}function iN(t,e,n){var i=n instanceof Es?_r(n):new Es(n);if(i.g!="")e&&(i.g=e+"."+i.g),Am(i,i.m);else{var r=ce.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Es(null);i&&Sm(o,i),e&&(o.g=e),r&&Am(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Ke(i,n,e),Ke(i,"VER",t.ra),gd(t,i),i}function rN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new st(new pd({ob:n})):new st(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function oN(){}H=oN.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function Rm(){if(Cc&&!(10<=Number(f7)))throw Error("Environmental error: no available transport.")}Rm.prototype.g=function(t,e){return new En(t,e)};function En(t,e){xt.call(this),this.g=new YP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ed(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ed(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Tc(this)}Rt(En,xt);En.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;en(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iN(t,null,t.Y),Wm(t)};En.prototype.close=function(){wE(this.g)};En.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=uE(t),t=n);e.j.push(new j7(e.fb++,t)),e.H==3&&Wm(e)};En.prototype.N=function(){this.g.h=null,delete this.j,wE(this.g),delete this.g,En.$.N.call(this)};function sN(t){mE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Rt(sN,mE);function aN(){gE.call(this),this.status=1}Rt(aN,gE);function Tc(t){this.g=t}Rt(Tc,oN);Tc.prototype.Ba=function(){Lt(this.g,"a")};Tc.prototype.Aa=function(t){Lt(this.g,new sN(t))};Tc.prototype.za=function(t){Lt(this.g,new aN)};Tc.prototype.ya=function(){Lt(this.g,"b")};function Z7(){this.blockSize=-1}function ii(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Rt(ii,Z7);ii.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function jb(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}ii.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)jb(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){jb(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){jb(this,i),r=0;break}}this.h=r,this.i+=e};ii.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Be(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var X7={};function IE(t){return-128<=t&&128>t?u7(t,function(e){return new Be([e|0],0>e?-1:0)}):new Be([t|0],0>t?-1:0)}function Hi(t){if(isNaN(t)||!isFinite(t))return Ic;if(0>t)return Ft(Hi(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=eE;return new Be(e,0)}function cN(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ft(cN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hi(Math.pow(e,8)),i=Ic,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),s=parseInt(t.substring(r,r+o),e);8>o?(o=Hi(Math.pow(e,o)),i=i.R(o).add(Hi(s))):(i=i.R(n),i=i.add(Hi(s)))}return i}var eE=4294967296,Ic=IE(0),tE=IE(1),rP=IE(16777216);H=Be.prototype;H.ea=function(){if(Ln(this))return-Ft(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:eE+i)*e,e*=eE}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(vr(this))return"0";if(Ln(this))return"-"+Ft(this).toString(t);for(var e=Hi(Math.pow(t,6)),n=this,i="";;){var r=km(n,e).g;n=Mm(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,vr(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function vr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ln(t){return t.h==-1}H.X=function(t){return t=Mm(this,t),Ln(t)?-1:vr(t)?0:1};function Ft(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Be(n,~t.h).add(tE)}H.abs=function(){return Ln(this)?Ft(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new Be(n,n[n.length-1]&-2147483648?-1:0)};function Mm(t,e){return t.add(Ft(e))}H.R=function(t){if(vr(this)||vr(t))return Ic;if(Ln(this))return Ln(t)?Ft(this).R(Ft(t)):Ft(Ft(this).R(t));if(Ln(t))return Ft(this.R(Ft(t)));if(0>this.X(rP)&&0>t.X(rP))return Hi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=s*c,Tm(n,2*i+2*r),n[2*i+2*r+1]+=o*c,Tm(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,Tm(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,Tm(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Be(n,0)};function Tm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Qu(t,e){this.g=t,this.h=e}function km(t,e){if(vr(e))throw Error("division by zero");if(vr(t))return new Qu(Ic,Ic);if(Ln(t))return e=km(Ft(t),e),new Qu(Ft(e.g),Ft(e.h));if(Ln(e))return e=km(t,Ft(e)),new Qu(Ft(e.g),e.h);if(30<t.g.length){if(Ln(t)||Ln(e))throw Error("slowDivide_ only works with positive integers.");for(var n=tE,i=e;0>=i.X(t);)n=oP(n),i=oP(i);var r=bc(n,1),o=bc(i,1);for(i=bc(i,2),n=bc(n,2);!vr(i);){var s=o.add(i);0>=s.X(t)&&(r=r.add(n),o=s),i=bc(i,1),n=bc(n,1)}return e=Mm(t,r.R(e)),new Qu(r,e)}for(r=Ic;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=Hi(n),s=o.R(e);Ln(s)||0<s.X(t);)n-=i,o=Hi(n),s=o.R(e);vr(o)&&(o=tE),r=r.add(o),t=Mm(t,s)}return new Qu(r,t)}H.gb=function(t){return km(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Be(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Be(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Be(n,this.h^t.h)};function oP(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Be(n,t.h)}function bc(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Be(r,t.h)}Rm.prototype.createWebChannel=Rm.prototype.g;En.prototype.send=En.prototype.u;En.prototype.open=En.prototype.m;En.prototype.close=En.prototype.close;Bm.NO_ERROR=0;Bm.TIMEOUT=8;Bm.HTTP_ERROR=6;DP.COMPLETE="complete";TP.EventType=dd;dd.OPEN="a";dd.CLOSE="b";dd.ERROR="c";dd.MESSAGE="d";xt.prototype.listen=xt.prototype.O;st.prototype.listenOnce=st.prototype.P;st.prototype.getLastError=st.prototype.Sa;st.prototype.getLastErrorCode=st.prototype.Ia;st.prototype.getStatus=st.prototype.da;st.prototype.getResponseJson=st.prototype.Wa;st.prototype.getResponseText=st.prototype.ja;st.prototype.send=st.prototype.ha;st.prototype.setWithCredentials=st.prototype.Oa;ii.prototype.digest=ii.prototype.l;ii.prototype.reset=ii.prototype.reset;ii.prototype.update=ii.prototype.j;Be.prototype.add=Be.prototype.add;Be.prototype.multiply=Be.prototype.R;Be.prototype.modulo=Be.prototype.gb;Be.prototype.compare=Be.prototype.X;Be.prototype.toNumber=Be.prototype.ea;Be.prototype.toString=Be.prototype.toString;Be.prototype.getBits=Be.prototype.D;Be.fromNumber=Hi;Be.fromString=cN;var lN=ri.createWebChannelTransport=function(){return new Rm},uN=ri.getStatEventTarget=function(){return jm()},Km=ri.ErrorCode=Bm,dN=ri.EventType=DP,hN=ri.Event=Is,CE=ri.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Hue=ri.FetchXmlHttpFactory=pd,yd=ri.WebChannel=TP,fN=ri.XhrIo=st,pN=ri.Md5=ii,Cs=ri.Integer=Be;var mN="@firebase/firestore";var yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");var il="10.9.0";var wo=new yh("@firebase/firestore");function Mc(){return wo.logLevel}function mO(t){wo.setLogLevel(t)}function N(t,...e){if(wo.logLevel<=fi.DEBUG){let n=e.map(SC);wo.debug(`Firestore (${il}): ${t}`,...n)}}function dt(t,...e){if(wo.logLevel<=fi.ERROR){let n=e.map(SC);wo.error(`Firestore (${il}): ${t}`,...n)}}function jn(t,...e){if(wo.logLevel<=fi.WARN){let n=e.map(SC);wo.warn(`Firestore (${il}): ${t}`,...n)}}function SC(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t="Unexpected state"){let e=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: `+t;throw dt(e),new Error(e)}function X(t,e){t||z()}function gO(t,e){t||z()}function $(t,e){return t}var T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=class extends gh{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var og=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}},RE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ME=class{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),o=new vt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vt,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>D(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(X(typeof i.accessToken=="string"),new og(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return X(e===null||typeof e=="string"),new yt(e)}},kE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},PE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new kE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},NE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},OE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,N("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(X(typeof n.token=="string"),this.R=n.token,new NE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function J7(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var sg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=J7(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function fe(t,e){return t<e?-1:t>e?1:0}function Bc(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function yO(t){return t+"\0"}var it=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new k(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new it(0,0))}static max(){return new t(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ag=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&z(),i===void 0?i=e.length-n:i>e.length-n&&z(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Se=class t extends ag{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new k(T.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},eK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ht=class t extends ag{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return eK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new k(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new k(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new k(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new k(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var U=class t{constructor(e){this.path=e}static fromPath(e){return new t(Se.fromString(e))}static fromName(e){return new t(Se.fromString(e).popFirst(5))}static empty(){return new t(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Se(e.slice()))}};var Uc=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};function FE(t){return t.fields.find(e=>e.kind===2)}function Ts(t){return t.fields.filter(e=>e.kind!==2)}Uc.UNKNOWN_ID=-1;var Lc=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var xd=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,Bn.min())}};function vO(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=J.fromTimestamp(i===1e9?new it(n+1,0):new it(n,i));return new Bn(r,U.empty(),e)}function _O(t){return new Bn(t.readTime,t.key,-1)}var Bn=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(J.min(),U.empty(),-1)}static max(){return new t(J.max(),U.empty(),-1)}};function AC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}var wO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ro(t){return D(this,null,function*(){if(t.code!==T.FAILED_PRECONDITION||t.message!==wO)throw t;N("LocalStore","Unexpectedly lost primary lease")})}var C=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},c=>i(c))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var lg=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new vt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ks(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=xC(i.target.error);this.V.reject(new ks(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new ks(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(N("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new VE(n)}},Er=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(vl())===12.2&&dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return N("SimpleDb","Removing database:",e),Ss(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!mh())return!1;if(t.C())return!0;let e=vl(),n=t.S(e),i=0<n&&n<10,r=t.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return D(this,null,function*(){return this.db||(N("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;n(s)},r.onblocked=()=>{i(new ks(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?i(new k(T.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new k(T.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new ks(e,s))},r.onupgradeneeded=o=>{N("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,r.transaction,o.oldVersion,this.version).next(()=>{N("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return D(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=lg.open(this.db,e,o?"readonly":"readwrite",i),c=r(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),C.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&s<3;if(N("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},LE=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ss(this.k.delete())}},ks=class extends k{constructor(e,n){super(T.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Mo(t){return t.name==="IndexedDbTransactionError"}var VE=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(N("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(N("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ss(i)}add(e){return N("SimpleDb","ADD",this.store.name,e,e),Ss(this.store.add(e))}get(e){return Ss(this.store.get(e)).next(n=>(n===void 0&&(n=null),N("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return N("SimpleDb","DELETE",this.store.name,e),Ss(this.store.delete(e))}count(){return N("SimpleDb","COUNT",this.store.name),Ss(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new C((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(i),s=[];return this.G(o,(a,c)=>{s.push(c)}).next(()=>s)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new C((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,n){N("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new C((i,r)=>{n.onerror=o=>{let s=xC(o.target.error);r(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,n){let i=[];return new C((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let c=new LE(a),l=n(a.primaryKey,a.value,c);if(l instanceof C){let u=l.catch(f=>(c.done(),C.reject(f)));i.push(u)}c.isDone?r():c.$===null?a.continue():a.continue(c.$)}}).next(()=>C.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Ss(t){return new C((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=xC(i.target.error);n(r)}})}var gN=!1;function xC(t){let e=Er.S(vl());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new k("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gN||(gN=!0,setTimeout(()=>{throw i},0)),i}}return t}var jE=class{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){N("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>D(this,null,function*(){this.task=null;try{N("IndexBackfiller",`Documents written: ${yield this.X.te()}`)}catch(n){Mo(n)?N("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield Ro(n)}yield this.ee(6e4)}))}},BE=class{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){return D(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))})}ne(e,n){let i=new Set,r=n,o=!0;return C.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!i.has(s))return N("IndexBackfiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>n-r)}re(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(N("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let i=e;return n.changes.forEach((r,o)=>{let s=_O(o);AC(s,i)>0&&(i=s)}),new Bn(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}};var In=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Zd(t){return t==null}function Rd(t){return t===0&&1/t==-1/0}function bO(t){return typeof t=="number"&&Number.isInteger(t)&&!Rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function tn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yN(e)),e=tK(t.get(n),e);return yN(e)}function tK(t,e){let n=e,i=t.length;for(let r=0;r<i;r++){let o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function yN(t){return t+""}function zi(t){let e=t.length;if(X(e>=2),e===2)return X(t.charAt(0)===""&&t.charAt(1)===""),Se.emptyPath();let n=e-2,i=[],r="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&z(),t.charAt(s+1)){case"":let a=t.substring(o,s),c;r.length===0?c=a:(r+=a,c=r,r=""),i.push(c);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:z()}o=s+2}return new Se(i)}var vN=["userId","batchId"];function Jm(t,e){return[t,tn(e)]}function EO(t,e,n){return[t,tn(e),n]}var nK={},iK=["prefixPath","collectionGroup","readTime","documentId"],rK=["prefixPath","collectionGroup","documentId"],oK=["collectionGroup","readTime","prefixPath","documentId"],sK=["canonicalId","targetId"],aK=["targetId","path"],cK=["path","targetId"],lK=["collectionId","parent"],uK=["indexId","uid"],dK=["uid","sequenceNumber"],hK=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fK=["indexId","uid","orderedDocumentKey"],pK=["userId","collectionPath","documentId"],mK=["userId","collectionPath","largestBatchId"],gK=["userId","collectionGroup","largestBatchId"],IO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yK=[...IO,"documentOverlays"],CO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DO=CO,vK=[...DO,"indexConfiguration","indexState","indexEntries"];var Md=class extends cg{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}};function kt(t,e){let n=$(t);return Er.M(n.ae,e)}function _N(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TO(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ye=class t{constructor(e,n){this.comparator=e,this.root=n||Gi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}},Fc=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gi=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();let e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}};Gi.EMPTY=null,Gi.RED=!0,Gi.BLACK=!1;Gi.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Gi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var qe=class t{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ug(this.data.getIterator())}getIteratorFrom(e){return new ug(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ug=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Sc(t){return t.hasNext()?t.getNext():void 0}var Cn=class t{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new t([])}unionWith(e){let n=new qe(ht.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bc(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var dg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function SO(){return typeof atob<"u"}var Mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dg("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mt.EMPTY_BYTE_STRING=new Mt("");var _K=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(X(!!t),typeof t=="string"){let e=0,n=_K.exec(t);if(X(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Eo(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}function ty(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function RC(t){let e=t.mapValue.fields.__previous_value__;return ty(e)?RC(e):e}function kd(t){let e=bo(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}var UE=class{constructor(e,n,i,r,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Io=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},eg={nullValue:"NULL_VALUE"};function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ty(t)?4:AO(t)?9007199254740991:10:z()}function Yi(t,e){if(t===e)return!0;let n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kd(t).isEqual(kd(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=bo(r.timestampValue),a=bo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Eo(r.bytesValue).isEqual(Eo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return at(r.geoPointValue.latitude)===at(o.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return at(r.integerValue)===at(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=at(r.doubleValue),a=at(o.doubleValue);return s===a?Rd(s)===Rd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Bc(t.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(_N(s)!==_N(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Yi(s[c],a[c])))return!1;return!0}(t,e);default:return z()}}function Pd(t,e){return(t.values||[]).find(n=>Yi(n,e))!==void 0}function Co(t,e){if(t===e)return 0;let n=Ps(t),i=Ps(e);if(n!==i)return fe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=at(o.integerValue||o.doubleValue),c=at(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return wN(t.timestampValue,e.timestampValue);case 4:return wN(kd(t),kd(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Eo(o),c=Eo(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=fe(a[l],c[l]);if(u!==0)return u}return fe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=fe(at(o.latitude),at(s.latitude));return a!==0?a:fe(at(o.longitude),at(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=Co(a[l],c[l]);if(u)return u}return fe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===vo.mapValue&&s===vo.mapValue)return 0;if(o===vo.mapValue)return 1;if(s===vo.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){let m=fe(c[f],u[f]);if(m!==0)return m;let g=Co(a[c[f]],l[u[f]]);if(g!==0)return g}return fe(c.length,u.length)}(t.mapValue,e.mapValue);default:throw z()}}function wN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);let n=bo(t),i=bo(e),r=fe(n.seconds,i.seconds);return r!==0?r:fe(n.nanos,i.nanos)}function $c(t){return $E(t)}function $E(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=bo(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return U.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=$E(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${$E(n.fields[s])}`;return r+"}"}(t.mapValue):z()}function Ns(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function HE(t){return!!t&&"integerValue"in t}function Nd(t){return!!t&&"arrayValue"in t}function bN(t){return!!t&&"nullValue"in t}function EN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tg(t){return!!t&&"mapValue"in t}function Cd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return zs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Cd(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function wK(t){return"nullValue"in t?eg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ns(Io.empty(),U.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:z()}function bK(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ns(Io.empty(),U.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?vo:z()}function IN(t,e){let n=Co(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function CN(t,e){let n=Co(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var qt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!tg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cd(n)}setAll(e){let n=ht.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=Cd(s):r.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());tg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];tg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){zs(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(Cd(this.value))}};function xO(t){let e=[];return zs(t.fields,(n,i)=>{let r=new ht([n]);if(tg(i)){let o=xO(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new Cn(e)}var _t=class t{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),qt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,J.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qi=class{constructor(e,n){this.position=e,this.inclusive=n}};function DN(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=U.comparator(U.fromName(s.referenceValue),n.key):i=Co(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function TN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yi(t.position[n],e.position[n]))return!1;return!0}var Os=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function EK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var hg=class{},Ee=class t extends hg{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new GE(e,n,i):n==="array-contains"?new YE(e,i):n==="in"?new fg(e,i):n==="not-in"?new QE(e,i):n==="array-contains-any"?new ZE(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new WE(e,i):new KE(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Co(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ue=class t extends hg{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return Hc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function Hc(t){return t.op==="and"}function zE(t){return t.op==="or"}function MC(t){return RO(t)&&Hc(t)}function RO(t){for(let e of t.filters)if(e instanceof Ue)return!1;return!0}function qE(t){if(t instanceof Ee)return t.field.canonicalString()+t.op.toString()+$c(t.value);if(MC(t))return t.filters.map(e=>qE(e)).join(",");{let e=t.filters.map(n=>qE(n)).join(",");return`${t.op}(${e})`}}function MO(t,e){return t instanceof Ee?function(i,r){return r instanceof Ee&&i.op===r.op&&i.field.isEqual(r.field)&&Yi(i.value,r.value)}(t,e):t instanceof Ue?function(i,r){return r instanceof Ue&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&MO(s,r.filters[a]),!0):!1}(t,e):void z()}function kO(t,e){let n=t.filters.concat(e);return Ue.create(n,t.op)}function PO(t){return t instanceof Ee?function(n){return`${n.field.canonicalString()} ${n.op} ${$c(n.value)}`}(t):t instanceof Ue?function(n){return n.op.toString()+" {"+n.getFilters().map(PO).join(" ,")+"}"}(t):"Filter"}var GE=class extends Ee{constructor(e,n,i){super(e,n,i),this.key=U.fromName(i.referenceValue)}matches(e){let n=U.comparator(e.key,this.key);return this.matchesComparison(n)}},WE=class extends Ee{constructor(e,n){super(e,"in",n),this.keys=NO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},KE=class extends Ee{constructor(e,n){super(e,"not-in",n),this.keys=NO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function NO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>U.fromName(i.referenceValue))}var YE=class extends Ee{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Nd(n)&&Pd(n.arrayValue,this.value)}},fg=class extends Ee{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Pd(this.value.arrayValue,n)}},QE=class extends Ee{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Pd(this.value.arrayValue,n)}},ZE=class extends Ee{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Nd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Pd(this.value.arrayValue,i))}};var XE=class{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function JE(t,e=null,n=[],i=[],r=null,o=null,s=null){return new XE(t,e,n,i,r,o,s)}function Fs(t){let e=$(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>qE(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$c(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$c(i)).join(",")),e.ce=n}return e.ce}function Xd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TN(t.startAt,e.startAt)&&TN(t.endAt,e.endAt)}function pg(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function mg(t,e){return t.filters.filter(n=>n instanceof Ee&&n.field.isEqual(e))}function SN(t,e,n){let i=eg,r=!0;for(let o of mg(t,e)){let s=eg,a=!0;switch(o.op){case"<":case"<=":s=wK(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=eg}IN({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];IN({value:i,inclusive:r},{value:s,inclusive:n.inclusive})<0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}function AN(t,e,n){let i=vo,r=!0;for(let o of mg(t,e)){let s=vo,a=!0;switch(o.op){case">=":case">":s=bK(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=vo}CN({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];CN({value:i,inclusive:r},{value:s,inclusive:n.inclusive})>0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}var oi=class{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function OO(t,e,n,i,r,o,s,a){return new oi(t,e,n,i,r,o,s,a)}function rl(t){return new oi(t)}function xN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kC(t){return t.collectionGroup!==null}function Vc(t){let e=$(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new qe(ht.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Os(o,i))}),n.has(ht.keyField().canonicalString())||e.le.push(new Os(ht.keyField(),i))}return e.le}function nn(t){let e=$(t);return e.he||(e.he=IK(e,Vc(t))),e.he}function IK(t,e){if(t.limitType==="F")return JE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Os(r.field,o)});let n=t.endAt?new Qi(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Qi(t.startAt.position,t.startAt.inclusive):null;return JE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function eI(t,e){let n=t.filters.concat([e]);return new oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gg(t,e,n){return new oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jd(t,e){return Xd(nn(t),nn(e))&&t.limitType===e.limitType}function FO(t){return`${Fs(nn(t))}|lt:${t.limitType}`}function kc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>PO(r)).join(", ")}]`),Zd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$c(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$c(r)).join(",")),`Target(${i})`}(nn(t))}; limitType=${t.limitType})`}function eh(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):U.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of Vc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let l=DN(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,Vc(i),r)||i.endAt&&!function(s,a,c){let l=DN(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,Vc(i),r))}(t,e)}function LO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VO(t){return(e,n)=>{let i=!1;for(let r of Vc(t)){let o=CK(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function CK(t,e,n){let i=t.field.isKeyField()?U.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Co(c,l):z()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return z()}}var Zi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return TO(this.inner)}size(){return this.innerSize}};var DK=new Ye(U.comparator);function pn(){return DK}var jO=new Ye(U.comparator);function Ed(...t){let e=jO;for(let n of t)e=e.insert(n.key,n);return e}function BO(t){let e=jO;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function qi(){return Dd()}function UO(){return Dd()}function Dd(){return new Zi(t=>t.toString(),(t,e)=>t.isEqual(e))}var TK=new Ye(U.comparator),SK=new qe(U.comparator);function pe(...t){let e=SK;for(let n of t)e=e.add(n);return e}var AK=new qe(fe);function PC(){return AK}function $O(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function HO(t){return{integerValue:""+t}}function zO(t,e){return bO(e)?HO(e):$O(t,e)}var zc=class{constructor(){this._=void 0}};function xK(t,e,n){return t instanceof Do?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ty(o)&&(o=RC(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ir?GO(t,e):t instanceof Cr?WO(t,e):function(r,o){let s=qO(r,o),a=RN(s)+RN(r.Ie);return HE(s)&&HE(r.Ie)?HO(a):$O(r.serializer,a)}(t,e)}function RK(t,e,n){return t instanceof Ir?GO(t,e):t instanceof Cr?WO(t,e):n}function qO(t,e){return t instanceof To?function(i){return HE(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Do=class extends zc{},Ir=class extends zc{constructor(e){super(),this.elements=e}};function GO(t,e){let n=KO(e);for(let i of t.elements)n.some(r=>Yi(r,i))||n.push(i);return{arrayValue:{values:n}}}var Cr=class extends zc{constructor(e){super(),this.elements=e}};function WO(t,e){let n=KO(e);for(let i of t.elements)n=n.filter(r=>!Yi(r,i));return{arrayValue:{values:n}}}var To=class extends zc{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function RN(t){return at(t.integerValue||t.doubleValue)}function KO(t){return Nd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ls=class{constructor(e,n){this.field=e,this.transform=n}};function MK(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Ir&&r instanceof Ir||i instanceof Cr&&r instanceof Cr?Bc(i.elements,r.elements,Yi):i instanceof To&&r instanceof To?Yi(i.Ie,r.Ie):i instanceof Do&&r instanceof Do}(t.transform,e.transform)}var tI=class{constructor(e,n){this.version=e,this.transformResults=n}},ct=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ng(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var qc=class{};function YO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ao(t.key,ct.none()):new So(t.key,t.data,ct.none());{let n=t.data,i=qt.empty(),r=new qe(ht.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new si(t.key,i,new Cn(r.toArray()),ct.none())}}function kK(t,e,n){t instanceof So?function(r,o,s){let a=r.value.clone(),c=kN(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof si?function(r,o,s){if(!ng(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=kN(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(QO(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Td(t,e,n,i){return t instanceof So?function(o,s,a,c){if(!ng(o.precondition,s))return a;let l=o.value.clone(),u=PN(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof si?function(o,s,a,c){if(!ng(o.precondition,s))return a;let l=PN(o.fieldTransforms,c,s),u=s.data;return u.setAll(QO(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(o,s,a){return ng(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function PK(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=qO(i.transform,r||null);o!=null&&(n===null&&(n=qt.empty()),n.set(i.field,o))}return n||null}function MN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Bc(i,r,(o,s)=>MK(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var So=class extends qc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},si=class extends qc{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function QO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function kN(t,e,n){let i=new Map;X(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,RK(s,a,n[r]))}return i}function PN(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,xK(o,s,e))}return i}var Ao=class extends qc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Od=class extends qc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Fd=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&kK(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Td(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Td(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=UO();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;let c=YO(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Bc(this.mutations,e.mutations,(n,i)=>MN(n,i))&&Bc(this.baseMutations,e.baseMutations,(n,i)=>MN(n,i))}},nI=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){X(e.mutations.length===i.length);let r=function(){return TK}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var Ld=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var iI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var mt,Te;function ZO(t){switch(t){default:return z();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function XO(t){if(t===void 0)return dt("GRPC error has no .code"),T.UNKNOWN;switch(t){case mt.OK:return T.OK;case mt.CANCELLED:return T.CANCELLED;case mt.UNKNOWN:return T.UNKNOWN;case mt.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case mt.INTERNAL:return T.INTERNAL;case mt.UNAVAILABLE:return T.UNAVAILABLE;case mt.UNAUTHENTICATED:return T.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case mt.NOT_FOUND:return T.NOT_FOUND;case mt.ALREADY_EXISTS:return T.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return T.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case mt.ABORTED:return T.ABORTED;case mt.OUT_OF_RANGE:return T.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return T.UNIMPLEMENTED;case mt.DATA_LOSS:return T.DATA_LOSS;default:return z()}}(Te=mt||(mt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var NN=null;function JO(){return new TextEncoder}var NK=new Cs([4294967295,4294967295],0);function ON(t){let e=JO().encode(t),n=new pN;return n.update(e),new Uint8Array(n.digest())}function FN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Cs([n,i],0),new Cs([r,o],0)]}var rI=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ms(`Invalid padding: ${n}`);if(i<0)throw new Ms(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ms(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ms(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Cs.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Cs.fromNumber(i)));return r.compare(NK)===1&&(r=new Cs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=ON(e),[i,r]=FN(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=ON(e),[i,r]=FN(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},Ms=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Vd=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,jd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(J.min(),r,new Ye(fe),pn(),pe())}},jd=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,pe(),pe(),pe())}};var jc=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},yg=class{constructor(e,n){this.targetId=e,this.fe=n}},vg=class{constructor(e,n,i=Mt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},_g=class{constructor(){this.ge=0,this.pe=VN(),this.ye=Mt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=pe(),n=pe(),i=pe();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:z()}}),new jd(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=VN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,X(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},oI=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=pn(),this.Qe=LN(),this.Ke=new Ye(fe)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(pg(o))if(i===0){let s=new U(o.path);this.We(n,s,_t.newNoDocument(s,J.min()))}else X(i===1);else{let s=this.Ze(n);if(s!==i){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}NN?.tt(function(u,f,m,g,_){var E,w,S,j,M,x;let q={localCacheCount:u,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},ee=f.unchangedNames;return ee&&(q.bloomFilter={applied:_===0,hashCount:(E=ee?.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(j=(S=(w=ee?.bits)===null||w===void 0?void 0:w.bitmap)===null||S===void 0?void 0:S.length)!==null&&j!==void 0?j:0,padding:(x=(M=ee?.bits)===null||M===void 0?void 0:M.padding)!==null&&x!==void 0?x:0,mightContain:Ie=>{var Je;return(Je=g?.mightContain(Ie))!==null&&Je!==void 0&&Je}}),q}(s,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,a;try{s=Eo(i).toUint8Array()}catch(c){if(c instanceof dg)return jn("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new rI(s,r,o)}catch(c){return jn(c instanceof Ms?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Be.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&pg(a.target)){let c=new U(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,_t.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let i=pe();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let r=new Vd(e,n,this.Ke,this.qe,i);return this.qe=pn(),this.Qe=LN(),this.Ke=new Ye(fe),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new _g,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new qe(fe),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||N("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new _g),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function LN(){return new Ye(U.comparator)}function VN(){return new Ye(U.comparator)}var OK={asc:"ASCENDING",desc:"DESCENDING"},FK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LK={and:"AND",or:"OR"},sI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function aI(t,e){return t.useProto3Json||Zd(e)?e:{value:e}}function Gc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VK(t,e){return Gc(t,e.toTimestamp())}function ft(t){return X(!!t),J.fromTimestamp(function(n){let i=bo(n);return new it(i.seconds,i.nanos)}(t))}function NC(t,e){return cI(t,e).canonicalString()}function cI(t,e){let n=function(r){return new Se(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tF(t){let e=Se.fromString(t);return X(dF(e)),e}function Bd(t,e){return NC(t.databaseId,e.path)}function Wi(t,e){let n=tF(e);if(n.get(1)!==t.databaseId.projectId)throw new k(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(rF(n))}function nF(t,e){return NC(t.databaseId,e)}function iF(t){let e=tF(t);return e.length===4?Se.emptyPath():rF(e)}function lI(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rF(t){return X(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jN(t,e,n){return{name:Bd(t,e),fields:n.value.mapValue.fields}}function oF(t,e,n){let i=Wi(t,e.name),r=ft(e.updateTime),o=e.createTime?ft(e.createTime):J.min(),s=new qt({mapValue:{fields:e.fields}}),a=_t.newFoundDocument(i,r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function jK(t,e){return"found"in e?function(i,r){X(!!r.found),r.found.name,r.found.updateTime;let o=Wi(i,r.found.name),s=ft(r.found.updateTime),a=r.found.createTime?ft(r.found.createTime):J.min(),c=new qt({mapValue:{fields:r.found.fields}});return _t.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(i,r){X(!!r.missing),X(!!r.readTime);let o=Wi(i,r.missing),s=ft(r.readTime);return _t.newNoDocument(o,s)}(t,e):z()}function BK(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(X(u===void 0||typeof u=="string"),Mt.fromBase64String(u||"")):(X(u===void 0||u instanceof Uint8Array),Mt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?T.UNKNOWN:XO(l.code);return new k(u,l.message||"")}(s);n=new vg(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Wi(t,i.document.name),o=ft(i.document.updateTime),s=i.document.createTime?ft(i.document.createTime):J.min(),a=new qt({mapValue:{fields:i.document.fields}}),c=_t.newFoundDocument(r,o,s,a),l=i.targetIds||[],u=i.removedTargetIds||[];n=new jc(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Wi(t,i.document),o=i.readTime?ft(i.readTime):J.min(),s=_t.newNoDocument(r,o),a=i.removedTargetIds||[];n=new jc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Wi(t,i.document),o=i.removedTargetIds||[];n=new jc([],o,r,null)}else{if(!("filter"in e))return z();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new iI(r,o),a=i.targetId;n=new yg(a,s)}}return n}function Ud(t,e){let n;if(e instanceof So)n={update:jN(t,e.key,e.value)};else if(e instanceof Ao)n={delete:Bd(t,e.key)};else if(e instanceof si)n={update:jN(t,e.key,e.data),updateMask:GK(e.fieldMask)};else{if(!(e instanceof Od))return z();n={verify:Bd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Do)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ir)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof To)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw z()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:VK(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z()}(t,e.precondition)),n}function uI(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?ct.updateTime(ft(o.updateTime)):o.exists!==void 0?ct.exists(o.exists):ct.none()}(e.currentDocument):ct.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;if("setToServerValue"in a)X(a.setToServerValue==="REQUEST_TIME"),c=new Do;else if("appendMissingElements"in a){let u=a.appendMissingElements.values||[];c=new Ir(u)}else if("removeAllFromArray"in a){let u=a.removeAllFromArray.values||[];c=new Cr(u)}else"increment"in a?c=new To(s,a.increment):z();let l=ht.fromServerFormat(a.fieldPath);return new Ls(l,c)}(t,r)):[];if(e.update){e.update.name;let r=Wi(t,e.update.name),o=new qt({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let l=c.fieldPaths||[];return new Cn(l.map(u=>ht.fromServerFormat(u)))}(e.updateMask);return new si(r,o,s,n,i)}return new So(r,o,n,i)}if(e.delete){let r=Wi(t,e.delete);return new Ao(r,n)}if(e.verify){let r=Wi(t,e.verify);return new Od(r,n)}return z()}function UK(t,e){return t&&t.length>0?(X(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?ft(r.updateTime):ft(o);return s.isEqual(J.min())&&(s=ft(o)),new tI(s,r.transformResults||[])}(n,e))):[]}function sF(t,e){return{documents:[nF(t,e.path)]}}function aF(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=nF(t,r);let o=function(l){if(l.length!==0)return uF(Ue.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(u=>function(m){return{field:Pc(m.field),direction:HK(m.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=aI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:r}}function cF(t){let e=iF(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){X(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){let m=lF(f);return m instanceof Ue&&MC(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(m=>function(_){return new Os(Nc(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Zd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){let m=!!f.before,g=f.values||[];return new Qi(g,m)}(n.startAt));let l=null;return n.endAt&&(l=function(f){let m=!f.before,g=f.values||[];return new Qi(g,m)}(n.endAt)),OO(e,r,s,o,a,"F",c,l)}function $K(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Nc(n.unaryFilter.field);return Ee.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Nc(n.unaryFilter.field);return Ee.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Nc(n.unaryFilter.field);return Ee.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Nc(n.unaryFilter.field);return Ee.create(s,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(n){return Ee.create(Nc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ue.create(n.compositeFilter.filters.map(i=>lF(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(t):z()}function HK(t){return OK[t]}function zK(t){return FK[t]}function qK(t){return LK[t]}function Pc(t){return{fieldPath:t.canonicalString()}}function Nc(t){return ht.fromServerFormat(t.fieldPath)}function uF(t){return t instanceof Ee?function(n){if(n.op==="=="){if(EN(n.value))return{unaryFilter:{field:Pc(n.field),op:"IS_NAN"}};if(bN(n.value))return{unaryFilter:{field:Pc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EN(n.value))return{unaryFilter:{field:Pc(n.field),op:"IS_NOT_NAN"}};if(bN(n.value))return{unaryFilter:{field:Pc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pc(n.field),op:zK(n.op),value:n.value}}}(t):t instanceof Ue?function(n){let i=n.getFilters().map(r=>uF(r));return i.length===1?i[0]:{compositeFilter:{op:qK(n.op),filters:i}}}(t):z()}function GK(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Wc=class t{constructor(e,n,i,r,o=J.min(),s=J.min(),a=Mt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var wg=class{constructor(e){this.ct=e}};function WK(t,e){let n;if(e.document)n=oF(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=U.fromSegments(e.noDocument.path),r=js(e.noDocument.readTime);n=_t.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return z();{let i=U.fromSegments(e.unknownDocument.path),r=js(e.unknownDocument.version);n=_t.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(r){let o=new it(r[0],r[1]);return J.fromTimestamp(o)}(e.readTime)),n}function BN(t,e){let n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:bg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(o,s){return{name:Bd(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Gc(o,s.version.toTimestamp()),createTime:Gc(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Vs(e.version)};else{if(!e.isUnknownDocument())return z();i.unknownDocument={path:n.path.toArray(),version:Vs(e.version)}}return i}function bg(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Vs(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function js(t){let e=new it(t.seconds,t.nanoseconds);return J.fromTimestamp(e)}function As(t,e){let n=(e.baseMutations||[]).map(o=>uI(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let i=e.mutations.map(o=>uI(t.ct,o)),r=it.fromMillis(e.localWriteTimeMs);return new Fd(e.batchId,r,n,i)}function Id(t){let e=js(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?js(t.lastLimboFreeSnapshotVersion):J.min(),i;return i=function(o){return o.documents!==void 0}(t.query)?function(o){return X(o.documents.length===1),nn(rl(iF(o.documents[0])))}(t.query):function(o){return nn(cF(o))}(t.query),new Wc(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Mt.fromBase64String(t.resumeToken))}function hF(t,e){let n=Vs(e.snapshotVersion),i=Vs(e.lastLimboFreeSnapshotVersion),r;r=pg(e.target)?sF(t.ct,e.target):aF(t.ct,e.target).ut;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fs(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function OC(t){let e=cF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gg(e,e.limit,"L"):e}function DE(t,e){return new Ld(e.largestBatchId,uI(t.ct,e.overlayMutation))}function UN(t,e){let n=e.path.lastSegment();return[t,tn(e.path.popLast()),n]}function $N(t,e,n,i){return{indexId:t,uid:e,sequenceNumber:n,readTime:Vs(i.readTime),documentKey:tn(i.documentKey.path),largestBatchId:i.largestBatchId}}var dI=class{getBundleMetadata(e,n){return HN(e).get(n).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:js(o.createTime),version:o.version}}(i)})}saveBundleMetadata(e,n){return HN(e).put(function(r){return{bundleId:r.id,createTime:Vs(ft(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return zN(e).get(n).next(i=>{if(i)return function(o){return{name:o.name,query:OC(o.bundledQuery),readTime:js(o.readTime)}}(i)})}saveNamedQuery(e,n){return zN(e).put(function(r){return{name:r.name,readTime:Vs(ft(r.readTime)),bundledQuery:r.bundledQuery}}(n))}};function HN(t){return kt(t,"bundles")}function zN(t){return kt(t,"namedQueries")}var Eg=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let i=n.uid||"";return new t(e,i)}getOverlay(e,n){return vd(e).get(UN(this.userId,n)).next(i=>i?DE(this.serializer,i):null)}getOverlays(e,n){let i=qi();return C.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){let r=[];return i.forEach((o,s)=>{let a=new Ld(n,s);r.push(this.ht(e,a))}),C.waitFor(r)}removeOverlaysForBatchId(e,n,i){let r=new Set;n.forEach(s=>r.add(tn(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(vd(e).H("collectionPathOverlayIndex",a))}),C.waitFor(o)}getOverlaysForCollection(e,n,i){let r=qi(),o=tn(n),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return vd(e).W("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let l=DE(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(e,n,i,r){let o=qi(),s,a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return vd(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{let f=DE(this.serializer,l);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):u.done()}).next(()=>o)}ht(e,n){return vd(e).put(function(r,o,s){let[a,c,l]=UN(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ud(r.ct,s.mutation)}}(this.serializer,this.userId,n))}};function vd(t){return kt(t,"documentOverlays")}var wr=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(at(e.integerValue));else if("doubleValue"in e){let i=at(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Rd(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Eo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?AO(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):z()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),U.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};wr.bt=new wr;function KK(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function qN(t){let e=64-function(i){let r=0;for(let o=0;o<8;++o){let s=KK(255&i[o]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}var hI=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Ct(i.value),i=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Mt(i.value),i=n.next();this.xt()}Ot(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{let r=n.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{let r=n.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(e){let n=this.Bt(e),i=qN(n);this.kt(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}qt(e){let n=this.Bt(e),i=qN(n);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},fI=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},pI=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},xs=class{constructor(){this.Gt=new hI,this.zt=new fI(this.Gt),this.jt=new pI(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var Rs=class t{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new t(this.indexId,this.documentKey,this.arrayValue,i)}};function po(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=GN(t.arrayValue,e.arrayValue),n!==0?n:(n=GN(t.directionalValue,e.directionalValue),n!==0?n:U.comparator(t.documentKey,e.documentKey)))}function GN(t,e){for(let n=0;n<t.length&&n<e.length;++n){let i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}var Ig=class{constructor(e){this.Yt=new qe((n,i)=>ht.comparator(n.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let i=n;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}get en(){return this.Yt.size>1}tn(e){if(X(e.collectionGroup===this.collectionId),this.en)return!1;let n=FE(e);if(n!==void 0&&!this.nn(n))return!1;let i=Ts(e),r=new Set,o=0,s=0;for(;o<i.length&&this.nn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let c=i[o];if(!this.rn(a,c)||!this.sn(this.Zt[s++],c))return!1}++o}for(;o<i.length;++o){let a=i[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new qe(ht.comparator),n=[];for(let i of this.Xt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new Lc(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),n.push(new Lc(i.field,0))}for(let i of this.Zt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),n.push(new Lc(i.field,i.dir==="asc"?0:1)));return new Uc(Uc.UNKNOWN_ID,this.collectionId,n,xd.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function fF(t){var e,n;if(X(t instanceof Ee||t instanceof Ue),t instanceof Ee){if(t instanceof fg){let r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Ee.create(t.field,"==",o)))||[];return Ue.create(r,"or")}return t}let i=t.filters.map(r=>fF(r));return Ue.create(i,t.op)}function YK(t){if(t.getFilters().length===0)return[];let e=yI(fF(t));return X(pF(e)),mI(e)||gI(e)?[e]:e.getFilters()}function mI(t){return t instanceof Ee}function gI(t){return t instanceof Ue&&MC(t)}function pF(t){return mI(t)||gI(t)||function(n){if(n instanceof Ue&&zE(n)){for(let i of n.getFilters())if(!mI(i)&&!gI(i))return!1;return!0}return!1}(t)}function yI(t){if(X(t instanceof Ee||t instanceof Ue),t instanceof Ee)return t;if(t.filters.length===1)return yI(t.filters[0]);let e=t.filters.map(i=>yI(i)),n=Ue.create(e,t.op);return n=Cg(n),pF(n)?n:(X(n instanceof Ue),X(Hc(n)),X(n.filters.length>1),n.filters.reduce((i,r)=>FC(i,r)))}function FC(t,e){let n;return X(t instanceof Ee||t instanceof Ue),X(e instanceof Ee||e instanceof Ue),n=t instanceof Ee?e instanceof Ee?function(r,o){return Ue.create([r,o],"and")}(t,e):WN(t,e):e instanceof Ee?WN(e,t):function(r,o){if(X(r.filters.length>0&&o.filters.length>0),Hc(r)&&Hc(o))return kO(r,o.getFilters());let s=zE(r)?r:o,a=zE(r)?o:r,c=s.filters.map(l=>FC(l,a));return Ue.create(c,"or")}(t,e),Cg(n)}function WN(t,e){if(Hc(e))return kO(e,t.getFilters());{let n=e.filters.map(i=>FC(t,i));return Ue.create(n,"or")}}function Cg(t){if(X(t instanceof Ee||t instanceof Ue),t instanceof Ee)return t;let e=t.getFilters();if(e.length===1)return Cg(e[0]);if(RO(t))return t;let n=e.map(r=>Cg(r)),i=[];return n.forEach(r=>{r instanceof Ee?i.push(r):r instanceof Ue&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:Ue.create(i,t.op)}var vI=class{constructor(){this._n=new $d}addToCollectionParentIndex(e,n){return this._n.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}deleteAllFieldIndexes(e){return C.resolve()}createTargetIndexes(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(Bn.min())}getMinOffsetFromCollectionGroup(e,n){return C.resolve(Bn.min())}updateCollectionGroup(e,n,i){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}},$d=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new qe(Se.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new qe(Se.comparator)).toArray()}};var Ym=new Uint8Array(0),_I=class{constructor(e,n){this.databaseId=n,this.an=new $d,this.un=new Zi(i=>Fs(i),(i,r)=>Xd(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let o={collectionId:i,parent:tn(r)};return KN(e).put(o)}return C.resolve()}getCollectionParents(e,n){let i=[],r=IDBKeyRange.bound([n,""],[yO(n),""],!1,!0);return KN(e).W(r).next(o=>{for(let s of o){if(s.collectionId!==n)break;i.push(zi(s.parent))}return i})}addFieldIndex(e,n){let i=_d(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete r.indexId;let o=i.add(r);if(n.indexState){let s=xc(e);return o.next(a=>{s.put($N(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let i=_d(e),r=xc(e),o=Ac(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=_d(e),i=Ac(e),r=xc(e);return n.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,n){return C.forEach(this.cn(n),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let o=new Ig(i).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let i=Ac(e),r=!0,o=new Map;return C.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=pe(),a=[];return C.forEach(o,(c,l)=>{N("IndexedDbIndexManager",`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(c)} to execute ${Fs(n)}`);let u=function(M,x){let q=FE(x);if(q===void 0)return null;for(let ee of mg(M,q.fieldPath))switch(ee.op){case"array-contains-any":return ee.value.arrayValue.values||[];case"array-contains":return[ee.value]}return null}(l,c),f=function(M,x){let q=new Map;for(let ee of Ts(x))for(let Ie of mg(M,ee.fieldPath))switch(Ie.op){case"==":case"in":q.set(ee.fieldPath.canonicalString(),Ie.value);break;case"not-in":case"!=":return q.set(ee.fieldPath.canonicalString(),Ie.value),Array.from(q.values())}return null}(l,c),m=function(M,x){let q=[],ee=!0;for(let Ie of Ts(x)){let Je=Ie.kind===0?SN(M,Ie.fieldPath,M.startAt):AN(M,Ie.fieldPath,M.startAt);q.push(Je.value),ee&&(ee=Je.inclusive)}return new Qi(q,ee)}(l,c),g=function(M,x){let q=[],ee=!0;for(let Ie of Ts(x)){let Je=Ie.kind===0?AN(M,Ie.fieldPath,M.endAt):SN(M,Ie.fieldPath,M.endAt);q.push(Je.value),ee&&(ee=Je.inclusive)}return new Qi(q,ee)}(l,c),_=this.hn(c,l,m),E=this.hn(c,l,g),w=this.Pn(c,l,f),S=this.In(c.indexId,u,_,m.inclusive,E,g.inclusive,w);return C.forEach(S,j=>i.j(j,n.limit).next(M=>{M.forEach(x=>{let q=U.fromSegments(x.documentKey);s.has(q)||(s=s.add(q),a.push(q))})}))}).next(()=>a)}return C.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=YK(Ue.create(e.filters,"and")).map(i=>JE(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,i,r,o,s,a){let c=(n!=null?n.length:1)*Math.max(i.length,o.length),l=c/(n!=null?n.length:1),u=[];for(let f=0;f<c;++f){let m=n?this.Tn(n[f/l]):Ym,g=this.En(e,m,i[f%l],r),_=this.dn(e,m,o[f%l],s),E=a.map(w=>this.En(e,m,w,!0));u.push(...this.createRange(g,_,E))}return u}En(e,n,i,r){let o=new Rs(e,U.empty(),n,i);return r?o:o.Jt()}dn(e,n,i,r){let o=new Rs(e,U.empty(),n,i);return r?o.Jt():o}ln(e,n){let i=new Ig(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(let a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let i=2,r=this.cn(n);return C.forEach(r,o=>this.ln(e,o).next(s=>{s?i!==0&&s.fields.length<function(c){let l=new qe(ht.comparator),u=!1;for(let f of c.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?u=!0:l=l.add(m.field));for(let f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>function(s){return s.limit!==null}(n)&&r.length>1&&i===2?1:i)}An(e,n){let i=new xs;for(let r of Ts(e)){let o=n.data.field(r.fieldPath);if(o==null)return null;let s=i.Ht(r.kind);wr.bt.Pt(o,s)}return i.Wt()}Tn(e){let n=new xs;return wr.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let i=new xs;return wr.bt.Pt(Ns(this.databaseId,n),i.Ht(function(o){let s=Ts(o);return s.length===0?0:s[s.length-1].kind}(e))),i.Wt()}Pn(e,n,i){if(i===null)return[];let r=[];r.push(new xs);let o=0;for(let s of Ts(e)){let a=i[o++];for(let c of r)if(this.Vn(n,s.fieldPath)&&Nd(a))r=this.mn(r,s,a);else{let l=c.Ht(s.kind);wr.bt.Pt(a,l)}}return this.fn(r)}hn(e,n,i){return this.Pn(e,n,i.position)}fn(e){let n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Wt();return n}mn(e,n,i){let r=[...e],o=[];for(let s of i.arrayValue.values||[])for(let a of r){let c=new xs;c.seed(a.Wt()),wr.bt.Pt(s,c.Ht(n.kind)),o.push(c)}return o}Vn(e,n){return!!e.filters.find(i=>i instanceof Ee&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){let i=_d(e),r=xc(e);return(n?i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.W()).next(o=>{let s=[];return C.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(u,f){let m=f?new xd(f.sequenceNumber,new Bn(js(f.readTime),new U(zi(f.documentKey)),f.largestBatchId)):xd.empty(),g=u.fields.map(([_,E])=>new Lc(ht.fromServerFormat(_),E));return new Uc(u.indexId,u.collectionGroup,g,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{let o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:fe(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){let r=_d(e),o=xc(e);return this.gn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>C.forEach(a,c=>o.put($N(c.indexId,this.uid,s,i)))))}updateIndexEntries(e,n){let i=new Map;return C.forEach(n,(r,o)=>{let s=i.get(r.collectionGroup);return(s?C.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),C.forEach(a,c=>this.pn(e,r,c).next(l=>{let u=this.yn(o,c);return l.isEqual(u)?C.resolve():this.wn(e,o,c,l,u)}))))})}Sn(e,n,i,r){return Ac(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(i,n.key),documentKey:n.key.path.toArray()})}bn(e,n,i,r){return Ac(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(i,n.key),n.key.path.toArray()])}pn(e,n,i){let r=Ac(e),o=new qe(po);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Rn(i,n)])},(s,a)=>{o=o.add(new Rs(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let i=new qe(po),r=this.An(n,e);if(r==null)return i;let o=FE(n);if(o!=null){let s=e.data.field(o.fieldPath);if(Nd(s))for(let a of s.arrayValue.values||[])i=i.add(new Rs(n.indexId,e.key,this.Tn(a),r))}else i=i.add(new Rs(n.indexId,e.key,Ym,r));return i}wn(e,n,i,r,o){N("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(c,l,u,f,m){let g=c.getIterator(),_=l.getIterator(),E=Sc(g),w=Sc(_);for(;E||w;){let S=!1,j=!1;if(E&&w){let M=u(E,w);M<0?j=!0:M>0&&(S=!0)}else E!=null?j=!0:S=!0;S?(f(w),w=Sc(_)):j?(m(E),E=Sc(g)):(E=Sc(g),w=Sc(_))}}(r,o,po,a=>{s.push(this.Sn(e,n,i,a))},a=>{s.push(this.bn(e,n,i,a))}),C.waitFor(s)}gn(e){let n=1;return xc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((s,a)=>po(s,a)).filter((s,a,c)=>!a||po(s,c[a-1])!==0);let r=[];r.push(e);for(let s of i){let a=po(s,e),c=po(s,n);if(a===0)r[0]=e.Jt();else if(a>0&&c<0)r.push(s),r.push(s.Jt());else if(c>0)break}r.push(n);let o=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Ym,[]],c=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Ym,[]];o.push(IDBKeyRange.bound(a,c))}return o}Dn(e,n){return po(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(YN)}getMinOffset(e,n){return C.mapArray(this.cn(n),i=>this.ln(e,i).next(r=>r||z())).next(YN)}};function KN(t){return kt(t,"collectionParents")}function Ac(t){return kt(t,"indexEntries")}function _d(t){return kt(t,"indexConfiguration")}function xc(t){return kt(t,"indexState")}function YN(t){X(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){let r=t[i].indexState.offset;AC(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new Bn(e.readTime,e.documentKey,n)}var QN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vn=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function mF(t,e,n){let i=t.store("mutations"),r=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=i.Y({range:s},(u,f,m)=>(a++,m.delete()));o.push(c.next(()=>{X(a===1)}));let l=[];for(let u of n.mutations){let f=EO(e,u.key.path,n.batchId);o.push(r.delete(f)),l.push(u.key)}return C.waitFor(o).next(()=>l)}function Dg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw z();e=t.noDocument}return JSON.stringify(e).length}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(41943040,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);var Tg=class t{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Cn={}}static lt(e,n,i,r){X(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,i,r)}checkEmpty(e){let n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mo(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,i,r){let o=Oc(e),s=mo(e);return s.add({}).next(a=>{X(typeof a=="number");let c=new Fd(a,n,i,r),l=function(g,_,E){let w=E.baseMutations.map(j=>Ud(g.ct,j)),S=E.mutations.map(j=>Ud(g.ct,j));return{userId:_,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:w,mutations:S}}(this.serializer,this.userId,c),u=[],f=new qe((m,g)=>fe(m.canonicalString(),g.canonicalString()));for(let m of r){let g=EO(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),u.push(s.put(l)),u.push(o.put(g,nK))}return f.forEach(m=>{u.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),C.waitFor(u).next(()=>c)})}lookupMutationBatch(e,n){return mo(e).get(n).next(i=>i?(X(i.userId===this.userId),As(this.serializer,i)):null)}vn(e,n){return this.Cn[n]?C.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){let r=i.keys();return this.Cn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return mo(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(X(a.batchId>=i),o=As(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return mo(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mo(e).W("userMutationsIndex",n).next(i=>i.map(r=>As(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){let i=Jm(this.userId,n.path),r=IDBKeyRange.lowerBound(i),o=[];return Oc(e).Y({range:r},(s,a,c)=>{let[l,u,f]=s,m=zi(u);if(l===this.userId&&n.path.isEqual(m))return mo(e).get(f).next(g=>{if(!g)throw z();X(g.userId===this.userId),o.push(As(this.serializer,g))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new qe(fe),r=[];return n.forEach(o=>{let s=Jm(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Oc(e).Y({range:a},(l,u,f)=>{let[m,g,_]=l,E=zi(g);m===this.userId&&o.path.isEqual(E)?i=i.add(_):f.done()});r.push(c)}),C.waitFor(r).next(()=>this.Fn(e,i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=Jm(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new qe(fe);return Oc(e).Y({range:s},(c,l,u)=>{let[f,m,g]=c,_=zi(m);f===this.userId&&i.isPrefixOf(_)?_.length===r&&(a=a.add(g)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let i=[],r=[];return n.forEach(o=>{r.push(mo(e).get(o).next(s=>{if(s===null)throw z();X(s.userId===this.userId),i.push(As(this.serializer,s))}))}),C.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return mF(e.ae,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),C.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return C.resolve();let i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return Oc(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){let c=zi(o[1]);r.push(c)}else a.done()}).next(()=>{X(r.length===0)})})}containsKey(e,n){return gF(e,this.userId,n)}xn(e){return yF(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function gF(t,e,n){let i=Jm(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Oc(t).Y({range:o,J:!0},(a,c,l)=>{let[u,f,m]=a;u===e&&f===r&&(s=!0),l.done()}).next(()=>s)}function mo(t){return kt(t,"mutations")}function Oc(t){return kt(t,"documentMutations")}function yF(t){return kt(t,"mutationQueues")}var Kc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var wI=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let i=new Kc(n.highestTargetId);return n.highestTargetId=i.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>J.fromTimestamp(new it(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.kn(e,r)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.Qn(n,i),this.kn(e,i))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Rc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(i=>(X(i.targetCount>0),i.targetCount-=1,this.kn(e,i)))}removeTargets(e,n,i){let r=0,o=[];return Rc(e).Y((s,a)=>{let c=Id(a);c.sequenceNumber<=n&&i.get(c.targetId)===null&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>C.waitFor(o)).next(()=>r)}forEachTarget(e,n){return Rc(e).Y((i,r)=>{let o=Id(r);n(o)})}Bn(e){return ZN(e).get("targetGlobalKey").next(n=>(X(n!==null),n))}kn(e,n){return ZN(e).put("targetGlobalKey",n)}qn(e,n){return Rc(e).put(hF(this.serializer,n))}Qn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let i=Fs(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return Rc(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{let l=Id(a);Xd(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,i){let r=[],o=go(e);return n.forEach(s=>{let a=tn(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),C.waitFor(r)}removeMatchingKeys(e,n,i){let r=go(e);return C.forEach(n,o=>{let s=tn(o.path);return C.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,n){let i=go(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){let i=IDBKeyRange.bound([n],[n+1],!1,!0),r=go(e),o=pe();return r.Y({range:i,J:!0},(s,a,c)=>{let l=zi(s[1]),u=new U(l);o=o.add(u)}).next(()=>o)}containsKey(e,n){let i=tn(n.path),r=IDBKeyRange.bound([i],[yO(i)],!1,!0),o=0;return go(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return Rc(e).get(n).next(i=>i?Id(i):null)}};function Rc(t){return kt(t,"targets")}function ZN(t){return kt(t,"targetGlobal")}function go(t){return kt(t,"targetDocuments")}function XN([t,e],[n,i]){let r=fe(t,n);return r===0?fe(e,i):r}var bI=class{constructor(e){this.Kn=e,this.buffer=new qe(XN),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let i=this.buffer.last();XN(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}},EI=class{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){N("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>D(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?N("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Ro(n)}yield this.zn(3e5)}))}},II=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return C.resolve(In._e);let i=new bI(n);return this.jn.forEachTarget(e,r=>i.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(e,r=>i.Wn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(N("LruGarbageCollector","Garbage collection skipped; disabled"),C.resolve(QN)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(N("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QN):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let i,r,o,s,a,c,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(N("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(l=Date.now(),Mc()<=fi.DEBUG&&N("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),C.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}};function QK(t,e){return new II(t,e)}var CI=class{constructor(e,n){this.db=e,this.garbageCollector=QK(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Zn(e){let n=0;return this.Jn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(i,r)=>n(r))}addReference(e,n,i){return Qm(e,i)}removeReference(e,n,i){return Qm(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return Qm(e,n)}er(e,n){return function(r,o){let s=!1;return yF(r).Z(a=>gF(r,a,o).next(c=>(c&&(s=!0),C.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.Xn(e,(s,a)=>{if(a<=n){let c=this.er(e,s).next(l=>{if(!l)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,J.min()),go(e).delete(function(f){return[0,tn(f.path)]}(s))))});r.push(c)}}).next(()=>C.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,n){let i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return Qm(e,n)}Xn(e,n){let i=go(e),r,o=In._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{s===0?(o!==In._e&&n(new U(zi(r)),o),o=l,r=c):o=In._e}).next(()=>{o!==In._e&&n(new U(zi(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Qm(t,e){return go(t).put(function(i,r){return{targetId:0,path:tn(i.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}var Sg=class{constructor(){this.changes=new Zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?C.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var DI=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return Ds(e).put(i)}removeEntry(e,n,i){return Ds(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],bg(s),a[a.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.tr(e,i)))}getEntry(e,n){let i=_t.newInvalidDocument(n);return Ds(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(wd(n))},(r,o)=>{i=this.nr(n,o)}).next(()=>i)}rr(e,n){let i={size:0,document:_t.newInvalidDocument(n)};return Ds(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(wd(n))},(r,o)=>{i={document:this.nr(n,o),size:Dg(o)}}).next(()=>i)}getEntries(e,n){let i=pn();return this.ir(e,n,(r,o)=>{let s=this.nr(r,o);i=i.insert(r,s)}).next(()=>i)}sr(e,n){let i=pn(),r=new Ye(U.comparator);return this.ir(e,n,(o,s)=>{let a=this.nr(o,s);i=i.insert(o,a),r=r.insert(o,Dg(s))}).next(()=>({documents:i,_r:r}))}ir(e,n,i){if(n.isEmpty())return C.resolve();let r=new qe(tO);n.forEach(c=>r=r.add(c));let o=IDBKeyRange.bound(wd(r.first()),wd(r.last())),s=r.getIterator(),a=s.getNext();return Ds(e).Y({index:"documentKeyIndex",range:o},(c,l,u)=>{let f=U.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&tO(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?u.U(wd(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,i,r,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),bg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ds(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let u=pn();for(let f of l){let m=this.nr(U.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(eh(n,m)||r.has(m.key))&&(u=u.insert(m.key,m))}return u})}getAllFromCollectionGroup(e,n,i,r){let o=pn(),s=eO(n,i),a=eO(n,Bn.max());return Ds(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{let f=this.nr(U.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new TI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return JN(e).get("remoteDocumentGlobalKey").next(n=>(X(!!n),n))}tr(e,n){return JN(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let i=WK(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(J.min())))return i}return _t.newInvalidDocument(e)}};function vF(t){return new DI(t)}var TI=class extends Sg{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Zi(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let n=[],i=0,r=new qe((o,s)=>fe(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=BN(this.ar.serializer,s);r=r.add(o.path.popLast());let l=Dg(c);i+=l-a.size,n.push(this.ar.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){let c=BN(this.ar.serializer,s.convertToNoDocument(J.min()));n.push(this.ar.addEntry(e,o,c))}}),r.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,i)),C.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(i=>(this.ur.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:i,_r:r})=>(r.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:i.get(o).readTime})}),i))}};function JN(t){return kt(t,"remoteDocumentGlobal")}function Ds(t){return kt(t,"remoteDocumentsV14")}function wd(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eO(t,e){let n=e.documentKey.path.toArray();return[t,bg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tO(t,e){let n=t.path.toArray(),i=e.path.toArray(),r=0;for(let o=0;o<n.length-2&&o<i.length-2;++o)if(r=fe(n[o],i[o]),r)return r;return r=fe(n.length,i.length),r||(r=fe(n[n.length-2],i[i.length-2]),r||fe(n[n.length-1],i[i.length-1]))}var SI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ag=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Td(i.mutation,r,Cn.empty(),it.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,pe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=pe()){let r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=Ed();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,pe()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=pn(),s=Dd(),a=function(){return Dd()}();return n.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof si)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),Td(u.mutation,l,u.mutation.getFieldMask(),it.now())):s.set(l.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var f;return a.set(l,new SI(u,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let i=Dd(),r=new Ye((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=i.get(c)||Cn.empty();u=a.applyToLocalView(l,u),i.set(c,u);let f=(r.get(a.batchId)||pe()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,f=UO();u.forEach(m=>{if(!o.has(m)){let g=YO(n.get(m),i.get(m));g!==null&&f.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return C.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return U.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):C.resolve(qi()),a=-1,c=o;return s.next(l=>C.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(m=>{c=c.insert(u,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,pe())).next(u=>({batchId:a,changes:BO(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(i=>{let r=Ed();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=Ed();return this.indexManager.getCollectionParents(e,o).next(a=>C.forEach(a,c=>{let l=function(f,m){return new oi(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,_t.newInvalidDocument(u)))});let a=Ed();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&Td(u.mutation,l,Cn.empty(),it.now()),eh(n,l)&&(a=a.insert(c,l))}),a})}};var AI=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return C.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ft(r.createTime)}}(n)),C.resolve()}getNamedQuery(e,n){return C.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:OC(r.bundledQuery),readTime:ft(r.readTime)}}(n)),C.resolve()}};var xI=class{constructor(){this.overlays=new Ye(U.comparator),this.hr=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}getOverlays(e,n){let i=qi();return C.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),C.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),C.resolve()}getOverlaysForCollection(e,n,i){let r=qi(),o=n.length+1,s=new U(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return C.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Ye((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let u=o.get(l.largestBatchId);u===null&&(u=qi(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=qi(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return C.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new Ld(n,i));let o=this.hr.get(n);o===void 0&&(o=pe(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var Hd=class{constructor(){this.Pr=new qe(gt.Ir),this.Tr=new qe(gt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new gt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new gt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new U(new Se([])),i=new gt(n,e),r=new gt(n,e+1),o=[];return this.Tr.forEachInRange([i,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new U(new Se([])),i=new gt(n,e),r=new gt(n,e+1),o=pe();return this.Tr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new gt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},gt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return U.comparator(e.key,n.key)||fe(e.pr,n.pr)}static Er(e,n){return fe(e.pr,n.pr)||U.comparator(e.key,n.key)}};var RI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new qe(gt.Ir)}checkEmpty(e){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Fd(o,n,i,r);this.mutationQueue.push(s);for(let a of r)this.wr=this.wr.add(new gt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(s)}lookupMutationBatch(e,n){return C.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return C.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new gt(n,0),r=new gt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],s=>{let a=this.Sr(s.pr);o.push(a)}),C.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new qe(fe);return n.forEach(r=>{let o=new gt(r,0),s=new gt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{i=i.add(a.pr)})}),C.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;U.isDocumentKey(o)||(o=o.child(""));let s=new gt(new U(o),0),a=new qe(fe);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},s),C.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){X(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return C.forEach(n.mutations,r=>{let o=new gt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new gt(n,0),r=this.wr.firstAfterOrEqual(i);return C.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,C.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var MI=class{constructor(e){this.vr=e,this.docs=function(){return new Ye(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return C.resolve(i?i.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let i=pn();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():_t.newInvalidDocument(r))}),C.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=pn(),s=n.path,a=new U(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||AC(_O(u),i)<=0||(r.has(u.key)||eh(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return C.resolve(o)}getAllFromCollectionGroup(e,n,i,r){z()}Fr(e,n){return C.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new kI(this)}getSize(e){return C.resolve(this.size)}},kI=class extends Sg{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),C.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var PI=class{constructor(e){this.persistence=e,this.Mr=new Zi(n=>Fs(n),Xd),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Hd,this.targetCount=0,this.Lr=Kc.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),C.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Kc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.qn(n),C.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),C.waitFor(o).next(()=>r)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return C.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),C.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),C.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),C.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return C.resolve(i)}containsKey(e,n){return C.resolve(this.Nr.containsKey(n))}};var xg=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new In(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new PI(this),this.indexManager=new vI,this.remoteDocumentCache=function(r){return new MI(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new wg(n),this.$r=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new RI(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){N("MemoryPersistence","Starting transaction:",e);let r=new NI(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return C.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},NI=class extends cg{constructor(e){super(),this.currentSequenceNumber=e}},Rg=class t{constructor(e){this.persistence=e,this.zr=new Hd,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw z()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),C.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),C.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Jr,i=>{let r=U.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,J.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return C.or([()=>C.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var OI=class{constructor(e){this.serializer=e}N(e,n,i,r){let o=new lg("createOrUpgrade",n);i<1&&r>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vN,{unique:!0}),c.createObjectStore("documentMutations")}(e),nO(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=C.resolve();return i<3&&r>=3&&(i!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),nO(e)),s=s.next(()=>function(c){let l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:J.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vN,{unique:!0});let f=l.store("mutations"),m=u.map(g=>f.put(g));return C.waitFor(m)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(s=s.next(()=>this.Xr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),i<7&&r>=7&&(s=s.next(()=>this.ti(o))),i<8&&r>=8&&(s=s.next(()=>this.ni(e,o))),i<9&&r>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(s=s.next(()=>this.ri(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:pK});l.createIndex("collectionPathOverlayIndex",mK,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",gK,{unique:!1})})(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:iK});l.createIndex("documentKeyIndex",rK),l.createIndex("collectionGroupIndex",oK)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:uK}).createIndex("sequenceNumberIndex",dK,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:hK}).createIndex("documentKeyIndex",fK,{unique:!1})}(e))),s}ei(e){let n=0;return e.store("remoteDocuments").Y((i,r)=>{n+=Dg(r)}).next(()=>{let i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Xr(e){let n=e.store("mutationQueues"),i=e.store("mutations");return n.W().next(r=>C.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>C.forEach(a,c=>{X(c.userId===o.userId);let l=As(this.serializer,c);return mF(e,o.userId,l).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return i.Y((s,a)=>{let c=new Se(s),l=function(f){return[0,tn(f)]}(c);o.push(n.get(l).next(u=>u?C.resolve():(f=>n.put({targetId:0,path:tn(f),sequenceNumber:r.highestListenSequenceNumber}))(c)))}).next(()=>C.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:lK});let i=n.store("collectionParents"),r=new $d,o=s=>{if(r.add(s)){let a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:tn(c)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{let c=new Se(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,c],l)=>{let u=zi(a);return o(u.popLast())}))}ri(e){let n=e.store("targets");return n.Y((i,r)=>{let o=Id(r),s=hF(this.serializer,o);return n.put(s)})}ii(e,n){let i=n.store("remoteDocuments"),r=[];return i.Y((o,s)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new U(Se.fromString(f.document.name).popFirst(5)):f.noDocument?U.fromSegments(f.noDocument.path):f.unknownDocument?U.fromSegments(f.unknownDocument.path):z()}(s).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(l))}).next(()=>C.waitFor(r))}si(e,n){let i=n.store("mutations"),r=vF(this.serializer),o=new xg(Rg.Hr,this.serializer.ct);return i.W().next(s=>{let a=new Map;return s.forEach(c=>{var l;let u=(l=a.get(c.userId))!==null&&l!==void 0?l:pe();As(this.serializer,c).keys().forEach(f=>u=u.add(f)),a.set(c.userId,u)}),C.forEach(a,(c,l)=>{let u=new yt(l),f=Eg.lt(this.serializer,u),m=o.getIndexManager(u),g=Tg.lt(u,this.serializer,m,o.referenceDelegate);return new Ag(r,g,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Md(n,In._e),c).next()})})}};function nO(t){t.createObjectStore("targetDocuments",{keyPath:aK}).createIndex("documentTargetsIndex",cK,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sK,{unique:!0}),t.createObjectStore("targetGlobal")}var TE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",FI=class t{constructor(e,n,i,r,o,s,a,c,l,u,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.oi=o,this.window=s,this.document=a,this._i=l,this.ai=u,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=m=>Promise.resolve(),!t.D())throw new k(T.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CI(this,r),this.Ti=n+"main",this.serializer=new wg(c),this.Ei=new Er(this.Ti,this.ui,new OI(this.serializer)),this.Qr=new wI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vF(this.serializer),this.$r=new dI,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new k(T.FAILED_PRECONDITION,TE);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new In(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>D(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(n=>D(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>D(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Zm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Mo(e))return N("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return N("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return bd(e).get("owner").next(n=>C.resolve(this.Si(n)))}bi(e){return Zm(e).delete(this.clientId)}Di(){return D(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let i=kt(n,"clientMetadata");return i.W().next(r=>{let o=this.vi(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return C.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?C.resolve(!0):bd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new k(T.FAILED_PRECONDITION,TE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zm(e).W().next(i=>this.vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&N("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return D(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Md(e,In._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(i=>this.Ci(i.updateTimeMs,n)&&!this.Mi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Zm(e).W().next(n=>this.vi(n,18e5).map(i=>i.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Tg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _I(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Eg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,i){N("IndexedDbPersistence","Starting transaction:",e);let r=n==="readonly"?"readonly":"readwrite",o=function(c){return c===15?vK:c===14?DO:c===13?CO:c===12?yK:c===11?IO:void z()}(this.ui),s;return this.Ei.runTransaction(e,r,o,a=>(s=new Md(a,this.kr?this.kr.next():In._e),n==="readwrite-primary"?this.gi(s).next(c=>!!c||this.pi(s)).next(c=>{if(!c)throw dt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new k(T.FAILED_PRECONDITION,wO);return i(s)}).next(c=>this.wi(s).next(()=>c)):this.ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return bd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new k(T.FAILED_PRECONDITION,TE)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bd(e).put("owner",n)}static D(){return Er.D()}yi(e){let n=bd(e);return n.get("owner").next(i=>this.Si(i)?(N("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):C.resolve())}Ci(e,n){let i=Date.now();return!(e<i-n)&&(!(e>i)||(dt(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;Oy()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let i=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return N("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return dt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){dt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function bd(t){return kt(t,"owner")}function Zm(t){return kt(t,"clientMetadata")}function LC(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var LI=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=pe(),r=pe();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var VI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Mg=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Oy()?8:Er.v(vl())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new VI;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Mc()<=fi.DEBUG&&N("QueryEngine","SDK will not create cache indexes for query:",kc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),C.resolve()):(Mc()<=fi.DEBUG&&N("QueryEngine","Query:",kc(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Mc()<=fi.DEBUG&&N("QueryEngine","The SDK decides to create cache indexes for query:",kc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nn(n))):C.resolve())}ji(e,n){if(xN(n))return C.resolve(null);let i=nn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=gg(n,null,"F"),i=nn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=pe(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,s,c.readTime)?this.ji(e,gg(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,i,r){return xN(n)||r.isEqual(J.min())?C.resolve(null):this.zi.getDocuments(e,i).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,i,r)?C.resolve(null):(Mc()<=fi.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kc(n)),this.es(e,s,n,vO(r,-1)).next(a=>a))})}Zi(e,n){let i=new qe(VO(e));return n.forEach((r,o)=>{eh(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return Mc()<=fi.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",kc(n)),this.zi.getDocumentsMatchingQuery(e,n,Bn.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var jI=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Ye(fe),this.rs=new Zi(o=>Fs(o),Xd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ag(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function _F(t,e,n,i){return new jI(t,e,n,i)}function wF(t,e){return D(this,null,function*(){let n=$(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=pe();for(let l of r){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(i,c).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})})}function ZK(t,e){let n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let f=l.batch,m=f.keys(),g=C.resolve();return m.forEach(_=>{g=g.next(()=>u.getEntry(c,_)).next(E=>{let w=l.docVersions.get(_);X(w!==null),E.version.compareTo(w)<0&&(f.applyToRemoteDocument(E,l),E.isValidDocument()&&(E.setReadTime(l.commitVersion),u.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function bF(t){let e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function XK(t,e){let n=$(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((u,f)=>{let m=r.get(f);if(!m)return;a.push(n.Qr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,u.addedDocuments,f)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Mt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,i)),r=r.insert(f,g),function(E,w,S){return E.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,g,u)&&a.push(n.Qr.updateTargetData(o,g))});let c=pn(),l=pe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(EF(o,s,e.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!i.isEqual(J.min())){let u=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return C.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ns=r,o))}function EF(t,e,n){let i=pe(),r=pe();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=pn();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(J.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):N("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:s,ls:r}})}function JK(t,e){let n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Yc(t,e){let n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,C.resolve(r)):n.Qr.allocateTargetId(i).next(s=>(r=new Wc(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function Qc(t,e,n){return D(this,null,function*(){let i=$(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Mo(s))throw s;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function kg(t,e,n){let i=$(t),r=J.min(),o=pe();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let f=$(c),m=f.rs.get(u);return m!==void 0?C.resolve(f.ns.get(m)):f.Qr.getTargetData(l,u)}(i,s,nn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ts.getDocumentsMatchingQuery(s,e,n?r:J.min(),n?o:pe())).next(a=>(DF(i,LO(e),a),{documents:a,hs:o})))}function IF(t,e){let n=$(t),i=$(n.Qr),r=n.ns.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function CF(t,e){let n=$(t),i=n.ss.get(e)||J.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.os.getAllFromCollectionGroup(r,e,vO(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(DF(n,e,r),r))}function DF(t,e,n){let i=t.ss.get(e)||J.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}function eY(t,e,n,i){return D(this,null,function*(){let r=$(t),o=pe(),s=pn();for(let l of n){let u=e.Ps(l.metadata.name);l.document&&(o=o.add(u));let f=e.Is(l);f.setReadTime(e.Ts(l.metadata.readTime)),s=s.insert(u,f)}let a=r.os.newChangeBuffer({trackRemovals:!0}),c=yield Yc(r,function(u){return nn(rl(Se.fromString(`__bundle__/docs/${u}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>EF(l,a,s).next(u=>(a.apply(l),u)).next(u=>r.Qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.Qr.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,u.cs,u.ls)).next(()=>u.cs)))})}function tY(i,r){return D(this,arguments,function*(t,e,n=pe()){let o=yield Yc(t,nn(OC(e.bundledQuery))),s=$(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=ft(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.$r.saveNamedQuery(a,e);let l=o.withResumeToken(Mt.EMPTY_BYTE_STRING,c);return s.ns=s.ns.insert(l.targetId,l),s.Qr.updateTargetData(a,l).next(()=>s.Qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Qr.addMatchingKeys(a,n,o.targetId)).next(()=>s.$r.saveNamedQuery(a,e))})})}function iO(t,e){return`firestore_clients_${t}_${e}`}function rO(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function SE(t,e){return`firestore_targets_${t}_${e}`}var Pg=class t{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static Es(e,n,i){let r=JSON.parse(i),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new k(r.error.code,r.error.message))),s?new t(e,n,r.state,o):(dt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Sd=class t{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static Es(e,n){let i=JSON.parse(n),r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new k(i.error.code,i.error.message))),o?new t(e,i.state,r):(dt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Ng=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=PC();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=bO(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(dt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},BI=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(dt("SharedClientState",`Failed to parse online state: ${e}`),null)}},zd=class{constructor(){this.activeTargetIds=PC()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Ad=class{constructor(e,n,i,r,o){this.window=e,this.oi=n,this.persistenceKey=i,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Ye(fe),this.started=!1,this.ys=[];let s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=iO(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new zd),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return D(this,null,function*(){let e=yield this.syncEngine.Bi();for(let i of e){if(i===this.Vs)continue;let r=this.getItem(iO(this.persistenceKey,i));if(r){let o=Ng.Es(i,r);o&&(this.ps=this.ps.insert(o.clientId,o))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let i=this.xs(n);i&&this.Os(i)}for(let i of this.ys)this.gs(i);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,i){this.Ls(e,n,i),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(SE(this.persistenceKey,e));if(i){let r=Sd.Es(e,i);r&&(n=r.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(SE(this.persistenceKey,e))}updateQueryState(e,n,i){this.qs(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return N("SharedClientState","READ",e,n),n}setItem(e,n){N("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){N("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(N("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>D(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let i=this.$s(n.key);return this.Us(i,null)}{let i=this.Ws(n.key,n.newValue);if(i)return this.Us(i.clientId,i)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let i=this.Gs(n.key,n.newValue);if(i)return this.zs(i)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let i=this.js(n.key,n.newValue);if(i)return this.Hs(i)}}else if(n.key===this.vs){if(n.newValue!==null){let i=this.xs(n.newValue);if(i)return this.Os(i)}}else if(n.key===this.Ss){let i=function(o){let s=In._e;if(o!=null)try{let a=JSON.parse(o);X(typeof a=="number"),s=a}catch(a){dt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);i!==In._e&&this.sequenceNumberHandler(i)}else if(n.key===this.Fs){let i=this.Js(n.newValue);yield Promise.all(i.map(r=>this.syncEngine.Ys(r)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,i){let r=new Pg(this.currentUser,e,n,i),o=rO(this.persistenceKey,this.currentUser,e);this.setItem(o,r.ds())}Bs(e){let n=rO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,i){let r=SE(this.persistenceKey,e),o=new Sd(e,n,i);this.setItem(r,o.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let i=this.$s(e);return Ng.Es(i,n)}Gs(e,n){let i=this.Ds.exec(e),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return Pg.Es(new yt(o),r,n)}js(e,n){let i=this.Cs.exec(e),r=Number(i[1]);return Sd.Es(r,n)}xs(e){return BI.Es(e)}Js(e){return JSON.parse(e)}zs(e){return D(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);N("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let i=n?this.ps.insert(e,n):this.ps.remove(e),r=this.Ns(this.ps),o=this.Ns(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.eo(s,a).then(()=>{this.ps=i})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=PC();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}},Og=class{constructor(){this.no=new zd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new zd,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var UI=class{io(e){}shutdown(){}};var Fg=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Xm=null;function AE(){return Xm===null?Xm=function(){return 268435456+Math.round(2147483648*Math.random())}():Xm++,"0x"+Xm.toString(16)}var nY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var $I=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var zt="WebChannelConnection",HI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(n,i,r,o,s){let a=AE(),c=this.bo(n,i.toUriEncodedString());N("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,o,s),this.Co(n,c,l,r).then(u=>(N("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw jn("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}vo(n,i,r,o,s,a){return this.So(n,i,r,o,s)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}bo(n,i){let r=nY[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let o=AE();return new Promise((s,a)=>{let c=new fN;c.setWithCredentials(!0),c.listenOnce(dN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Km.NO_ERROR:let u=c.getResponseJson();N(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Km.TIMEOUT:N(zt,`RPC '${e}' ${o} timed out`),a(new k(T.DEADLINE_EXCEEDED,"Request time out"));break;case Km.HTTP_ERROR:let f=c.getStatus();if(N(zt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let _=function(w){let S=w.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(S)>=0?S:T.UNKNOWN}(g.status);a(new k(_,g.message))}else a(new k(T.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new k(T.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{N(zt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(r);N(zt,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",l,i,15)})}Fo(e,n,i){let r=AE(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lN(),a=uN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let u=o.join("");N(zt,`Creating RPC '${e}' stream ${r}: ${u}`,c);let f=s.createWebChannel(u,c),m=!1,g=!1,_=new $I({lo:w=>{g?N(zt,`Not sending because RPC '${e}' stream ${r} is closed:`,w):(m||(N(zt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),N(zt,`RPC '${e}' stream ${r} sending:`,w),f.send(w))},ho:()=>f.close()}),E=(w,S,j)=>{w.listen(S,M=>{try{j(M)}catch(x){setTimeout(()=>{throw x},0)}})};return E(f,yd.EventType.OPEN,()=>{g||N(zt,`RPC '${e}' stream ${r} transport opened.`)}),E(f,yd.EventType.CLOSE,()=>{g||(g=!0,N(zt,`RPC '${e}' stream ${r} transport closed`),_.Vo())}),E(f,yd.EventType.ERROR,w=>{g||(g=!0,jn(zt,`RPC '${e}' stream ${r} transport errored:`,w),_.Vo(new k(T.UNAVAILABLE,"The operation could not be completed")))}),E(f,yd.EventType.MESSAGE,w=>{var S;if(!g){let j=w.data[0];X(!!j);let M=j,x=M.error||((S=M[0])===null||S===void 0?void 0:S.error);if(x){N(zt,`RPC '${e}' stream ${r} received error:`,x);let q=x.status,ee=function(li){let Zs=mt[li];if(Zs!==void 0)return XO(Zs)}(q),Ie=x.message;ee===void 0&&(ee=T.INTERNAL,Ie="Unknown error status: "+q+" with message "+x.message),g=!0,_.Vo(new k(ee,Ie)),f.close()}else N(zt,`RPC '${e}' stream ${r} received:`,j),_.mo(j)}}),E(a,hN.STAT_EVENT,w=>{w.stat===CE.PROXY?N(zt,`RPC '${e}' stream ${r} detected buffering proxy`):w.stat===CE.NOPROXY&&N(zt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.Ro()},0),_}};function TF(){return typeof window<"u"?window:null}function ig(){return typeof document<"u"?document:null}function th(t){return new sI(t,!0)}var qd=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&N("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Lg=class{constructor(e,n,i,r,o,s,a,c){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new qd(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return D(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return D(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return D(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(dt(n.toString()),dt("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new k(T.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>D(this,null,function*(){this.state=0,this.start()}))}__(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},zI=class extends Lg{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=BK(this.serializer,e),i=function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?ft(s.readTime):J.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=lI(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=pg(c)?{documents:sF(o,c)}:{query:aF(o,c).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=eF(o,s.resumeToken);let l=aI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=Gc(o,s.snapshotVersion.toTimestamp());let l=aI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=$K(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=lI(this.serializer),n.removeTarget=e,this.t_(n)}},qI=class extends Lg{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(X(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=UK(e.writeResults,e.commitTime),i=ft(e.commitTime);return this.listener.T_(i,n)}return X(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=lI(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Ud(this.serializer,i))};this.t_(n)}};var GI=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new k(T.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,cI(n,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new k(T.UNKNOWN,o.toString())})}vo(e,n,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,cI(n,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(T.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var WI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(dt(n),this.g_=!1):N("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var KI=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{i.enqueueAndForget(()=>D(this,null,function*(){ko(this)&&(N("RemoteStore","Restarting streams for network reachability change."),yield function(c){return D(this,null,function*(){let l=$(c);l.v_.add(4),yield ol(l),l.x_.set("Unknown"),l.v_.delete(4),yield nh(l)})}(this))}))}),this.x_=new WI(i,r)}};function nh(t){return D(this,null,function*(){if(ko(t))for(let e of t.F_)yield e(!0)})}function ol(t){return D(this,null,function*(){for(let e of t.F_)yield e(!1)})}function ny(t,e){let n=$(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),BC(n)?jC(n):al(n).Jo()&&VC(n,e))}function Zc(t,e){let n=$(t),i=al(n);n.C_.delete(e),i.Jo()&&SF(n,e),n.C_.size===0&&(i.Jo()?i.Xo():ko(n)&&n.x_.set("Unknown"))}function VC(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(t).c_(e)}function SF(t,e){t.O_.Oe(e),al(t).l_(e)}function jC(t){t.O_=new oI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),al(t).start(),t.x_.p_()}function BC(t){return ko(t)&&!al(t).Ho()&&t.C_.size>0}function ko(t){return $(t).v_.size===0}function AF(t){t.O_=void 0}function iY(t){return D(this,null,function*(){t.C_.forEach((e,n)=>{VC(t,e)})})}function rY(t,e){return D(this,null,function*(){AF(t),BC(t)?(t.x_.S_(e),jC(t)):t.x_.set("Unknown")})}function oY(t,e,n){return D(this,null,function*(){if(t.x_.set("Online"),e instanceof vg&&e.state===2&&e.cause)try{yield function(r,o){return D(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.C_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.C_.delete(a),r.O_.removeTarget(a))})}(t,e)}catch(i){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Vg(t,i)}else if(e instanceof jc?t.O_.$e(e):e instanceof yg?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(J.min()))try{let i=yield bF(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let a=o.O_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.C_.get(l);u&&o.C_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.C_.get(c);if(!u)return;o.C_.set(c,u.withResumeToken(Mt.EMPTY_BYTE_STRING,u.snapshotVersion)),SF(o,c);let f=new Wc(u.target,c,l,u.sequenceNumber);VC(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){N("RemoteStore","Failed to raise snapshot:",i),yield Vg(t,i)}})}function Vg(t,e,n){return D(this,null,function*(){if(!Mo(e))throw e;t.v_.add(1),yield ol(t),t.x_.set("Offline"),n||(n=()=>bF(t.localStore)),t.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){N("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield nh(t)}))})}function xF(t,e){return e().catch(n=>Vg(t,n,e))}function sl(t){return D(this,null,function*(){let e=$(t),n=xo(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;sY(e);)try{let r=yield JK(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,aY(e,r)}catch(r){yield Vg(e,r)}RF(e)&&MF(e)})}function sY(t){return ko(t)&&t.D_.length<10}function aY(t,e){t.D_.push(e);let n=xo(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function RF(t){return ko(t)&&!xo(t).Ho()&&t.D_.length>0}function MF(t){xo(t).start()}function cY(t){return D(this,null,function*(){xo(t).d_()})}function lY(t){return D(this,null,function*(){let e=xo(t);for(let n of t.D_)e.I_(n.mutations)})}function uY(t,e,n){return D(this,null,function*(){let i=t.D_.shift(),r=nI.from(i,e,n);yield xF(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield sl(t)})}function dY(t,e){return D(this,null,function*(){e&&xo(t).P_&&(yield function(i,r){return D(this,null,function*(){if(function(s){return ZO(s)&&s!==T.ABORTED}(r.code)){let o=i.D_.shift();xo(i).Zo(),yield xF(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield sl(i)}})}(t,e)),RF(t)&&MF(t)})}function oO(t,e){return D(this,null,function*(){let n=$(t);n.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");let i=ko(n);n.v_.add(3),yield ol(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield nh(n)})}function YI(t,e){return D(this,null,function*(){let n=$(t);e?(n.v_.delete(2),yield nh(n)):e||(n.v_.add(2),yield ol(n),n.x_.set("Unknown"))})}function al(t){return t.N_||(t.N_=function(n,i,r){let o=$(n);return o.R_(),new zI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:iY.bind(null,t),To:rY.bind(null,t),u_:oY.bind(null,t)}),t.F_.push(e=>D(this,null,function*(){e?(t.N_.Zo(),BC(t)?jC(t):t.x_.set("Unknown")):(yield t.N_.stop(),AF(t))}))),t.N_}function xo(t){return t.L_||(t.L_=function(n,i,r){let o=$(n);return o.R_(),new qI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:cY.bind(null,t),To:dY.bind(null,t),E_:lY.bind(null,t),T_:uY.bind(null,t)}),t.F_.push(e=>D(this,null,function*(){e?(t.L_.Zo(),yield sl(t)):(yield t.L_.stop(),t.D_.length>0&&(N("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var QI=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function cl(t,e){if(dt("AsyncQueue",`${e}: ${t}`),Mo(t))return new k(T.UNAVAILABLE,`${e}: ${t}`);throw t}var jg=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||U.comparator(n.key,i.key):(n,i)=>U.comparator(n.key,i.key),this.keyedMap=Ed(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Bg=class{constructor(){this.B_=new Ye(U.comparator)}track(e){let n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):z():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}},Xc=class t{constructor(e,n,i,r,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,jg.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var ZI=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},XI=class{constructor(){this.queries=new Zi(e=>FO(e),Jd),this.onlineState="Unknown",this.W_=new Set}};function UC(t,e){return D(this,null,function*(){let n=$(t),i=3,r=e.query,o=n.queries.get(r);o?!o.K_()&&e.U_()&&(i=2):(o=new ZI,i=e.U_()?0:1);try{switch(i){case 0:o.q_=yield n.onListen(r,!0);break;case 1:o.q_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(s){let a=cl(s,`Initialization of query '${kc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&HC(n)})}function $C(t,e){return D(this,null,function*(){let n=$(t),i=e.query,r=3,o=n.queries.get(i);if(o){let s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?r=e.U_()?0:1:!o.K_()&&e.U_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function hY(t,e){let n=$(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let a of s.Q_)a.z_(r)&&(i=!0);s.q_=r}}i&&HC(n)}function fY(t,e,n){let i=$(t),r=i.queries.get(e);if(r)for(let o of r.Q_)o.onError(n);i.queries.delete(e)}function HC(t){t.W_.forEach(e=>{e.next()})}var JI,sO;(sO=JI||(JI={})).j_="default",sO.Cache="cache";var Gd=class{constructor(e,n,i){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=i||{}}z_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Xc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let i=n!=="Offline";return(!this.options.ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==JI.Cache}};var eC=class{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}};var Ug=class{constructor(e){this.serializer=e}Ps(e){return Wi(this.serializer,e)}Is(e){return e.metadata.exists?oF(this.serializer,e.document,!1):_t.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ft(e)}},tC=class{constructor(e,n,i){this.ia=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kF(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;let i=Se.fromString(e.na.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){let n=new Map,i=new Ug(this.serializer);for(let r of e)if(r.metadata.queries){let o=i.Ps(r.metadata.name);for(let s of r.metadata.queries){let a=(n.get(s)||pe()).add(o);n.set(s,a)}}return n}complete(){return D(this,null,function*(){let e=yield eY(this.localStore,new Ug(this.serializer),this.documents,this.ia.id),n=this.oa(this.documents);for(let i of this.queries)yield tY(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}})}};function kF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var $g=class{constructor(e){this.key=e}},Hg=class{constructor(e){this.key=e}},zg=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=pe(),this.mutatedKeys=pe(),this.ha=VO(e),this.Pa=new jg(this.ha)}get Ia(){return this.ua}Ta(e,n){let i=n?n.Ea:new Bg,r=n?n.Pa:this.Pa,o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,f)=>{let m=r.get(u),g=eh(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),w=!1;m&&g?m.data.isEqual(g.data)?_!==E&&(i.track({type:3,doc:g}),w=!0):this.da(m,g)||(i.track({type:2,doc:g}),w=!0,(c&&this.ha(g,c)>0||l&&this.ha(g,l)<0)&&(a=!0)):!m&&g?(i.track({type:0,doc:g}),w=!0):m&&!g&&(i.track({type:1,doc:m}),w=!0,(c||l)&&(a=!0)),w&&(g?(s=s.add(g),o=E?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{Pa:s,Ea:i,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let s=e.Ea.k_();s.sort((u,f)=>function(g,_){let E=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return E(g)-E(_)}(u.type,f.type)||this.ha(u.doc,f.doc)),this.Aa(i),r=r!=null&&r;let a=n&&!r?this.Ra():[],c=this.la.size===0&&this.current&&!r?1:0,l=c!==this.ca;return this.ca=c,s.length!==0||l?{snapshot:new Xc(this.query,e.Pa,o,s,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Bg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=pe(),this.Pa.forEach(i=>{this.ma(i.key)&&(this.la=this.la.add(i.key))});let n=[];return e.forEach(i=>{this.la.has(i)||n.push(new Hg(i))}),this.la.forEach(i=>{e.has(i)||n.push(new $g(i))}),n}fa(e){this.ua=e.hs,this.la=pe();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Xc.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},nC=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},iC=class{constructor(e){this.key=e,this.pa=!1}},rC=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Zi(a=>FO(a),Jd),this.Sa=new Map,this.ba=new Set,this.Da=new Ye(U.comparator),this.Ca=new Map,this.va=new Hd,this.Fa={},this.Ma=new Map,this.xa=Kc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function pY(t,e,n=!0){return D(this,null,function*(){let i=iy(t),r,o=i.wa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ga()):r=yield PF(i,e,n,!0),r})}function mY(t,e){return D(this,null,function*(){let n=iy(t);yield PF(n,e,!0,!1)})}function PF(t,e,n,i){return D(this,null,function*(){let r=yield Yc(t.localStore,nn(e)),o=r.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return i&&(a=yield zC(t,e,o,s==="current",r.resumeToken)),t.isPrimaryClient&&n&&ny(t.remoteStore,r),a})}function zC(t,e,n,i,r){return D(this,null,function*(){t.Na=(f,m,g)=>function(E,w,S,j){return D(this,null,function*(){let M=w.view.Ta(S);M.Xi&&(M=yield kg(E.localStore,w.query,!1).then(({documents:Ie})=>w.view.Ta(Ie,M)));let x=j&&j.targetChanges.get(w.targetId),q=j&&j.targetMismatches.get(w.targetId)!=null,ee=w.view.applyChanges(M,E.isPrimaryClient,x,q);return oC(E,w.targetId,ee.Va),ee.snapshot})}(t,f,m,g);let o=yield kg(t.localStore,e,!0),s=new zg(e,o.hs),a=s.Ta(o.documents),c=jd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=s.applyChanges(a,t.isPrimaryClient,c);oC(t,n,l.Va);let u=new nC(e,n,s);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),l.snapshot})}function gY(t,e,n){return D(this,null,function*(){let i=$(t),r=i.wa.get(e),o=i.Sa.get(r.targetId);if(o.length>1)return i.Sa.set(r.targetId,o.filter(s=>!Jd(s,e))),void i.wa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Qc(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Zc(i.remoteStore,r.targetId),Jc(i,r.targetId)}).catch(Ro))):(Jc(i,r.targetId),yield Qc(i.localStore,r.targetId,!0))})}function yY(t,e){return D(this,null,function*(){let n=$(t),i=n.wa.get(e),r=n.Sa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Zc(n.remoteStore,i.targetId))})}function vY(t,e,n){return D(this,null,function*(){let i=KC(t);try{let r=yield function(s,a){let c=$(s),l=it.now(),u=a.reduce((g,_)=>g.add(_.key),pe()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=pn(),E=pe();return c.os.getEntries(g,u).next(w=>{_=w,_.forEach((S,j)=>{j.isValidDocument()||(E=E.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,_)).next(w=>{f=w;let S=[];for(let j of a){let M=PK(j,f.get(j.key).overlayedDocument);M!=null&&S.push(new si(j.key,M,xO(M.value.mapValue),ct.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,S,a)}).next(w=>{m=w;let S=w.applyToLocalDocumentSet(f,E);return c.documentOverlayCache.saveOverlays(g,w.batchId,S)})}).then(()=>({batchId:m.batchId,changes:BO(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Fa[s.currentUser.toKey()];l||(l=new Ye(fe)),l=l.insert(a,c),s.Fa[s.currentUser.toKey()]=l}(i,r.batchId,n),yield Sr(i,r.changes),yield sl(i.remoteStore)}catch(r){let o=cl(r,"Failed to persist write");n.reject(o)}})}function NF(t,e){return D(this,null,function*(){let n=$(t);try{let i=yield XK(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.Ca.get(o);s&&(X(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.pa=!0:r.modifiedDocuments.size>0?X(s.pa):r.removedDocuments.size>0&&(X(s.pa),s.pa=!1))}),yield Sr(n,i,e)}catch(i){yield Ro(i)}})}function aO(t,e,n){let i=$(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.wa.forEach((o,s)=>{let a=s.view.G_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=$(s);c.onlineState=a;let l=!1;c.queries.forEach((u,f)=>{for(let m of f.Q_)m.G_(a)&&(l=!0)}),l&&HC(c)}(i.eventManager,e),r.length&&i.ya.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function _Y(t,e,n){return D(this,null,function*(){let i=$(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Ca.get(e),o=r&&r.key;if(o){let s=new Ye(U.comparator);s=s.insert(o,_t.newNoDocument(o,J.min()));let a=pe().add(o),c=new Vd(J.min(),new Map,new Ye(fe),s,a);yield NF(i,c),i.Da=i.Da.remove(o),i.Ca.delete(e),WC(i)}else yield Qc(i.localStore,e,!1).then(()=>Jc(i,e,n)).catch(Ro)})}function wY(t,e){return D(this,null,function*(){let n=$(t),i=e.batch.batchId;try{let r=yield ZK(n.localStore,e);GC(n,i,null),qC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Sr(n,r)}catch(r){yield Ro(r)}})}function bY(t,e,n){return D(this,null,function*(){let i=$(t);try{let r=yield function(s,a){let c=$(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(X(f!==null),u=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);GC(i,e,n),qC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Sr(i,r)}catch(r){yield Ro(r)}})}function EY(t,e){return D(this,null,function*(){let n=$(t);ko(n.remoteStore)||N("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(s){let a=$(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(i===-1)return void e.resolve();let r=n.Ma.get(i)||[];r.push(e),n.Ma.set(i,r)}catch(i){let r=cl(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function qC(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function GC(t,e,n){let i=$(t),r=i.Fa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Fa[i.currentUser.toKey()]=r}}function Jc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Sa.get(e))t.wa.delete(i),n&&t.ya.La(i,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(i=>{t.va.containsKey(i)||OF(t,i)})}function OF(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(Zc(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),WC(t))}function oC(t,e,n){for(let i of n)i instanceof $g?(t.va.addReference(i.key,e),IY(t,i)):i instanceof Hg?(N("SyncEngine","Document no longer in limbo: "+i.key),t.va.removeReference(i.key,e),t.va.containsKey(i.key)||OF(t,i.key)):z()}function IY(t,e){let n=e.key,i=n.path.canonicalString();t.Da.get(n)||t.ba.has(i)||(N("SyncEngine","New document in limbo: "+n),t.ba.add(i),WC(t))}function WC(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new U(Se.fromString(e)),i=t.xa.next();t.Ca.set(i,new iC(n)),t.Da=t.Da.insert(n,i),ny(t.remoteStore,new Wc(nn(rl(n.path)),i,"TargetPurposeLimboResolution",In._e))}}function Sr(t,e,n){return D(this,null,function*(){let i=$(t),r=[],o=[],s=[];i.wa.isEmpty()||(i.wa.forEach((a,c)=>{s.push(i.Na(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=LI.Ki(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.ya.u_(r),yield function(c,l){return D(this,null,function*(){let u=$(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>C.forEach(l,m=>C.forEach(m.qi,g=>u.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>C.forEach(m.Qi,g=>u.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Mo(f))throw f;N("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let m=f.targetId;if(!f.fromCache){let g=u.ns.get(m),_=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(_);u.ns=u.ns.insert(m,E)}}})}(i.localStore,o))})}function CY(t,e){return D(this,null,function*(){let n=$(t);if(!n.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());let i=yield wF(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(c=>{c.reject(new k(T.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Sr(n,i.us)}})}function DY(t,e){let n=$(t),i=n.Ca.get(e);if(i&&i.pa)return pe().add(i.key);{let r=pe(),o=n.Sa.get(e);if(!o)return r;for(let s of o){let a=n.wa.get(s);r=r.unionWith(a.view.Ia)}return r}}function TY(t,e){return D(this,null,function*(){let n=$(t),i=yield kg(n.localStore,e.query,!0),r=e.view.fa(i);return n.isPrimaryClient&&oC(n,e.targetId,r.Va),r})}function SY(t,e){return D(this,null,function*(){let n=$(t);return CF(n.localStore,e).then(i=>Sr(n,i))})}function AY(t,e,n,i){return D(this,null,function*(){let r=$(t),o=yield function(a,c){let l=$(a),u=$(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>u.vn(f,c).next(m=>m?l.localDocuments.getDocuments(f,m):C.resolve(null)))}(r.localStore,e);o!==null?(n==="pending"?yield sl(r.remoteStore):n==="acknowledged"||n==="rejected"?(GC(r,e,i||null),qC(r,e),function(a,c){$($(a).mutationQueue).Mn(c)}(r.localStore,e)):z(),yield Sr(r,o)):N("SyncEngine","Cannot apply mutation batch with id: "+e)})}function xY(t,e){return D(this,null,function*(){let n=$(t);if(iy(n),KC(n),e===!0&&n.Oa!==!0){let i=n.sharedClientState.getAllActiveQueryTargets(),r=yield cO(n,i.toArray());n.Oa=!0,yield YI(n.remoteStore,!0);for(let o of r)ny(n.remoteStore,o)}else if(e===!1&&n.Oa!==!1){let i=[],r=Promise.resolve();n.Sa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Jc(n,s),Qc(n.localStore,s,!0))),Zc(n.remoteStore,s)}),yield r,yield cO(n,i),function(s){let a=$(s);a.Ca.forEach((c,l)=>{Zc(a.remoteStore,l)}),a.va.mr(),a.Ca=new Map,a.Da=new Ye(U.comparator)}(n),n.Oa=!1,yield YI(n.remoteStore,!1)}})}function cO(t,e,n){return D(this,null,function*(){let i=$(t),r=[],o=[];for(let s of e){let a,c=i.Sa.get(s);if(c&&c.length!==0){a=yield Yc(i.localStore,nn(c[0]));for(let l of c){let u=i.wa.get(l),f=yield TY(i,u);f.snapshot&&o.push(f.snapshot)}}else{let l=yield IF(i.localStore,s);a=yield Yc(i.localStore,l),yield zC(i,FF(l),s,!1,a.resumeToken)}r.push(a)}return i.ya.u_(o),r})}function FF(t){return OO(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function RY(t){return function(n){return $($(n).persistence).Bi()}($(t).localStore)}function MY(t,e,n,i){return D(this,null,function*(){let r=$(t);if(r.Oa)return void N("SyncEngine","Ignoring unexpected query state notification.");let o=r.Sa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield CF(r.localStore,LO(o[0])),a=Vd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Mt.EMPTY_BYTE_STRING);yield Sr(r,s,a);break}case"rejected":yield Qc(r.localStore,e,!0),Jc(r,e,i);break;default:z()}})}function kY(t,e,n){return D(this,null,function*(){let i=iy(t);if(i.Oa){for(let r of e){if(i.Sa.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){N("SyncEngine","Adding an already active target "+r);continue}let o=yield IF(i.localStore,r),s=yield Yc(i.localStore,o);yield zC(i,FF(o),s.targetId,!1,s.resumeToken),ny(i.remoteStore,s)}for(let r of n)i.Sa.has(r)&&(yield Qc(i.localStore,r,!1).then(()=>{Zc(i.remoteStore,r),Jc(i,r)}).catch(Ro))}})}function iy(t){let e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_Y.bind(null,e),e.ya.u_=hY.bind(null,e.eventManager),e.ya.La=fY.bind(null,e.eventManager),e}function KC(t){let e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bY.bind(null,e),e}function PY(t,e,n){let i=$(t);(function(o,s,a){return D(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(g,_){let E=$(g),w=ft(_.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",S=>E.$r.getBundleMetadata(S,_.id)).then(S=>!!S&&S.createTime.compareTo(w)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(kF(c));let l=new tC(c,o.localStore,s.serializer),u=yield s.Ba();for(;u;){let m=yield l.sa(u);m&&a._updateProgress(m),u=yield s.Ba()}let f=yield l.complete();return yield Sr(o,f.aa,void 0),yield function(g,_){let E=$(g);return E.persistence.runTransaction("Save bundle","readwrite",w=>E.$r.saveBundleMetadata(w,_))}(o.localStore,c),a._completeWith(f.progress),Promise.resolve(f._a)}catch(c){return jn("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var Wd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return D(this,null,function*(){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return _F(this.persistence,new Mg,e.initialUser,this.serializer)}createPersistence(e){return new xg(Rg.Hr,this.serializer)}createSharedClientState(e){return new Og}terminate(){return D(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var qg=class t extends Wd{constructor(e,n,i){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return D(this,null,function*(){yield Py(t.prototype,this,"initialize").call(this,e),yield this.ka.initialize(this,e),yield KC(this.ka.syncEngine),yield sl(this.ka.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return _F(this.persistence,new Mg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let i=this.persistence.referenceDelegate.garbageCollector;return new EI(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let i=new BE(n,this.persistence);return new jE(e.asyncQueue,i)}createPersistence(e){let n=LC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new FI(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,TF(),ig(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Og}},sC=class t extends qg{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return D(this,null,function*(){yield Py(t.prototype,this,"initialize").call(this,e);let n=this.ka.syncEngine;this.sharedClientState instanceof Ad&&(this.sharedClientState.syncEngine={Zs:AY.bind(null,n),Xs:MY.bind(null,n),eo:kY.bind(null,n),Bi:RY.bind(null,n),Ys:SY.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(i=>D(this,null,function*(){yield xY(this.ka.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=TF();if(!Ad.D(n))throw new k(T.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=LC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ad(n,e.asyncQueue,i,e.clientId,e.initialUser)}},Kd=class{initialize(e,n){return D(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>aO(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=CY.bind(null,this.syncEngine),yield YI(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new XI}()}createDatastore(e){let n=th(e.databaseInfo.databaseId),i=function(o){return new HI(o)}(e.databaseInfo);return function(o,s,a,c){return new GI(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,a){return new KI(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>aO(this.syncEngine,n,0),function(){return Fg.D()?new Fg:new UI}())}createSyncEngine(e,n){return function(r,o,s,a,c,l,u){let f=new rC(r,o,s,a,c,l);return u&&(f.Oa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return D(this,null,function*(){var e;yield function(i){return D(this,null,function*(){let r=$(i);N("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield ol(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function lO(t,e=10240){let n=0;return{read(){return D(this,null,function*(){if(n<t.byteLength){let r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})},cancel(){return D(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var el=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):dt("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var aC=class{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new vt,this.buffer=new Uint8Array,this.$a=function(){return new TextDecoder("utf-8")}(),this.Ua().then(i=>{i&&i.ra()?this.metadata.resolve(i.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.na)}`))},i=>this.metadata.reject(i))}close(){return this.Ka.cancel()}getMetadata(){return D(this,null,function*(){return this.metadata.promise})}Ba(){return D(this,null,function*(){return yield this.getMetadata(),this.Ua()})}Ua(){return D(this,null,function*(){let e=yield this.Wa();if(e===null)return null;let n=this.$a.decode(e),i=Number(n);isNaN(i)&&this.Ga(`length string (${n}) is not valid number`);let r=yield this.za(i);return new eC(JSON.parse(r),e.length+i)})}ja(){return this.buffer.findIndex(e=>e===123)}Wa(){return D(this,null,function*(){for(;this.ja()<0&&!(yield this.Ha()););if(this.buffer.length===0)return null;let e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}za(e){return D(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ha())&&this.Ga("Reached the end of bundle when more is expected.");let n=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){return D(this,null,function*(){let e=yield this.Ka.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var cC=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return D(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new k(T.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(r,o){return D(this,null,function*(){let s=$(r),a={documents:o.map(f=>Bd(s.serializer,f))},c=yield s.vo("BatchGetDocuments",s.serializer.databaseId,Se.emptyPath(),a,o.length),l=new Map;c.forEach(f=>{let m=jK(s.serializer,f);l.set(m.key.toString(),m)});let u=[];return o.forEach(f=>{let m=l.get(f.toString());X(!!m),u.push(m)}),u})}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ao(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return D(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{let r=U.fromPath(i);this.mutations.push(new Od(r,this.precondition(r)))}),yield function(i,r){return D(this,null,function*(){let o=$(i),s={writes:r.map(a=>Ud(o.serializer,a))};yield o.So("Commit",o.serializer.databaseId,Se.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw z();n=J.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new k(T.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(J.min())?ct.exists(!1):ct.updateTime(n):ct.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(J.min()))throw new k(T.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(n)}return ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var lC=class{constructor(e,n,i,r,o){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=o,this.Ja=i.maxAttempts,this.jo=new qd(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo(()=>D(this,null,function*(){let e=new cC(this.datastore),n=this.Xa(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.eu(r)}))}).catch(i=>{this.eu(i)})}))}Xa(e){try{let n=this.updateFunction(e);return!Zd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!ZO(n)}return!1}};var uC=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=yt.UNAUTHENTICATED,this.clientId=sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>D(this,null,function*(){N("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(N("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=cl(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function rg(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>D(this,null,function*(){i.isEqual(r)||(yield wF(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function dC(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield YC(t);N("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>oO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>oO(e.remoteStore,r)),t._onlineComponents=e})}function LF(t){return t.name==="FirebaseError"?t.code===T.FAILED_PRECONDITION||t.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function YC(t){return D(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){N("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!LF(n))throw n;jn("Error using user provided cache. Falling back to memory cache: "+n),yield rg(t,new Wd)}}else N("FirestoreClient","Using default OfflineComponentProvider"),yield rg(t,new Wd);return t._offlineComponents})}function ry(t){return D(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(N("FirestoreClient","Using user provided OnlineComponentProvider"),yield dC(t,t._uninitializedComponentsProvider._online)):(N("FirestoreClient","Using default OnlineComponentProvider"),yield dC(t,new Kd))),t._onlineComponents})}function VF(t){return YC(t).then(e=>e.persistence)}function QC(t){return YC(t).then(e=>e.localStore)}function jF(t){return ry(t).then(e=>e.remoteStore)}function ZC(t){return ry(t).then(e=>e.syncEngine)}function NY(t){return ry(t).then(e=>e.datastore)}function tl(t){return D(this,null,function*(){let e=yield ry(t),n=e.eventManager;return n.onListen=pY.bind(null,e.syncEngine),n.onUnlisten=gY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yY.bind(null,e.syncEngine),n})}function OY(t){return t.asyncQueue.enqueue(()=>D(this,null,function*(){let e=yield VF(t),n=yield jF(t);return e.setNetworkEnabled(!0),function(r){let o=$(r);return o.v_.delete(0),nh(o)}(n)}))}function FY(t){return t.asyncQueue.enqueue(()=>D(this,null,function*(){let e=yield VF(t),n=yield jF(t);return e.setNetworkEnabled(!1),function(r){return D(this,null,function*(){let o=$(r);o.v_.add(0),yield ol(o),o.x_.set("Offline")})}(n)}))}function LY(t,e){let n=new vt;return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(r,o,s){return D(this,null,function*(){try{let a=yield function(l,u){let f=$(l);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,u))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new k(T.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=cl(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield QC(t),e,n)})),n.promise}function BF(t,e,n={}){let i=new vt;return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,a,c,l){let u=new el({next:m=>{s.enqueueAndForget(()=>$C(o,f));let g=m.docs.has(a);!g&&m.fromCache?l.reject(new k(T.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?l.reject(new k(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new Gd(rl(a.path),u,{includeMetadataChanges:!0,ta:!0});return UC(o,f)}(yield tl(t),t.asyncQueue,e,n,i)})),i.promise}function VY(t,e){let n=new vt;return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(r,o,s){return D(this,null,function*(){try{let a=yield kg(r,o,!0),c=new zg(o,a.hs),l=c.Ta(a.documents),u=c.applyChanges(l,!1);s.resolve(u.snapshot)}catch(a){let c=cl(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield QC(t),e,n)})),n.promise}function UF(t,e,n={}){let i=new vt;return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,a,c,l){let u=new el({next:m=>{s.enqueueAndForget(()=>$C(o,f)),m.fromCache&&c.source==="server"?l.reject(new k(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new Gd(a,u,{includeMetadataChanges:!0,ta:!0});return UC(o,f)}(yield tl(t),t.asyncQueue,e,n,i)})),i.promise}function jY(t,e){let n=new el(e);return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(r,o){$(r).W_.add(o),o.next()}(yield tl(t),n)})),()=>{n.Qa(),t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(r,o){$(r).W_.delete(o)}(yield tl(t),n)}))}}function BY(t,e,n,i){let r=function(s,a){let c;return c=typeof s=="string"?JO().encode(s):s,function(u,f){return new aC(u,f)}(function(u,f){if(u instanceof Uint8Array)return lO(u,f);if(u instanceof ArrayBuffer)return lO(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,th(e));t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){PY(yield ZC(t),r,i)}))}function UY(t,e){return t.asyncQueue.enqueue(()=>D(this,null,function*(){return function(i,r){let o=$(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,r))}(yield QC(t),e)}))}function $F(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var uO=new Map;function XC(t,e,n){if(!n)throw new k(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JC(t,e,n,i){if(e===!0&&i===!0)throw new k(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dO(t){if(!U.isDocumentKey(t))throw new k(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hO(t){if(U.isDocumentKey(t))throw new k(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function Ae(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=oy(t);throw new k(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function HF(t,e){if(e<=0)throw new k(T.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Gg=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new k(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new k(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$F((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new k(T.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new k(T.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new k(T.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Bs=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new k(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gg(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new xE;switch(i.type){case"firstParty":return new PE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new k(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=uO.get(n);i&&(N("ComponentProvider","Removing Datastore"),uO.delete(n),i.terminate())}(this),Promise.resolve()}};function zF(t,e,n,i={}){var r;let o=(t=Ae(t,Bs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&jn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=yt.MOCK_USER;else{a=ph(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new k(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new yt(l)}t._authCredentials=new RE(new og(a,c))}}var Vt=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},We=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ki=class t extends Vt{constructor(e,n,i){super(e,n,rl(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new U(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function eD(t,e,...n){if(t=xe(t),XC("collection","path",e),t instanceof Bs){let i=Se.fromString(e,...n);return hO(i),new Ki(t,null,i)}{if(!(t instanceof We||t instanceof Ki))throw new k(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Se.fromString(e,...n));return hO(i),new Ki(t.firestore,null,i)}}function qF(t,e){if(t=Ae(t,Bs),XC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new k(T.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vt(t,null,function(i){return new oi(Se.emptyPath(),i)}(e))}function ih(t,e,...n){if(t=xe(t),arguments.length===1&&(e=sg.newId()),XC("doc","path",e),t instanceof Bs){let i=Se.fromString(e,...n);return dO(i),new We(t,null,new U(i))}{if(!(t instanceof We||t instanceof Ki))throw new k(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Se.fromString(e,...n));return dO(i),new We(t.firestore,t instanceof Ki?t.converter:null,new U(i))}}function tD(t,e){return t=xe(t),e=xe(e),(t instanceof We||t instanceof Ki)&&(e instanceof We||e instanceof Ki)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function nD(t,e){return t=xe(t),e=xe(e),t instanceof Vt&&e instanceof Vt&&t.firestore===e.firestore&&Jd(t._query,e._query)&&t.converter===e.converter}var hC=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new qd(this,"async_queue_retry"),this.cu=()=>{let n=ig();n&&N("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=ig();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new vt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return D(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Mo(e))throw e;N("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(i=>{this.ou=i,this._u=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw dt("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this._u=!1,i))));return this.nu=n,n}enqueueAfterDelay(e,n,i){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let r=QI.createAndSchedule(this,e,n,i,o=>this.Iu(o));return this.su.push(r),r}lu(){this.ou&&z()}verifyOperationInProgress(){}Tu(){return D(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};function fC(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var pC=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new vt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var GF=-1,Xe=class extends Bs{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new hC}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||WF(this),this._firestoreClient.terminate()}};function Ct(t){return t._firestoreClient||WF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function WF(t){var e,n,i;let r=t._freezeSettings(),o=function(a,c,l,u){return new UE(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,$F(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new uC(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function KF(t,e){i2(t=Ae(t,Xe));let n=Ct(t);if(n._uninitializedComponentsProvider)throw new k(T.FAILED_PRECONDITION,"SDK cache is already specified.");jn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=t._freezeSettings(),r=new Kd;return QF(n,r,new qg(r,i.cacheSizeBytes,e?.forceOwnership))}function YF(t){i2(t=Ae(t,Xe));let e=Ct(t);if(e._uninitializedComponentsProvider)throw new k(T.FAILED_PRECONDITION,"SDK cache is already specified.");jn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),i=new Kd;return QF(e,i,new sC(i,n.cacheSizeBytes))}function QF(t,e,n){let i=new vt;return t.asyncQueue.enqueue(()=>D(this,null,function*(){try{yield rg(t,n),yield dC(t,e),i.resolve()}catch(r){let o=r;if(!LF(o))throw o;jn("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function ZF(t){if(t._initialized&&!t._terminated)throw new k(T.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new vt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{yield function(i){return D(this,null,function*(){if(!Er.D())return Promise.resolve();let r=i+"main";yield Er.delete(r)})}(LC(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function XF(t){return function(n){let i=new vt;return n.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return EY(yield ZC(n),i)})),i.promise}(Ct(t=Ae(t,Xe)))}function JF(t){return OY(Ct(t=Ae(t,Xe)))}function e2(t){return FY(Ct(t=Ae(t,Xe)))}function t2(t,e){let n=Ct(t=Ae(t,Xe)),i=new pC;return BY(n,t._databaseId,e,i),i}function n2(t,e){return UY(Ct(t=Ae(t,Xe)),e).then(n=>n?new Vt(t,null,n.query):null)}function i2(t){if(t._initialized||t._terminated)throw new k(T.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Xi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Mt.fromBase64String(e))}catch(n){throw new k(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ai=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new k(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Dr=class{constructor(e){this._methodName=e}};var Us=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}};var $Y=/^__.*__$/,mC=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new si(e,this.data,this.fieldMask,n,this.fieldTransforms):new So(e,this.data,n,this.fieldTransforms)}},Wg=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new si(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function r2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}var Kg=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.mu({path:i,gu:!1});return r.pu(e),r}yu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.mu({path:i,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Yg(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(r2(this.Vu)&&$Y.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},gC=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||th(e)}Cu(e,n,i,r=!1){return new Kg({Vu:e,methodName:n,Du:i,path:ht.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function qs(t){let e=t._freezeSettings(),n=th(t._databaseId);return new gC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sy(t,e,n,i,r,o={}){let s=t.Cu(o.merge||o.mergeFields?2:0,e,n,r);oD("Data must be an object, but it was:",s,i);let a=a2(i,s),c,l;if(o.merge)c=new Cn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let f of o.mergeFields){let m=bC(e,f,n);if(!s.contains(m))throw new k(T.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);l2(u,m)||u.push(m)}c=new Cn(u),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new mC(new qt(a),c,l)}var Yd=class t extends Dr{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function o2(t,e,n){return new Kg({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var yC=class t extends Dr{_toFieldTransform(e){return new Ls(e.path,new Do)}isEqual(e){return e instanceof t}},vC=class t extends Dr{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){let n=o2(this,e,!0),i=this.vu.map(o=>Gs(o,n)),r=new Ir(i);return new Ls(e.path,r)}isEqual(e){return e instanceof t&&Fy(this.vu,e.vu)}},_C=class t extends Dr{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){let n=o2(this,e,!0),i=this.vu.map(o=>Gs(o,n)),r=new Cr(i);return new Ls(e.path,r)}isEqual(e){return e instanceof t&&Fy(this.vu,e.vu)}},wC=class t extends Dr{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){let n=new To(e.serializer,zO(e.serializer,this.Fu));return new Ls(e.path,n)}isEqual(e){return e instanceof t&&this.Fu===e.Fu}};function iD(t,e,n,i){let r=t.Cu(1,e,n);oD("Data must be an object, but it was:",r,i);let o=[],s=qt.empty();zs(i,(c,l)=>{let u=sD(e,c,n);l=xe(l);let f=r.yu(u);if(l instanceof Yd)o.push(u);else{let m=Gs(l,f);m!=null&&(o.push(u),s.set(u,m))}});let a=new Cn(o);return new Wg(s,a,r.fieldTransforms)}function rD(t,e,n,i,r,o){let s=t.Cu(1,e,n),a=[bC(e,i,n)],c=[r];if(o.length%2!=0)throw new k(T.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(bC(e,o[m])),c.push(o[m+1]);let l=[],u=qt.empty();for(let m=a.length-1;m>=0;--m)if(!l2(l,a[m])){let g=a[m],_=c[m];_=xe(_);let E=s.yu(g);if(_ instanceof Yd)l.push(g);else{let w=Gs(_,E);w!=null&&(l.push(g),u.set(g,w))}}let f=new Cn(l);return new Wg(u,f,s.fieldTransforms)}function s2(t,e,n,i=!1){return Gs(n,t.Cu(i?4:3,e))}function Gs(t,e){if(c2(t=xe(t)))return oD("Unsupported field value:",e,t),a2(t,e);if(t instanceof Dr)return function(i,r){if(!r2(r.Vu))throw r.Su(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Su(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=Gs(a,r.wu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=xe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=it.fromDate(i);return{timestampValue:Gc(r.serializer,o)}}if(i instanceof it){let o=new it(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gc(r.serializer,o)}}if(i instanceof Us)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xi)return{bytesValue:eF(r.serializer,i._byteString)};if(i instanceof We){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:NC(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Su(`Unsupported field value: ${oy(i)}`)}(t,e)}function a2(t,e){let n={};return TO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(t,(i,r)=>{let o=Gs(r,e.fu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function c2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Us||t instanceof Xi||t instanceof We||t instanceof Dr)}function oD(t,e,n){if(!c2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=oy(n);throw i==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+i)}}function bC(t,e,n){if((e=xe(e))instanceof ai)return e._internalPath;if(typeof e=="string")return sD(t,e);throw Yg("Field path arguments must be of type string or ",t,!1,void 0,n)}var HY=new RegExp("[~\\*/\\[\\]]");function sD(t,e,n){if(e.search(HY)>=0)throw Yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ai(...e.split("."))._internalPath}catch{throw Yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yg(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new k(T.INVALID_ARGUMENT,a+t+c)}function l2(t,e){return t.some(n=>n.isEqual(e))}var $s=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new EC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(ay("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},EC=class extends $s{data(){return super.data()}};function ay(t,e){return typeof e=="string"?sD(t,e):e instanceof ai?e._internalPath:e._delegate._internalPath}function u2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new k(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qd=class{},Hs=class extends Qd{};function Ar(t,e,...n){let i=[];e instanceof Qd&&i.push(e),i=i.concat(n),function(o){let s=o.filter(c=>c instanceof IC).length,a=o.filter(c=>c instanceof Qg).length;if(s>1||s>0&&a>0)throw new k(T.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var Qg=class t extends Hs{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return w2(e._query,n),new Vt(e.firestore,e.converter,eI(e._query,n))}_parse(e){let n=qs(e.firestore);return function(o,s,a,c,l,u,f){let m;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new k(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){pO(f,u);let g=[];for(let _ of f)g.push(fO(c,o,_));m={arrayValue:{values:g}}}else m=fO(c,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||pO(f,u),m=s2(a,s,f,u==="in"||u==="not-in");return Ee.create(l,u,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function d2(t,e,n){let i=e,r=ay("where",t);return Qg._create(r,i,n)}var IC=class t extends Qd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ue.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)w2(s,c),s=eI(s,c)}(e._query,n),new Vt(e.firestore,e.converter,eI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var CC=class t extends Hs{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,o,s){if(r.startAt!==null)throw new k(T.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new k(T.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Os(o,s)}(e._query,this._field,this._direction);return new Vt(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new oi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function h2(t,e="asc"){let n=e,i=ay("orderBy",t);return CC._create(i,n)}var Zg=class t extends Hs{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new Vt(e.firestore,e.converter,gg(e._query,this._limit,this._limitType))}};function f2(t){return HF("limit",t),Zg._create("limit",t,"F")}function p2(t){return HF("limitToLast",t),Zg._create("limitToLast",t,"L")}var Xg=class t extends Hs{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=_2(e,this.type,this._docOrFields,this._inclusive);return new Vt(e.firestore,e.converter,function(r,o){return new oi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,n))}};function m2(...t){return Xg._create("startAt",t,!0)}function g2(...t){return Xg._create("startAfter",t,!1)}var Jg=class t extends Hs{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=_2(e,this.type,this._docOrFields,this._inclusive);return new Vt(e.firestore,e.converter,function(r,o){return new oi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(e._query,n))}};function y2(...t){return Jg._create("endBefore",t,!1)}function v2(...t){return Jg._create("endAt",t,!0)}function _2(t,e,n,i){if(n[0]=xe(n[0]),n[0]instanceof $s)return function(o,s,a,c,l){if(!c)throw new k(T.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let u=[];for(let f of Vc(o))if(f.field.isKeyField())u.push(Ns(s,c.key));else{let m=c.data.field(f.field);if(ty(m))throw new k(T.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let g=f.field.canonicalString();throw new k(T.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}u.push(m)}return new Qi(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{let r=qs(t.firestore);return function(s,a,c,l,u,f){let m=s.explicitOrderBy;if(u.length>m.length)throw new k(T.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let g=[];for(let _=0;_<u.length;_++){let E=u[_];if(m[_].field.isKeyField()){if(typeof E!="string")throw new k(T.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof E}`);if(!kC(s)&&E.indexOf("/")!==-1)throw new k(T.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${E}' contains a slash.`);let w=s.path.child(Se.fromString(E));if(!U.isDocumentKey(w))throw new k(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);let S=new U(w);g.push(Ns(a,S))}else{let w=s2(c,l,E);g.push(w)}}return new Qi(g,f)}(t._query,t.firestore._databaseId,r,e,n,i)}}function fO(t,e,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new k(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kC(e)&&n.indexOf("/")!==-1)throw new k(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Se.fromString(n));if(!U.isDocumentKey(i))throw new k(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ns(t,new U(i))}if(n instanceof We)return Ns(t,n._key);throw new k(T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oy(n)}.`)}function pO(t,e){if(!Array.isArray(t)||t.length===0)throw new k(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function w2(t,e){let n=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new k(T.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new k(T.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var nl=class{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return zs(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new Us(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=RC(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(kd(e));default:return null}}convertTimestamp(e){let n=bo(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Se.fromString(e);X(dF(i));let r=new Io(i.get(1),i.get(3)),o=new U(i.popFirst(5));return r.isEqual(n)||dt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function cy(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var DC=class extends nl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}};var br=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Un=class extends $s{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new _o(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(ay("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},_o=class extends Un{data(e={}){return super.data(e)}},ci=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new br(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new _o(this._firestore,this._userDataWriter,i.key,i,new br(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new _o(r._firestore,r._userDataWriter,a.doc.key,a.doc,new br(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new _o(r._firestore,r._userDataWriter,a.doc.key,a.doc,new br(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:zY(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function zY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}function aD(t,e){return t instanceof Un&&e instanceof Un?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ci&&e instanceof ci&&t._firestore===e._firestore&&nD(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function b2(t){t=Ae(t,We);let e=Ae(t.firestore,Xe);return BF(Ct(e),t._key).then(n=>dD(e,t,n))}var Tr=class extends nl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}};function E2(t){t=Ae(t,We);let e=Ae(t.firestore,Xe),n=Ct(e),i=new Tr(e);return LY(n,t._key).then(r=>new Un(e,i,t._key,r,new br(r!==null&&r.hasLocalMutations,!0),t.converter))}function I2(t){t=Ae(t,We);let e=Ae(t.firestore,Xe);return BF(Ct(e),t._key,{source:"server"}).then(n=>dD(e,t,n))}function C2(t){t=Ae(t,Vt);let e=Ae(t.firestore,Xe),n=Ct(e),i=new Tr(e);return u2(t._query),UF(n,t._query).then(r=>new ci(e,i,t,r))}function D2(t){t=Ae(t,Vt);let e=Ae(t.firestore,Xe),n=Ct(e),i=new Tr(e);return VY(n,t._query).then(r=>new ci(e,i,t,r))}function T2(t){t=Ae(t,Vt);let e=Ae(t.firestore,Xe),n=Ct(e),i=new Tr(e);return UF(n,t._query,{source:"server"}).then(r=>new ci(e,i,t,r))}function cD(t,e,n){t=Ae(t,We);let i=Ae(t.firestore,Xe),r=cy(t.converter,e,n);return ll(i,[sy(qs(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,ct.none())])}function lD(t,e,n,...i){t=Ae(t,We);let r=Ae(t.firestore,Xe),o=qs(r),s;return s=typeof(e=xe(e))=="string"||e instanceof ai?rD(o,"updateDoc",t._key,e,n,i):iD(o,"updateDoc",t._key,e),ll(r,[s.toMutation(t._key,ct.exists(!0))])}function S2(t){return ll(Ae(t.firestore,Xe),[new Ao(t._key,ct.none())])}function A2(t,e){let n=Ae(t.firestore,Xe),i=ih(t),r=cy(t.converter,e);return ll(n,[sy(qs(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,ct.exists(!1))]).then(()=>i)}function uD(t,...e){var n,i,r;t=xe(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||fC(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(fC(e[s])){let f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[s+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let c,l,u;if(t instanceof We)l=Ae(t.firestore,Xe),u=rl(t._key.path),c={next:f=>{e[s]&&e[s](dD(l,t,f))},error:e[s+1],complete:e[s+2]};else{let f=Ae(t,Vt);l=Ae(f.firestore,Xe),u=f._query;let m=new Tr(l);c={next:g=>{e[s]&&e[s](new ci(l,m,f,g))},error:e[s+1],complete:e[s+2]},u2(t._query)}return function(m,g,_,E){let w=new el(E),S=new Gd(g,w,_);return m.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return UC(yield tl(m),S)})),()=>{w.Qa(),m.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return $C(yield tl(m),S)}))}}(Ct(l),u,a,c)}function x2(t,e){return jY(Ct(t=Ae(t,Xe)),fC(e)?e:{next:e})}function ll(t,e){return function(i,r){let o=new vt;return i.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return vY(yield ZC(i),r,o)})),o.promise}(Ct(t),e)}function dD(t,e,n){let i=n.docs.get(e._key),r=new Tr(t);return new Un(t,r,e._key,i,new br(n.hasPendingWrites,n.fromCache),e.converter)}var qY={maxAttempts:5};var ey=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qs(e)}set(e,n,i){this._verifyNotCommitted();let r=yo(e,this._firestore),o=cy(r.converter,n,i),s=sy(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(s.toMutation(r._key,ct.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let o=yo(e,this._firestore),s;return s=typeof(n=xe(n))=="string"||n instanceof ai?rD(this._dataReader,"WriteBatch.update",o._key,n,i,r):iD(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,ct.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=yo(e,this._firestore);return this._mutations=this._mutations.concat(new Ao(n._key,ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new k(T.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function yo(t,e){if((t=xe(t)).firestore!==e)throw new k(T.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var TC=class extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=qs(n)}get(n){let i=yo(n,this._firestore),r=new DC(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||o.length!==1)return z();let s=o[0];if(s.isFoundDocument())return new $s(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new $s(this._firestore,r,i._key,null,i.converter);throw z()})}set(n,i,r){let o=yo(n,this._firestore),s=cy(o.converter,i,r),a=sy(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(n,i,r,...o){let s=yo(n,this._firestore),a;return a=typeof(i=xe(i))=="string"||i instanceof ai?rD(this._dataReader,"Transaction.update",s._key,i,r,o):iD(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(n){let i=yo(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=yo(e,this._firestore),i=new Tr(this._firestore);return super.get(e).then(r=>new Un(this._firestore,i,n._key,r._document,new br(!1,!1),n.converter))}};function R2(t,e,n){t=Ae(t,Xe);let i=Object.assign(Object.assign({},qY),n);return function(o){if(o.maxAttempts<1)throw new k(T.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){let c=new vt;return o.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){let l=yield NY(o);new lC(o.asyncQueue,l,a,s,c).Ya()})),c.promise}(Ct(t),r=>e(new TC(t,r)),i)}function M2(){return new Yd("deleteField")}function k2(){return new yC("serverTimestamp")}function P2(...t){return new vC("arrayUnion",t)}function N2(...t){return new _C("arrayRemove",t)}function O2(t){return new wC("increment",t)}(function(e,n=!0){(function(r){il=r})(vh),Fo(new Hn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Xe(new ME(i.getProvider("auth-internal")),new OE(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new k(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(l.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Tn(mN,"4.5.0",e),Tn(mN,"4.5.0","esm2017")})();var GY="@firebase/firestore-compat",WY="0.3.27";function yD(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new k("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function F2(){if(typeof Uint8Array>"u")throw new k("unimplemented","Uint8Arrays are not available in this environment.")}function L2(){if(!SO())throw new k("unimplemented","Blobs are unavailable in Firestore in this environment.")}var ly=class t{constructor(e){this._delegate=e}static fromBase64String(e){return L2(),new t(Xi.fromBase64String(e))}static fromUint8Array(e){return F2(),new t(Xi.fromUint8Array(e))}toBase64(){return L2(),this._delegate.toBase64()}toUint8Array(){return F2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function hD(t){return KY(t,["next","error","complete"])}function KY(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}var fD=class{enableIndexedDbPersistence(e,n){return KF(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return YF(e._delegate)}clearIndexedDbPersistence(e){return ZF(e._delegate)}},uy=class{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Io||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&jn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){zF(this._delegate,e,n,i)}enableNetwork(){return JF(this._delegate)}disableNetwork(){return e2(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,JC("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return XF(this._delegate)}onSnapshotsInSync(e){return x2(this._delegate,e)}get app(){if(!this._appCompat)throw new k("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new hl(this,eD(this._delegate,e))}catch(n){throw rn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ji(this,ih(this._delegate,e))}catch(n){throw rn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qs(this,qF(this._delegate,e))}catch(n){throw rn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return R2(this._delegate,n=>e(new dy(this,n)))}batch(){return Ct(this._delegate),new hy(new ey(this._delegate,e=>ll(this._delegate,e)))}loadBundle(e){return t2(this._delegate,e)}namedQuery(e){return n2(this._delegate,e).then(n=>n?new Qs(this,n):null)}},ul=class extends nl{constructor(e){super(),this.firestore=e}convertBytes(e){return new ly(new Xi(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return Ji.forKey(n,this.firestore,null)}};function YY(t){mO(t)}var dy=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ul(e)}get(e){let n=Ws(e);return this._delegate.get(n).then(i=>new Ks(this._firestore,new Un(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){let r=Ws(e);return i?(yD("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=Ws(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=Ws(e);return this._delegate.delete(n),this}},hy=class{constructor(e){this._delegate=e}set(e,n,i){let r=Ws(e);return i?(yD("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=Ws(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=Ws(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},dl=class t{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){let i=new _o(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ys(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let i=t.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(n);return o||(o=new t(e,new ul(e),n),r.set(n,o)),o}};dl.INSTANCES=new WeakMap;var Ji=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ul(e)}static forPath(e,n,i){if(e.length%2!==0)throw new k("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new We(n._delegate,i,new U(e)))}static forKey(e,n,i){return new t(n,new We(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new hl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new hl(this.firestore,eD(this._delegate,e))}catch(n){throw rn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=xe(e),e instanceof We?tD(this._delegate,e):!1}set(e,n){n=yD("DocumentReference.set",n);try{return n?cD(this._delegate,e,n):cD(this._delegate,e)}catch(i){throw rn(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?lD(this._delegate,e):lD(this._delegate,e,n,...i)}catch(r){throw rn(r,"updateDoc()","DocumentReference.update()")}}delete(){return S2(this._delegate)}onSnapshot(...e){let n=V2(e),i=j2(e,r=>new Ks(this.firestore,new Un(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return uD(this._delegate,n,i)}get(e){let n;return e?.source==="cache"?n=E2(this._delegate):e?.source==="server"?n=I2(this._delegate):n=b2(this._delegate),n.then(i=>new Ks(this.firestore,new Un(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(dl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function rn(t,e,n){return t.message=t.message.replace(e,n),t}function V2(t){for(let e of t)if(typeof e=="object"&&!hD(e))return e;return{}}function j2(t,e){var n,i;let r;return hD(t[0])?r=t[0]:hD(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:o=>{r.next&&r.next(e(o))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Ks=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ji(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return aD(this._delegate,e._delegate)}},Ys=class extends Ks{data(e){let n=this._delegate.data(e);return this._delegate._converter||gO(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Qs=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ul(e)}where(e,n,i){try{return new t(this.firestore,Ar(this._delegate,d2(e,n,i)))}catch(r){throw rn(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,Ar(this._delegate,h2(e,n)))}catch(i){throw rn(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,Ar(this._delegate,f2(e)))}catch(n){throw rn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,Ar(this._delegate,p2(e)))}catch(n){throw rn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,Ar(this._delegate,m2(...e)))}catch(n){throw rn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,Ar(this._delegate,g2(...e)))}catch(n){throw rn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,Ar(this._delegate,y2(...e)))}catch(n){throw rn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,Ar(this._delegate,v2(...e)))}catch(n){throw rn(n,"endAt()","Query.endAt()")}}isEqual(e){return nD(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=D2(this._delegate):e?.source==="server"?n=T2(this._delegate):n=C2(this._delegate),n.then(i=>new rh(this.firestore,new ci(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let n=V2(e),i=j2(e,r=>new rh(this.firestore,new ci(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return uD(this._delegate,n,i)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(dl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},pD=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Ys(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},rh=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Qs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ys(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new pD(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new Ys(this._firestore,i))})}isEqual(e){return aD(this._delegate,e._delegate)}},hl=class t extends Qs{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Ji(this.firestore,e):null}doc(e){try{return e===void 0?new Ji(this.firestore,ih(this._delegate)):new Ji(this.firestore,ih(this._delegate,e))}catch(n){throw rn(n,"doc()","CollectionReference.doc()")}}add(e){return A2(this._delegate,e).then(n=>new Ji(this.firestore,n))}isEqual(e){return tD(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(dl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ws(t){return Ae(t,We)}var mD=class t{constructor(...e){this._delegate=new ai(...e)}static documentId(){return new t(ht.keyField().canonicalString())}isEqual(e){return e=xe(e),e instanceof ai?this._delegate._internalPath.isEqual(e._internalPath):!1}};var gD=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=k2();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=M2();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=P2(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=N2(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=O2(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var QY={Firestore:uy,GeoPoint:Us,Timestamp:it,Blob:ly,Transaction:dy,WriteBatch:hy,DocumentReference:Ji,DocumentSnapshot:Ks,Query:Qs,QueryDocumentSnapshot:Ys,QuerySnapshot:rh,CollectionReference:hl,FieldPath:mD,FieldValue:gD,setLogLevel:YY,CACHE_SIZE_UNLIMITED:GF};function ZY(t,e){t.INTERNAL.registerComponent(new Hn("firestore-compat",n=>{let i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},QY)))}function XY(t){ZY(t,(e,n)=>new uy(e,n,new fD)),t.registerVersion(GY,WY)}XY(wt);function JY(t,e=pi){return new ne(n=>{let i;return e!=null?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}function B2(t,e){return JY(t,e)}function eQ(t,e){return B2(t,e).pipe(ln(void 0),ba(),Y(n=>{let[i,r]=n;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function wD(t,e){return B2(t,e).pipe(Y(n=>({payload:n,type:"query"})))}var fy=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let i=this.ref.collection(e),{ref:r,query:o}=q2(i,n);return new my(r,o,this.afs)}snapshotChanges(){return eQ(this.ref,this.afs.schedulers.outsideAngular).pipe(St)}valueChanges(e={}){return this.snapshotChanges().pipe(Y(({payload:n})=>e.idField?Ce(L({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return ge(this.ref.get(e)).pipe(St)}};function py(t,e){return wD(t,e).pipe(ln(void 0),ba(),Y(n=>{let[i,r]=n,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{let l=o.find(f=>f.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function U2(t,e,n){return py(t,n).pipe($o((i,r)=>tQ(i,r.map(o=>o.payload),e),[]),_a(),Y(i=>i.map(r=>({type:r.type,payload:r}))))}function tQ(t,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(t=nQ(t,i))}),t}function vD(t,e,n,...i){let r=t.slice();return r.splice(e,n,...i),r}function nQ(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return vD(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return vD(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return vD(t,e.oldIndex,1);break}return t}function $2(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var my=class{ref;query;afs;constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=py(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(Y(i=>i.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(ln(void 0),ba(),Re(([i,r])=>r.length>0||!i),Y(([,i])=>i),St)}auditTrail(e){return this.stateChanges(e).pipe($o((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=$2(e);return U2(this.query,n,this.afs.schedulers.outsideAngular).pipe(St)}valueChanges(e={}){return wD(this.query,this.afs.schedulers.outsideAngular).pipe(Y(n=>n.payload.docs.map(i=>e.idField?Ce(L({},i.data()),{[e.idField]:i.id}):i.data())),St)}get(e){return ge(this.query.get(e)).pipe(St)}add(e){return this.ref.add(e)}doc(e){return new fy(this.ref.doc(e),this.afs)}},_D=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?py(this.query,this.afs.schedulers.outsideAngular).pipe(St):py(this.query,this.afs.schedulers.outsideAngular).pipe(Y(n=>n.filter(i=>e.indexOf(i.type)>-1)),Re(n=>n.length>0),St)}auditTrail(e){return this.stateChanges(e).pipe($o((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=$2(e);return U2(this.query,n,this.afs.schedulers.outsideAngular).pipe(St)}valueChanges(e={}){return wD(this.query,this.afs.schedulers.outsideAngular).pipe(Y(i=>i.payload.docs.map(r=>e.idField?L({[e.idField]:r.id},r.data()):r.data())),St)}get(e){return ge(this.query.get(e)).pipe(St)}},H2=new F("angularfire2.enableFirestorePersistence"),z2=new F("angularfire2.firestore.persistenceSettings"),iQ=new F("angularfire2.firestore.settings"),rQ=new F("angularfire2.firestore.use-emulator");function q2(t,e=n=>n){return{query:e(t),ref:t}}var oQ=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,i,r,o,s,a,c,l,u,f,m,g,_,E,w,S,j){this.schedulers=c;let M=ds(n,a,i),x=u;f&&Pb(M,a,m,_,E,w,g,S),[this.firestore,this.persistenceEnabled$]=ic(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{let q=a.runOutsideAngular(()=>M.firestore());if(o&&q.settings(o),x&&q.useEmulator(...x),r&&!is(s)){let ee=()=>{try{return ge(q.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(Ie){return typeof console<"u"&&console.warn(Ie),G(!1)}};return[q,a.runOutsideAngular(ee)]}else return[q,G(!1)]},[o,x,r])}collection(n,i){let r;typeof n=="string"?r=this.firestore.collection(n):r=n;let{ref:o,query:s}=q2(r,i),a=this.schedulers.ngZone.run(()=>o);return new my(a,s,this)}collectionGroup(n,i){let r=i||(s=>s),o=this.firestore.collectionGroup(n);return new _D(r(o),this)}doc(n){let i;typeof n=="string"?i=this.firestore.doc(n):i=n;let r=this.schedulers.ngZone.run(()=>i);return new fy(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||t)(v(ao),v(co,8),v(H2,8),v(iQ,8),v(pt),v(Z),v(us),v(z2,8),v(rQ,8),v(Nb,8),v(Sb,8),v(Ab,8),v(xb,8),v(Rb,8),v(Mb,8),v(kb,8),v(Fi,8))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),G2=(()=>{class t{constructor(){wt.registerVersion("angularfire",Li.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:H2,useValue:!0},{provide:z2,useValue:n}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=ie({type:t});static \u0275inj=re({providers:[oQ]})}return t})();var cQ=[Sk],K2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e,bootstrap:[BM]}),e.\u0275inj=re({imports:[_R,Gk,Eu.forRoot([]),jM,i1.initializeApp(gm.firebaseConfig),uR,VM,cQ,G2,U1,Wk,uM.forRoot({})]});let t=e;return t})();vR().bootstrapModule(K2).catch(t=>console.error(t));
