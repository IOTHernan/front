import{A as Sn,B as wt,C as My,D as Py,a as V,b as Te,c as Dj,d as ph,e as Ay,f as T,g as WC,h as mh,i as KC,j as YC,k as QC,l as Sy,m as gh,n as wl,o as xy,p as yh,q as vh,r as ZC,s as Ry,t as Me,u as Wn,v as mi,w as _h,x as Vo,y as wh,z as XC}from"./chunk-4TGAAJM3.js";var Du=Dj((Fi,t0)=>{"use strict";(function(t,e){typeof Fi=="object"&&typeof t0<"u"?t0.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Fi,function(){"use strict";var t={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};let e="swal2-",n=d=>{let h={};for(let p in d)h[d[p]]=e+d[p];return h},i=n(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),r=n(["success","warning","info","question","error"]),o="SweetAlert2:",s=d=>{let h=[];for(let p=0;p<d.length;p++)h.indexOf(d[p])===-1&&h.push(d[p]);return h},a=d=>d.charAt(0).toUpperCase()+d.slice(1),c=d=>{console.warn(`${o} ${typeof d=="object"?d.join(" "):d}`)},l=d=>{console.error(`${o} ${d}`)},u=[],f=d=>{u.includes(d)||(u.push(d),c(d))},m=(d,h)=>{f(`"${d}" is deprecated and will be removed in the next major release. Please use "${h}" instead.`)},g=d=>typeof d=="function"?d():d,b=d=>d&&typeof d.toPromise=="function",I=d=>b(d)?d.toPromise():Promise.resolve(d),E=d=>d&&Promise.resolve(d)===d,A=()=>document.body.querySelector(`.${i.container}`),B=d=>{let h=A();return h?h.querySelector(d):null},M=d=>B(`.${d}`),R=()=>M(i.popup),G=()=>M(i.icon),ee=()=>M(i["icon-content"]),Ce=()=>M(i.title),et=()=>M(i["html-container"]),di=()=>M(i.image),Js=()=>M(i["progress-steps"]),sh=()=>M(i["validation-message"]),Gn=()=>B(`.${i.actions} .${i.confirm}`),Pr=()=>B(`.${i.actions} .${i.deny}`),j2=()=>M(i["input-label"]),ea=()=>B(`.${i.loader}`),Oo=()=>B(`.${i.actions} .${i.cancel}`),ml=()=>M(i.actions),uC=()=>M(i.footer),ah=()=>M(i["timer-progress-bar"]),dy=()=>M(i.close),B2=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,hy=()=>{let d=Array.from(R().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((p,y)=>{let x=parseInt(p.getAttribute("tabindex")),K=parseInt(y.getAttribute("tabindex"));return x>K?1:x<K?-1:0}),h=Array.from(R().querySelectorAll(B2)).filter(p=>p.getAttribute("tabindex")!=="-1");return s(d.concat(h)).filter(p=>yn(p))},fy=()=>nr(document.body,i.shown)&&!nr(document.body,i["toast-shown"])&&!nr(document.body,i["no-backdrop"]),ch=()=>R()&&nr(R(),i.toast),U2=()=>R().hasAttribute("data-loading"),ta={previousBodyPadding:null},gn=(d,h)=>{if(d.textContent="",h){let y=new DOMParser().parseFromString(h,"text/html");Array.from(y.querySelector("head").childNodes).forEach(x=>{d.appendChild(x)}),Array.from(y.querySelector("body").childNodes).forEach(x=>{x instanceof HTMLVideoElement||x instanceof HTMLAudioElement?d.appendChild(x.cloneNode(!0)):d.appendChild(x)})}},nr=(d,h)=>{if(!h)return!1;let p=h.split(/\s+/);for(let y=0;y<p.length;y++)if(!d.classList.contains(p[y]))return!1;return!0},$2=(d,h)=>{Array.from(d.classList).forEach(p=>{!Object.values(i).includes(p)&&!Object.values(r).includes(p)&&!Object.values(h.showClass).includes(p)&&d.classList.remove(p)})},An=(d,h,p)=>{if($2(d,h),h.customClass&&h.customClass[p]){if(typeof h.customClass[p]!="string"&&!h.customClass[p].forEach){c(`Invalid type of customClass.${p}! Expected string or iterable object, got "${typeof h.customClass[p]}"`);return}Ae(d,h.customClass[p])}},py=(d,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return d.querySelector(`.${i.popup} > .${i[h]}`);case"checkbox":return d.querySelector(`.${i.popup} > .${i.checkbox} input`);case"radio":return d.querySelector(`.${i.popup} > .${i.radio} input:checked`)||d.querySelector(`.${i.popup} > .${i.radio} input:first-child`);case"range":return d.querySelector(`.${i.popup} > .${i.range} input`);default:return d.querySelector(`.${i.popup} > .${i.input}`)}},dC=d=>{if(d.focus(),d.type!=="file"){let h=d.value;d.value="",d.value=h}},hC=(d,h,p)=>{!d||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(y=>{Array.isArray(d)?d.forEach(x=>{p?x.classList.add(y):x.classList.remove(y)}):p?d.classList.add(y):d.classList.remove(y)}))},Ae=(d,h)=>{hC(d,h,!0)},hi=(d,h)=>{hC(d,h,!1)},kr=(d,h)=>{let p=Array.from(d.children);for(let y=0;y<p.length;y++){let x=p[y];if(x instanceof HTMLElement&&nr(x,h))return x}},na=(d,h,p)=>{p===`${parseInt(p)}`&&(p=parseInt(p)),p||parseInt(p)===0?d.style[h]=typeof p=="number"?`${p}px`:p:d.style.removeProperty(h)},kt=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d.style.display=h},Bt=d=>{d.style.display="none"},fC=(d,h,p,y)=>{let x=d.querySelector(h);x&&(x.style[p]=y)},lh=function(d,h){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?kt(d,p):Bt(d)},yn=d=>!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length)),H2=()=>!yn(Gn())&&!yn(Pr())&&!yn(Oo()),pC=d=>d.scrollHeight>d.clientHeight,mC=d=>{let h=window.getComputedStyle(d),p=parseFloat(h.getPropertyValue("animation-duration")||"0"),y=parseFloat(h.getPropertyValue("transition-duration")||"0");return p>0||y>0},my=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=ah();yn(p)&&(h&&(p.style.transition="none",p.style.width="100%"),setTimeout(()=>{p.style.transition=`width ${d/1e3}s linear`,p.style.width="0%"},10))},z2=()=>{let d=ah(),h=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";let p=parseInt(window.getComputedStyle(d).width),y=h/p*100;d.style.removeProperty("transition"),d.style.width=`${y}%`},q2=100,be={},G2=()=>{be.previousActiveElement instanceof HTMLElement?(be.previousActiveElement.focus(),be.previousActiveElement=null):document.body&&document.body.focus()},W2=d=>new Promise(h=>{if(!d)return h();let p=window.scrollX,y=window.scrollY;be.restoreFocusTimeout=setTimeout(()=>{G2(),h()},q2),window.scrollTo(p,y)}),gC=()=>typeof window>"u"||typeof document>"u",K2=`
 <div aria-labelledby="${i.title}" aria-describedby="${i["html-container"]}" class="${i.popup}" tabindex="-1">
   <button type="button" class="${i.close}"></button>
   <ul class="${i["progress-steps"]}"></ul>
   <div class="${i.icon}"></div>
   <img class="${i.image}" />
   <h2 class="${i.title}" id="${i.title}"></h2>
   <div class="${i["html-container"]}" id="${i["html-container"]}"></div>
   <input class="${i.input}" />
   <input type="file" class="${i.file}" />
   <div class="${i.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${i.select}"></select>
   <div class="${i.radio}"></div>
   <label for="${i.checkbox}" class="${i.checkbox}">
     <input type="checkbox" />
     <span class="${i.label}"></span>
   </label>
   <textarea class="${i.textarea}"></textarea>
   <div class="${i["validation-message"]}" id="${i["validation-message"]}"></div>
   <div class="${i.actions}">
     <div class="${i.loader}"></div>
     <button type="button" class="${i.confirm}"></button>
     <button type="button" class="${i.deny}"></button>
     <button type="button" class="${i.cancel}"></button>
   </div>
   <div class="${i.footer}"></div>
   <div class="${i["timer-progress-bar-container"]}">
     <div class="${i["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Y2=()=>{let d=A();return d?(d.remove(),hi([document.documentElement,document.body],[i["no-backdrop"],i["toast-shown"],i["has-column"]]),!0):!1},Fo=()=>{be.currentInstance.resetValidationMessage()},Q2=()=>{let d=R(),h=kr(d,i.input),p=kr(d,i.file),y=d.querySelector(`.${i.range} input`),x=d.querySelector(`.${i.range} output`),K=kr(d,i.select),lt=d.querySelector(`.${i.checkbox} input`),pi=kr(d,i.textarea);h.oninput=Fo,p.onchange=Fo,K.onchange=Fo,lt.onchange=Fo,pi.oninput=Fo,y.oninput=()=>{Fo(),x.value=y.value},y.onchange=()=>{Fo(),x.value=y.value}},Z2=d=>typeof d=="string"?document.querySelector(d):d,X2=d=>{let h=R();h.setAttribute("role",d.toast?"alert":"dialog"),h.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||h.setAttribute("aria-modal","true")},J2=d=>{window.getComputedStyle(d).direction==="rtl"&&Ae(A(),i.rtl)},eL=d=>{let h=Y2();if(gC()){l("SweetAlert2 requires document to initialize");return}let p=document.createElement("div");p.className=i.container,h&&Ae(p,i["no-transition"]),gn(p,K2);let y=Z2(d.target);y.appendChild(p),X2(d),J2(y),Q2()},gy=(d,h)=>{d instanceof HTMLElement?h.appendChild(d):typeof d=="object"?tL(d,h):d&&gn(h,d)},tL=(d,h)=>{d.jquery?nL(h,d):gn(h,d.toString())},nL=(d,h)=>{if(d.textContent="",0 in h)for(let p=0;p in h;p++)d.appendChild(h[p].cloneNode(!0));else d.appendChild(h.cloneNode(!0))},gl=(()=>{if(gC())return!1;let d=document.createElement("div"),h={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(let p in h)if(Object.prototype.hasOwnProperty.call(h,p)&&typeof d.style[p]<"u")return h[p];return!1})(),iL=()=>{let d=document.createElement("div");d.className=i["scrollbar-measure"],document.body.appendChild(d);let h=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),h},rL=(d,h)=>{let p=ml(),y=ea();!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Bt(p):kt(p),An(p,h,"actions"),oL(p,y,h),gn(y,h.loaderHtml),An(y,h,"loader")};function oL(d,h,p){let y=Gn(),x=Pr(),K=Oo();yy(y,"confirm",p),yy(x,"deny",p),yy(K,"cancel",p),sL(y,x,K,p),p.reverseButtons&&(p.toast?(d.insertBefore(K,y),d.insertBefore(x,y)):(d.insertBefore(K,h),d.insertBefore(x,h),d.insertBefore(y,h)))}function sL(d,h,p,y){if(!y.buttonsStyling){hi([d,h,p],i.styled);return}Ae([d,h,p],i.styled),y.confirmButtonColor&&(d.style.backgroundColor=y.confirmButtonColor,Ae(d,i["default-outline"])),y.denyButtonColor&&(h.style.backgroundColor=y.denyButtonColor,Ae(h,i["default-outline"])),y.cancelButtonColor&&(p.style.backgroundColor=y.cancelButtonColor,Ae(p,i["default-outline"]))}function yy(d,h,p){lh(d,p[`show${a(h)}Button`],"inline-block"),gn(d,p[`${h}ButtonText`]),d.setAttribute("aria-label",p[`${h}ButtonAriaLabel`]),d.className=i[h],An(d,p,`${h}Button`),Ae(d,p[`${h}ButtonClass`])}let aL=(d,h)=>{let p=dy();gn(p,h.closeButtonHtml),An(p,h,"closeButton"),lh(p,h.showCloseButton),p.setAttribute("aria-label",h.closeButtonAriaLabel)},cL=(d,h)=>{let p=A();p&&(lL(p,h.backdrop),uL(p,h.position),dL(p,h.grow),An(p,h,"container"))};function lL(d,h){typeof h=="string"?d.style.background=h:h||Ae([document.documentElement,document.body],i["no-backdrop"])}function uL(d,h){h in i?Ae(d,i[h]):(c('The "position" parameter is not valid, defaulting to "center"'),Ae(d,i.center))}function dL(d,h){if(h&&typeof h=="string"){let p=`grow-${h}`;p in i&&Ae(d,i[p])}}let hL=["input","file","range","select","radio","checkbox","textarea"],fL=(d,h)=>{let p=R(),y=t.innerParams.get(d),x=!y||h.input!==y.input;hL.forEach(K=>{let lt=kr(p,i[K]);gL(K,h.inputAttributes),lt.className=i[K],x&&Bt(lt)}),h.input&&(x&&pL(h),yL(h))},pL=d=>{if(!on[d.input]){l(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${d.input}"`);return}let h=yC(d.input),p=on[d.input](h,d);kt(h),setTimeout(()=>{dC(p)})},mL=d=>{for(let h=0;h<d.attributes.length;h++){let p=d.attributes[h].name;["type","value","style"].includes(p)||d.removeAttribute(p)}},gL=(d,h)=>{let p=py(R(),d);if(p){mL(p);for(let y in h)p.setAttribute(y,h[y])}},yL=d=>{let h=yC(d.input);typeof d.customClass=="object"&&Ae(h,d.customClass.input)},vy=(d,h)=>{(!d.placeholder||h.inputPlaceholder)&&(d.placeholder=h.inputPlaceholder)},yl=(d,h,p)=>{if(p.inputLabel){d.id=i.input;let y=document.createElement("label"),x=i["input-label"];y.setAttribute("for",d.id),y.className=x,typeof p.customClass=="object"&&Ae(y,p.customClass.inputLabel),y.innerText=p.inputLabel,h.insertAdjacentElement("beforebegin",y)}},yC=d=>kr(R(),i[d]||i.input),uh=(d,h)=>{["string","number"].includes(typeof h)?d.value=`${h}`:E(h)||c(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},on={};on.text=on.email=on.password=on.number=on.tel=on.url=(d,h)=>(uh(d,h.inputValue),yl(d,d,h),vy(d,h),d.type=h.input,d),on.file=(d,h)=>(yl(d,d,h),vy(d,h),d),on.range=(d,h)=>{let p=d.querySelector("input"),y=d.querySelector("output");return uh(p,h.inputValue),p.type=h.input,uh(y,h.inputValue),yl(p,d,h),d},on.select=(d,h)=>{if(d.textContent="",h.inputPlaceholder){let p=document.createElement("option");gn(p,h.inputPlaceholder),p.value="",p.disabled=!0,p.selected=!0,d.appendChild(p)}return yl(d,d,h),d},on.radio=d=>(d.textContent="",d),on.checkbox=(d,h)=>{let p=py(R(),"checkbox");p.value="1",p.id=i.checkbox,p.checked=!!h.inputValue;let y=d.querySelector("span");return gn(y,h.inputPlaceholder),p},on.textarea=(d,h)=>{uh(d,h.inputValue),vy(d,h),yl(d,d,h);let p=y=>parseInt(window.getComputedStyle(y).marginLeft)+parseInt(window.getComputedStyle(y).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let y=parseInt(window.getComputedStyle(R()).width),x=()=>{let K=d.offsetWidth+p(d);K>y?R().style.width=`${K}px`:R().style.width=null};new MutationObserver(x).observe(d,{attributes:!0,attributeFilter:["style"]})}}),d};let vL=(d,h)=>{let p=et();An(p,h,"htmlContainer"),h.html?(gy(h.html,p),kt(p,"block")):h.text?(p.textContent=h.text,kt(p,"block")):Bt(p),fL(d,h)},_L=(d,h)=>{let p=uC();lh(p,h.footer),h.footer&&gy(h.footer,p),An(p,h,"footer")},wL=(d,h)=>{let p=t.innerParams.get(d),y=G();if(p&&h.icon===p.icon){_C(y,h),vC(y,h);return}if(!h.icon&&!h.iconHtml){Bt(y);return}if(h.icon&&Object.keys(r).indexOf(h.icon)===-1){l(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),Bt(y);return}kt(y),_C(y,h),vC(y,h),Ae(y,h.showClass.icon)},vC=(d,h)=>{for(let p in r)h.icon!==p&&hi(d,r[p]);Ae(d,r[h.icon]),DL(d,h),bL(),An(d,h,"icon")},bL=()=>{let d=R(),h=window.getComputedStyle(d).getPropertyValue("background-color"),p=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let y=0;y<p.length;y++)p[y].style.backgroundColor=h},EL=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,IL=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,_C=(d,h)=>{let p=d.innerHTML,y;h.iconHtml?y=wC(h.iconHtml):h.icon==="success"?(y=EL,p=p.replace(/ style=".*?"/g,"")):h.icon==="error"?y=IL:y=wC({question:"?",warning:"!",info:"i"}[h.icon]),p.trim()!==y.trim()&&gn(d,y)},DL=(d,h)=>{if(h.iconColor){d.style.color=h.iconColor,d.style.borderColor=h.iconColor;for(let p of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])fC(d,p,"backgroundColor",h.iconColor);fC(d,".swal2-success-ring","borderColor",h.iconColor)}},wC=d=>`<div class="${i["icon-content"]}">${d}</div>`,CL=(d,h)=>{let p=di();if(!h.imageUrl){Bt(p);return}kt(p,""),p.setAttribute("src",h.imageUrl),p.setAttribute("alt",h.imageAlt),na(p,"width",h.imageWidth),na(p,"height",h.imageHeight),p.className=i.image,An(p,h,"image")},TL=(d,h)=>{let p=A(),y=R();h.toast?(na(p,"width",h.width),y.style.width="100%",y.insertBefore(ea(),G())):na(y,"width",h.width),na(y,"padding",h.padding),h.color&&(y.style.color=h.color),h.background&&(y.style.background=h.background),Bt(sh()),AL(y,h)},AL=(d,h)=>{d.className=`${i.popup} ${yn(d)?h.showClass.popup:""}`,h.toast?(Ae([document.documentElement,document.body],i["toast-shown"]),Ae(d,i.toast)):Ae(d,i.modal),An(d,h,"popup"),typeof h.customClass=="string"&&Ae(d,h.customClass),h.icon&&Ae(d,i[`icon-${h.icon}`])},SL=(d,h)=>{let p=Js();if(!h.progressSteps||h.progressSteps.length===0){Bt(p);return}kt(p),p.textContent="",h.currentProgressStep>=h.progressSteps.length&&c("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),h.progressSteps.forEach((y,x)=>{let K=xL(y);if(p.appendChild(K),x===h.currentProgressStep&&Ae(K,i["active-progress-step"]),x!==h.progressSteps.length-1){let lt=RL(h);p.appendChild(lt)}})},xL=d=>{let h=document.createElement("li");return Ae(h,i["progress-step"]),gn(h,d),h},RL=d=>{let h=document.createElement("li");return Ae(h,i["progress-step-line"]),d.progressStepsDistance&&na(h,"width",d.progressStepsDistance),h},ML=(d,h)=>{let p=Ce();lh(p,h.title||h.titleText,"block"),h.title&&gy(h.title,p),h.titleText&&(p.innerText=h.titleText),An(p,h,"title")},bC=(d,h)=>{TL(d,h),cL(d,h),SL(d,h),wL(d,h),CL(d,h),ML(d,h),aL(d,h),vL(d,h),rL(d,h),_L(d,h),typeof h.didRender=="function"&&h.didRender(R())};function EC(){let d=t.innerParams.get(this);if(!d)return;let h=t.domCache.get(this);Bt(h.loader),ch()?d.icon&&kt(G()):PL(h),hi([h.popup,h.actions],i.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let PL=d=>{let h=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));h.length?kt(h[0],"inline-block"):H2()&&Bt(d.actions)};function kL(d){let h=t.innerParams.get(d||this),p=t.domCache.get(d||this);return p?py(p.popup,h.input):null}let NL=()=>yn(R()),IC=()=>Gn()&&Gn().click(),OL=()=>Pr()&&Pr().click(),FL=()=>Oo()&&Oo().click(),ia=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),DC=d=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},LL=(d,h,p,y)=>{DC(h),p.toast||(h.keydownHandler=x=>jL(d,x,y),h.keydownTarget=p.keydownListenerCapture?window:R(),h.keydownListenerCapture=p.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},_y=(d,h,p)=>{let y=hy();if(y.length)return h=h+p,h===y.length?h=0:h===-1&&(h=y.length-1),y[h].focus();R().focus()},CC=["ArrowRight","ArrowDown"],VL=["ArrowLeft","ArrowUp"],jL=(d,h,p)=>{let y=t.innerParams.get(d);y&&(h.isComposing||h.keyCode===229||(y.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?BL(d,h,y):h.key==="Tab"?UL(h,y):[...CC,...VL].includes(h.key)?$L(h.key):h.key==="Escape"&&HL(h,y,p)))},BL=(d,h,p)=>{if(g(p.allowEnterKey)&&h.target&&d.getInput()&&h.target instanceof HTMLElement&&h.target.outerHTML===d.getInput().outerHTML){if(["textarea","file"].includes(p.input))return;IC(),h.preventDefault()}},UL=(d,h)=>{let p=d.target,y=hy(),x=-1;for(let K=0;K<y.length;K++)if(p===y[K]){x=K;break}d.shiftKey?_y(h,x,-1):_y(h,x,1),d.stopPropagation(),d.preventDefault()},$L=d=>{let h=Gn(),p=Pr(),y=Oo();if(document.activeElement instanceof HTMLElement&&![h,p,y].includes(document.activeElement))return;let x=CC.includes(d)?"nextElementSibling":"previousElementSibling",K=document.activeElement;for(let lt=0;lt<ml().children.length;lt++){if(K=K[x],!K)return;if(K instanceof HTMLButtonElement&&yn(K))break}K instanceof HTMLButtonElement&&K.focus()},HL=(d,h,p)=>{g(h.allowEscapeKey)&&(d.preventDefault(),p(ia.esc))};var vl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let zL=()=>{Array.from(document.body.children).forEach(h=>{h===A()||h.contains(A())||(h.hasAttribute("aria-hidden")&&h.setAttribute("data-previous-aria-hidden",h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))})},TC=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},qL=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!nr(document.body,i.iosfix)){let h=document.body.scrollTop;document.body.style.top=`${h*-1}px`,Ae(document.body,i.iosfix),WL(),GL()}},GL=()=>{let d=navigator.userAgent,h=!!d.match(/iPad/i)||!!d.match(/iPhone/i),p=!!d.match(/WebKit/i);h&&p&&!d.match(/CriOS/i)&&R().scrollHeight>window.innerHeight-44&&(A().style.paddingBottom="44px")},WL=()=>{let d=A(),h;d.ontouchstart=p=>{h=KL(p)},d.ontouchmove=p=>{h&&(p.preventDefault(),p.stopPropagation())}},KL=d=>{let h=d.target,p=A();return YL(d)||QL(d)?!1:h===p||!pC(p)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(pC(et())&&et().contains(h))},YL=d=>d.touches&&d.touches.length&&d.touches[0].touchType==="stylus",QL=d=>d.touches&&d.touches.length>1,ZL=()=>{if(nr(document.body,i.iosfix)){let d=parseInt(document.body.style.top,10);hi(document.body,i.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},XL=()=>{ta.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(ta.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ta.previousBodyPadding+iL()}px`)},JL=()=>{ta.previousBodyPadding!==null&&(document.body.style.paddingRight=`${ta.previousBodyPadding}px`,ta.previousBodyPadding=null)};function AC(d,h,p,y){ch()?SC(d,y):(W2(p).then(()=>SC(d,y)),DC(be)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),fy()&&(JL(),ZL(),TC()),eV()}function eV(){hi([document.documentElement,document.body],[i.shown,i["height-auto"],i["no-backdrop"],i["toast-shown"]])}function dh(d){d=rV(d);let h=vl.swalPromiseResolve.get(this),p=nV(this);this.isAwaitingPromise()?d.isDismissed||(_l(this),h(d)):p&&h(d)}function tV(){return!!t.awaitingPromise.get(this)}let nV=d=>{let h=R();if(!h)return!1;let p=t.innerParams.get(d);if(!p||nr(h,p.hideClass.popup))return!1;hi(h,p.showClass.popup),Ae(h,p.hideClass.popup);let y=A();return hi(y,p.showClass.backdrop),Ae(y,p.hideClass.backdrop),oV(d,h,p),!0};function iV(d){let h=vl.swalPromiseReject.get(this);_l(this),h&&h(d)}let _l=d=>{d.isAwaitingPromise()&&(t.awaitingPromise.delete(d),t.innerParams.get(d)||d._destroy())},rV=d=>typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d),oV=(d,h,p)=>{let y=A(),x=gl&&mC(h);typeof p.willClose=="function"&&p.willClose(h),x?sV(d,h,y,p.returnFocus,p.didClose):AC(d,y,p.returnFocus,p.didClose)},sV=(d,h,p,y,x)=>{be.swalCloseEventFinishedCallback=AC.bind(null,d,p,y,x),h.addEventListener(gl,function(K){K.target===h&&(be.swalCloseEventFinishedCallback(),delete be.swalCloseEventFinishedCallback)})},SC=(d,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(d.params)(),d._destroy()})};function xC(d,h,p){let y=t.domCache.get(d);h.forEach(x=>{y[x].disabled=p})}function RC(d,h){if(d)if(d.type==="radio"){let y=d.parentNode.parentNode.querySelectorAll("input");for(let x=0;x<y.length;x++)y[x].disabled=h}else d.disabled=h}function aV(){xC(this,["confirmButton","denyButton","cancelButton"],!1)}function cV(){xC(this,["confirmButton","denyButton","cancelButton"],!0)}function lV(){RC(this.getInput(),!1)}function uV(){RC(this.getInput(),!0)}function dV(d){let h=t.domCache.get(this),p=t.innerParams.get(this);gn(h.validationMessage,d),h.validationMessage.className=i["validation-message"],p.customClass&&p.customClass.validationMessage&&Ae(h.validationMessage,p.customClass.validationMessage),kt(h.validationMessage);let y=this.getInput();y&&(y.setAttribute("aria-invalid",!0),y.setAttribute("aria-describedby",i["validation-message"]),dC(y),Ae(y,i.inputerror))}function hV(){let d=t.domCache.get(this);d.validationMessage&&Bt(d.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),hi(h,i.inputerror))}let ra={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},fV=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],pV={},mV=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],MC=d=>Object.prototype.hasOwnProperty.call(ra,d),PC=d=>fV.indexOf(d)!==-1,wy=d=>pV[d],gV=d=>{MC(d)||c(`Unknown parameter "${d}"`)},yV=d=>{mV.includes(d)&&c(`The parameter "${d}" is incompatible with toasts`)},vV=d=>{wy(d)&&m(d,wy(d))},_V=d=>{d.backdrop===!1&&d.allowOutsideClick&&c('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in d)gV(h),d.toast&&yV(h),vV(h)};function wV(d){let h=R(),p=t.innerParams.get(this);if(!h||nr(h,p.hideClass.popup)){c("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let y=bV(d),x=Object.assign({},p,y);bC(this,x),t.innerParams.set(this,x),Object.defineProperties(this,{params:{value:Object.assign({},this.params,d),writable:!1,enumerable:!0}})}let bV=d=>{let h={};return Object.keys(d).forEach(p=>{PC(p)?h[p]=d[p]:c(`Invalid parameter to update: ${p}`)}),h};function EV(){let d=t.domCache.get(this),h=t.innerParams.get(this);if(!h){kC(this);return}d.popup&&be.swalCloseEventFinishedCallback&&(be.swalCloseEventFinishedCallback(),delete be.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),IV(this)}let IV=d=>{kC(d),delete d.params,delete be.keydownHandler,delete be.keydownTarget,delete be.currentInstance},kC=d=>{d.isAwaitingPromise()?(by(t,d),t.awaitingPromise.set(d,!0)):(by(vl,d),by(t,d))},by=(d,h)=>{for(let p in d)d[p].delete(h)};var NC=Object.freeze({__proto__:null,hideLoading:EC,disableLoading:EC,getInput:kL,close:dh,isAwaitingPromise:tV,rejectPromise:iV,handleAwaitingPromise:_l,closePopup:dh,closeModal:dh,closeToast:dh,enableButtons:aV,disableButtons:cV,enableInput:lV,disableInput:uV,showValidationMessage:dV,resetValidationMessage:hV,update:wV,_destroy:EV});let oa=d=>{let h=R();h||new fh,h=R();let p=ea();ch()?Bt(G()):DV(h,d),kt(p),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},DV=(d,h)=>{let p=ml(),y=ea();!h&&yn(Gn())&&(h=Gn()),kt(p),h&&(Bt(h),y.setAttribute("data-button-to-replace",h.className)),y.parentNode.insertBefore(y,h),Ae([d,p],i.loading)},CV=(d,h)=>{h.input==="select"||h.input==="radio"?RV(d,h):["text","email","number","tel","textarea"].includes(h.input)&&(b(h.inputValue)||E(h.inputValue))&&(oa(Gn()),MV(d,h))},TV=(d,h)=>{let p=d.getInput();if(!p)return null;switch(h.input){case"checkbox":return AV(p);case"radio":return SV(p);case"file":return xV(p);default:return h.inputAutoTrim?p.value.trim():p.value}},AV=d=>d.checked?1:0,SV=d=>d.checked?d.value:null,xV=d=>d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null,RV=(d,h)=>{let p=R(),y=x=>{PV[h.input](p,Ey(x),h)};b(h.inputOptions)||E(h.inputOptions)?(oa(Gn()),I(h.inputOptions).then(x=>{d.hideLoading(),y(x)})):typeof h.inputOptions=="object"?y(h.inputOptions):l(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},MV=(d,h)=>{let p=d.getInput();Bt(p),I(h.inputValue).then(y=>{p.value=h.input==="number"?`${parseFloat(y)||0}`:`${y}`,kt(p),p.focus(),d.hideLoading()}).catch(y=>{l(`Error in inputValue promise: ${y}`),p.value="",kt(p),p.focus(),d.hideLoading()})},PV={select:(d,h,p)=>{let y=kr(d,i.select),x=(K,lt,pi)=>{let Gt=document.createElement("option");Gt.value=pi,gn(Gt,lt),Gt.selected=OC(pi,p.inputValue),K.appendChild(Gt)};h.forEach(K=>{let lt=K[0],pi=K[1];if(Array.isArray(pi)){let Gt=document.createElement("optgroup");Gt.label=lt,Gt.disabled=!1,y.appendChild(Gt),pi.forEach(aa=>x(Gt,aa[1],aa[0]))}else x(y,pi,lt)}),y.focus()},radio:(d,h,p)=>{let y=kr(d,i.radio);h.forEach(K=>{let lt=K[0],pi=K[1],Gt=document.createElement("input"),aa=document.createElement("label");Gt.type="radio",Gt.name=i.radio,Gt.value=lt,OC(lt,p.inputValue)&&(Gt.checked=!0);let Ty=document.createElement("span");gn(Ty,pi),Ty.className=i.label,aa.appendChild(Gt),aa.appendChild(Ty),y.appendChild(aa)});let x=y.querySelectorAll("input");x.length&&x[0].focus()}},Ey=d=>{let h=[];return typeof Map<"u"&&d instanceof Map?d.forEach((p,y)=>{let x=p;typeof x=="object"&&(x=Ey(x)),h.push([y,x])}):Object.keys(d).forEach(p=>{let y=d[p];typeof y=="object"&&(y=Ey(y)),h.push([p,y])}),h},OC=(d,h)=>h&&h.toString()===d.toString(),kV=d=>{let h=t.innerParams.get(d);d.disableButtons(),h.input?FC(d,"confirm"):Dy(d,!0)},NV=d=>{let h=t.innerParams.get(d);d.disableButtons(),h.returnInputValueOnDeny?FC(d,"deny"):Iy(d,!1)},OV=(d,h)=>{d.disableButtons(),h(ia.cancel)},FC=(d,h)=>{let p=t.innerParams.get(d);if(!p.input){l(`The "input" parameter is needed to be set when using returnInputValueOn${a(h)}`);return}let y=TV(d,p);p.inputValidator?FV(d,y,h):d.getInput().checkValidity()?h==="deny"?Iy(d,y):Dy(d,y):(d.enableButtons(),d.showValidationMessage(p.validationMessage))},FV=(d,h,p)=>{let y=t.innerParams.get(d);d.disableInput(),Promise.resolve().then(()=>I(y.inputValidator(h,y.validationMessage))).then(K=>{d.enableButtons(),d.enableInput(),K?d.showValidationMessage(K):p==="deny"?Iy(d,h):Dy(d,h)})},Iy=(d,h)=>{let p=t.innerParams.get(d||void 0);p.showLoaderOnDeny&&oa(Pr()),p.preDeny?(t.awaitingPromise.set(d||void 0,!0),Promise.resolve().then(()=>I(p.preDeny(h,p.validationMessage))).then(x=>{x===!1?(d.hideLoading(),_l(d)):d.close({isDenied:!0,value:typeof x>"u"?h:x})}).catch(x=>VC(d||void 0,x))):d.close({isDenied:!0,value:h})},LC=(d,h)=>{d.close({isConfirmed:!0,value:h})},VC=(d,h)=>{d.rejectPromise(h)},Dy=(d,h)=>{let p=t.innerParams.get(d||void 0);p.showLoaderOnConfirm&&oa(),p.preConfirm?(d.resetValidationMessage(),t.awaitingPromise.set(d||void 0,!0),Promise.resolve().then(()=>I(p.preConfirm(h,p.validationMessage))).then(x=>{yn(sh())||x===!1?(d.hideLoading(),_l(d)):LC(d,typeof x>"u"?h:x)}).catch(x=>VC(d||void 0,x))):LC(d,h)},LV=(d,h,p)=>{t.innerParams.get(d).toast?VV(d,h,p):(BV(h),UV(h),$V(d,h,p))},VV=(d,h,p)=>{h.popup.onclick=()=>{let y=t.innerParams.get(d);y&&(jV(y)||y.timer||y.input)||p(ia.close)}},jV=d=>d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton,hh=!1,BV=d=>{d.popup.onmousedown=()=>{d.container.onmouseup=function(h){d.container.onmouseup=void 0,h.target===d.container&&(hh=!0)}}},UV=d=>{d.container.onmousedown=()=>{d.popup.onmouseup=function(h){d.popup.onmouseup=void 0,(h.target===d.popup||d.popup.contains(h.target))&&(hh=!0)}}},$V=(d,h,p)=>{h.container.onclick=y=>{let x=t.innerParams.get(d);if(hh){hh=!1;return}y.target===h.container&&g(x.allowOutsideClick)&&p(ia.backdrop)}},HV=d=>typeof d=="object"&&d.jquery,jC=d=>d instanceof Element||HV(d),zV=d=>{let h={};return typeof d[0]=="object"&&!jC(d[0])?Object.assign(h,d[0]):["title","html","icon"].forEach((p,y)=>{let x=d[y];typeof x=="string"||jC(x)?h[p]=x:x!==void 0&&l(`Unexpected type of ${p}! Expected "string" or "Element", got ${typeof x}`)}),h};function qV(){let d=this;for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];return new d(...p)}function GV(d){class h extends this{_main(y,x){return super._main(y,Object.assign({},d,x))}}return h}let WV=()=>be.timeout&&be.timeout.getTimerLeft(),BC=()=>{if(be.timeout)return z2(),be.timeout.stop()},UC=()=>{if(be.timeout){let d=be.timeout.start();return my(d),d}},KV=()=>{let d=be.timeout;return d&&(d.running?BC():UC())},YV=d=>{if(be.timeout){let h=be.timeout.increase(d);return my(h,!0),h}},QV=()=>be.timeout&&be.timeout.isRunning(),$C=!1,Cy={};function ZV(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Cy[d]=this,$C||(document.body.addEventListener("click",XV),$C=!0)}let XV=d=>{for(let h=d.target;h&&h!==document;h=h.parentNode)for(let p in Cy){let y=h.getAttribute(p);if(y){Cy[p].fire({template:y});return}}};var JV=Object.freeze({__proto__:null,isValidParameter:MC,isUpdatableParameter:PC,isDeprecatedParameter:wy,argsToParams:zV,getContainer:A,getPopup:R,getTitle:Ce,getHtmlContainer:et,getImage:di,getIcon:G,getIconContent:ee,getInputLabel:j2,getCloseButton:dy,getActions:ml,getConfirmButton:Gn,getDenyButton:Pr,getCancelButton:Oo,getLoader:ea,getFooter:uC,getTimerProgressBar:ah,getFocusableElements:hy,getValidationMessage:sh,getProgressSteps:Js,isLoading:U2,isVisible:NL,clickConfirm:IC,clickDeny:OL,clickCancel:FL,fire:qV,mixin:GV,showLoading:oa,enableLoading:oa,getTimerLeft:WV,stopTimer:BC,resumeTimer:UC,toggleTimer:KV,increaseTimer:YV,isTimerRunning:QV,bindClickHandler:ZV});class ej{constructor(h,p){this.callback=h,this.remaining=p,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let p=this.running;return p&&this.stop(),this.remaining+=h,p&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let HC=["swal-title","swal-html","swal-footer"],tj=d=>{let h=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!h)return{};let p=h.content;return lj(p),Object.assign(nj(p),ij(p),rj(p),oj(p),sj(p),aj(p),cj(p,HC))},nj=d=>{let h={};return Array.from(d.querySelectorAll("swal-param")).forEach(y=>{Lo(y,["name","value"]);let x=y.getAttribute("name"),K=y.getAttribute("value");typeof ra[x]=="boolean"?h[x]=K!=="false":typeof ra[x]=="object"?h[x]=JSON.parse(K):h[x]=K}),h},ij=d=>{let h={};return Array.from(d.querySelectorAll("swal-function-param")).forEach(y=>{let x=y.getAttribute("name"),K=y.getAttribute("value");h[x]=new Function(`return ${K}`)()}),h},rj=d=>{let h={};return Array.from(d.querySelectorAll("swal-button")).forEach(y=>{Lo(y,["type","color","aria-label"]);let x=y.getAttribute("type");h[`${x}ButtonText`]=y.innerHTML,h[`show${a(x)}Button`]=!0,y.hasAttribute("color")&&(h[`${x}ButtonColor`]=y.getAttribute("color")),y.hasAttribute("aria-label")&&(h[`${x}ButtonAriaLabel`]=y.getAttribute("aria-label"))}),h},oj=d=>{let h={},p=d.querySelector("swal-image");return p&&(Lo(p,["src","width","height","alt"]),p.hasAttribute("src")&&(h.imageUrl=p.getAttribute("src")),p.hasAttribute("width")&&(h.imageWidth=p.getAttribute("width")),p.hasAttribute("height")&&(h.imageHeight=p.getAttribute("height")),p.hasAttribute("alt")&&(h.imageAlt=p.getAttribute("alt"))),h},sj=d=>{let h={},p=d.querySelector("swal-icon");return p&&(Lo(p,["type","color"]),p.hasAttribute("type")&&(h.icon=p.getAttribute("type")),p.hasAttribute("color")&&(h.iconColor=p.getAttribute("color")),h.iconHtml=p.innerHTML),h},aj=d=>{let h={},p=d.querySelector("swal-input");p&&(Lo(p,["type","label","placeholder","value"]),h.input=p.getAttribute("type")||"text",p.hasAttribute("label")&&(h.inputLabel=p.getAttribute("label")),p.hasAttribute("placeholder")&&(h.inputPlaceholder=p.getAttribute("placeholder")),p.hasAttribute("value")&&(h.inputValue=p.getAttribute("value")));let y=Array.from(d.querySelectorAll("swal-input-option"));return y.length&&(h.inputOptions={},y.forEach(x=>{Lo(x,["value"]);let K=x.getAttribute("value"),lt=x.innerHTML;h.inputOptions[K]=lt})),h},cj=(d,h)=>{let p={};for(let y in h){let x=h[y],K=d.querySelector(x);K&&(Lo(K,[]),p[x.replace(/^swal-/,"")]=K.innerHTML.trim())}return p},lj=d=>{let h=HC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(p=>{let y=p.tagName.toLowerCase();h.includes(y)||c(`Unrecognized element <${y}>`)})},Lo=(d,h)=>{Array.from(d.attributes).forEach(p=>{h.indexOf(p.name)===-1&&c([`Unrecognized attribute "${p.name}" on <${d.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},zC=10,uj=d=>{let h=A(),p=R();typeof d.willOpen=="function"&&d.willOpen(p);let x=window.getComputedStyle(document.body).overflowY;fj(h,p,d),setTimeout(()=>{dj(h,p)},zC),fy()&&(hj(h,d.scrollbarPadding,x),zL()),!ch()&&!be.previousActiveElement&&(be.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(()=>d.didOpen(p)),hi(h,i["no-transition"])},qC=d=>{let h=R();if(d.target!==h)return;let p=A();h.removeEventListener(gl,qC),p.style.overflowY="auto"},dj=(d,h)=>{gl&&mC(h)?(d.style.overflowY="hidden",h.addEventListener(gl,qC)):d.style.overflowY="auto"},hj=(d,h,p)=>{qL(),h&&p!=="hidden"&&XL(),setTimeout(()=>{d.scrollTop=0})},fj=(d,h,p)=>{Ae(d,p.showClass.backdrop),h.style.setProperty("opacity","0","important"),kt(h,"grid"),setTimeout(()=>{Ae(h,p.showClass.popup),h.style.removeProperty("opacity")},zC),Ae([document.documentElement,document.body],i.shown),p.heightAuto&&p.backdrop&&!p.toast&&Ae([document.documentElement,document.body],i["height-auto"])};var GC={email:(d,h)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(d,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function pj(d){d.inputValidator||Object.keys(GC).forEach(h=>{d.input===h&&(d.inputValidator=GC[h])})}function mj(d){(!d.target||typeof d.target=="string"&&!document.querySelector(d.target)||typeof d.target!="string"&&!d.target.appendChild)&&(c('Target parameter is not valid, defaulting to "body"'),d.target="body")}function gj(d){pj(d),d.showLoaderOnConfirm&&!d.preConfirm&&c(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),mj(d),typeof d.title=="string"&&(d.title=d.title.split(`
`).join("<br />")),eL(d)}let fi;class sa{constructor(){if(typeof window>"u")return;fi=this;for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];let x=Object.freeze(this.constructor.argsToParams(p));Object.defineProperties(this,{params:{value:x,writable:!1,enumerable:!0,configurable:!0}});let K=fi._main(fi.params);t.promise.set(this,K)}_main(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_V(Object.assign({},p,h)),be.currentInstance&&(be.currentInstance._destroy(),fy()&&TC()),be.currentInstance=fi;let y=vj(h,p);gj(y),Object.freeze(y),be.timeout&&(be.timeout.stop(),delete be.timeout),clearTimeout(be.restoreFocusTimeout);let x=_j(fi);return bC(fi,y),t.innerParams.set(fi,y),yj(fi,x,y)}then(h){return t.promise.get(this).then(h)}finally(h){return t.promise.get(this).finally(h)}}let yj=(d,h,p)=>new Promise((y,x)=>{let K=lt=>{d.close({isDismissed:!0,dismiss:lt})};vl.swalPromiseResolve.set(d,y),vl.swalPromiseReject.set(d,x),h.confirmButton.onclick=()=>{kV(d)},h.denyButton.onclick=()=>{NV(d)},h.cancelButton.onclick=()=>{OV(d,K)},h.closeButton.onclick=()=>{K(ia.close)},LV(d,h,K),LL(d,be,p,K),CV(d,p),uj(p),wj(be,p,K),bj(h,p),setTimeout(()=>{h.container.scrollTop=0})}),vj=(d,h)=>{let p=tj(d),y=Object.assign({},ra,h,p,d);return y.showClass=Object.assign({},ra.showClass,y.showClass),y.hideClass=Object.assign({},ra.hideClass,y.hideClass),y},_j=d=>{let h={popup:R(),container:A(),actions:ml(),confirmButton:Gn(),denyButton:Pr(),cancelButton:Oo(),loader:ea(),closeButton:dy(),validationMessage:sh(),progressSteps:Js()};return t.domCache.set(d,h),h},wj=(d,h,p)=>{let y=ah();Bt(y),h.timer&&(d.timeout=new ej(()=>{p("timer"),delete d.timeout},h.timer),h.timerProgressBar&&(kt(y),An(y,h,"timerProgressBar"),setTimeout(()=>{d.timeout&&d.timeout.running&&my(h.timer)})))},bj=(d,h)=>{if(!h.toast){if(!g(h.allowEnterKey)){Ij();return}Ej(d,h)||_y(h,-1,1)}},Ej=(d,h)=>h.focusDeny&&yn(d.denyButton)?(d.denyButton.focus(),!0):h.focusCancel&&yn(d.cancelButton)?(d.cancelButton.focus(),!0):h.focusConfirm&&yn(d.confirmButton)?(d.confirmButton.focus(),!0):!1,Ij=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){let d=new Date,h=localStorage.getItem("swal-initiation");h?(d.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let p=document.createElement("audio");p.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",p.loop=!0,document.body.appendChild(p),setTimeout(()=>{p.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${d}`)}Object.assign(sa.prototype,NC),Object.assign(sa,JV),Object.keys(NC).forEach(d=>{sa[d]=function(){if(fi)return fi[d](...arguments)}}),sa.DismissReason=ia,sa.version="11.6.13";let fh=sa;return fh.default=fh,fh});typeof Fi<"u"&&Fi.Sweetalert2&&(Fi.swal=Fi.sweetAlert=Fi.Swal=Fi.SweetAlert=Fi.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')});var JC=null;var ky=1,eT=Symbol("SIGNAL");function vn(t){let e=JC;return JC=t,e}var tT={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cj(t){if(!(Fy(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ky)){if(!t.producerMustRecompute(t)&&!Ny(t)){t.dirty=!1,t.lastCleanEpoch=ky;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ky}}function nT(t){return t&&(t.nextProducerIndex=0),vn(t)}function iT(t,e){if(vn(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Fy(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Oy(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ny(t){bh(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(Cj(n),i!==n.version))return!0}return!1}function rT(t){if(bh(t),Fy(t))for(let e=0;e<t.producerNode.length;e++)Oy(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Oy(t,e){if(Tj(t),bh(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Oy(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];bh(r),r.producerIndexOfThis[i]=e}}function Fy(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function bh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Tj(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Aj(){throw new Error}var Sj=Aj;function oT(t){Sj=t}function te(t){return typeof t=="function"}function ca(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Eh=ca(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function jo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(te(i))try{i()}catch(o){e=o instanceof Eh?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{sT(o)}catch(s){e=e??[],s instanceof Eh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Eh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)sT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&jo(n,e)}remove(e){let{_finalizers:n}=this;n&&jo(n,e),e instanceof t&&e._removeParent(this)}};Ge.EMPTY=(()=>{let t=new Ge;return t.closed=!0,t})();var Ly=Ge.EMPTY;function Ih(t){return t instanceof Ge||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function sT(t){te(t)?t():t.unsubscribe()}var Kn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var la={setTimeout(t,e,...n){let{delegate:i}=la;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=la;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Dh(t){la.setTimeout(()=>{let{onUnhandledError:e}=Kn;if(e)e(t);else throw t})}function bl(){}var aT=Vy("C",void 0,void 0);function cT(t){return Vy("E",void 0,t)}function lT(t){return Vy("N",t,void 0)}function Vy(t,e,n){return{kind:t,value:e,error:n}}var Bo=null;function ua(t){if(Kn.useDeprecatedSynchronousErrorHandling){let e=!Bo;if(e&&(Bo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Bo;if(Bo=null,n)throw i}}else t()}function uT(t){Kn.useDeprecatedSynchronousErrorHandling&&Bo&&(Bo.errorThrown=!0,Bo.error=t)}var Uo=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ih(e)&&e.add(this)):this.destination=Mj}static create(e,n,i){return new ir(e,n,i)}next(e){this.isStopped?By(lT(e),this):this._next(e)}error(e){this.isStopped?By(cT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?By(aT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xj=Function.prototype.bind;function jy(t,e){return xj.call(t,e)}var Uy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Ch(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Ch(i)}else Ch(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ch(n)}}},ir=class extends Uo{constructor(e,n,i){super();let r;if(te(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Kn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&jy(e.next,o),error:e.error&&jy(e.error,o),complete:e.complete&&jy(e.complete,o)}):r=e}this.destination=new Uy(r)}};function Ch(t){Kn.useDeprecatedSynchronousErrorHandling?uT(t):Dh(t)}function Rj(t){throw t}function By(t,e){let{onStoppedNotification:n}=Kn;n&&la.setTimeout(()=>n(t,e))}var Mj={closed:!0,next:bl,error:Rj,complete:bl};var da=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(t){return t}function $y(...t){return Hy(t)}function Hy(t){return t.length===0?Wt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=kj(n)?n:new ir(n,i,r);return ua(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=dT(i),new i((r,o)=>{let s=new ir({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[da](){return this}pipe(...n){return Hy(n)(this)}toPromise(n){return n=dT(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function dT(t){var e;return(e=t??Kn.Promise)!==null&&e!==void 0?e:Promise}function Pj(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function kj(t){return t&&t instanceof Uo||Pj(t)&&Ih(t)}function zy(t){return te(t?.lift)}function le(t){return e=>{if(zy(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,i,r){return new qy(t,e,n,i,r)}var qy=class extends Uo{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ha(){return le((t,e)=>{let n=null;t._refCount++;let i=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var fa=class extends ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,zy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return ha()(this)}};var hT=ca(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=(()=>{class t extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Th(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new hT}next(n){ua(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){ua(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){ua(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Ly:(this.currentObservers=null,o.push(n),new Ge(()=>{this.currentObservers=null,jo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new ne;return n.source=this,n}}return t.create=(e,n)=>new Th(e,n),t})(),Th=class extends ue{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Ly}};var bt=class extends ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var El={now(){return(El.delegate||Date).now()},delegate:void 0};var Ah=class extends ue{constructor(e=1/0,n=1/0,i=El){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var Sh=class extends Ge{constructor(e,n){super()}schedule(e,n=0){return this}};var Il={setInterval(t,e,...n){let{delegate:i}=Il;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Il;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var pa=class extends Sh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Il.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Il.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,jo(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ma=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};ma.now=El.now;var ga=class extends ma{constructor(e,n=ma.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var gi=new ga(pa),Gy=gi;var xh=class extends pa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Rh=class extends ga{};var Wy=new Rh(xh);var sn=new ne(t=>t.complete());function Mh(t){return t&&te(t.schedule)}function Ky(t){return t[t.length-1]}function Ph(t){return te(Ky(t))?t.pop():void 0}function yi(t){return Mh(Ky(t))?t.pop():void 0}function fT(t,e){return typeof Ky(t)=="number"?t.pop():e}var ya=t=>t&&typeof t.length=="number"&&typeof t!="function";function kh(t){return te(t?.then)}function Nh(t){return te(t[da])}function Oh(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Fh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Nj(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lh=Nj();function Vh(t){return te(t?.[Lh])}function jh(t){return KC(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield mh(n.read());if(r)return yield mh(void 0);yield yield mh(i)}}finally{n.releaseLock()}})}function Bh(t){return te(t?.getReader)}function Le(t){if(t instanceof ne)return t;if(t!=null){if(Nh(t))return Oj(t);if(ya(t))return Fj(t);if(kh(t))return Lj(t);if(Oh(t))return pT(t);if(Vh(t))return Vj(t);if(Bh(t))return jj(t)}throw Fh(t)}function Oj(t){return new ne(e=>{let n=t[da]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Fj(t){return new ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Lj(t){return new ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Dh)})}function Vj(t){return new ne(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function pT(t){return new ne(e=>{Bj(t,e).catch(n=>e.error(n))})}function jj(t){return pT(jh(t))}function Bj(t,e){var n,i,r,o;return WC(this,void 0,void 0,function*(){try{for(n=YC(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function an(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function cn(t,e=0){return le((n,i)=>{n.subscribe(ae(i,r=>an(i,t,()=>i.next(r),e),()=>an(i,t,()=>i.complete(),e),r=>an(i,t,()=>i.error(r),e)))})}function xn(t,e=0){return le((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function mT(t,e){return Le(t).pipe(xn(e),cn(e))}function gT(t,e){return Le(t).pipe(xn(e),cn(e))}function yT(t,e){return new ne(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function vT(t,e){return new ne(n=>{let i;return an(n,e,()=>{i=t[Lh](),an(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>te(i?.return)&&i.return()})}function Uh(t,e){if(!t)throw new Error("Iterable cannot be null");return new ne(n=>{an(n,e,()=>{let i=t[Symbol.asyncIterator]();an(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function _T(t,e){return Uh(jh(t),e)}function wT(t,e){if(t!=null){if(Nh(t))return mT(t,e);if(ya(t))return yT(t,e);if(kh(t))return gT(t,e);if(Oh(t))return Uh(t,e);if(Vh(t))return vT(t,e);if(Bh(t))return _T(t,e)}throw Fh(t)}function ye(t,e){return e?wT(t,e):Le(t)}function W(...t){let e=yi(t);return ye(t,e)}function va(t,e){let n=te(t)?t:()=>t,i=r=>r.error(n());return new ne(e?r=>e.schedule(i,0,r):i)}function $h(t){return!!t&&(t instanceof ne||te(t.lift)&&te(t.subscribe))}var rr=ca(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function bT(t){return t instanceof Date&&!isNaN(t)}function Y(t,e){return le((n,i)=>{let r=0;n.subscribe(ae(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:Uj}=Array;function $j(t,e){return Uj(e)?t(...e):t(e)}function _a(t){return Y(e=>$j(t,e))}var{isArray:Hj}=Array,{getPrototypeOf:zj,prototype:qj,keys:Gj}=Object;function Hh(t){if(t.length===1){let e=t[0];if(Hj(e))return{args:e,keys:null};if(Wj(e)){let n=Gj(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function Wj(t){return t&&typeof t=="object"&&zj(t)===qj}function zh(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function $o(...t){let e=yi(t),n=Ph(t),{args:i,keys:r}=Hh(t);if(i.length===0)return ye([],e);let o=new ne(Kj(i,e,r?s=>zh(r,s):Wt));return n?o.pipe(_a(n)):o}function Kj(t,e,n=Wt){return i=>{ET(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)ET(e,()=>{let l=ye(t[c],e),u=!1;l.subscribe(ae(i,f=>{o[c]=f,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function ET(t,e,n){t?an(n,t,e):e()}function IT(t,e,n,i,r,o,s,a){let c=[],l=0,u=0,f=!1,m=()=>{f&&!c.length&&!l&&e.complete()},g=I=>l<i?b(I):c.push(I),b=I=>{o&&e.next(I),l++;let E=!1;Le(n(I,u++)).subscribe(ae(e,A=>{r?.(A),o?g(A):e.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<i;){let A=c.shift();s?an(e,s,()=>b(A)):b(A)}m()}catch(A){e.error(A)}}))};return t.subscribe(ae(e,g,()=>{f=!0,m()})),()=>{a?.()}}function rt(t,e,n=1/0){return te(e)?rt((i,r)=>Y((o,s)=>e(i,o,r,s))(Le(t(i,r))),n):(typeof e=="number"&&(n=e),le((i,r)=>IT(i,r,t,n)))}function Nr(t=1/0){return rt(Wt,t)}function DT(){return Nr(1)}function Or(...t){return DT()(ye(t,yi(t)))}function Fr(t){return new ne(e=>{Le(t()).subscribe(e)})}function Yy(...t){let e=Ph(t),{args:n,keys:i}=Hh(t),r=new ne(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let f=!1;Le(n[u]).subscribe(ae(o,m=>{f||(f=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(i?zh(i,a):a),o.complete())}))}});return e?r.pipe(_a(e)):r}var Yj=["addListener","removeListener"],Qj=["addEventListener","removeEventListener"],Zj=["on","off"];function Dl(t,e,n,i){if(te(n)&&(i=n,n=void 0),i)return Dl(t,e,n).pipe(_a(i));let[r,o]=eB(t)?Qj.map(s=>a=>t[s](e,a,n)):Xj(t)?Yj.map(CT(t,e)):Jj(t)?Zj.map(CT(t,e)):[];if(!r&&ya(t))return rt(s=>Dl(s,e,n))(Le(t));if(!r)throw new TypeError("Invalid event target");return new ne(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function CT(t,e){return n=>i=>t[n](e,i)}function Xj(t){return te(t.addListener)&&te(t.removeListener)}function Jj(t){return te(t.on)&&te(t.off)}function eB(t){return te(t.addEventListener)&&te(t.removeEventListener)}function TT(t=0,e,n=Gy){let i=-1;return e!=null&&(Mh(e)?n=e:i=e),new ne(r=>{let o=bT(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Ho(...t){let e=yi(t),n=fT(t,1/0),i=t;return i.length?i.length===1?Le(i[0]):Nr(n)(ye(i,e)):sn}function Pe(t,e){return le((n,i)=>{let r=0;n.subscribe(ae(i,o=>t.call(e,o,r++)&&i.next(o)))})}function AT(t){return le((e,n)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let l=r;r=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(ae(n,l=>{i=!0,r=l,o||Le(t(l)).subscribe(o=ae(n,a,c))},()=>{s=!0,(!i||!o||o.closed)&&n.complete()}))})}function qh(t,e=gi){return AT(()=>TT(t,e))}function Lr(t){return le((e,n)=>{let i=null,r=!1,o;i=e.subscribe(ae(n,void 0,void 0,s=>{o=Le(t(s,Lr(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function ST(t,e,n,i,r){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ae(s,u=>{let f=l++;c=a?t(c,u,f):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function or(t,e){return te(e)?rt(t,e,1):rt(t,1)}function wa(t,e=gi){return le((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let l=o;o=null,i.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){r=this.schedule(void 0,l-u),i.add(r);return}a()}n.subscribe(ae(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Vr(t){return le((e,n)=>{let i=!1;e.subscribe(ae(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Et(t){return t<=0?()=>sn:le((e,n)=>{let i=0;e.subscribe(ae(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Qy(t){return Y(()=>t)}function ba(t,e=Wt){return t=t??tB,le((n,i)=>{let r,o=!0;n.subscribe(ae(i,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function tB(t,e){return t===e}function Gh(t=nB){return le((e,n)=>{let i=!1;e.subscribe(ae(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function nB(){return new rr}function jr(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Rn(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Pe((r,o)=>t(r,o,i)):Wt,Et(1),n?Vr(e):Gh(()=>new rr))}function Ea(t){return t<=0?()=>sn:le((e,n)=>{let i=[];e.subscribe(ae(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Zy(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Pe((r,o)=>t(r,o,i)):Wt,Ea(1),n?Vr(e):Gh(()=>new rr))}function Ia(){return le((t,e)=>{let n,i=!1;t.subscribe(ae(e,r=>{let o=n;n=r,i&&e.next([o,r]),i=!0}))})}function zo(t,e){return le(ST(t,e,arguments.length>=2,!0))}function xT(t={}){let{connector:e=()=>new ue,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,c,l=0,u=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=c=void 0,u=f=!1},b=()=>{let I=s;g(),I?.unsubscribe()};return le((I,E)=>{l++,!f&&!u&&m();let A=c=c??e();E.add(()=>{l--,l===0&&!f&&!u&&(a=Xy(b,r))}),A.subscribe(E),!s&&l>0&&(s=new ir({next:B=>A.next(B),error:B=>{f=!0,m(),a=Xy(g,n,B),A.error(B)},complete:()=>{u=!0,m(),a=Xy(g,i),A.complete()}}),Le(I).subscribe(s))})(o)}}function Xy(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new ir({next:()=>{i.unsubscribe(),t()}});return Le(e(...n)).subscribe(i)}function Cl(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,xT({connector:()=>new Ah(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Tl(t){return Pe((e,n)=>t<=n)}function ln(...t){let e=yi(t);return le((n,i)=>{(e?Or(t,n,e):Or(t,n)).subscribe(i)})}function $e(t,e){return le((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(ae(i,c=>{r?.unsubscribe();let l=0,u=o++;Le(t(c,u)).subscribe(r=ae(i,f=>i.next(e?e(c,f,u,l++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Wh(t,e){return te(e)?$e(()=>t,e):$e(()=>t)}function vi(t){return le((e,n)=>{Le(t).subscribe(ae(n,()=>n.complete(),bl)),!n.closed&&e.subscribe(n)})}function tt(t,e,n){let i=te(t)||e||n?{next:t,error:e,complete:n}:t;return i?le((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(ae(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Wt}var mA="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(Sf(e,n)),this.code=e}};function Sf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var pv=class extends ue{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Jy(o),r&&(r=Jy(r)),s&&(s=Jy(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ge&&e.add(a),a}};function Jy(t){return e=>{setTimeout(t,void 0,e)}}var ke=pv;var we=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(we||{});function Yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function RT(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var gA=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gA||{}),bi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bi||{});function jl(t){return{toString:t}.toString()}var Qt=globalThis;var Ra={},Pn=[];function He(t){for(let e in t)if(t[e]===He)return e;throw Error("Could not find renamed property on target object.")}function iB(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var rB=He({\u0275cmp:He}),oB=He({\u0275dir:He}),sB=He({\u0275pipe:He}),aB=He({\u0275mod:He}),sf=He({\u0275fac:He}),Al=He({__NG_ELEMENT_ID__:He}),MT=He({__NG_ENV_ID__:He}),We=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(We||{});function yA(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function mv(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];cB(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function vA(t){return t===3||t===4||t===6}function cB(t){return t.charCodeAt(0)===64}function xl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?PT(t,n,r,null,e[++i]):PT(t,n,r,null,null))}}return t}function PT(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var _A="ng-template";function lB(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let s=t[i++];if(n&&o==="class"&&yA(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function wA(t){return t.type===4&&t.value!==_A}function uB(t,e,n){let i=t.type===4&&!n?_A:t.value;return e===i}function dB(t,e,n){let i=4,r=t.attrs||[],o=pB(r),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Yn(i)&&!Yn(c))return!1;if(s&&Yn(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!uB(t,c,n)||c===""&&e.length===1){if(Yn(i))return!1;s=!0}}else{let l=i&8?c:e[++a];if(i&8&&t.attrs!==null){if(!lB(t.attrs,l,n)){if(Yn(i))return!1;s=!0}continue}let u=i&8?"class":c,f=hB(u,r,wA(t),n);if(f===-1){if(Yn(i))return!1;s=!0;continue}if(l!==""){let m;f>o?m="":m=r[f+1].toLowerCase();let g=i&8?m:null;if(g&&yA(g,l,0)!==-1||i&2&&l!==m){if(Yn(i))return!1;s=!0}}}}return Yn(i)||s}function Yn(t){return(t&1)===0}function hB(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return mB(e,t)}function fB(t,e,n=!1){for(let i=0;i<e.length;i++)if(dB(t,e[i],n))return!0;return!1}function pB(t){for(let e=0;e<t.length;e++){let n=t[e];if(vA(n))return e}return t.length}function mB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function kT(t,e){return t?":not("+e.trim()+")":e}function gB(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Yn(s)&&(e+=kT(o,r),r=""),i=s,o=o||!Yn(i);n++}return r!==""&&(e+=kT(o,r)),e}function yB(t){return t.map(gB).join(",")}function vB(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!Yn(r))break;r=o}i++}return{attrs:e,classes:n}}function Ee(t){return jl(()=>{let e=CA(t),n=Te(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bi.Emulated,styles:t.styles||Pn,_:null,schemas:t.schemas||null,tView:null,id:""});TA(n);let i=t.dependencies;return n.directiveDefs=OT(i,!1),n.pipeDefs=OT(i,!0),n.id=bB(n),n})}function _B(t){return $r(t)||bA(t)}function wB(t){return t!==null}function oe(t){return jl(()=>({type:t.type,bootstrap:t.bootstrap||Pn,declarations:t.declarations||Pn,imports:t.imports||Pn,exports:t.exports||Pn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function NT(t,e){if(t==null)return Ra;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=We.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==We.None?[i,a]:i,e[o]=s):n[o]=i}return n}function Ne(t){return jl(()=>{let e=CA(t);return TA(e),e})}function $r(t){return t[rB]||null}function bA(t){return t[oB]||null}function EA(t){return t[sB]||null}function IA(t){let e=$r(t)||bA(t)||EA(t);return e!==null?e.standalone:!1}function DA(t,e){let n=t[aB]||null;if(!n&&e===!0)throw new Error(`Type ${Yt(t)} does not have '\u0275mod' property.`);return n}function CA(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ra,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Pn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:NT(t.inputs,e),outputs:NT(t.outputs),debugInfo:null}}function TA(t){t.features?.forEach(e=>e(t))}function OT(t,e){if(!t)return null;let n=e?EA:_B;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(wB)}function bB(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var lr=0,ve=1,re=2,Nt=3,Qn=4,Xn=5,af=6,Rl=7,Zn=8,Ma=9,sr=10,Dt=11,Ml=12,FT=13,ja=14,Ei=15,Bl=16,Da=17,ar=18,xf=19,AA=20,Ur=21,ev=22,Wo=23,Hr=25,SA=1;var Ko=7,cf=8,Pa=9,_n=10,a_=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(a_||{});function qo(t){return Array.isArray(t)&&typeof t[SA]=="object"}function ur(t){return Array.isArray(t)&&t[SA]===!0}function xA(t){return(t.flags&4)!==0}function Rf(t){return t.componentOffset>-1}function c_(t){return(t.flags&1)===1}function zr(t){return!!t.template}function EB(t){return(t[re]&512)!==0}var IB="svg",DB="math",CB=!1;function TB(){return CB}function Ii(t){for(;Array.isArray(t);)t=t[lr];return t}function RA(t,e){return Ii(e[t])}function Nn(t,e){return Ii(e[t.index])}function MA(t,e){return t.data[e]}function Gr(t,e){let n=e[t];return qo(n)?n:n[lr]}function AB(t){return(t[re]&4)===4}function l_(t){return(t[re]&128)===128}function SB(t){return ur(t[Nt])}function lf(t,e){return e==null?null:t[e]}function PA(t){t[Da]=0}function xB(t){t[re]&1024||(t[re]|=1024,l_(t)&&Pl(t))}function RB(t,e){for(;t>0;)e=e[ja],t--;return e}function u_(t){return!!(t[re]&9216||t[Wo]?.dirty)}function gv(t){u_(t)?Pl(t):t[re]&64&&(TB()?(t[re]|=1024,Pl(t)):t[sr].changeDetectionScheduler?.notify())}function Pl(t){t[sr].changeDetectionScheduler?.notify();let e=kl(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!l_(e)));)e=kl(e)}function kA(t,e){if((t[re]&256)===256)throw new Q(911,!1);t[Ur]===null&&(t[Ur]=[]),t[Ur].push(e)}function MB(t,e){if(t[Ur]===null)return;let n=t[Ur].indexOf(e);n!==-1&&t[Ur].splice(n,1)}function kl(t){let e=t[Nt];return ur(e)?e[Nt]:e}var _e={lFrame:UA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function PB(){return _e.lFrame.elementDepthCount}function kB(){_e.lFrame.elementDepthCount++}function NB(){_e.lFrame.elementDepthCount--}function NA(){return _e.bindingsEnabled}function OB(){return _e.skipHydrationRootTNode!==null}function FB(t){return _e.skipHydrationRootTNode===t}function LB(){_e.skipHydrationRootTNode=null}function Ve(){return _e.lFrame.lView}function un(){return _e.lFrame.tView}function dn(t){return _e.lFrame.contextLView=t,t[Zn]}function hn(t){return _e.lFrame.contextLView=null,t}function wn(){let t=OA();for(;t!==null&&t.type===64;)t=t.parent;return t}function OA(){return _e.lFrame.currentTNode}function VB(){let t=_e.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ul(t,e){let n=_e.lFrame;n.currentTNode=t,n.isParent=e}function FA(){return _e.lFrame.isParent}function jB(){_e.lFrame.isParent=!1}function BB(){let t=_e.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function UB(){return _e.lFrame.bindingIndex}function $B(t){return _e.lFrame.bindingIndex=t}function Mf(){return _e.lFrame.bindingIndex++}function LA(t){let e=_e.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function HB(){return _e.lFrame.inI18n}function zB(t,e){let n=_e.lFrame;n.bindingIndex=n.bindingRootIndex=t,yv(e)}function qB(){return _e.lFrame.currentDirectiveIndex}function yv(t){_e.lFrame.currentDirectiveIndex=t}function GB(t){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function VA(){return _e.lFrame.currentQueryIndex}function d_(t){_e.lFrame.currentQueryIndex=t}function WB(t){let e=t[ve];return e.type===2?e.declTNode:e.type===1?t[Xn]:null}function jA(t,e,n){if(n&we.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&we.Host);)if(r=WB(o),r===null||(o=o[ja],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=_e.lFrame=BA();return i.currentTNode=e,i.lView=t,!0}function h_(t){let e=BA(),n=t[ve];_e.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function BA(){let t=_e.lFrame,e=t===null?null:t.child;return e===null?UA(t):e}function UA(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function $A(){let t=_e.lFrame;return _e.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var HA=$A;function f_(){let t=$A();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function KB(t){return(_e.lFrame.contextLView=RB(t,_e.lFrame.contextLView))[Zn]}function ns(){return _e.lFrame.selectedIndex}function Yo(t){_e.lFrame.selectedIndex=t}function p_(){let t=_e.lFrame;return MA(t.tView,t.selectedIndex)}function YB(){return _e.lFrame.currentNamespace}var zA=!0;function m_(){return zA}function g_(t){zA=t}function QB(){return Ba(wn(),Ve())}function Ba(t,e){return new je(Nn(t,e))}var je=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=QB;let t=e;return t})();function ZB(t){return t instanceof je?t.nativeElement:t}function XB(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function JB(t){return t.flat(Number.POSITIVE_INFINITY)}function y_(t,e){t.forEach(n=>Array.isArray(n)?y_(n,e):e(n))}function qA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function uf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function eU(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function tU(t,e,n){let i=$l(t,e);return i>=0?t[i|1]=n:(i=~i,eU(t,i,e,n)),i}function tv(t,e){let n=$l(t,e);if(n>=0)return t[n|1]}function $l(t,e){return nU(t,e,1)}function nU(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}function iU(){return this._results[Symbol.iterator]()}var df=class t{get changes(){return this._changes??=new ke}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=iU)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=JB(e);(this._changesDetected=!XB(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function GA(t){return(t.flags&128)===128}var vv;function WA(t){vv=t}function rU(){if(vv!==void 0)return vv;if(typeof document<"u")return document;throw new Q(210,!1)}function k(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function se(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pf(t){return LT(t,YA)||LT(t,QA)}function KA(t){return Pf(t)!==null}function LT(t,e){return t.hasOwnProperty(e)?t[e]:null}function oU(t){let e=t&&(t[YA]||t[QA]);return e||null}function VT(t){return t&&(t.hasOwnProperty(jT)||t.hasOwnProperty(sU))?t[jT]:null}var YA=He({\u0275prov:He}),jT=He({\u0275inj:He}),QA=He({ngInjectableDef:He}),sU=He({ngInjectorDef:He}),F=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Hl=new F("",{providedIn:"root",factory:()=>aU}),aU="ng",v_=new F(""),pt=new F("",{providedIn:"platform",factory:()=>"unknown"});var Ua=new F(""),zl=new F("",{providedIn:"root",factory:()=>rU().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cU=He({__forward_ref__:He});function Wr(t){return t.__forward_ref__=Wr,t.toString=function(){return Yt(this())},t}function Kt(t){return ZA(t)?t():t}function ZA(t){return typeof t=="function"&&t.hasOwnProperty(cU)&&t.__forward_ref__===Wr}function XA(t){return t&&!!t.\u0275providers}function ka(t){return typeof t=="string"?t:t==null?"":String(t)}function lU(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ka(t)}function uU(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function __(t,e){throw new Q(-201,!1)}var _v;function JA(){return _v}function Mn(t){let e=_v;return _v=t,e}function eS(t,e,n){let i=Pf(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&we.Optional)return null;if(e!==void 0)return e;__(t,"Injector")}var dU={},Nl=dU,wv="__NG_DI_FLAG__",hf="ngTempTokenPath",hU="ngTokenPath",fU=/\n/gm,pU="\u0275",BT="__source",Sa;function mU(){return Sa}function Br(t){let e=Sa;return Sa=t,e}function gU(t,e=we.Default){if(Sa===void 0)throw new Q(-203,!1);return Sa===null?eS(t,void 0,e):Sa.get(t,e&we.Optional?null:void 0,e)}function _(t,e=we.Default){return(JA()||gU)(Kt(t),e)}function j(t,e=we.Default){return _(t,kf(e))}function kf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bv(t){let e=[];for(let n=0;n<t.length;n++){let i=Kt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new Q(900,!1);let r,o=we.Default;for(let s=0;s<i.length;s++){let a=i[s],c=yU(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(_(r,o))}else e.push(_(i))}return e}function tS(t,e){return t[wv]=e,t.prototype[wv]=e,t}function yU(t){return t[wv]}function vU(t,e,n,i){let r=t[hf];throw e[BT]&&r.unshift(e[BT]),t.message=_U(`
`+t.message,r,n,i),t[hU]=r,t[hf]=null,t}function _U(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==pU?t.slice(2):t;let r=Yt(e);if(Array.isArray(e))r=e.map(Yt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Yt(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(fU,`
  `)}`}var wU="h",bU="b";var EU=()=>null;function w_(t,e,n=!1){return EU(t,e,n)}var Kh="__parameters__";function IU(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function nS(t,e,n){return jl(()=>{let i=IU(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let f=c.hasOwnProperty(Kh)?c[Kh]:Object.defineProperty(c,Kh,{value:[]})[Kh];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var $a=tS(nS("Optional"),8);var b_=tS(nS("SkipSelf"),4);function Na(t,e){let n=t.hasOwnProperty(sf);return n?t[sf]:null}var Oa=new F(""),iS=new F("",-1),rS=new F(""),ff=class{get(e,n=Nl){if(n===Nl){let i=new Error(`NullInjectorError: No provider for ${Yt(e)}!`);throw i.name="NullInjectorError",i}return n}};function Nf(t){return{\u0275providers:t}}function DU(...t){return{\u0275providers:oS(!0,t),\u0275fromNgModule:!0}}function oS(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return y_(e,s=>{let a=s;Ev(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&sS(r,o),n}function sS(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];E_(r,o=>{e(o,i)})}}function Ev(t,e,n,i){if(t=Kt(t),!t)return!1;let r=null,o=VT(t),s=!o&&$r(t);if(!o&&!s){let c=t.ngModule;if(o=VT(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ev(l,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{y_(o.imports,u=>{Ev(u,e,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&sS(l,e)}if(!a){let l=Na(r)||(()=>new r);e({provide:r,useFactory:l,deps:Pn},r),e({provide:rS,useValue:r,multi:!0},r),e({provide:Oa,useValue:()=>_(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=t;E_(c,u=>{e(u,l)})}}else return!1;return r!==t&&t.providers!==void 0}function E_(t,e){for(let n of t)XA(n)&&(n=n.\u0275providers),Array.isArray(n)?E_(n,e):e(n)}var CU=He({provide:String,useValue:He});function aS(t){return t!==null&&typeof t=="object"&&CU in t}function TU(t){return!!(t&&t.useExisting)}function AU(t){return!!(t&&t.useFactory)}function Fa(t){return typeof t=="function"}function SU(t){return!!t.useClass}var Of=new F(""),Jh={},xU={},nv;function I_(){return nv===void 0&&(nv=new ff),nv}var Zt=class{},Ol=class extends Zt{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dv(e,s=>this.processProvider(s)),this.records.set(iS,Ca(void 0,this)),r.has("environment")&&this.records.set(Zt,Ca(void 0,this));let o=this.records.get(Of);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rS,Pn,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Br(this),i=Mn(void 0),r;try{return e()}finally{Br(n),Mn(i)}}get(e,n=Nl,i=we.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(MT))return e[MT](this);i=kf(i);let r,o=Br(this),s=Mn(void 0);try{if(!(i&we.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=NU(e)&&Pf(e);l&&this.injectableDefInScope(l)?c=Ca(Iv(e),Jh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&we.Self?I_():this.parent;return n=i&we.Optional&&n===Nl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[hf]=a[hf]||[]).unshift(Yt(e)),o)throw a;return vU(a,e,"R3InjectorError",this.source)}else throw a}finally{Mn(s),Br(o)}}resolveInjectorInitializers(){let e=Br(this),n=Mn(void 0),i;try{let r=this.get(Oa,Pn,we.Self);for(let o of r)o()}finally{Br(e),Mn(n)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Yt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Kt(e);let n=Fa(e)?e:Kt(e&&e.provide),i=MU(e);if(!Fa(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Ca(void 0,Jh,!0),r.factory=()=>bv(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){return n.value===Jh&&(n.value=xU,n.value=n.factory()),typeof n.value=="object"&&n.value&&kU(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Kt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Iv(t){let e=Pf(t),n=e!==null?e.factory:Na(t);if(n!==null)return n;if(t instanceof F)throw new Q(204,!1);if(t instanceof Function)return RU(t);throw new Q(204,!1)}function RU(t){if(t.length>0)throw new Q(204,!1);let n=oU(t);return n!==null?()=>n.factory(t):()=>new t}function MU(t){if(aS(t))return Ca(void 0,t.useValue);{let e=cS(t);return Ca(e,Jh)}}function cS(t,e,n){let i;if(Fa(t)){let r=Kt(t);return Na(r)||Iv(r)}else if(aS(t))i=()=>Kt(t.useValue);else if(AU(t))i=()=>t.useFactory(...bv(t.deps||[]));else if(TU(t))i=()=>_(Kt(t.useExisting));else{let r=Kt(t&&(t.useClass||t.provide));if(PU(t))i=()=>new r(...bv(t.deps));else return Na(r)||Iv(r)}return i}function Ca(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function PU(t){return!!t.deps}function kU(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function NU(t){return typeof t=="function"||typeof t=="object"&&t instanceof F}function Dv(t,e){for(let n of t)Array.isArray(n)?Dv(n,e):n&&XA(n)?Dv(n.\u0275providers,e):e(n)}function Ti(t,e){t instanceof Ol&&t.assertNotDestroyed();let n,i=Br(t),r=Mn(void 0);try{return e()}finally{Br(i),Mn(r)}}function OU(t){if(!JA()&&!mU())throw new Q(-203,!1)}function FU(t){let e=Qt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function LU(t){return typeof t=="function"}var Cv=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function lS(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function bn(){return uS}function uS(t){return t.type.prototype.ngOnChanges&&(t.setInput=jU),VU}bn.ngInherit=!0;function VU(){let t=hS(this),e=t?.current;if(e){let n=t.previous;if(n===Ra)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function jU(t,e,n,i,r){let o=this.declaredInputs[i],s=hS(t)||BU(t,{previous:Ra,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Cv(l&&l.currentValue,n,c===Ra),lS(t,e,r,n)}var dS="__ngSimpleChanges__";function hS(t){return t[dS]||null}function BU(t,e){return t[dS]=e}var UT=null;var _i=function(t,e,n){UT?.(t,e,n)};function UU(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=uS(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function D_(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function ef(t,e,n){fS(t,e,3,n)}function tf(t,e,n,i){(t[re]&3)===n&&fS(t,e,n,i)}function iv(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function fS(t,e,n,i){let r=i!==void 0?t[Da]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[Da]+=65536),(a<o||o==-1)&&($U(t,n,e,c),t[Da]=(t[Da]&4294901760)+c+2),c++}function $T(t,e){_i(4,t,e);let n=vn(null);try{e.call(t)}finally{vn(n),_i(5,t,e)}}function $U(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[re]>>14<t[Da]>>16&&(t[re]&3)===e&&(t[re]+=16384,$T(a,o)):$T(a,o)}var xa=-1,Qo=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function HU(t){return t instanceof Qo}function zU(t){return(t.flags&8)!==0}function qU(t){return(t.flags&16)!==0}function pS(t){return t!==xa}function pf(t){return t&32767}function GU(t){return t>>16}function mf(t,e){let n=GU(t),i=e;for(;n>0;)i=i[ja],n--;return i}var Tv=!0;function HT(t){let e=Tv;return Tv=t,e}var WU=256,mS=WU-1,gS=5,KU=0,wi={};function YU(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Al)&&(i=n[Al]),i==null&&(i=n[Al]=KU++);let r=i&mS,o=1<<r;e.data[t+(r>>gS)]|=o}function gf(t,e){let n=yS(t,e);if(n!==-1)return n;let i=e[ve];i.firstCreatePass&&(t.injectorIndex=e.length,rv(i.data,t),rv(e,null),rv(i.blueprint,null));let r=C_(t,e),o=t.injectorIndex;if(pS(r)){let s=pf(r),a=mf(r,e),c=a[ve].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function rv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function C_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=ES(r),i===null)return xa;if(n++,r=r[ja],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return xa}function Av(t,e,n){YU(t,e,n)}function QU(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(vA(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function vS(t,e,n){if(n&we.Optional||t!==void 0)return t;__(e,"NodeInjector")}function _S(t,e,n,i){if(n&we.Optional&&i===void 0&&(i=null),!(n&(we.Self|we.Host))){let r=t[Ma],o=Mn(void 0);try{return r?r.get(e,i,n&we.Optional):eS(e,i,n&we.Optional)}finally{Mn(o)}}return vS(i,e,n)}function wS(t,e,n,i=we.Default,r){if(t!==null){if(e[re]&2048&&!(i&we.Self)){let s=e$(t,e,n,i,wi);if(s!==wi)return s}let o=bS(t,e,n,i,wi);if(o!==wi)return o}return _S(e,n,i,r)}function bS(t,e,n,i,r){let o=XU(n);if(typeof o=="function"){if(!jA(e,t,i))return i&we.Host?vS(r,n,i):_S(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&we.Optional))__(n);else return s}finally{HA()}}else if(typeof o=="number"){let s=null,a=yS(t,e),c=xa,l=i&we.Host?e[Ei][Xn]:null;for((a===-1||i&we.SkipSelf)&&(c=a===-1?C_(t,e):e[a+8],c===xa||!qT(i,!1)?a=-1:(s=e[ve],a=pf(c),e=mf(c,e)));a!==-1;){let u=e[ve];if(zT(o,a,u.data)){let f=ZU(a,e,n,s,i,l);if(f!==wi)return f}c=e[a+8],c!==xa&&qT(i,e[ve].data[a+8]===l)&&zT(o,a,e)?(s=u,a=pf(c),e=mf(c,e)):a=-1}}return r}function ZU(t,e,n,i,r,o){let s=e[ve],a=s.data[t+8],c=i==null?Rf(a)&&Tv:i!=s&&(a.type&3)!==0,l=r&we.Host&&o===a,u=nf(a,s,n,c,l);return u!==null?Zo(e,s,u,a):wi}function nf(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,f=i?a:a+u,m=r?a+u:l;for(let g=f;g<m;g++){let b=s[g];if(g<c&&n===b||g>=c&&b.type===n)return g}if(r){let g=s[c];if(g&&zr(g)&&g.type===n)return c}return null}function Zo(t,e,n,i){let r=t[n],o=e.data;if(HU(r)){let s=r;s.resolving&&uU(lU(o[n]));let a=HT(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Mn(s.injectImpl):null,u=jA(t,i,we.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&UU(n,o[n],e)}finally{l!==null&&Mn(l),HT(a),s.resolving=!1,HA()}}return r}function XU(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Al)?t[Al]:void 0;return typeof e=="number"?e>=0?e&mS:JU:e}function zT(t,e,n){let i=1<<t;return!!(n[e+(t>>gS)]&i)}function qT(t,e){return!(t&we.Self)&&!(t&we.Host&&e)}var Go=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return wS(this._tNode,this._lView,e,kf(i),n)}};function JU(){return new Go(wn(),Ve())}function dr(t){return jl(()=>{let e=t.prototype.constructor,n=e[sf]||Sv(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[sf]||Sv(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Sv(t){return ZA(t)?()=>{let e=Sv(Kt(t));return e&&e()}:Na(t)}function e$(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!(s[re]&512);){let a=bS(o,s,n,i|we.Self,wi);if(a!==wi)return a;let c=o.parent;if(!c){let l=s[AA];if(l){let u=l.get(n,wi,i);if(u!==wi)return u}c=ES(s),s=s[ja]}o=c}return r}function ES(t){let e=t[ve],n=e.type;return n===2?e.declTNode:n===1?t[Xn]:null}function T_(t){return QU(wn(),t)}function GT(t,e=null,n=null,i){let r=IS(t,e,n,i);return r.resolveInjectorInitializers(),r}function IS(t,e=null,n=null,i,r=new Set){let o=[n||Pn,DU(t)];return i=i||(typeof t=="object"?void 0:Yt(t)),new Ol(o,e||I_(),i||null,r)}var ot=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return GT({name:""},r,i,"");{let o=i.name??"";return GT({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=Nl,e.NULL=new ff,e.\u0275prov=k({token:e,providedIn:"any",factory:()=>_(iS)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),t$="ngOriginalError";function ov(t){return t[t$]}var Di=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ov(e);for(;n&&ov(n);)n=ov(n);return n||null}},DS=new F("",{providedIn:"root",factory:()=>j(Di).handleError.bind(void 0)});var CS=!1,n$=new F("",{providedIn:"root",factory:()=>CS});var Yh;function i$(){if(Yh===void 0&&(Yh=null,Qt.trustedTypes))try{Yh=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Yh}function WT(t){return i$()?.createScriptURL(t)||t}var yf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mA})`}};function ql(t){return t instanceof yf?t.changingThisBreaksApplicationSecurity:t}function A_(t,e){let n=r$(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${mA})`)}return n===e}function r$(t){return t instanceof yf&&t.getTypeName()||null}var o$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function TS(t){return t=String(t),t.match(o$)?t:"unsafe:"+t}var Ff=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ff||{});function Jn(t){let e=SS();return e?e.sanitize(Ff.URL,t)||"":A_(t,"URL")?ql(t):TS(ka(t))}function s$(t){let e=SS();if(e)return WT(e.sanitize(Ff.RESOURCE_URL,t)||"");if(A_(t,"ResourceURL"))return WT(ql(t));throw new Q(904,!1)}function a$(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?s$:Jn}function AS(t,e,n){return a$(e,n)(t)}function SS(){let t=Ve();return t&&t[sr].sanitizer}var xS=new Map,c$=0;function l$(){return c$++}function u$(t){xS.set(t[xf],t)}function d$(t){xS.delete(t[xf])}var KT="__ngContext__";function Xo(t,e){qo(e)?(t[KT]=e[xf],u$(e)):t[KT]=e}function RS(t){return t instanceof Function?t():t}function h$(t){return(t??j(ot)).get(pt)==="browser"}var cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(cr||{}),f$;function S_(t,e){return f$(t,e)}function Ta(t,e,n,i,r){if(i!=null){let o,s=!1;ur(i)?o=i:qo(i)&&(s=!0,i=i[lr]);let a=Ii(i);t===0&&n!==null?r==null?OS(e,n,a):vf(e,n,a,r||null,!0):t===1&&n!==null?vf(e,n,a,r||null,!0):t===2?R$(e,a,s):t===3&&e.destroyNode(a),o!=null&&P$(e,t,o,n,r)}}function p$(t,e){return t.createText(e)}function m$(t,e,n){t.setValue(e,n)}function MS(t,e,n){return t.createElement(e,n)}function g$(t,e){PS(t,e),e[lr]=null,e[Xn]=null}function y$(t,e,n,i,r,o){i[lr]=r,i[Xn]=e,Lf(t,i,n,1,r,o)}function PS(t,e){Lf(t,e,e[Dt],2,null,null)}function v$(t){let e=t[Ml];if(!e)return sv(t[ve],t);for(;e;){let n=null;if(qo(e))n=e[Ml];else{let i=e[_n];i&&(n=i)}if(!n){for(;e&&!e[Qn]&&e!==t;)qo(e)&&sv(e[ve],e),e=e[Nt];e===null&&(e=t),qo(e)&&sv(e[ve],e),n=e&&e[Qn]}e=n}}function _$(t,e,n,i){let r=_n+i,o=n.length;i>0&&(n[r-1][Qn]=e),i<o-_n?(e[Qn]=n[r],qA(n,_n+i,e)):(n.push(e),e[Qn]=null),e[Nt]=n;let s=e[Bl];s!==null&&n!==s&&w$(s,e);let a=e[ar];a!==null&&a.insertView(t),gv(e),e[re]|=128}function w$(t,e){let n=t[Pa],r=e[Nt][Nt][Ei];e[Ei]!==r&&(t[re]|=a_.HasTransplantedViews),n===null?t[Pa]=[e]:n.push(e)}function kS(t,e){let n=t[Pa],i=n.indexOf(e);n.splice(i,1)}function xv(t,e){if(t.length<=_n)return;let n=_n+e,i=t[n];if(i){let r=i[Bl];r!==null&&r!==t&&kS(r,i),e>0&&(t[n-1][Qn]=i[Qn]);let o=uf(t,_n+e);g$(i[ve],i);let s=o[ar];s!==null&&s.detachView(o[ve]),i[Nt]=null,i[Qn]=null,i[re]&=-129}return i}function NS(t,e){if(!(e[re]&256)){let n=e[Dt];n.destroyNode&&Lf(t,e,n,3,null,null),v$(e)}}function sv(t,e){if(!(e[re]&256)){e[re]&=-129,e[re]|=256,e[Wo]&&rT(e[Wo]),E$(t,e),b$(t,e),e[ve].type===1&&e[Dt].destroy();let n=e[Bl];if(n!==null&&ur(e[Nt])){n!==e[Nt]&&kS(n,e);let i=e[ar];i!==null&&i.detachView(t)}d$(e)}}function b$(t,e){let n=t.cleanup,i=e[Rl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[Rl]=null);let r=e[Ur];if(r!==null){e[Ur]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function E$(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Qo)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];_i(4,a,c);try{c.call(a)}finally{_i(5,a,c)}}else{_i(4,r,o);try{o.call(r)}finally{_i(5,r,o)}}}}}function I$(t,e,n){return D$(t,e.parent,n)}function D$(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[lr];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===bi.None||o===bi.Emulated)return null}return Nn(i,n)}}function vf(t,e,n,i,r){t.insertBefore(e,n,i,r)}function OS(t,e,n){t.appendChild(e,n)}function YT(t,e,n,i,r){i!==null?vf(t,e,n,i,r):OS(t,e,n)}function C$(t,e,n,i){t.removeChild(e,n,i)}function x_(t,e){return t.parentNode(e)}function T$(t,e){return t.nextSibling(e)}function A$(t,e,n){return x$(t,e,n)}function S$(t,e,n){return t.type&40?Nn(t,n):null}var x$=S$,QT;function R_(t,e,n,i){let r=I$(t,i,e),o=e[Dt],s=i.parent||e[Xn],a=A$(s,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)YT(o,r,n[c],a,!1);else YT(o,r,n,a,!1);QT!==void 0&&QT(o,i,e,n,r)}function rf(t,e){if(e!==null){let n=e.type;if(n&3)return Nn(e,t);if(n&4)return Rv(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return rf(t,i);{let r=t[e.index];return ur(r)?Rv(-1,r):Ii(r)}}else{if(n&32)return S_(e,t)()||Ii(t[e.index]);{let i=FS(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=kl(t[Ei]);return rf(r,i)}else return rf(t,e.next)}}}return null}function FS(t,e){if(e!==null){let i=t[Ei][Xn],r=e.projection;return i.projection[r]}return null}function Rv(t,e){let n=_n+t+1;if(n<e.length){let i=e[n],r=i[ve].firstChild;if(r!==null)return rf(i,r)}return e[Ko]}function R$(t,e,n){let i=x_(t,e);i&&C$(t,i,e,n)}function M_(t,e,n,i,r,o,s){for(;n!=null;){let a=i[n.index],c=n.type;if(s&&e===0&&(a&&Xo(Ii(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)M_(t,e,n.child,i,r,o,!1),Ta(e,t,r,a,o);else if(c&32){let l=S_(n,i),u;for(;u=l();)Ta(e,t,r,u,o);Ta(e,t,r,a,o)}else c&16?M$(t,e,i,n,r,o):Ta(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Lf(t,e,n,i,r,o){M_(n,i,t.firstChild,e,r,o,!1)}function M$(t,e,n,i,r,o){let s=n[Ei],c=s[Xn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ta(e,t,r,u,o)}else{let l=c,u=s[Nt];GA(i)&&(l.flags|=128),M_(t,e,l,u,r,o,!0)}}function P$(t,e,n,i,r){let o=n[Ko],s=Ii(n);o!==s&&Ta(e,t,i,o,r);for(let a=_n;a<n.length;a++){let c=n[a];Lf(c[ve],c,t,e,i,o)}}function k$(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:cr.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=cr.Important),t.setStyle(n,i,r,o))}}function N$(t,e,n){t.setAttribute(e,"style",n)}function LS(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VS(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&mv(t,e,i),r!==null&&LS(t,e,r),o!==null&&N$(t,e,o)}var hr={};function z(t=1){jS(un(),Ve(),ns()+t,!1)}function jS(t,e,n,i){if(!i)if((e[re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ef(e,o,n)}else{let o=t.preOrderHooks;o!==null&&tf(e,o,0,n)}Yo(n)}function L(t,e=we.Default){let n=Ve();if(n===null)return _(t,e);let i=wn();return wS(i,n,Kt(t),e)}function BS(){let t="invalid";throw new Error(t)}function US(t,e,n,i,r,o){let s=vn(null);try{let a=null;r&We.SignalBased&&(a=e[i][eT]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&We.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):lS(e,a,i,o)}finally{vn(s)}}function O$(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Yo(~r);else{let o=r,s=n[++i],a=n[++i];zB(s,o);let c=e[o];a(2,c)}}}finally{Yo(-1)}}function Vf(t,e,n,i,r,o,s,a,c,l,u){let f=e.blueprint.slice();return f[lr]=r,f[re]=i|4|128|8|64,(l!==null||t&&t[re]&2048)&&(f[re]|=2048),PA(f),f[Nt]=f[ja]=t,f[Zn]=n,f[sr]=s||t&&t[sr],f[Dt]=a||t&&t[Dt],f[Ma]=c||t&&t[Ma]||null,f[Xn]=o,f[xf]=l$(),f[af]=u,f[AA]=l,f[Ei]=e.type==2?t[Ei]:f,f}function jf(t,e,n,i,r){let o=t.data[e];if(o===null)o=F$(t,e,n,i,r),HB()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=VB();o.injectorIndex=s===null?-1:s.injectorIndex}return Ul(o,!0),o}function F$(t,e,n,i,r){let o=OA(),s=FA(),a=s?o:o&&o.parent,c=t.data[e]=$$(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function $S(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function HS(t,e,n,i,r){let o=ns(),s=i&2;try{Yo(-1),s&&e.length>Hr&&jS(t,e,Hr,!1),_i(s?2:0,r),n(i,r)}finally{Yo(o),_i(s?3:1,r)}}function zS(t,e,n){if(xA(e)){let i=vn(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{vn(i)}}}function qS(t,e,n){NA()&&(K$(t,e,n,Nn(n,e)),(n.flags&64)===64&&ZS(t,e,n))}function GS(t,e,n=Nn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function WS(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=P_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function P_(t,e,n,i,r,o,s,a,c,l,u){let f=Hr+i,m=f+r,g=L$(f,m),b=typeof l=="function"?l():l;return g[ve]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:u}}function L$(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:hr);return n}function V$(t,e,n,i){let o=i.get(n$,CS)||n===bi.ShadowDom,s=t.selectRootElement(e,o);return j$(s),s}function j$(t){B$(t)}var B$=()=>null;function U$(t,e,n,i){let r=ex(e);r.push(n),t.firstCreatePass&&tx(t).push(i,r.length-1)}function $$(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return OB()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ZT(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=We.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}t===0?XT(i,n,l,a,c):XT(i,n,l,a)}return i}function XT(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function H$(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let f=o[u],m=n?n.get(f):null,g=m?m.inputs:null,b=m?m.outputs:null;c=ZT(0,f.inputs,u,c,g),l=ZT(1,f.outputs,u,l,b);let I=c!==null&&s!==null&&!wA(e)?o4(c,u,s):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function z$(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function KS(t,e,n,i,r,o,s,a){let c=Nn(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(k_(t,n,u,i,r),Rf(e)&&q$(n,e.index)):e.type&3?(i=z$(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function q$(t,e){let n=Gr(e,t);n[re]&16||(n[re]|=64)}function YS(t,e,n,i){if(NA()){let r=i===null?null:{"":-1},o=Q$(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&QS(t,e,n,s,r,a),r&&Z$(n,i,r)}n.mergedAttrs=xl(n.mergedAttrs,n.attrs)}function QS(t,e,n,i,r,o){for(let l=0;l<i.length;l++)Av(gf(n,e),t,i[l].type);J$(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=$S(t,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];n.mergedAttrs=xl(n.mergedAttrs,u.hostAttrs),e4(t,n,e,c,u),X$(c,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let f=u.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}H$(t,n,o)}function G$(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;W$(s)!=a&&s.push(a),s.push(n,i,o)}}function W$(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function K$(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;Rf(n)&&t4(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||gf(n,e),Xo(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],l=Zo(e,t,a,n);if(Xo(l,e),s!==null&&r4(e,a-r,l,c,n,s),zr(c)){let u=Gr(n.index,e);u[Zn]=Zo(e,t,a,n)}}}function ZS(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=qB();try{Yo(o);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];yv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Y$(c,l)}}finally{Yo(-1),yv(s)}}function Y$(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Q$(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(fB(e,s.selectors,!1))if(i||(i=[]),zr(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;Mv(t,e,c)}else i.unshift(s),Mv(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Mv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Z$(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new Q(-301,!1);i.push(e[r],o)}}}function X$(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;zr(e)&&(n[""]=t)}}function J$(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function e4(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Na(r.type,!0)),s=new Qo(o,zr(r),L);t.blueprint[i]=s,n[i]=s,G$(t,e,i,$S(t,n,r.hostVars,hr),r)}function t4(t,e,n){let i=Nn(e,t),r=WS(n),o=t[sr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Bf(t,Vf(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function n4(t,e,n,i,r,o){let s=Nn(t,e);i4(e[Dt],s,o,t.value,n,i,r)}function i4(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?ka(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function r4(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],f=s[a++];US(i,n,c,l,u,f)}}function o4(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function XS(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function JS(t,e){let n=t.contentQueries;if(n!==null){let i=vn(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];d_(o),a.contentQueries(2,e[s],s)}}}finally{vn(i)}}}function Bf(t,e){return t[Ml]?t[FT][Qn]=e:t[Ml]=e,t[FT]=e,e}function Pv(t,e,n){d_(0);let i=vn(null);try{e(t,n)}finally{vn(i)}}function ex(t){return t[Rl]||(t[Rl]=[])}function tx(t){return t.cleanup||(t.cleanup=[])}function nx(t,e){let n=t[Ma],i=n?n.get(Di,null):null;i&&i.handleError(e)}function k_(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];US(u,l,i,a,c,r)}}function ix(t,e,n){let i=RA(e,t);m$(t[Dt],i,n)}function s4(t,e){let n=Gr(e,t),i=n[ve];a4(i,n);let r=n[lr];r!==null&&n[af]===null&&(n[af]=w_(r,n[Ma])),N_(i,n,n[Zn])}function a4(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function N_(t,e,n){h_(e);try{let i=t.viewQuery;i!==null&&Pv(1,i,n);let r=t.template;r!==null&&HS(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ar]?.finishViewCreation(t),t.staticContentQueries&&JS(t,e),t.staticViewQueries&&Pv(2,t.viewQuery,n);let o=t.components;o!==null&&c4(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[re]&=-5,f_()}}function c4(t,e){for(let n=0;n<e.length;n++)s4(t,e[n])}function l4(t,e,n,i){let r=e.tView,s=t[re]&4096?4096:16,a=Vf(t,r,n,s,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),c=t[e.index];a[Bl]=c;let l=t[ar];return l!==null&&(a[ar]=l.createEmbeddedView(r)),N_(r,a,n),a}function JT(t,e){return!e||e.firstChild===null||GA(t)}function u4(t,e,n,i=!0){let r=e[ve];if(_$(r,e,t,n),i){let s=Rv(n,t),a=e[Dt],c=x_(a,t[Ko]);c!==null&&y$(r,t[Xn],a,e,c,s)}let o=e[af];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function _f(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(Ii(o)),ur(o)&&d4(o,i);let s=n.type;if(s&8)_f(t,e,n.child,i);else if(s&32){let a=S_(n,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=FS(e,n);if(Array.isArray(a))i.push(...a);else{let c=kl(e[Ei]);_f(c[ve],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function d4(t,e){for(let n=_n;n<t.length;n++){let i=t[n],r=i[ve].firstChild;r!==null&&_f(i[ve],i,r,e)}t[Ko]!==t[lr]&&e.push(t[Ko])}var rx=[];function h4(t){return t[Wo]??f4(t)}function f4(t){let e=rx.pop()??Object.create(m4);return e.lView=t,e}function p4(t){t.lView[Wo]!==t&&(t.lView=null,rx.push(t))}var m4=Te(V({},tT),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Pl(t.lView)},consumerOnSignalRead(){this.lView[Wo]=this}});function ox(t){return ax(t[Ml])}function sx(t){return ax(t[Qn])}function ax(t){for(;t!==null&&!ur(t);)t=t[Qn];return t}var cx=100;function lx(t,e=!0,n=0){let i=t[sr],r=i.rendererFactory,o=!1;o||r.begin?.();try{g4(t,n)}catch(s){throw e&&nx(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function g4(t,e){kv(t,e);let n=0;for(;u_(t);){if(n===cx)throw new Q(103,!1);n++,kv(t,1)}}function y4(t,e,n,i){let r=e[re];if((r&256)===256)return;let o=!1;!o&&e[sr].inlineEffectRunner?.flush(),h_(e);let s=null,a=null;!o&&v4(t)&&(a=h4(e),s=nT(a));try{PA(e),$B(t.bindingStartIndex),n!==null&&HS(t,e,n,2,i);let c=(r&3)===3;if(!o)if(c){let f=t.preOrderCheckHooks;f!==null&&ef(e,f,null)}else{let f=t.preOrderHooks;f!==null&&tf(e,f,0,null),iv(e,0)}if(_4(e),ux(e,0),t.contentQueries!==null&&JS(t,e),!o)if(c){let f=t.contentCheckHooks;f!==null&&ef(e,f)}else{let f=t.contentHooks;f!==null&&tf(e,f,1),iv(e,1)}O$(t,e);let l=t.components;l!==null&&hx(e,l,0);let u=t.viewQuery;if(u!==null&&Pv(2,u,i),!o)if(c){let f=t.viewCheckHooks;f!==null&&ef(e,f)}else{let f=t.viewHooks;f!==null&&tf(e,f,2),iv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ev]){for(let f of e[ev])f();e[ev]=null}o||(e[re]&=-73)}catch(c){throw Pl(e),c}finally{a!==null&&(iT(a,s),p4(a)),f_()}}function v4(t){return t.type!==2}function ux(t,e){for(let n=ox(t);n!==null;n=sx(n))for(let i=_n;i<n.length;i++){let r=n[i];dx(r,e)}}function _4(t){for(let e=ox(t);e!==null;e=sx(e)){if(!(e[re]&a_.HasTransplantedViews))continue;let n=e[Pa];for(let i=0;i<n.length;i++){let r=n[i],o=r[Nt];xB(r)}}}function w4(t,e,n){let i=Gr(e,t);dx(i,n)}function dx(t,e){l_(t)&&kv(t,e)}function kv(t,e){let i=t[ve],r=t[re],o=t[Wo],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Ny(o)),o&&(o.dirty=!1),t[re]&=-9217,s)y4(i,t,i.template,t[Zn]);else if(r&8192){ux(t,1);let a=i.components;a!==null&&hx(t,a,1)}}function hx(t,e,n){for(let i=0;i<e.length;i++)w4(t,e[i],n)}function O_(t){for(t[sr].changeDetectionScheduler?.notify();t;){t[re]|=64;let e=kl(t);if(EB(t)&&!e)return t;t=e}return null}var Jo=class{get rootNodes(){let e=this._lView,n=e[ve];return _f(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zn]}set context(e){this._lView[Zn]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nt];if(ur(e)){let n=e[cf],i=n?n.indexOf(this):-1;i>-1&&(xv(e,i),uf(n,i))}this._attachedToViewContainer=!1}NS(this._lView[ve],this._lView)}onDestroy(e){kA(this._lView,e)}markForCheck(){O_(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-129}reattach(){gv(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,lx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,PS(this._lView[ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e,gv(this._lView)}},kn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=I4;let t=e;return t})(),b4=kn,E4=class extends b4{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=l4(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new Jo(r)}};function I4(){return F_(wn(),Ve())}function F_(t,e){return t.type&4?new E4(e,t,Ba(t,e)):null}var Pie=new RegExp(`^(\\d+)*(${bU}|${wU})*(.*)`);var D4=()=>null;function eA(t,e){return D4(t,e)}var Nv=class{},Ov=class{},wf=class{};function C4(t){let e=Error(`No component factory found for ${Yt(t)}.`);return e[T4]=t,e}var T4="ngComponent";var Fv=class{resolveComponentFactory(e){throw C4(e)}},Kr=(()=>{let e=class e{};e.NULL=new Fv;let t=e;return t})(),Fl=class{},Yr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>A4();let t=e;return t})();function A4(){let t=Ve(),e=wn(),n=Gr(e.index,t);return(qo(n)?n:t)[Dt]}var S4=(()=>{let e=class e{};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),av={};var tA=new Set;function Uf(t){tA.has(t)||(tA.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function fx(t){return R4(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function x4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function R4(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Lv=class{constructor(){}supports(e){return fx(e)}create(e){return new Vv(e)}},M4=(t,e)=>e,Vv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||M4}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<nA(i,r,o)?n:i,a=nA(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,u=c-r;if(l!=u){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,b=g+m;u<=b&&b<l&&(o[m]=g+1)}let f=s.previousIndex;o[f]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!fx(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,x4(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new jv(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new bf),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new bf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},jv=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Bv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},bf=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Bv,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function nA(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function iA(){return new $f([new Lv])}var $f=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||iA()),deps:[[e,new b_,new $a]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new Q(901,!1)}};e.\u0275prov=k({token:e,providedIn:"root",factory:iA});let t=e;return t})();var ei=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=P4;let t=e;return t})();function P4(t){return k4(wn(),Ve(),(t&16)===16)}function k4(t,e,n){if(Rf(t)&&!n){let i=Gr(t.index,e);return new Jo(i,i)}else if(t.type&47){let i=e[Ei];return new Jo(i,e)}return null}var px=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=N4,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),Uv=class extends px{constructor(e){super(),this._lView=e}onDestroy(e){return kA(this._lView,e),()=>MB(this._lView,e)}};function N4(){return new Uv(Ve())}function rA(...t){}function O4(){let t=typeof Qt.requestAnimationFrame=="function",e=Qt[t?"requestAnimationFrame":"setTimeout"],n=Qt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Z=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=O4().nativeRequestAnimationFrame,V4(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,F4,rA,rA);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},F4={};function L_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function L4(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Qt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$v(t),t.isCheckStableRunning=!0,L_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$v(t))}function V4(t){let e=()=>{L4(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if(j4(a))return n.invokeTask(r,o,s,a);try{return oA(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),sA(t)}},onInvoke:(n,i,r,o,s,a,c)=>{try{return oA(t),n.invoke(r,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),sA(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,$v(t),L_(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function $v(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function oA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sA(t){t._nesting--,L_(t)}var Hv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function j4(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function B4(t="zone.js",e){return t==="noop"?new Hv:t==="zone.js"?new Z(e):t}var Aa=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Aa||{}),U4={destroy(){}};function V_(t,e){!e&&OU(V_);let n=e?.injector??j(ot);if(!h$(n))return U4;Uf("NgAfterNextRender");let i=n.get(j_),r=i.handler??=new qv,o=e?.phase??Aa.MixedReadWrite,s=()=>{r.unregister(c),a()},a=n.get(px).onDestroy(s),c=new zv(n,o,()=>{s(),t()});return r.register(c),{destroy:s}}var zv=class{constructor(e,n,i){this.phase=n,this.callbackFn=i,this.zone=e.get(Z),this.errorHandler=e.get(Di,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},qv=class{constructor(){this.executingCallbacks=!1,this.buckets={[Aa.EarlyRead]:new Set,[Aa.Write]:new Set,[Aa.MixedReadWrite]:new Set,[Aa.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},j_=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Gv(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=RT(r,a);else if(o==2){let c=a,l=e[++s];i=RT(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Ef=class extends Kr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=$r(e);return new La(n,this.ngModule)}};function aA(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function $4(t){let e=t.toLowerCase();return e==="svg"?IB:e==="math"?DB:null}var Wv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=kf(i);let r=this.injector.get(e,av,i);return r!==av||n===av?r:this.parentInjector.get(e,n,i)}},La=class extends wf{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=aA(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return aA(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yB(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){r=r||this.ngModule;let o=r instanceof Zt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Wv(e,o):e,a=s.get(Fl,null);if(a===null)throw new Q(407,!1);let c=s.get(S4,null),l=s.get(j_,null),u=s.get(Nv,null),f={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},m=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=i?V$(m,i,this.componentDef.encapsulation,s):MS(m,g,$4(g)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let E=null;b!==null&&(E=w_(b,s,!0));let A=P_(0,null,null,1,0,null,null,null,null,null,null),B=Vf(null,A,null,I,null,null,f,m,s,null,E);h_(B);let M,R;try{let G=this.componentDef,ee,Ce=null;G.findHostDirectiveDefs?(ee=[],Ce=new Map,G.findHostDirectiveDefs(G,ee,Ce),ee.push(G)):ee=[G];let et=H4(B,b),di=z4(et,b,G,ee,B,f,m);R=MA(A,Hr),b&&W4(m,G,b,i),n!==void 0&&K4(R,this.ngContentSelectors,n),M=G4(di,G,ee,Ce,B,[Y4]),N_(A,B,null)}finally{f_()}return new Kv(this.componentType,M,Ba(R,B),B,R)}},Kv=class extends Ov{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Jo(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;k_(o[ve],o,r,e,n),this.previousInputValues.set(e,n);let s=Gr(this._tNode.index,o);O_(s)}}get injector(){return new Go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function H4(t,e){let n=t[ve],i=Hr;return t[i]=e,jf(n,i,2,"#host",null)}function z4(t,e,n,i,r,o,s){let a=r[ve];q4(i,t,e,s);let c=null;e!==null&&(c=w_(e,r[Ma]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let f=Vf(r,WS(n),null,u,r[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Mv(a,t,i.length-1),Bf(r,f),r[t.index]=f}function q4(t,e,n,i){for(let r of t)e.mergedAttrs=xl(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Gv(e,e.mergedAttrs,!0),n!==null&&VS(i,n,e))}function G4(t,e,n,i,r,o){let s=wn(),a=r[ve],c=Nn(s,r);QS(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let f=s.directiveStart+u,m=Zo(r,a,f,s);Xo(m,r)}ZS(a,r,s),c&&Xo(c,r);let l=Zo(r,a,s.directiveStart+s.componentOffset,s);if(t[Zn]=r[Zn]=l,o!==null)for(let u of o)u(l,e);return zS(a,s,r),l}function W4(t,e,n,i){if(i)mv(t,n,["ng-version","17.2.3"]);else{let{attrs:r,classes:o}=vB(e.selectors[0]);r&&mv(t,n,r),o&&o.length>0&&LS(t,n,o.join(" "))}}function K4(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function Y4(){let t=wn();D_(Ve()[ve],t)}var On=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Q4;let t=e;return t})();function Q4(){let t=wn();return gx(t,Ve())}var Z4=On,mx=class extends Z4{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new Go(this._hostTNode,this._hostLView)}get parentInjector(){let e=C_(this._hostTNode,this._hostLView);if(pS(e)){let n=mf(e,this._hostLView),i=pf(e),r=n[ve].data[i+8];return new Go(r,n)}else return new Go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=cA(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-_n}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=eA(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,JT(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!LU(e),a;if(s)a=n;else{let b=n||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let c=s?e:new La($r(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let I=(s?l:this.parentInjector).get(Zt,null);I&&(o=I)}let u=$r(c.componentType??{}),f=eA(this._lContainer,u?.id??null),m=f?.firstChild??null,g=c.create(l,r,m,o);return this.insertImpl(g.hostView,a,JT(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(SB(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Nt],l=new mx(c,c[Xn],c[Nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return u4(s,r,o,i),e.attachToViewContainerRef(),qA(cv(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=cA(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=xv(this._lContainer,n);i&&(uf(cv(this._lContainer),n),NS(i[ve],i))}detach(e){let n=this._adjustIndex(e,-1),i=xv(this._lContainer,n);return i&&uf(cv(this._lContainer),n)!=null?new Jo(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function cA(t){return t[cf]}function cv(t){return t[cf]||(t[cf]=[])}function gx(t,e){let n,i=e[t.index];return ur(i)?n=i:(n=XS(i,e,null,t),e[t.index]=n,Bf(e,n)),J4(n,e,t,i),new mx(n,t,e)}function X4(t,e){let n=t[Dt],i=n.createComment(""),r=Nn(e,t),o=x_(n,r);return vf(n,o,i,T$(n,r),!1),i}var J4=n3,e3=()=>!1;function t3(t,e,n){return e3(t,e,n)}function n3(t,e,n,i){if(t[Ko])return;let r;n.type&8?r=Ii(i):r=X4(e,n),t[Ko]=r}var Yv=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Qv=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)B_(e,n).matches!==null&&this.queries[n].setDirty()}},Zv=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=u3(e):this.predicate=e}},Xv=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Jv=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,i3(n,o)),this.matchTNodeWithReadOption(e,n,nf(n,e,o,!1,!1))}else i===kn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,nf(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===je||r===On||r===kn&&n.type&4)this.addMatch(n.index,-2);else{let o=nf(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function i3(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function r3(t,e){return t.type&11?Ba(t,e):t.type&4?F_(t,e):null}function o3(t,e,n,i){return n===-1?r3(e,t):n===-2?s3(t,e,i):Zo(t,t[ve],n,e)}function s3(t,e,n){if(n===je)return Ba(e,t);if(n===kn)return F_(e,t);if(n===On)return gx(e,t)}function yx(t,e,n,i){let r=e[ar].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(o3(e,u,s[c+1],n.metadata.read))}}r.matches=a}return r.matches}function e_(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=yx(t,e,r,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let f=_n;f<u.length;f++){let m=u[f];m[Bl]===m[Nt]&&e_(m[ve],m,l,i)}if(u[Pa]!==null){let f=u[Pa];for(let m=0;m<f.length;m++){let g=f[m];e_(g[ve],g,l,i)}}}}}return i}function a3(t,e){return t[ar].queries[e].queryList}function c3(t,e,n){let i=new df((n&4)===4);return U$(t,e,i,i.destroy),(e[ar]??=new Qv).queries.push(new Yv(i))-1}function l3(t,e,n){let i=un();return i.firstCreatePass&&(d3(i,new Zv(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),c3(i,Ve(),e)}function u3(t){return t.split(",").map(e=>e.trim())}function d3(t,e,n){t.queries===null&&(t.queries=new Xv),t.queries.track(new Jv(e,n))}function B_(t,e){return t.queries.getByIndex(e)}function h3(t,e){let n=t[ve],i=B_(n,e);return i.crossesNgTemplate?e_(n,t,e,[]):yx(n,t,i,e)}function f3(t){let e=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=t(r);n.set(r,o=s.then(y3))}return o}return If.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(l=>{r.template=l}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let l=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((f,m)=>{a.push(""),s.push(i(f).then(g=>{a[l+m]=g,u.splice(u.indexOf(f),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(l=>{a.push(l),r.styleUrl=void 0}));let c=Promise.all(s).then(()=>v3(o));e.push(c)}),m3(),Promise.all(e).then(()=>{})}var If=new Map,p3=new Set;function m3(){let t=If;return If=new Map,t}function g3(){return If.size===0}function y3(t){return typeof t=="string"?t:t.text()}function v3(t){p3.delete(t)}function _3(t){return Object.getPrototypeOf(t.prototype).constructor}function Ct(t){let e=_3(t.type),n=!0,i=[t];for(;e;){let r;if(zr(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=Qh(t.inputs),s.inputTransforms=Qh(t.inputTransforms),s.declaredInputs=Qh(t.declaredInputs),s.outputs=Qh(t.outputs);let a=r.hostBindings;a&&D3(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&E3(t,c),l&&I3(t,l),w3(t,r),iB(t.outputs,r.outputs),zr(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ct&&(n=!1)}}e=Object.getPrototypeOf(e)}b3(i)}function w3(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function b3(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=xl(r.hostAttrs,n=xl(n,r.hostAttrs))}}function Qh(t){return t===Ra?{}:t===Pn?[]:t}function E3(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function I3(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function D3(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function Qr(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var qr=class{},Ll=class{};var Df=class extends qr{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ef(this);let r=DA(e);this._bootstrapComponents=RS(r.bootstrap),this._r3Injector=IS(e,n,[{provide:qr,useValue:this},{provide:Kr,useValue:this.componentFactoryResolver},...i],Yt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Cf=class extends Ll{constructor(e){super(),this.moduleType=e}create(e){return new Df(this.moduleType,e,[])}};function C3(t,e,n){return new Df(t,e,n)}var t_=class extends qr{constructor(e){super(),this.componentFactoryResolver=new Ef(this),this.instance=null;let n=new Ol([...e.providers,{provide:qr,useValue:this},{provide:Kr,useValue:this.componentFactoryResolver}],e.parent||I_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Hf(t,e,n=null){return new t_({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var is=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new bt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function T3(t,e,n){return t[e]=n}function es(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function vx(t,e,n,i){let r=es(t,e,n);return es(t,e+1,i)||r}function A3(t,e,n,i,r,o,s,a,c){let l=e.consts,u=jf(e,t,4,s||null,lf(l,a));YS(e,n,u,lf(l,c)),D_(e,u);let f=u.tView=P_(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}function Oe(t,e,n,i,r,o,s,a){let c=Ve(),l=un(),u=t+Hr,f=l.firstCreatePass?A3(u,l,c,e,n,i,r,o,s):l.data[u];Ul(f,!1);let m=S3(l,c,f,t);m_()&&R_(l,c,m,f),Xo(m,c);let g=XS(m,c,m,f);return c[u]=g,Bf(c,g),t3(g,f,c),c_(f)&&qS(l,c,f),s!=null&&GS(c,f,a),Oe}var S3=x3;function x3(t,e,n,i){return g_(!0),e[Dt].createComment("")}function Ot(t,e,n,i){let r=Ve(),o=Mf();if(es(r,o,e)){let s=un(),a=p_();n4(a,r,t,e,n,i)}return Ot}function R3(t,e,n,i){return es(t,Mf(),n)?e+ka(n)+i:hr}function M3(t,e,n,i,r,o){let s=UB(),a=vx(t,s,n,r);return LA(2),a?e+ka(n)+i+ka(r)+o:hr}function Zh(t,e){return t<<17|e<<2}function ts(t){return t>>17&32767}function P3(t){return(t&2)==2}function k3(t,e){return t&131071|e<<17}function n_(t){return t|2}function Va(t){return(t&131068)>>2}function lv(t,e){return t&-131069|e<<2}function N3(t){return(t&1)===1}function i_(t){return t|1}function O3(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=ts(s),c=Va(s);t[i]=n;let l=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||$l(f,u)>0)&&(l=!0)}else u=n;if(r)if(c!==0){let m=ts(t[a+1]);t[i+1]=Zh(m,a),m!==0&&(t[m+1]=lv(t[m+1],i)),t[a+1]=k3(t[a+1],i)}else t[i+1]=Zh(a,0),a!==0&&(t[a+1]=lv(t[a+1],i)),a=i;else t[i+1]=Zh(c,0),a===0?a=i:t[c+1]=lv(t[c+1],i),c=i;l&&(t[i+1]=n_(t[i+1])),lA(t,u,i,!0),lA(t,u,i,!1),F3(e,u,t,i,o),s=Zh(a,c),o?e.classBindings=s:e.styleBindings=s}function F3(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&$l(o,e)>=0&&(n[i+1]=i_(n[i+1]))}function lA(t,e,n,i){let r=t[n+1],o=e===null,s=i?ts(r):Va(r),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];L3(c,e)&&(a=!0,t[s+1]=i?i_(l):n_(l)),s=i?ts(l):Va(l)}a&&(t[n+1]=i?n_(r):i_(r))}function L3(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?$l(t,e)>=0:!1}function ie(t,e,n){let i=Ve(),r=Mf();if(es(i,r,e)){let o=un(),s=p_();KS(o,s,i,t,e,i[Dt],n,!1)}return ie}function uA(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";k_(t,n,o[s],s,i)}function fr(t,e){return V3(t,e,null,!0),fr}function V3(t,e,n,i){let r=Ve(),o=un(),s=LA(2);if(o.firstUpdatePass&&B3(o,t,s,i),e!==hr&&es(r,s,e)){let a=o.data[ns()];q3(o,a,r,r[Dt],t,r[s+1]=G3(e,n),i,s)}}function j3(t,e){return e>=t.expandoStartIndex}function B3(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[ns()],s=j3(t,n);W3(o,i)&&e===null&&!s&&(e=!1),e=U3(r,o,e,i),O3(r,o,e,n,s,i)}}function U3(t,e,n,i){let r=GB(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=uv(null,t,e,n,i),n=Vl(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=uv(r,t,e,n,i),o===null){let c=$3(t,e,i);c!==void 0&&Array.isArray(c)&&(c=uv(null,t,e,c[1],i),c=Vl(c,e.attrs,i),H3(t,e,i,c))}else o=z3(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function $3(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Va(i)!==0)return t[ts(i)]}function H3(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[ts(r)]=i}function z3(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Vl(i,s,n)}return Vl(i,e.attrs,n)}function uv(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=Vl(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Vl(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),tU(t,s,n?!0:e[++o]))}return t===void 0?null:t}function q3(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=N3(l)?dA(c,e,n,r,Va(l),s):void 0;if(!Tf(u)){Tf(o)||P3(l)&&(o=dA(c,null,n,r,a,s));let f=RA(ns(),n);k$(i,s,f,r,o)}}function dA(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),u=l?c[1]:c,f=u===null,m=n[r+1];m===hr&&(m=f?Pn:void 0);let g=f?tv(m,i):u===i?m:void 0;if(l&&!Tf(g)&&(g=tv(c,i)),Tf(g)&&(a=g,s))return a;let b=t[r+1];r=s?ts(b):Va(b)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=tv(c,i))}return a}function Tf(t){return t!==void 0}function G3(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Yt(ql(t)))),t}function W3(t,e){return(t.flags&(e?8:16))!==0}function K3(t,e,n,i,r,o){let s=e.consts,a=lf(s,r),c=jf(e,t,2,i,a);return YS(e,n,c,lf(s,o)),c.attrs!==null&&Gv(c,c.attrs,!1),c.mergedAttrs!==null&&Gv(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function w(t,e,n,i){let r=Ve(),o=un(),s=Hr+t,a=r[Dt],c=o.firstCreatePass?K3(s,o,r,e,n,i):o.data[s],l=Y3(o,r,c,a,e,t);r[s]=l;let u=c_(c);return Ul(c,!0),VS(a,l,c),(c.flags&32)!==32&&m_()&&R_(o,r,l,c),PB()===0&&Xo(l,r),kB(),u&&(qS(o,r,c),zS(o,c,r)),i!==null&&GS(r,c),w}function v(){let t=wn();FA()?jB():(t=t.parent,Ul(t,!1));let e=t;FB(e)&&LB(),NB();let n=un();return n.firstCreatePass&&(D_(n,t),xA(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&zU(e)&&uA(n,e,Ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&qU(e)&&uA(n,e,Ve(),e.stylesWithoutHost,!1),v}function O(t,e,n,i){return w(t,e,n,i),v(),O}var Y3=(t,e,n,i,r,o)=>(g_(!0),MS(i,r,YB()));function Ai(){return Ve()}function zf(t,e,n){let i=Ve(),r=Mf();if(es(i,r,e)){let o=un(),s=p_();KS(o,s,i,t,e,i[Dt],n,!0)}return zf}var Af="en-US";var Q3=Af;function Z3(t){typeof t=="string"&&(Q3=t.toLowerCase().replace(/_/g,"-"))}function ze(t,e,n,i){let r=Ve(),o=un(),s=wn();return J3(o,r,r[Dt],s,t,e,i),ze}function X3(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Rl],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function J3(t,e,n,i,r,o,s){let a=c_(i),l=t.firstCreatePass&&tx(t),u=e[Zn],f=ex(e),m=!0;if(i.type&3||s){let I=Nn(i,e),E=s?s(I):I,A=f.length,B=s?R=>s(Ii(R[i.index])):i.index,M=null;if(!s&&a&&(M=X3(t,e,r,i.index)),M!==null){let R=M.__ngLastListenerFn__||M;R.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,m=!1}else{o=fA(i,e,u,o,!1);let R=n.listen(E,r,o);f.push(o,R),l&&l.push(r,B,A,A+1)}}else o=fA(i,e,u,o,!1);let g=i.outputs,b;if(m&&g!==null&&(b=g[r])){let I=b.length;if(I)for(let E=0;E<I;E+=2){let A=b[E],B=b[E+1],G=e[A][B].subscribe(o),ee=f.length;if(f.push(o,G),l){let Ce=typeof G=="function"?ee+1:-(ee+1);l.push(r,i.index,ee,Ce)}}}}function hA(t,e,n,i){try{return _i(6,e,n),n(i)!==!1}catch(r){return nx(t,r),!1}finally{_i(7,e,n)}}function fA(t,e,n,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?Gr(t.index,e):e;O_(a);let c=hA(e,n,i,s),l=o.__ngNextListenerFn__;for(;l;)c=hA(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function Ze(t=1){return KB(t)}function qf(t,e,n){l3(t,e,n)}function Gl(t){let e=Ve(),n=un(),i=VA();d_(i+1);let r=B_(n,i);if(t.dirty&&AB(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=h3(e,i);t.reset(o,ZB),t.notifyOnChanges()}return!0}return!1}function Wl(){return a3(Ve(),VA())}function S(t,e=""){let n=Ve(),i=un(),r=t+Hr,o=i.firstCreatePass?jf(i,r,1,e,null):i.data[r],s=e5(i,n,o,e,t);n[r]=s,m_()&&R_(i,n,s,o),Ul(o,!1)}var e5=(t,e,n,i,r)=>(g_(!0),p$(e[Dt],i));function fn(t){return Xt("",t,""),fn}function Xt(t,e,n){let i=Ve(),r=R3(i,t,e,n);return r!==hr&&ix(i,ns(),r),Xt}function Kl(t,e,n,i,r){let o=Ve(),s=M3(o,t,e,n,i,r);return s!==hr&&ix(o,ns(),s),Kl}function t5(t,e,n){let i=un();if(i.firstCreatePass){let r=zr(t);r_(n,i.data,i.blueprint,r,!0),r_(e,i.data,i.blueprint,r,!1)}}function r_(t,e,n,i,r){if(t=Kt(t),Array.isArray(t))for(let o=0;o<t.length;o++)r_(t[o],e,n,i,r);else{let o=un(),s=Ve(),a=wn(),c=Fa(t)?t:Kt(t.provide),l=cS(t),u=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Fa(t)||!t.multi){let g=new Qo(l,r,L),b=hv(c,e,r?u:u+m,f);b===-1?(Av(gf(a,s),o,c),dv(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[b]=g,s[b]=g)}else{let g=hv(c,e,u+m,f),b=hv(c,e,u,u+m),I=g>=0&&n[g],E=b>=0&&n[b];if(r&&!E||!r&&!I){Av(gf(a,s),o,c);let A=r5(r?i5:n5,n.length,r,i,l);!r&&E&&(n[b].providerFactory=A),dv(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(A),s.push(A)}else{let A=_x(n[r?b:g],l,!r&&i);dv(o,t,g>-1?g:b,A)}!r&&i&&E&&n[b].componentProviders++}}}function dv(t,e,n,i){let r=Fa(e),o=SU(e);if(r||o){let c=(o?Kt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function _x(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hv(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function n5(t,e,n,i){return o_(this.multi,[])}function i5(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Zo(n,n[ve],this.providerFactory.index,i);o=a.slice(0,s),o_(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],o_(r,o);return o}function o_(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function r5(t,e,n,i,r){let o=new Qo(t,n,L);return o.multi=[],o.index=e,o.componentProviders=0,_x(o,r,i&&!n),o}function Si(t,e=[]){return n=>{n.providersResolver=(i,r)=>t5(i,r?r(t):t,e)}}var o5=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=oS(!1,i.type),o=r.length>0?Hf([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=k({token:e,providedIn:"environment",factory:()=>new e(_(Zt))});let t=e;return t})();function Zr(t){Uf("NgStandalone"),t.getStandaloneInjector=e=>e.get(o5).getOrCreateStandaloneInjector(t)}function U_(t,e,n,i,r){return a5(Ve(),BB(),t,e,n,i,r)}function s5(t,e){let n=t[e];return n===hr?void 0:n}function a5(t,e,n,i,r,o,s){let a=e+n;return vx(t,a,r,o)?T3(t,a+2,s?i.call(s,r,o):i(r,o)):s5(t,a+2)}var Xh=null;function c5(t){Xh!==null&&(t.defaultEncapsulation!==Xh.defaultEncapsulation||t.preserveWhitespaces!==Xh.preserveWhitespaces)||(Xh=t)}var Ci=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},wx=new Ci("17.2.3"),Gf=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var $_=new F(""),Yl=new F(""),Wf=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,H_||(l5(o),o.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),i()},r)),this._callbacks.push({doneCb:i,timeoutId:s,updateCb:o})}whenStable(i,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,o){return[]}};e.\u0275fac=function(r){return new(r||e)(_(Z),_(Kf),_(Yl))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Kf=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return H_?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function l5(t){H_=t}var H_;function rs(t){return!!t&&typeof t.then=="function"}function bx(t){return!!t&&typeof t.subscribe=="function"}var Yf=new F(""),Ex=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=j(Yf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if(rs(s))i.push(s);else if(bx(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qf=new F("");function u5(){oT(()=>{throw new Q(600,!1)})}function d5(t){return t.isBoundToModule}function h5(t,e,n){try{let i=n();return rs(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function Ix(t,e){return Array.isArray(e)?e.reduce(Ix,t):V(V({},t),e)}var pr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(DS),this.afterRenderEffectManager=j(j_),this.componentTypes=[],this.components=[],this.isStable=j(is).hasPendingTasks.pipe(Y(i=>!i)),this._injector=j(Zt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof wf;if(!this._injector.get(Ex).done){let g=!o&&IA(i),b=!1;throw new Q(405,b)}let a;o?a=i:a=this._injector.get(Kr).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=d5(a)?void 0:this._injector.get(qr),l=r||a.selector,u=a.create(ot.NULL,[],l,c),f=u.location.nativeElement,m=u.injector.get($_,null);return m?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),of(this.components,u),m?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Q(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===cx)throw new Q(103,!1);let o=i===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!fv(s)||this.detectChangesInView(s,a,o);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:s})=>fv(s))&&(r.execute(),!this._views.some(({_lView:s})=>fv(s))))break}}detectChangesInView(i,r,o){let s;o?(s=0,i[re]|=1024):i[re]&64?s=0:s=1,lx(i,r,s)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;of(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Qf,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>of(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Q(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function of(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function fv(t){return u_(t)}var s_=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Zf=(()=>{let e=class e{compileModuleSync(i){return new Cf(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=DA(i),s=RS(o.declarations).reduce((a,c)=>{let l=$r(c);return l&&a.push(new La(l)),a},[]);return new s_(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),f5=new F("");function p5(t,e,n){let i=new Cf(n);return Promise.resolve(i)}function pA(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var m5=(()=>{let e=class e{constructor(){this.zone=j(Z),this.applicationRef=j(pr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function g5(t){return[{provide:Z,useFactory:t},{provide:Oa,multi:!0,useFactory:()=>{let e=j(m5,{optional:!0});return()=>e.initialize()}},{provide:Oa,multi:!0,useFactory:()=>{let e=j(_5);return()=>{e.initialize()}}},{provide:DS,useFactory:y5}]}function y5(){let t=j(Z),e=j(Di);return n=>t.runOutsideAngular(()=>e.handleError(n))}function v5(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var _5=(()=>{let e=class e{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=j(Z),this.pendingTasks=j(is)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Z.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function w5(){return typeof $localize<"u"&&$localize.locale||Af}var Xf=new F("",{providedIn:"root",factory:()=>j(Xf,we.Optional|we.SkipSelf)||w5()});var Dx=new F(""),Cx=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let o=B4(r?.ngZone,v5({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let s=C3(i.moduleType,this.injector,g5(()=>o)),a=s.injector.get(Di,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{of(this._modules,s),c.unsubscribe()})}),h5(a,o,()=>{let c=s.injector.get(Ex);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(Xf,Af);return Z3(l||Af),this._moduleDoBootstrap(s),s})})})}bootstrapModule(i,r=[]){let o=Ix({},r);return p5(this.injector,o,i).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(i){let r=i.injector.get(pr);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new Q(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Q(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(Dx,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(_(ot))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Sl=null,Tx=new F("");function b5(t){if(Sl&&!Sl.get(Tx,!1))throw new Q(400,!1);u5(),Sl=t;let e=t.get(Cx);return D5(t),e}function z_(t,e,n=[]){let i=`Platform: ${e}`,r=new F(i);return(o=[])=>{let s=Ax();if(!s||s.injector.get(Tx,!1)){let a=[...n,...o,{provide:r,useValue:!0}];t?t(a):b5(E5(a,i))}return I5(r)}}function E5(t=[],e){return ot.create({name:e,providers:[{provide:Of,useValue:"platform"},{provide:Dx,useValue:new Set([()=>Sl=null])},...t]})}function I5(t){let e=Ax();if(!e)throw new Q(401,!1);return e}function Ax(){return Sl?.get(Cx)??null}function D5(t){t.get(v_,null)?.forEach(n=>n())}function q_(){return!1}var Sx=z_(null,"core",[]),xx=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(_(pr))},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})();function xi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Rx(t){let e=$r(t);if(!e)return null;let n=new La(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Fx=null;function Ri(){return Fx}function Lx(t){Fx??=t}var Jf=class{};var he=new F(""),Z_=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>j(A5),providedIn:"platform"});let t=e;return t})(),Vx=new F(""),A5=(()=>{let e=class e extends Z_{constructor(){super(),this._doc=j(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ri().getBaseHref(this._doc)}onPopState(i){let r=Ri().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Ri().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function X_(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Mx(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function mr(t){return t&&t[0]!=="?"?"?"+t:t}var gr=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>j(J_),providedIn:"root"});let t=e;return t})(),jx=new F(""),J_=(()=>{let e=class e extends gr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return X_(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+mr(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+mr(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+mr(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(_(Z_),_(jx,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bx=(()=>{let e=class e extends gr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=X_(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+mr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+mr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(_(Z_),_(jx,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Mi=(()=>{let e=class e{constructor(i){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=R5(Mx(Px(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+mr(r))}normalize(i){return e.stripTrailingSlash(x5(this._basePath,Px(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+mr(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+mr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=mr,e.joinWithSlash=X_,e.stripTrailingSlash=Mx,e.\u0275fac=function(r){return new(r||e)(_(gr))},e.\u0275prov=k({token:e,factory:()=>S5(),providedIn:"root"});let t=e;return t})();function S5(){return new Mi(_(gr))}function x5(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Px(t){return t.replace(/\/index.html$/,"")}function R5(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ep(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var G_=/\s+/,kx=[],Ux=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=kx,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(G_):kx}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(G_):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(G_).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(L(je),L(Yr))},e.\u0275dir=Ne({type:e,selectors:[["","ngClass",""]],inputs:{klass:[We.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var W_=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Xr=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new W_(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,a),Nx(c,o)}});for(let o=0,s=r.length;o<s;o++){let c=r.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);Nx(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(L(On),L(kn),L($f))},e.\u0275dir=Ne({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Nx(t,e){t.context.$implicit=e.item}var Jr=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new K_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Ox("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Ox("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(L(On),L(kn))},e.\u0275dir=Ne({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),K_=class{constructor(){this.$implicit=null,this.ngIf=null}};function Ox(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Yt(e)}'.`)}var $x=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})(),ew="browser",M5="server";function tw(t){return t===ew}function os(t){return t===M5}var Hx=(()=>{let e=class e{};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>tw(j(pt))?new Y_(j(he),window):new Q_});let t=e;return t})(),Y_=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=P5(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function P5(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var Q_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ha=class{};var Zl=class{},np=class{},yr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var iw=class{encodeKey(e){return zx(e)}encodeValue(e){return zx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function O5(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var F5=/%(\d[a-f0-9])/gi,L5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zx(t){return encodeURIComponent(t).replace(F5,(e,n)=>L5[n]??e)}function tp(t){return`${t}`}var eo=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new iw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=O5(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(tp):[tp(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(tp(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(tp(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var rw=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function V5(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function qx(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Gx(t){return typeof Blob<"u"&&t instanceof Blob}function Wx(t){return typeof FormData<"u"&&t instanceof FormData}function j5(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ql=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(V5(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new yr,this.context??=new rw,!this.params)this.params=new eo,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:qx(this.body)||Gx(this.body)||Wx(this.body)||j5(this.body)||typeof this.body=="string"?this.body:this.body instanceof eo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Wx(this.body)?null:Gx(this.body)?this.body.type||null:qx(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof eo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,m)=>f.set(m,e.setHeaders[m]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,m)=>f.set(m,e.setParams[m]),l)),new t(n,i,o,{params:l,headers:c,context:u,reportProgress:a,responseType:r,withCredentials:s})}},za=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(za||{}),Xl=class{constructor(e,n=op.Ok,i="OK"){this.headers=e.headers||new yr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ow=class t extends Xl{constructor(e={}){super(e),this.type=za.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ip=class t extends Xl{constructor(e={}){super(e),this.type=za.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},rp=class extends Xl{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},op=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(op||{});function nw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ss=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof Ql)s=i;else{let l;o.headers instanceof yr?l=o.headers:l=new yr(o.headers);let u;o.params&&(o.params instanceof eo?u=o.params:u=new eo({fromObject:o.params})),s=new Ql(i,r,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=W(s).pipe(or(l=>this.handler.handle(l)));if(i instanceof Ql||o.observe==="events")return a;let c=a.pipe(Pe(l=>l instanceof ip));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Y(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(Y(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new eo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,nw(o,r))}post(i,r,o={}){return this.request("POST",i,nw(o,r))}put(i,r,o={}){return this.request("PUT",i,nw(o,r))}};e.\u0275fac=function(r){return new(r||e)(_(Zl))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function Zx(t,e){return e(t)}function B5(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function U5(t,e,n){return(i,r)=>Ti(n,()=>e(i,o=>t(o,r)))}var $5=new F(""),sw=new F(""),H5=new F(""),z5=new F("");function q5(){let t=null;return(e,n)=>{t===null&&(t=(j($5,{optional:!0})??[]).reduceRight(B5,Zx));let i=j(is),r=i.add();return t(e,n).pipe(jr(()=>i.remove(r)))}}var Kx=(()=>{let e=class e extends Zl{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=j(is);let o=j(z5,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(sw),...this.injector.get(H5,[])]));this.chain=o.reduceRight((s,a)=>U5(s,a,this.injector),Zx)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(jr(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(_(np),_(Zt))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();var G5=/^\)\]\}',?\n/;function W5(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Yx=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new Q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ye(r.\u0275loadImpl()):W(null)).pipe($e(()=>new ne(s=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((E,A)=>a.setRequestHeader(E,A.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let E=i.detectContentTypeHeader();E!==null&&a.setRequestHeader("Content-Type",E)}if(i.responseType){let E=i.responseType.toLowerCase();a.responseType=E!=="json"?E:"text"}let c=i.serializeBody(),l=null,u=()=>{if(l!==null)return l;let E=a.statusText||"OK",A=new yr(a.getAllResponseHeaders()),B=W5(a)||i.url;return l=new ow({headers:A,status:a.status,statusText:E,url:B}),l},f=()=>{let{headers:E,status:A,statusText:B,url:M}=u(),R=null;A!==op.NoContent&&(R=typeof a.response>"u"?a.responseText:a.response),A===0&&(A=R?op.Ok:0);let G=A>=200&&A<300;if(i.responseType==="json"&&typeof R=="string"){let ee=R;R=R.replace(G5,"");try{R=R!==""?JSON.parse(R):null}catch(Ce){R=ee,G&&(G=!1,R={error:Ce,text:R})}}G?(s.next(new ip({body:R,headers:E,status:A,statusText:B,url:M||void 0})),s.complete()):s.error(new rp({error:R,headers:E,status:A,statusText:B,url:M||void 0}))},m=E=>{let{url:A}=u(),B=new rp({error:E,status:a.status||0,statusText:a.statusText||"Unknown Error",url:A||void 0});s.error(B)},g=!1,b=E=>{g||(s.next(u()),g=!0);let A={type:za.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(A.total=E.total),i.responseType==="text"&&a.responseText&&(A.partialText=a.responseText),s.next(A)},I=E=>{let A={type:za.UploadProgress,loaded:E.loaded};E.lengthComputable&&(A.total=E.total),s.next(A)};return a.addEventListener("load",f),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),i.reportProgress&&(a.addEventListener("progress",b),c!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),s.next({type:za.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",f),a.removeEventListener("timeout",m),i.reportProgress&&(a.removeEventListener("progress",b),c!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(_(Ha))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Xx=new F(""),K5="XSRF-TOKEN",Y5=new F("",{providedIn:"root",factory:()=>K5}),Q5="X-XSRF-TOKEN",Z5=new F("",{providedIn:"root",factory:()=>Q5}),sp=class{},X5=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=ep(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(_(he),_(pt),_(Y5))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function J5(t,e){let n=t.url.toLowerCase();if(!j(Xx)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=j(sp).getToken(),r=j(Z5);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var Jx=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Jx||{});function eH(t,e){return{\u0275kind:t,\u0275providers:e}}function tH(...t){let e=[ss,Yx,Kx,{provide:Zl,useExisting:Kx},{provide:np,useExisting:Yx},{provide:sw,useValue:J5,multi:!0},{provide:Xx,useValue:!0},{provide:sp,useClass:X5}];for(let n of t)e.push(...n.\u0275providers);return Nf(e)}var Qx=new F("");function nH(){return eH(Jx.LegacyInterceptors,[{provide:Qx,useFactory:q5},{provide:sw,useExisting:Qx,multi:!0}])}var eR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({providers:[tH(nH())]});let t=e;return t})();var uw=class extends Jf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},dw=class t extends uw{static makeCurrent(){Lx(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=iH();return n==null?null:rH(n)}resetBaseElement(){Jl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ep(document.cookie,e)}},Jl=null;function iH(){return Jl=Jl||document.querySelector("base"),Jl?Jl.getAttribute("href"):null}function rH(t){return new URL(t,document.baseURI).pathname}var hw=class{addToWindow(e){Qt.getAngularTestability=(i,r=!0)=>{let o=e.findTestabilityInTree(i,r);if(o==null)throw new Q(5103,!1);return o},Qt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Qt.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=Qt.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Qt.frameworkStabilizers||(Qt.frameworkStabilizers=[]),Qt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?Ri().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},oH=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),fw=new F(""),rR=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(_(fw),_(Z))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),ap=class{constructor(e){this._doc=e}},cw="ng-app-id",oR=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=os(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${cw}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(cw),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(cw,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(_(he),_(Hl),_(zl,8),_(pt))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),lw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mw=/%COMP%/g,sR="%COMP%",sH=`_nghost-${sR}`,aH=`_ngcontent-${sR}`,cH=!0,lH=new F("",{providedIn:"root",factory:()=>cH});function uH(t){return aH.replace(mw,t)}function dH(t){return sH.replace(mw,t)}function aR(t,e){return e.map(n=>n.replace(mw,t))}var tR=(()=>{let e=class e{constructor(i,r,o,s,a,c,l,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=os(c),this.defaultRenderer=new eu(i,a,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===bi.ShadowDom&&(r=Te(V({},r),{encapsulation:bi.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof cp?o.applyToHost(i):o instanceof tu&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case bi.Emulated:s=new cp(l,u,r,this.appId,f,a,c,m);break;case bi.ShadowDom:return new pw(l,u,i,r,a,c,this.nonce,m);default:s=new tu(l,u,r,f,a,c,m);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(_(rR),_(oR),_(Hl),_(lH),_(he),_(pt),_(Z),_(zl))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),eu=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(lw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(nR(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(nR(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Q(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=lw[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=lw[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(cr.DashCase|cr.Important)?e.style.setProperty(n,i,r&cr.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&cr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Ri().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function nR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var pw=class extends eu{constructor(e,n,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=aR(r.id,r.styles);for(let u of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tu=class extends eu{constructor(e,n,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?aR(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},cp=class extends tu{constructor(e,n,i,r,o,s,a,c){let l=r+"-"+i.id;super(e,n,i,o,s,a,c,l),this.contentAttr=uH(l),this.hostAttr=dH(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},hH=(()=>{let e=class e extends ap{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(_(he))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),iR=["alt","control","meta","shift"],fH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pH={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},mH=(()=>{let e=class e extends ap{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ri().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),iR.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),a+=u+".")}),a+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(i,r){let o=fH[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),iR.forEach(a=>{if(a!==o){let c=pH[a];c(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(_(he))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function gH(){dw.makeCurrent()}function yH(){return new Di}function vH(){return WA(document),document}var _H=[{provide:pt,useValue:ew},{provide:v_,useValue:gH,multi:!0},{provide:he,useFactory:vH,deps:[]}],cR=z_(Sx,"browser",_H),wH=new F(""),bH=[{provide:Yl,useClass:hw,deps:[]},{provide:$_,useClass:Wf,deps:[Z,Kf,Yl]},{provide:Wf,useClass:Wf,deps:[Z,Kf,Yl]}],EH=[{provide:Of,useValue:"root"},{provide:Di,useFactory:yH,deps:[]},{provide:fw,useClass:hH,multi:!0,deps:[he,Z,pt]},{provide:fw,useClass:mH,multi:!0,deps:[he]},tR,oR,rR,{provide:Fl,useExisting:tR},{provide:Ha,useClass:oH,deps:[]},[]],lR=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Hl,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(_(wH,12))},e.\u0275mod=oe({type:e}),e.\u0275inj=se({providers:[...EH,...bH],imports:[$x,xx]});let t=e;return t})();var uR=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(_(he))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var me="primary",gu=Symbol("RouteTitle"),ww=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ya(t){return new ww(t)}function IH(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function DH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ki(t[n],e[n]))return!1;return!0}function ki(t,e){let n=t?bw(t):void 0,i=e?bw(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!wR(t[r],e[r]))return!1;return!0}function bw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function wR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function bR(t){return t.length>0?t[t.length-1]:null}function ro(t){return $h(t)?t:rs(t)?ye(Promise.resolve(t)):W(t)}var CH={exact:IR,subset:DR},ER={exact:TH,subset:AH,ignored:()=>!0};function hR(t,e,n){return CH[n.paths](t.root,e.root,n.matrixParams)&&ER[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function TH(t,e){return ki(t,e)}function IR(t,e,n){if(!cs(t.segments,e.segments)||!dp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!IR(t.children[i],e.children[i],n))return!1;return!0}function AH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>wR(t[n],e[n]))}function DR(t,e,n){return CR(t,e,e.segments,n)}function CR(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!cs(r,n)||e.hasChildren()||!dp(r,n,i))}else if(t.segments.length===n.length){if(!cs(t.segments,n)||!dp(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!DR(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!cs(t.segments,r)||!dp(t.segments,r,i)||!t.children[me]?!1:CR(t.children[me],e,o,i)}}function dp(t,e,n){return e.every((i,r)=>ER[n](t[r].parameters,i.parameters))}var to=class{constructor(e=new Fe([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ya(this.queryParams),this._queryParamMap}toString(){return RH.serialize(this)}},Fe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hp(this)}},as=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ya(this.parameters),this._parameterMap}toString(){return AR(this)}};function SH(t,e){return cs(t,e)&&t.every((n,i)=>ki(n.parameters,e[i].parameters))}function cs(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function xH(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===me&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==me&&(n=n.concat(e(r,i)))}),n}var yu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>new cu,providedIn:"root"});let t=e;return t})(),cu=class{parse(e){let n=new Iw(e);return new to(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${nu(e.root,!0)}`,i=kH(e.queryParams),r=typeof e.fragment=="string"?`#${MH(e.fragment)}`:"";return`${n}${i}${r}`}},RH=new cu;function hp(t){return t.segments.map(e=>AR(e)).join("/")}function nu(t,e){if(!t.hasChildren())return hp(t);if(e){let n=t.children[me]?nu(t.children[me],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==me&&i.push(`${r}:${nu(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=xH(t,(i,r)=>r===me?[nu(t.children[me],!1)]:[`${r}:${nu(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${hp(t)}/${n[0]}`:`${hp(t)}/(${n.join("//")})`}}function TR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lp(t){return TR(t).replace(/%3B/gi,";")}function MH(t){return encodeURI(t)}function Ew(t){return TR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fp(t){return decodeURIComponent(t)}function fR(t){return fp(t.replace(/\+/g,"%20"))}function AR(t){return`${Ew(t.path)}${PH(t.parameters)}`}function PH(t){return Object.entries(t).map(([e,n])=>`;${Ew(e)}=${Ew(n)}`).join("")}function kH(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${lp(n)}=${lp(r)}`).join("&"):`${lp(n)}=${lp(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var NH=/^[^\/()?;#]+/;function gw(t){let e=t.match(NH);return e?e[0]:""}var OH=/^[^\/()?;=#]+/;function FH(t){let e=t.match(OH);return e?e[0]:""}var LH=/^[^=?&#]+/;function VH(t){let e=t.match(LH);return e?e[0]:""}var jH=/^[^&#]+/;function BH(t){let e=t.match(jH);return e?e[0]:""}var Iw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[me]=new Fe(e,n)),i}parseSegment(){let e=gw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new as(fp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=FH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=gw(this.remaining);r&&(i=r,this.capture(i))}e[fp(n)]=fp(i)}parseQueryParam(e){let n=VH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=BH(this.remaining);s&&(i=s,this.capture(i))}let r=fR(n),o=fR(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=gw(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Q(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[me]:new Fe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function SR(t){return t.segments.length>0?new Fe([],{[me]:t}):t}function xR(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=xR(r);if(i===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Fe(t.segments,e);return UH(n)}function UH(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new Fe(t.segments.concat(e.segments),e.children)}return t}function Qa(t){return t instanceof to}function $H(t,e,n=null,i=null){let r=RR(t);return MR(r,e,n,i)}function RR(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Fe(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=SR(i);return e??r}function MR(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return yw(r,r,r,n,i);let o=HH(e);if(o.toRoot())return yw(r,r,new Fe([],{}),n,i);let s=zH(o,r,t),a=s.processChildren?ou(s.segmentGroup,s.index,o.commands):kR(s.segmentGroup,s.index,o.commands);return yw(r,s.segmentGroup,a,n,i)}function pp(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function lu(t){return typeof t=="object"&&t!=null&&t.outlets}function yw(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=PR(t,e,n);let a=SR(xR(s));return new to(a,o,r)}function PR(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=PR(o,e,n)}),new Fe(t.segments,i)}var mp=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&pp(i[0]))throw new Q(4003,!1);let r=i.find(lu);if(r&&r!==bR(i))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function HH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new mp(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new mp(n,e,i)}var Wa=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function zH(t,e,n){if(t.isAbsolute)return new Wa(e,!0,0);if(!n)return new Wa(e,!1,NaN);if(n.parent===null)return new Wa(n,!0,0);let i=pp(t.commands[0])?0:1,r=n.segments.length-1+i;return qH(n,r,t.numberOfDoubleDots)}function qH(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Q(4005,!1);r=i.segments.length}return new Wa(i,!1,r-o)}function GH(t){return lu(t[0])?t[0].outlets:{[me]:t}}function kR(t,e,n){if(t??=new Fe([],{}),t.segments.length===0&&t.hasChildren())return ou(t,e,n);let i=WH(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Fe(t.segments.slice(0,i.pathIndex),{});return o.children[me]=new Fe(t.segments.slice(i.pathIndex),t.children),ou(o,0,r)}else return i.match&&r.length===0?new Fe(t.segments,{}):i.match&&!t.hasChildren()?Dw(t,e,n):i.match?ou(t,0,r):Dw(t,e,n)}function ou(t,e,n){if(n.length===0)return new Fe(t.segments,{});{let i=GH(n),r={};if(Object.keys(i).some(o=>o!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let o=ou(t.children[me],e,n);return new Fe(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=kR(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Fe(t.segments,r)}}function WH(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(lu(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!mR(c,l,s))return o;i+=2}else{if(!mR(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Dw(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(lu(o)){let c=KH(o.outlets);return new Fe(i,c)}if(r===0&&pp(n[0])){let c=t.segments[e];i.push(new as(c.path,pR(n[0]))),r++;continue}let s=lu(o)?o.outlets[me]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&pp(a)?(i.push(new as(s,pR(a))),r+=2):(i.push(new as(s,{})),r++)}return new Fe(i,{})}function KH(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Dw(new Fe([],{}),0,i))}),e}function pR(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function mR(t,e,n){return t==n.path&&ki(e,n.parameters)}var su="imperative",Tt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Tt||{}),Ln=class{constructor(e,n){this.id=e,this.url=n}},Za=class extends Ln{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Tt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ni=class extends Ln{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Fn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Fn||{}),gp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(gp||{}),no=class extends Ln{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},io=class extends Ln{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Tt.NavigationSkipped}},uu=class extends Ln{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yp=class extends Ln{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cw=class extends Ln{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tw=class extends Ln{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Aw=class extends Ln{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sw=class extends Ln{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xw=class{constructor(e){this.route=e,this.type=Tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rw=class{constructor(e){this.route=e,this.type=Tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Mw=class{constructor(e){this.snapshot=e,this.type=Tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pw=class{constructor(e){this.snapshot=e,this.type=Tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kw=class{constructor(e){this.snapshot=e,this.type=Tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nw=class{constructor(e){this.snapshot=e,this.type=Tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vp=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=Tt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},du=class{},hu=class{constructor(e){this.url=e}};var Ow=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vu,this.attachRef=null}},vu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Ow,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_p=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Fw(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=Fw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Lw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Lw(e,this._root).map(n=>n.value)}};function Fw(t,e){if(t===e.value)return e;for(let n of e.children){let i=Fw(t,n);if(i)return i}return null}function Lw(t,e){if(t===e.value)return[e];for(let n of e.children){let i=Lw(t,n);if(i.length)return i.unshift(e),i}return[]}var En=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ga(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var wp=class extends _p{constructor(e,n){super(e),this.snapshot=n,Ww(this,e)}toString(){return this.snapshot.toString()}};function NR(t){let e=YH(t),n=new bt([new as("",{})]),i=new bt({}),r=new bt({}),o=new bt({}),s=new bt(""),a=new ls(n,i,o,s,r,me,t,e.root);return a.snapshot=e.root,new wp(new En(a,[]),e)}function YH(t){let e={},n={},i={},r="",o=new fu([],e,i,r,n,me,t,null,{});return new bp("",new En(o,[]))}var ls=class{constructor(e,n,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Y(l=>l[gu]))??W(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>Ya(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>Ya(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gw(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),r?.data),t._resolvedData)}:i={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},r&&FR(r)&&(i.resolve[gu]=r.title),i}var fu=class{get title(){return this.data?.[gu]}constructor(e,n,i,r,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ya(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ya(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},bp=class extends _p{constructor(e,n){super(n),this.url=e,Ww(this,n)}toString(){return OR(this._root)}};function Ww(t,e){e.value._routerState=t,e.children.forEach(n=>Ww(t,n))}function OR(t){let e=t.children.length>0?` { ${t.children.map(OR).join(", ")} } `:"";return`${t.value}${e}`}function vw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ki(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ki(e.params,n.params)||t.paramsSubject.next(n.params),DH(e.url,n.url)||t.urlSubject.next(n.url),ki(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vw(t,e){let n=ki(t.params,e.params)&&SH(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||Vw(t.parent,e.parent))}function FR(t){return typeof t.title=="string"||t.title===null}var Kw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=j(vu),this.location=j(On),this.changeDetector=j(ei),this.environmentInjector=j(Zt),this.inputBinder=j(Tp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new jw(i,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ne({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bn]});let t=e;return t})(),jw=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===ls?this.route:e===vu?this.childContexts:this.parent.get(e,n)}},Tp=new F(""),gR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=$o([r.queryParams,r.params,r.data]).pipe($e(([s,a,c],l)=>(c=V(V(V({},s),a),c),l===0?W(c):Promise.resolve(c)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=Rx(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function QH(t,e,n){let i=pu(t,e._root,n?n._root:void 0);return new wp(i,e)}function pu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=ZH(t,e,n);return new En(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>pu(t,a)),s}}let i=XH(e.value),r=e.children.map(o=>pu(t,o));return new En(i,r)}}function ZH(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return pu(t,i,r);return pu(t,i)})}function XH(t){return new ls(new bt(t.url),new bt(t.params),new bt(t.queryParams),new bt(t.fragment),new bt(t.data),t.outlet,t.component,t)}var LR="ngNavigationCancelingError";function VR(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Qa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=jR(!1,Fn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function jR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[LR]=!0,n.cancellationCode=e,n}function JH(t){return BR(t)&&Qa(t.url)}function BR(t){return!!t&&t[LR]}var ez=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ee({type:e,selectors:[["ng-component"]],standalone:!0,features:[Zr],decls:1,vars:0,template:function(r,o){r&1&&O(0,"router-outlet")},dependencies:[Kw],encapsulation:2});let t=e;return t})();function tz(t,e){return t.providers&&!t._injector&&(t._injector=Hf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yw(t){let e=t.children&&t.children.map(Yw),n=e?Te(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=ez),n}function Oi(t){return t.outlet||me}function nz(t,e){let n=t.filter(i=>Oi(i)===e);return n.push(...t.filter(i=>Oi(i)!==e)),n}function _u(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var iz=(t,e,n,i)=>Y(r=>(new Bw(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Bw=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),vw(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Ga(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ga(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ga(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Ga(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Nw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Pw(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(vw(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=_u(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},Ep=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ka=class{constructor(e,n){this.component=e,this.route=n}};function rz(t,e,n){let i=t._root,r=e?e._root:null;return iu(i,r,n,[i.value])}function oz(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ja(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!KA(t)?t:e.get(t):i}function iu(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ga(e);return t.children.forEach(s=>{sz(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>au(a,n.getContext(s),r)),r}function sz(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=az(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Ep(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?iu(t,e,a?a.children:null,i,r):iu(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ka(a.outlet.component,s))}else s&&au(e,a,r),r.canActivateChecks.push(new Ep(i)),o.component?iu(t,null,a?a.children:null,i,r):iu(t,null,n,i,r);return r}function az(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!cs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!cs(t.url,e.url)||!ki(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vw(t,e)||!ki(t.queryParams,e.queryParams);case"paramsChange":default:return!Vw(t,e)}}function au(t,e,n){let i=Ga(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?au(s,e.children.getContext(o),n):au(s,null,n):au(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ka(e.outlet.component,r)):n.canDeactivateChecks.push(new Ka(null,r)):n.canDeactivateChecks.push(new Ka(null,r))}function wu(t){return typeof t=="function"}function cz(t){return typeof t=="boolean"}function lz(t){return t&&wu(t.canLoad)}function uz(t){return t&&wu(t.canActivate)}function dz(t){return t&&wu(t.canActivateChild)}function hz(t){return t&&wu(t.canDeactivate)}function fz(t){return t&&wu(t.canMatch)}function UR(t){return t instanceof rr||t?.name==="EmptyError"}var up=Symbol("INITIAL_VALUE");function Xa(){return $e(t=>$o(t.map(e=>e.pipe(Et(1),ln(up)))).pipe(Y(e=>{for(let n of e)if(n!==!0){if(n===up)return up;if(n===!1||n instanceof to)return n}return!0}),Pe(e=>e!==up),Et(1)))}function pz(t,e){return rt(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?W(Te(V({},n),{guardsResult:!0})):mz(s,i,r,t).pipe(rt(a=>a&&cz(a)?gz(i,o,t,e):W(a)),Y(a=>Te(V({},n),{guardsResult:a})))})}function mz(t,e,n,i){return ye(t).pipe(rt(r=>bz(r.component,r.route,n,e,i)),Rn(r=>r!==!0,!0))}function gz(t,e,n,i){return ye(e).pipe(or(r=>Or(vz(r.route.parent,i),yz(r.route,i),wz(t,r.path,n),_z(t,r.route,n))),Rn(r=>r!==!0,!0))}function yz(t,e){return t!==null&&e&&e(new kw(t)),W(!0)}function vz(t,e){return t!==null&&e&&e(new Mw(t)),W(!0)}function _z(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return W(!0);let r=i.map(o=>Fr(()=>{let s=_u(e)??n,a=Ja(o,s),c=uz(a)?a.canActivate(e,t):Ti(s,()=>a(e,t));return ro(c).pipe(Rn())}));return W(r).pipe(Xa())}function wz(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>oz(s)).filter(s=>s!==null).map(s=>Fr(()=>{let a=s.guards.map(c=>{let l=_u(s.node)??n,u=Ja(c,l),f=dz(u)?u.canActivateChild(i,t):Ti(l,()=>u(i,t));return ro(f).pipe(Rn())});return W(a).pipe(Xa())}));return W(o).pipe(Xa())}function bz(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let c=_u(e)??r,l=Ja(a,c),u=hz(l)?l.canDeactivate(t,e,n,i):Ti(c,()=>l(t,e,n,i));return ro(u).pipe(Rn())});return W(s).pipe(Xa())}function Ez(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return W(!0);let o=r.map(s=>{let a=Ja(s,t),c=lz(a)?a.canLoad(e,n):Ti(t,()=>a(e,n));return ro(c)});return W(o).pipe(Xa(),$R(i))}function $R(t){return $y(tt(e=>{if(Qa(e))throw VR(t,e)}),Y(e=>e===!0))}function Iz(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return W(!0);let o=r.map(s=>{let a=Ja(s,t),c=fz(a)?a.canMatch(e,n):Ti(t,()=>a(e,n));return ro(c)});return W(o).pipe(Xa(),$R(i))}var mu=class{constructor(e){this.segmentGroup=e||null}},Ip=class extends Error{constructor(e){super(),this.urlTree=e}};function qa(t){return va(new mu(t))}function Dz(t){return va(new Q(4e3,!1))}function Cz(t){return va(jR(!1,Fn.GuardRejected))}var Uw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return W(i);if(r.numberOfChildren>1||!r.children[me])return Dz(e.redirectTo);r=r.children[me]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Ip(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new to(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Fe(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new Q(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},$w={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tz(t,e,n,i,r){let o=Qw(t,e,n);return o.matched?(i=tz(e,i),Iz(i,e,n,r).pipe(Y(s=>s===!0?o:V({},$w)))):W(o)}function Qw(t,e,n){if(e.path==="**")return Az(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},$w):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||IH)(n,t,e);if(!r)return V({},$w);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?V(V({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Az(t){return{matched:!0,parameters:t.length>0?bR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function yR(t,e,n,i){return n.length>0&&Rz(t,n,i)?{segmentGroup:new Fe(e,xz(i,new Fe(n,t.children))),slicedSegments:[]}:n.length===0&&Mz(t,n,i)?{segmentGroup:new Fe(t.segments,Sz(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Fe(t.segments,t.children),slicedSegments:n}}function Sz(t,e,n,i){let r={};for(let o of n)if(Ap(t,e,o)&&!i[Oi(o)]){let s=new Fe([],{});r[Oi(o)]=s}return V(V({},i),r)}function xz(t,e){let n={};n[me]=e;for(let i of t)if(i.path===""&&Oi(i)!==me){let r=new Fe([],{});n[Oi(i)]=r}return n}function Rz(t,e,n){return n.some(i=>Ap(t,e,i)&&Oi(i)!==me)}function Mz(t,e,n){return n.some(i=>Ap(t,e,i))}function Ap(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Pz(t,e,n,i){return Oi(t)!==i&&(i===me||!Ap(e,n,t))?!1:Qw(e,t,n).matched}function kz(t,e,n){return e.length===0&&!t.children[n]}var Hw=class{};function Nz(t,e,n,i,r,o,s="emptyOnly"){return new zw(t,e,n,i,r,s,o).recognize()}var Oz=31,zw=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Uw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=yR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(n=>{let i=new fu([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,{}),r=new En(i,n),o=new bp("",r),s=$H(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,me).pipe(Lr(i=>{if(i instanceof Ip)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof mu?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=Gw(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(Y(o=>o instanceof En?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return ye(r).pipe(or(o=>{let s=i.children[o],a=nz(n,o);return this.processSegmentGroup(e,a,s,o)}),zo((o,s)=>(o.push(...s),o)),Vr(null),Zy(),rt(o=>{if(o===null)return qa(i);let s=HR(o);return Fz(s),W(s)}))}processSegment(e,n,i,r,o,s){return ye(n).pipe(or(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,o,s).pipe(Lr(c=>{if(c instanceof mu)return W(null);throw c}))),Rn(a=>!!a),Lr(a=>{if(UR(a))return kz(i,r,o)?W(new Hw):qa(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,o,s,a){return Pz(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s):qa(r):qa(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Qw(n,r,o);if(!a)return qa(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Oz&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,f).pipe(rt(m=>this.processSegment(e,i,n,m.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let s=Tz(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe($e(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe($e(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:f,parameters:m}=a,g=new fu(u,m,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Vz(i),Oi(i),i.component??i._loadedComponent??null,i,jz(i)),{segmentGroup:b,slicedSegments:I}=yR(n,u,f,c);if(I.length===0&&b.hasChildren())return this.processChildren(l,c,b).pipe(Y(A=>A===null?null:new En(g,A)));if(c.length===0&&I.length===0)return W(new En(g,[]));let E=Oi(i)===o;return this.processSegment(l,c,b,I,E?me:o,!0).pipe(Y(A=>new En(g,A instanceof En?[A]:[])))}))):qa(n)))}getChildConfig(e,n,i){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):Ez(e,n,i,this.urlSerializer).pipe(rt(r=>r?this.configLoader.loadChildren(e,n).pipe(tt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Cz(n))):W({routes:[],injector:e})}};function Fz(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function Lz(t){let e=t.value.routeConfig;return e&&e.path===""}function HR(t){let e=[],n=new Set;for(let i of t){if(!Lz(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=HR(i.children);e.push(new En(i.value,r))}return e.filter(i=>!n.has(i))}function Vz(t){return t.data||{}}function jz(t){return t.resolve||{}}function Bz(t,e,n,i,r,o){return rt(s=>Nz(t,e,n,i,s.extractedUrl,r,o).pipe(Y(({state:a,tree:c})=>Te(V({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Uz(t,e){return rt(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return W(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of zR(c))s.add(l);let a=0;return ye(s).pipe(or(c=>o.has(c)?$z(c,i,t,e):(c.data=Gw(c,c.parent,t).resolve,W(void 0))),tt(()=>a++),Ea(1),rt(c=>a===s.size?W(n):sn))})}function zR(t){let e=t.children.map(n=>zR(n)).flat();return[t,...e]}function $z(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!FR(r)&&(o[gu]=r.title),Hz(o,t,e,i).pipe(Y(s=>(t._resolvedData=s,t.data=Gw(t,t.parent,n).resolve,null)))}function Hz(t,e,n,i){let r=bw(t);if(r.length===0)return W({});let o={};return ye(r).pipe(rt(s=>zz(t[s],e,n,i).pipe(Rn(),tt(a=>{o[s]=a}))),Ea(1),Qy(o),Lr(s=>UR(s)?sn:va(s)))}function zz(t,e,n,i){let r=_u(e)??i,o=Ja(t,r),s=o.resolve?o.resolve(e,n):Ti(r,()=>o(e,n));return ro(s)}function _w(t){return $e(e=>{let n=t(e);return n?ye(n).pipe(Y(()=>e)):W(e)})}var qR=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===me);return r}getResolvedTitleForRoute(i){return i.data[gu]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>j(qz),providedIn:"root"});let t=e;return t})(),qz=(()=>{let e=class e extends qR{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(_(uR))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bu=new F("",{providedIn:"root",factory:()=>({})}),Dp=new F(""),Zw=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(Zf)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return W(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=ro(i.loadComponent()).pipe(Y(GR),tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),jr(()=>{this.componentLoaders.delete(i)})),o=new fa(r,()=>new ue).pipe(ha());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Gz(r,this.compiler,i,this.onLoadEndListener).pipe(jr(()=>{this.childrenLoaders.delete(r)})),a=new fa(s,()=>new ue).pipe(ha());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gz(t,e,n,i){return ro(t.loadChildren()).pipe(Y(GR),rt(r=>r instanceof Ll||Array.isArray(r)?W(r):ye(e.compileModuleAsync(r))),Y(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Dp,[],{optional:!0,self:!0}).flat()),{routes:s.map(Yw),injector:o}}))}function Wz(t){return t&&typeof t=="object"&&"default"in t}function GR(t){return Wz(t)?t.default:t}var Xw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>j(Kz),providedIn:"root"});let t=e;return t})(),Kz=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WR=new F(""),KR=new F("");function Yz(t,e,n){let i=t.get(KR),r=t.get(he);return t.get(Z).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),Qz(t))),{onViewTransitionCreated:c}=i;return c&&Ti(t,()=>c({transition:a,from:e,to:n})),s})}function Qz(t){return new Promise(e=>{V_(e,{injector:t})})}var Jw=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ue,this.transitionAbortSubject=new ue,this.configLoader=j(Zw),this.environmentInjector=j(Zt),this.urlSerializer=j(yu),this.rootContexts=j(vu),this.location=j(Mi),this.inputBindingEnabled=j(Tp,{optional:!0})!==null,this.titleStrategy=j(qR),this.options=j(bu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(Xw),this.createViewTransition=j(WR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let i=o=>this.events.next(new xw(o)),r=o=>this.events.next(new Rw(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Te(V(V({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new bt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:su,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pe(s=>s.id!==0),Y(s=>Te(V({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),$e(s=>{this.currentTransition=s;let a=!1,c=!1;return W(s).pipe(tt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Te(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$e(l=>{let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&f!=="reload"){let m="";return this.events.next(new io(l.id,this.urlSerializer.serialize(l.rawUrl),m,gp.IgnoredSameUrlNavigation)),l.resolve(null),sn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return W(l).pipe($e(m=>{let g=this.transitions?.getValue();return this.events.next(new Za(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?sn:Promise.resolve(m)}),Bz(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Te(V({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let g=new yp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:g,source:b,restoredState:I,extras:E}=l,A=new Za(m,this.urlSerializer.serialize(g),b,I);this.events.next(A);let B=NR(this.rootComponentType).snapshot;return this.currentTransition=s=Te(V({},l),{targetSnapshot:B,urlAfterRedirects:g,extras:Te(V({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,W(s)}else{let m="";return this.events.next(new io(l.id,this.urlSerializer.serialize(l.extractedUrl),m,gp.IgnoredByUrlHandlingStrategy)),l.resolve(null),sn}}),tt(l=>{let u=new Cw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Y(l=>(this.currentTransition=s=Te(V({},l),{guards:rz(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),pz(this.environmentInjector,l=>this.events.next(l)),tt(l=>{if(s.guardsResult=l.guardsResult,Qa(l.guardsResult))throw VR(this.urlSerializer,l.guardsResult);let u=new Tw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Pe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Fn.GuardRejected),!1)),_w(l=>{if(l.guards.canActivateChecks.length)return W(l).pipe(tt(u=>{let f=new Aw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),$e(u=>{let f=!1;return W(u).pipe(Uz(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",Fn.NoDataFromResolver)}}))}),tt(u=>{let f=new Sw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),_w(l=>{let u=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(tt(g=>{f.component=g}),Y(()=>{})));for(let g of f.children)m.push(...u(g));return m};return $o(u(l.targetSnapshot.root)).pipe(Vr(null),Et(1))}),_w(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,f=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return f?ye(f).pipe(Y(()=>s)):W(s)}),Y(l=>{let u=QH(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Te(V({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),tt(()=>{this.events.next(new du)}),iz(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Et(1),tt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ni(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),vi(this.transitionAbortSubject.pipe(tt(l=>{throw l}))),jr(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Fn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Lr(l=>{if(c=!0,BR(l))this.events.next(new no(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),JH(l)?this.events.next(new hu(l.url)):s.resolve(!1);else{this.events.next(new uu(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return sn}))}))}cancelNavigationTransition(i,r,o){let s=new no(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zz(t){return t!==su}var Xz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>j(Jz),providedIn:"root"});let t=e;return t})(),qw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Jz=(()=>{let e=class e extends qw{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=dr(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>j(eq),providedIn:"root"});let t=e;return t})(),eq=(()=>{let e=class e extends YR{constructor(){super(...arguments),this.location=j(Mi),this.urlSerializer=j(yu),this.options=j(bu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(Xw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new to,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=NR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Za)this.stateMemento=this.createStateMemento();else if(i instanceof io)this.rawUrlTree=r.initialUrl;else if(i instanceof yp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof du?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof no&&(i.code===Fn.GuardRejected||i.code===Fn.NoDataFromResolver)?this.restoreHistory(r):i instanceof uu?this.restoreHistory(r,!0):i instanceof Ni&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=V(V({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=dr(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ru=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ru||{});function QR(t,e){t.events.pipe(Pe(n=>n instanceof Ni||n instanceof no||n instanceof uu||n instanceof io),Y(n=>n instanceof Ni||n instanceof io?ru.COMPLETE:(n instanceof no?n.code===Fn.Redirect||n.code===Fn.SupersededByNewNavigation:!1)?ru.REDIRECTING:ru.FAILED),Pe(n=>n!==ru.REDIRECTING),Et(1)).subscribe(()=>{e()})}function tq(t){throw t}var nq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=j(Gf),this.stateManager=j(YR),this.options=j(bu,{optional:!0})||{},this.pendingTasks=j(is),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(Jw),this.urlSerializer=j(yu),this.location=j(Mi),this.urlHandlingStrategy=j(Xw),this._events=new ue,this.errorHandler=this.options.errorHandler||tq,this.navigated=!1,this.routeReuseStrategy=j(Xz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(Dp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(Tp,{optional:!0}),this.eventsSubscription=new Ge,this.isNgZoneEnabled=j(Z)instanceof Z&&Z.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof no&&r.code!==Fn.Redirect&&r.code!==Fn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ni)this.navigated=!0;else if(r instanceof hu){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Zz(o.source)};this.scheduleNavigation(a,su,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}oq(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),su,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=V({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Yw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=V(V({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let g=o?o.snapshot:this.routerState.snapshot.root;m=RR(g)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),m=this.currentUrlTree.root}return MR(m,i,f,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Qa(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,su,null,r)}navigate(i,r={skipLocationChange:!1}){return rq(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=V({},nq):r===!1?o=V({},iq):o=r,Qa(i))return hR(this.currentUrlTree,i,o);let s=this.parseUrl(i);return hR(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((m,g)=>{c=m,l=g});let f=this.pendingTasks.add();return QR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function oq(t){return!(t instanceof du)&&!(t instanceof hu)}var Sp=(()=>{let e=class e{constructor(i,r,o,s,a,c){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ue,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof Ni&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(i!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:AS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,i,r):o.removeAttribute(s,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(L(pn),L(ls),T_("tabindex"),L(Yr),L(je),L(gr))},e.\u0275dir=Ne({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&ze("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Ot("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[We.HasDecoratorInputTransform,"preserveFragment","preserveFragment",xi],skipLocationChange:[We.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",xi],replaceUrl:[We.HasDecoratorInputTransform,"replaceUrl","replaceUrl",xi],routerLink:"routerLink"},standalone:!0,features:[Qr,bn]});let t=e;return t})();var Cp=class{};var sq=(()=>{let e=class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Pe(i=>i instanceof Ni),or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Hf(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ye(o).pipe(Nr())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=W(null);let s=o.pipe(rt(a=>a===null?W(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ye([s,a]).pipe(Nr())}else return s})}};e.\u0275fac=function(r){return new(r||e)(_(pn),_(Zf),_(Zt),_(Cp),_(Zw))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZR=new F(""),aq=(()=>{let e=class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Za?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ni?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof io&&i.code===gp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof vp&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vp(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){BS()},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function cq(t){return t.routerState.root}function Eu(t,e){return{\u0275kind:t,\u0275providers:e}}function lq(){let t=j(ot);return e=>{let n=t.get(pr);if(e!==n.components[0])return;let i=t.get(pn),r=t.get(XR);t.get(e0)===1&&i.initialNavigation(),t.get(JR,null,we.Optional)?.setUpPreloading(),t.get(ZR,null,we.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var XR=new F("",{factory:()=>new ue}),e0=new F("",{providedIn:"root",factory:()=>1});function uq(){return Eu(2,[{provide:e0,useValue:0},{provide:Yf,multi:!0,deps:[ot],useFactory:e=>{let n=e.get(Vx,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(pn),o=e.get(XR);QR(r,()=>{i(!0)}),e.get(Jw).afterPreactivation=()=>(i(!0),o.closed?W(void 0):o),r.initialNavigation()}))}}])}function dq(){return Eu(3,[{provide:Yf,multi:!0,useFactory:()=>{let e=j(pn);return()=>{e.setUpLocationChangeListener()}}},{provide:e0,useValue:2}])}var JR=new F("");function hq(t){return Eu(0,[{provide:JR,useExisting:sq},{provide:Cp,useExisting:t}])}function fq(){return Eu(8,[gR,{provide:Tp,useExisting:gR}])}function pq(t){let e=[{provide:WR,useValue:Yz},{provide:KR,useValue:V({skipNextTransition:!!t?.skipInitialTransition},t)}];return Eu(9,e)}var vR=new F("ROUTER_FORROOT_GUARD"),mq=[Mi,{provide:yu,useClass:cu},pn,vu,{provide:ls,useFactory:cq,deps:[pn]},Zw,[]],Iu=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[mq,[],{provide:Dp,multi:!0,useValue:i},{provide:vR,useFactory:_q,deps:[[pn,new $a,new b_]]},{provide:bu,useValue:r||{}},r?.useHash?yq():vq(),gq(),r?.preloadingStrategy?hq(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?wq(r):[],r?.bindToComponentInputs?fq().\u0275providers:[],r?.enableViewTransitions?pq().\u0275providers:[],bq()]}}static forChild(i){return{ngModule:e,providers:[{provide:Dp,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(_(vR,8))},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})();function gq(){return{provide:ZR,useFactory:()=>{let t=j(Hx),e=j(Z),n=j(bu),i=j(Jw),r=j(yu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new aq(r,i,t,e,n)}}}function yq(){return{provide:gr,useClass:Bx}}function vq(){return{provide:gr,useClass:J_}}function _q(t){return"guarded"}function wq(t){return[t.initialNavigation==="disabled"?dq().\u0275providers:[],t.initialNavigation==="enabledBlocking"?uq().\u0275providers:[]]}var _R=new F("");function bq(){return[{provide:_R,useFactory:lq},{provide:Qf,multi:!0,useExisting:_R}]}var eM=(()=>{let e=class e{constructor(){this.title="front"}ngOnInit(){console.log("[app.components]")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"allScreen","content"]],template:function(r,o){r&1&&(w(0,"div",0),O(1,"router-outlet"),v())},dependencies:[Kw],styles:[".allScreen[_ngcontent-%COMP%]{width:100%;height:100%;background-color:gray}"]});let t=e;return t})();var o1=ph(Du());var Eq="firebase",Iq="10.9.0";Sn(Eq,Iq,"app");var Vi=new Ci("ANGULARFIRE2_VERSION");var tM=(t,e)=>{let n=e?[e]:XC(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Li=class{constructor(){return tM(Dq)}},Dq="app-check";function ec(){}var Rp=class{zone;delegate;constructor(e,n=Wy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},n0=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ec,{},ec,ec)),n.pipe(tt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ds=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Rp(Zone.current)),this.insideAngular=n.run(()=>new Rp(Zone.current,gi)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(_(Z))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Cq(t){return Cu().ngZone.runOutsideAngular(()=>t())}function us(t){return Cu().ngZone.run(()=>t())}function i0(t){return t.pipe(cn(Cu().outsideAngular))}function At(t){return Tq(Cu())(t)}function Tq(t){return function(n){return n=n.lift(new n0(t.ngZone)),n.pipe(xn(t.outsideAngular),cn(t.insideAngular))}}var Aq=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),us(()=>t.apply(void 0,i))},r0=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=us(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ec,{},ec,ec))),i[o]=Aq(i[o],n));let r=Cq(()=>t.apply(this,i));if(!e)if(r instanceof ne){let o=Cu();return r.pipe(xn(o.outsideAngular),cn(o.insideAngular))}else return us(()=>r);return r instanceof ne?r.pipe(At):r instanceof Promise?us(()=>new Promise((o,s)=>r.then(a=>us(()=>o(a)),a=>us(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:us(()=>r)};var Sq=new Map,xq={activated:!1,tokenObservers:[]},Rq={initialized:!1,enabled:!1};function ti(t){return Sq.get(t)||Object.assign({},xq)}function cM(){return Rq}var Mq="https://content-firebaseappcheck.googleapis.com/v1";var Pq="exchangeDebugToken",nM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},moe=24*60*60*1e3;var a0=class{constructor(e,n,i,r,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return T(this,null,function*(){this.stop();try{this.pending=new Sy,this.pending.promise.catch(n=>{}),yield kq(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Sy,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function kq(t){return new Promise(e=>{setTimeout(e,t)})}var Nq={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},oo=new ZC("appCheck","AppCheck",Nq);function lM(t){if(!ti(t).activated)throw oo.create("use-before-activation",{appName:t.name})}function uM(i,r){return T(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(g){throw oo.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw oo.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(g){throw oo.create("fetch-parse-error",{originalErrorMessage:g?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw oo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(u[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function dM(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${Mq}/projects/${n}/apps/${i}:${Pq}?key=${r}`,body:{debug_token:e}}}var Oq="firebase-app-check-database",Fq=1,c0="firebase-app-check-store";var Mp=null;function Lq(){return Mp||(Mp=new Promise((t,e)=>{try{let n=indexedDB.open(Oq,Fq);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(oo.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(c0,{keyPath:"compositeKey"})}}}catch(n){e(oo.create("storage-open",{originalErrorMessage:n?.message}))}}),Mp)}function Vq(t,e){return jq(Bq(t),e)}function jq(t,e){return T(this,null,function*(){let i=(yield Lq()).transaction(c0,"readwrite"),o=i.objectStore(c0).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(oo.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function Bq(t){return`${t.options.appId}-${t.name}`}var l0=new _h("@firebase/app-check");function s0(t,e){return yh()?Vq(t,e).catch(n=>{l0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function hM(){return cM().enabled}function fM(){return T(this,null,function*(){let t=cM();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Uq={error:"UNKNOWN_ERROR"};function $q(t){return QC.encodeString(JSON.stringify(t),!1)}function u0(t,e=!1){return T(this,null,function*(){let n=t.app;lM(n);let i=ti(n),r=i.token,o;if(r&&!Tu(r)&&(i.token=void 0,r=void 0),!r){let c=yield i.cachedTokenPromise;c&&(Tu(c)?r=c:yield s0(n,void 0))}if(!e&&r&&Tu(r))return{token:r.token};let s=!1;if(hM()){i.exchangeTokenPromise||(i.exchangeTokenPromise=uM(dM(n,yield fM()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let c=yield i.exchangeTokenPromise;return yield s0(n,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield ti(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?l0.warn(c.message):l0.error(c),o=c}let a;return r?o?Tu(r)?a={token:r.token,internalError:o}:a=rM(o):(a={token:r.token},i.token=r,yield s0(n,r)):a=rM(o),s&&Gq(n,a),a})}function Hq(t){return T(this,null,function*(){let e=t.app;lM(e);let{provider:n}=ti(e);if(hM()){let i=yield fM(),{token:r}=yield uM(dM(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function zq(t,e,n,i){let{app:r}=t,o=ti(r),s={next:n,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Tu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),iM(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>iM(t))}function pM(t,e){let n=ti(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function iM(t){let{app:e}=t,n=ti(e),i=n.tokenRefresher;i||(i=qq(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function qq(t){let{app:e}=t;return new a0(()=>T(this,null,function*(){let n=ti(e),i;if(n.token?i=yield u0(t,!0):i=yield u0(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=ti(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},nM.RETRIAL_MIN_WAIT,nM.RETRIAL_MAX_WAIT)}function Gq(t,e){let n=ti(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Tu(t){return t.expireTimeMillis-Date.now()>0}function rM(t){return{token:$q(Uq),error:t}}var d0=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=ti(this.app);for(let n of e)pM(this.app,n.next);return Promise.resolve()}};function Wq(t,e){return new d0(t,e)}function Kq(t){return{getToken:e=>u0(t,e),getLimitedUseToken:()=>Hq(t),addTokenListener:e=>zq(t,"INTERNAL",e),removeTokenListener:e=>pM(t.app,e)}}var Yq="@firebase/app-check",Qq="0.8.2";var Zq="app-check",oM="app-check-internal";function Xq(){Vo(new Wn(Zq,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Wq(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(oM).initialize()})),Vo(new Wn(oM,t=>{let e=t.getProvider("app-check").getImmediate();return Kq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Sn(Yq,Qq)}Xq();var Jq=["localhost","0.0.0.0","127.0.0.1"],Aoe=typeof window<"u"&&Jq.includes(window.location.hostname);var eG="firebase",tG="10.9.0";wt.registerVersion(eG,tG,"app-compat");var nG=["ngOnDestroy"],gM=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{if(t[o])return i?.spy?.get&&i.spy.get(o,t[o]),t[o];if(nG.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(u=>{let f=u?.(...l);return i?.spy?.apply&&i.spy.apply(o,l,f),f})})})});var Pp=class{constructor(e){return e}},so=new F("angularfire2.app.options"),ao=new F("angularfire2.app.name");function hs(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=wt.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>wt.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;iG("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Pp(s)}var iG=(t,...e)=>{q_()&&typeof console<"u"&&console[t](...e)},rG={provide:Pp,useFactory:hs,deps:[so,Z,[new $a,ao]]},yM=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:so,useValue:n},{provide:ao,useValue:i}]}}constructor(n){wt.registerVersion("angularfire",Vi.full,"core"),wt.registerVersion("angularfire",Vi.full,"app-compat"),wt.registerVersion("angular",wx.full,n.toString())}static \u0275fac=function(i){return new(i||t)(_(pt))};static \u0275mod=oe({type:t});static \u0275inj=se({providers:[rG]})}return t})();function tc(t,e,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return oG(r,s)||(mM("error",`${e} was already initialized on the ${n} Firebase App with different settings.${sG?" You may need to reload as Firebase is not HMR aware.":""}`),mM("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function oG(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var sG=typeof module<"u"&&!!module.hot,mM=(t,...e)=>{q_()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var TM="firebasestorage.googleapis.com",AM="storageBucket",cG=2*60*1e3,lG=10*60*1e3,uG=1e3;var nt=class t extends vh{constructor(e,n,i=0){super(f0(e),`Firebase Storage: ${n} (${f0(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return f0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Xe=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Xe||{});function f0(t){return"storage/"+t}function b0(){let t="An unknown error occurred, please check the error payload for server response.";return new nt(Xe.UNKNOWN,t)}function dG(t){return new nt(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function hG(t){return new nt(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function fG(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nt(Xe.UNAUTHENTICATED,t)}function pG(){return new nt(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mG(t){return new nt(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function SM(){return new nt(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xM(){return new nt(Xe.CANCELED,"User canceled the upload/download.")}function gG(t){return new nt(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}function yG(t){return new nt(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function vG(){return new nt(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AM+"' property when initializing the app?")}function RM(){return new nt(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _G(){return new nt(Xe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function wG(){return new nt(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function bG(t){return new nt(Xe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fs(t){return new nt(Xe.INVALID_ARGUMENT,t)}function MM(){return new nt(Xe.APP_DELETED,"The Firebase app was deleted.")}function E0(t){return new nt(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Su(t,e){return new nt(Xe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Au(t){throw new nt(Xe.INTERNAL_ERROR,"Internal error: "+t)}var Jt=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw yG(e)}static makeFromUrl(e,n){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function l(R){R.path_=decodeURIComponent(R.path)}let u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${u}/b/${r}/o${m}`,"i"),b={bucket:1,path:3},I=n===TM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",A=new RegExp(`^https?://${I}/${r}/${E}`,"i"),M=[{regex:a,indices:c,postModify:o},{regex:g,indices:b,postModify:l},{regex:A,indices:{bucket:1,path:2},postModify:l}];for(let R=0;R<M.length;R++){let G=M[R],ee=G.regex.exec(e);if(ee){let Ce=ee[G.indices.bucket],et=ee[G.indices.path];et||(et=""),i=new t(Ce,et),G.postModify(i);break}}if(i==null)throw gG(e);return i}},m0=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function EG(t,e,n){let i=1,r=null,o=null,s=!1,a=0;function c(){return a===2}let l=!1;function u(...E){l||(l=!0,e.apply(null,E))}function f(E){r=setTimeout(()=>{r=null,t(g,c())},E)}function m(){o&&clearTimeout(o)}function g(E,...A){if(l){m();return}if(E){m(),u.call(null,E,...A);return}if(c()||s){m(),u.call(null,E,...A);return}i<64&&(i*=2);let M;a===1?(a=2,M=0):M=(i+Math.random())*1e3,f(M)}let b=!1;function I(E){b||(b=!0,m(),!l&&(r!==null?(E||(a=2),clearTimeout(r),f(0)):E||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,I(!0)},n),I}function IG(t){t(!1)}function DG(t){return t!==void 0}function CG(t){return typeof t=="function"}function TG(t){return typeof t=="object"&&!Array.isArray(t)}function Op(t){return typeof t=="string"||t instanceof String}function vM(t){return I0()&&t instanceof Blob}function I0(){return typeof Blob<"u"}function g0(t,e,n,i){if(i<e)throw fs(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw fs(`Invalid value for '${t}'. Expected ${n} or less.`)}function co(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function PM(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var rc=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(rc||{});function kM(t,e){let n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}var y0=class{constructor(e,n,i,r,o,s,a,c,l,u,f,m=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,b)=>{this.resolve_=g,this.reject_=b,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new ic(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===rc.NO_ERROR,c=o.getStatus();if(!a||kM(c,this.additionalRetryCodes_)&&this.retry){let u=o.getErrorCode()===rc.ABORT;i(!1,new ic(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;i(!0,new ic(l,o))})},n=(i,r)=>{let o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());DG(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=b0();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(r.canceled){let c=this.appDelete_?MM():xM();s(c)}else{let c=SM();s(c)}};this.canceled_?n(!1,new ic(!1,null,!0)):this.backoffId_=EG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ic=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function AG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function MG(t,e,n,i,r,o,s=!0){let a=PM(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return xG(l,e),AG(l,n),SG(l,o),RG(l,i),new y0(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,s)}function PG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kG(...t){let e=PG();if(e!==void 0){let n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(I0())return new Blob(t);throw new nt(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function OG(t){if(typeof atob>"u")throw bG("base-64");return atob(t)}var In={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},xu=class{constructor(e,n){this.data=e,this.contentType=n||null}};function D0(t,e){switch(t){case In.RAW:return new xu(NM(e));case In.BASE64:case In.BASE64URL:return new xu(OM(t,e));case In.DATA_URL:return new xu(LG(e),VG(e))}throw b0()}function NM(t){let e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=i,s=t.charCodeAt(++n);i=65536|(o&1023)<<10|s&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function FG(t){let e;try{e=decodeURIComponent(t)}catch{throw Su(In.DATA_URL,"Malformed data URL.")}return NM(e)}function OM(t,e){switch(t){case In.BASE64:{let r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw Su(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case In.BASE64URL:{let r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw Su(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=OG(e)}catch(r){throw r.message.includes("polyfill")?r:Su(t,"Invalid character found")}let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}var Np=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Su(In.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=n[1]||null;i!=null&&(this.base64=jG(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function LG(t){let e=new Np(t);return e.base64?OM(In.BASE64,e.rest):FG(e.rest)}function VG(t){return new Np(t).contentType}function jG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var oc=class t{constructor(e,n){let i=0,r="";vM(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(vM(this.data_)){let i=this.data_,r=NG(i,e,n);return r===null?null:new t(r)}else{let i=new Uint8Array(this.data_.buffer,e,n-e);return new t(i,!0)}}static getBlob(...e){if(I0()){let n=e.map(i=>i instanceof t?i.data_:i);return new t(kG.apply(null,n))}else{let n=e.map(s=>Op(s)?D0(In.RAW,s).data:s.data_),i=0;n.forEach(s=>{i+=s.byteLength});let r=new Uint8Array(i),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new t(r,!0)}}uploadData(){return this.data_}};function C0(t){let e;try{e=JSON.parse(t)}catch{return null}return TG(e)?e:null}function BG(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UG(t,e){let n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function FM(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function $G(t,e){return e}var Ft=class{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||$G}},kp=null;function HG(t){return!Op(t)||t.length<2?t:FM(t)}function Fp(){if(kp)return kp;let t=[];t.push(new Ft("bucket")),t.push(new Ft("generation")),t.push(new Ft("metageneration")),t.push(new Ft("name","fullPath",!0));function e(o,s){return HG(s)}let n=new Ft("name");n.xform=e,t.push(n);function i(o,s){return s!==void 0?Number(s):s}let r=new Ft("size");return r.xform=i,t.push(r),t.push(new Ft("timeCreated")),t.push(new Ft("updated")),t.push(new Ft("md5Hash",null,!0)),t.push(new Ft("cacheControl",null,!0)),t.push(new Ft("contentDisposition",null,!0)),t.push(new Ft("contentEncoding",null,!0)),t.push(new Ft("contentLanguage",null,!0)),t.push(new Ft("contentType",null,!0)),t.push(new Ft("metadata","customMetadata",!0)),kp=t,kp}function zG(t,e){function n(){let i=t.bucket,r=t.fullPath,o=new Jt(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function qG(t,e,n){let i={};i.type="file";let r=n.length;for(let o=0;o<r;o++){let s=n[o];i[s.local]=s.xform(i,e[s.server])}return zG(i,t),i}function LM(t,e,n){let i=C0(e);return i===null?null:qG(t,i,n)}function GG(t,e,n,i){let r=C0(e);if(r===null||!Op(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let u=t.bucket,f=t.fullPath,m="/b/"+s(u)+"/o/"+s(f),g=co(m,n,i),b=PM({alt:"media",token:l});return g+b})[0]}function T0(t,e){let n={},i=e.length;for(let r=0;r<i;r++){let o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var _M="prefixes",wM="items";function WG(t,e,n){let i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[_M])for(let r of n[_M]){let o=r.replace(/\/$/,""),s=t._makeStorageReference(new Jt(e,o));i.prefixes.push(s)}if(n[wM])for(let r of n[wM]){let o=t._makeStorageReference(new Jt(e,r.name));i.items.push(o)}return i}function KG(t,e,n){let i=C0(n);return i===null?null:WG(t,e,i)}var ni=class{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Bi(t){if(!t)throw b0()}function Lp(t,e){function n(i,r){let o=LM(t,r,e);return Bi(o!==null),o}return n}function YG(t,e){function n(i,r){let o=KG(t,e,r);return Bi(o!==null),o}return n}function QG(t,e){function n(i,r){let o=LM(t,r,e);return Bi(o!==null),GG(o,r,t.host,t._protocol)}return n}function cc(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=pG():r=fG():n.getStatus()===402?r=hG(t.bucket):n.getStatus()===403?r=mG(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function Vp(t){let e=cc(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=dG(t.path)),o.serverResponse=r.serverResponse,o}return n}function VM(t,e,n){let i=e.fullServerUrl(),r=co(i,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new ni(r,o,Lp(t,n),s);return a.errorHandler=Vp(e),a}function ZG(t,e,n,i,r){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);let s=e.bucketOnlyServerUrl(),a=co(s,t.host,t._protocol),c="GET",l=t.maxOperationRetryTime,u=new ni(a,c,YG(t,e.bucket),l);return u.urlParams=o,u.errorHandler=cc(e),u}function XG(t,e,n){let i=e.fullServerUrl(),r=co(i,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new ni(r,o,QG(t,n),s);return a.errorHandler=Vp(e),a}function JG(t,e,n,i){let r=e.fullServerUrl(),o=co(r,t.host,t._protocol),s="PATCH",a=T0(n,i),c={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,u=new ni(o,s,Lp(t,i),l);return u.headers=c,u.body=a,u.errorHandler=Vp(e),u}function e6(t,e){let n=e.fullServerUrl(),i=co(n,t.host,t._protocol),r="DELETE",o=t.maxOperationRetryTime;function s(c,l){}let a=new ni(i,r,s,o);return a.successCodes=[200,204],a.errorHandler=Vp(e),a}function t6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function jM(t,e,n){let i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=t6(null,e)),i}function n6(t,e,n,i,r){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let M="";for(let R=0;R<2;R++)M=M+Math.random().toString().slice(2);return M}let c=a();s["Content-Type"]="multipart/related; boundary="+c;let l=jM(e,i,r),u=T0(l,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,m=`\r
--`+c+"--",g=oc.getBlob(f,i,m);if(g===null)throw RM();let b={name:l.fullPath},I=co(o,t.host,t._protocol),E="POST",A=t.maxUploadRetryTime,B=new ni(I,E,Lp(t,n),A);return B.urlParams=b,B.headers=s,B.body=g.uploadData(),B.errorHandler=cc(e),B}var sc=class{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}};function A0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Bi(!1)}return Bi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function i6(t,e,n,i,r){let o=e.bucketOnlyServerUrl(),s=jM(e,i,r),a={name:s.fullPath},c=co(o,t.host,t._protocol),l="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=T0(s,n),m=t.maxUploadRetryTime;function g(I){A0(I);let E;try{E=I.getResponseHeader("X-Goog-Upload-URL")}catch{Bi(!1)}return Bi(Op(E)),E}let b=new ni(c,l,g,m);return b.urlParams=a,b.headers=u,b.body=f,b.errorHandler=cc(e),b}function r6(t,e,n,i){let r={"X-Goog-Upload-Command":"query"};function o(l){let u=A0(l,["active","final"]),f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Bi(!1)}f||Bi(!1);let m=Number(f);return Bi(!isNaN(m)),new sc(m,i.size(),u==="final")}let s="POST",a=t.maxUploadRetryTime,c=new ni(n,s,o,a);return c.headers=r,c.errorHandler=cc(e),c}var bM=256*1024;function o6(t,e,n,i,r,o,s,a){let c=new sc(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw _G();let l=c.total-c.current,u=l;r>0&&(u=Math.min(u,r));let f=c.current,m=f+u,g="";u===0?g="finalize":l===u?g="upload, finalize":g="upload";let b={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${c.current}`},I=i.slice(f,m);if(I===null)throw RM();function E(R,G){let ee=A0(R,["active","final"]),Ce=c.current+u,et=i.size(),di;return ee==="final"?di=Lp(e,o)(R,G):di=null,new sc(Ce,et,ee==="final",di)}let A="POST",B=e.maxUploadRetryTime,M=new ni(n,A,E,B);return M.headers=b,M.body=I.uploadData(),M.progressCallback=a||null,M.errorHandler=cc(t),M}var BM={STATE_CHANGED:"state_changed"},Ut={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function p0(t){switch(t){case"running":case"pausing":case"canceling":return Ut.RUNNING;case"paused":return Ut.PAUSED;case"success":return Ut.SUCCESS;case"canceled":return Ut.CANCELED;case"error":return Ut.ERROR;default:return Ut.ERROR}}var v0=class{constructor(e,n,i){if(CG(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{let o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function nc(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var EM=null,_0=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Au("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Au("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Au("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Au("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Au("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},w0=class extends _0{initXhr(){this.xhr_.responseType="text"}};function ji(){return EM?EM():new w0}var Ru=class{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=Fp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Xe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(kM(r.status,[]))if(o)r=SM();else{this.sleepTime=Math.max(this.sleepTime*2,uG),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Xe.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let i=i6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ji,e,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,i)=>{let r=r6(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,ji,n,i);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=bM*this._chunkMultiplier,n=new sc(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=o6(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let a=this._ref.storage._makeRequest(s,ji,r,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){bM*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let i=VM(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,ji,e,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let i=n6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ji,e,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=xM(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=p0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){let o=new v0(n||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(p0(this._state)){case Ut.SUCCESS:nc(this._resolve.bind(null,this.snapshot))();break;case Ut.CANCELED:case Ut.ERROR:let n=this._reject;nc(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(p0(this._state)){case Ut.RUNNING:case Ut.PAUSED:e.next&&nc(e.next.bind(e,this.snapshot))();break;case Ut.SUCCESS:e.complete&&nc(e.complete.bind(e))();break;case Ut.CANCELED:case Ut.ERROR:e.error&&nc(e.error.bind(e,this._error))();break;default:e.error&&nc(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var ac=class t{constructor(e,n){this._service=e,n instanceof Jt?this._location=n:this._location=Jt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Jt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FM(this._location.path)}get storage(){return this._service}get parent(){let e=BG(this._location.path);if(e===null)return null;let n=new Jt(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw E0(e)}};function s6(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Ru(t,new oc(e),n)}function a6(t){let e={prefixes:[],items:[]};return UM(t,e).then(()=>e)}function UM(t,e,n){return T(this,null,function*(){let r=yield $M(t,{pageToken:n});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&(yield UM(t,e,r.nextPageToken))})}function $M(t,e){e!=null&&typeof e.maxResults=="number"&&g0("options.maxResults",1,1e3,e.maxResults);let n=e||{},i=ZG(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,ji)}function c6(t){t._throwIfRoot("getMetadata");let e=VM(t.storage,t._location,Fp());return t.storage.makeRequestWithTokens(e,ji)}function l6(t,e){t._throwIfRoot("updateMetadata");let n=JG(t.storage,t._location,e,Fp());return t.storage.makeRequestWithTokens(n,ji)}function u6(t){t._throwIfRoot("getDownloadURL");let e=XG(t.storage,t._location,Fp());return t.storage.makeRequestWithTokens(e,ji).then(n=>{if(n===null)throw wG();return n})}function d6(t){t._throwIfRoot("deleteObject");let e=e6(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ji)}function HM(t,e){let n=UG(t._location.path,e),i=new Jt(t._location.bucket,n);return new ac(t.storage,i)}function h6(t){return/^[A-Za-z]+:\/\//.test(t)}function f6(t,e){return new ac(t,e)}function zM(t,e){if(t instanceof Mu){let n=t;if(n._bucket==null)throw vG();let i=new ac(n,n._bucket);return e!=null?zM(i,e):i}else return e!==void 0?HM(t,e):t}function p6(t,e){if(e&&h6(e)){if(t instanceof Mu)return f6(t,e);throw fs("To use ref(service, url), the first argument must be a Storage instance.")}else return zM(t,e)}function IM(t,e){let n=e?.[AM];return n==null?null:Jt.makeFromBucketSpec(n,t)}function m6(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:gh(r,t.app.options.projectId))}var Mu=class{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=TM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cG,this._maxUploadRetryTime=lG,this._requests=new Set,r!=null?this._bucket=Jt.makeFromBucketSpec(r,this._host):this._bucket=IM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jt.makeFromBucketSpec(this._url,e):this._bucket=IM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){g0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){g0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return T(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return T(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ac(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new m0(MM());{let s=MG(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return T(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()})}},DM="@firebase/storage",CM="0.12.2";var g6="storage";function qM(t,e,n){return t=Me(t),s6(t,e,n)}function GM(t){return t=Me(t),c6(t)}function WM(t,e){return t=Me(t),l6(t,e)}function KM(t,e){return t=Me(t),$M(t,e)}function YM(t){return t=Me(t),a6(t)}function QM(t){return t=Me(t),u6(t)}function ZM(t){return t=Me(t),d6(t)}function S0(t,e){return t=Me(t),p6(t,e)}function XM(t,e){return HM(t,e)}function JM(t,e,n,i={}){m6(t,e,n,i)}function y6(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Mu(n,i,r,e,wh)}function v6(){Vo(new Wn(g6,y6,"PUBLIC").setMultipleInstances(!0)),Sn(DM,CM,""),Sn(DM,CM,"esm2017")}v6();var lc=class{constructor(e,n,i){this._delegate=e,this.task=n,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var jp=class{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new lc(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(i=>{if(e)return e(new lc(i,this,this._ref))},n)}on(e,n,i,r){let o;return n&&(typeof n=="function"?o=s=>n(new lc(s,this,this._ref)):o={next:n.next?s=>n.next(new lc(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,i||void 0,r||void 0)}},Bp=class{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new ps(e,this._service))}get items(){return this._delegate.items.map(e=>new ps(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var ps=class t{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let n=XM(this._delegate,e);return new t(n,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new jp(qM(this._delegate,e,n),this)}putString(e,n=In.RAW,i){this._throwIfRoot("putString");let r=D0(n,e),o=Object.assign({},i);return o.contentType==null&&r.contentType!=null&&(o.contentType=r.contentType),new jp(new Ru(this._delegate,new oc(r.data,!0),o),this)}listAll(){return YM(this._delegate).then(e=>new Bp(e,this.storage))}list(e){return KM(this._delegate,e||void 0).then(n=>new Bp(n,this.storage))}getMetadata(){return GM(this._delegate)}updateMetadata(e){return WM(this._delegate,e)}getDownloadURL(){return QM(this._delegate)}delete(){return this._throwIfRoot("delete"),ZM(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw E0(e)}};var Up=class{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(e1(e))throw fs("ref() expected a child path but got a URL, use refFromURL instead.");return new ps(S0(this._delegate,e),this)}refFromURL(e){if(!e1(e))throw fs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Jt.makeFromUrl(e,this._delegate.host)}catch{throw fs("refFromUrl() expected a valid full URL but got an invalid one.")}return new ps(S0(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,i={}){JM(this._delegate,e,n,i)}};function e1(t){return/^[A-Za-z]+:\/\//.test(t)}var _6="@firebase/storage-compat",w6="0.3.5";var b6="storage-compat";function E6(t,{instanceIdentifier:e}){let n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("storage").getImmediate({identifier:e});return new Up(n,i)}function I6(t){let e={TaskState:Ut,TaskEvent:BM,StringFormat:In,Storage:Up,Reference:ps};t.INTERNAL.registerComponent(new Wn(b6,E6,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(_6,w6)}I6(wt);function D6(t){return new ne(e=>{let n=s=>e.next(s),i=s=>e.error(s),r=()=>e.complete();n(t.snapshot);let o=t.on("state_changed",n);return t.then(s=>{n(s),r()},s=>{n(t.snapshot),i(s)}),function(){o()}}).pipe(wa(0))}function t1(t){let e=D6(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Y(n=>n.bytesTransferred/n.totalBytes*100))}}function $p(t){return{getDownloadURL:()=>W(void 0).pipe(i0,$e(()=>t.getDownloadURL()),At),getMetadata:()=>W(void 0).pipe(i0,$e(()=>t.getMetadata()),At),delete:()=>ye(t.delete()),child:e=>$p(t.child(e)),updateMetadata:e=>ye(t.updateMetadata(e)),put:(e,n)=>{let i=t.put(e,n);return t1(i)},putString:(e,n,i)=>{let r=t.putString(e,n,i);return t1(r)},list:e=>ye(t.list(e)),listAll:()=>ye(t.listAll())}}var C6=new F("angularfire2.storageBucket"),T6=new F("angularfire2.storage.maxUploadRetryTime"),A6=new F("angularfire2.storage.maxOperationRetryTime"),S6=new F("angularfire2.storage.use-emulator"),x0=(()=>{class t{storage;constructor(n,i,r,o,s,a,c,l,u,f){let m=hs(n,s,i);this.storage=tc(`${m.name}.storage.${r}`,"AngularFireStorage",m.name,()=>{let g=s.runOutsideAngular(()=>m.storage(r||void 0)),b=u;return b&&g.useEmulator(...b),c&&g.setMaxUploadRetryTime(c),l&&g.setMaxOperationRetryTime(l),g},[c,l])}ref(n){return $p(this.storage.ref(n))}refFromURL(n){return $p(this.storage.refFromURL(n))}upload(n,i,r){let o=this.storage.ref(n);return $p(o).put(i,r)}static \u0275fac=function(i){return new(i||t)(_(so),_(ao,8),_(C6,8),_(pt),_(Z),_(ds),_(T6,8),_(A6,8),_(S6,8),_(Li,8))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var x6=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=oe({type:t});static \u0275inj=se({})}return t})(),n1=(()=>{class t{constructor(){wt.registerVersion("angularfire",Vi.full,"gcs-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=oe({type:t});static \u0275inj=se({providers:[x0],imports:[x6]})}return t})();var i1="auth",Hp=(()=>{let e=class e{constructor(i){this.http=i,console.log("El servicio de autenticaci\xF3n est\xE1 corriendo.")}token(){return console.log("Archivo Autenticacion Service, token(): ",sessionStorage.getItem("token")),sessionStorage.getItem("token")}setToken(i){sessionStorage.setItem("token",i)}removeToken(){sessionStorage.removeItem("token"),console.log("Token removido, desde archivo autentication service",sessionStorage.getItem("token"))}iniciarSesion(){console.log("[CHE-AutenticacionService]"),window.sessionStorage.setItem(i1,"solecita")}cerrarSesion(){window.sessionStorage.clear()}getToken(){return sessionStorage.getItem(i1)}};e.\u0275fac=function(r){return new(r||e)(_(ss))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function M6(t,e){t&1&&(w(0,"div")(1,"button",21),S(2,"MODO EDICI\xD3N"),v()())}function P6(t,e){if(t&1){let n=Ai();w(0,"div")(1,"button",22),ze("click",function(r){dn(n);let o=Ze();return hn(o.logout(r))}),S(2,"TERMINAR EDICI\xD3N"),v()()}}var uc=(()=>{let e=class e{constructor(i,r,o){this.storage=i,this.router=r,this.autenticacionService=o,this.loginActive=!0,this.registerActive=!1,this.portfolioActive=!1,this.pageNotFoundActive=!1}ngOnInit(){switch(console.log("[CHE-NAVBAR]"),console.log("CHE: islogged:",this.isLogged),console.log(this.imageUrl),this.rutaActiva=this.router.url,console.log(this.rutaActiva),console.log("Ruta activa: ",this.router.url),this.router.url){case"/portfolio":{this.portfolioActive=!0,this.registerActive=!1,this.loginActive=!1;break}case"/login":{this.loginActive=!0,this.registerActive=!1,this.portfolioActive=!1,this.pageNotFoundActive=!1;break}case"/register":{this.registerActive=!0,this.loginActive=!1;break}default:{this.pageNotFoundActive=!0,this.portfolioActive=!1,this.registerActive=!1,this.loginActive=!1;break}}}cerrarSesion(){this.autenticacionService.cerrarSesion(),window.location.reload()}logout(i){i.preventDefault,o1.default.fire({title:"\xBFCerrar sesi\xF3n?",text:"",icon:"warning",showCancelButton:!0,cancelButtonColor:"#747174",cancelButtonText:"Cancelar",confirmButtonColor:"#00b5ff",confirmButtonText:"Confirmar"}).then(r=>{r.isConfirmed&&(sessionStorage.removeItem("token"),this.autenticacionService.removeToken(),console.log("Token removido, notifico desde navbar ",sessionStorage.getItem("token")),this.router.navigate(["/login"]))})}};e.\u0275fac=function(r){return new(r||e)(L(x0),L(pn),L(Hp))},e.\u0275cmp=Ee({type:e,selectors:[["app-navbar"]],inputs:{isLogged:"isLogged",personas:"personas"},decls:29,vars:2,consts:[[1,"divgrid"],[1,"columna"],["href","https://argentinaprograma.inti.gob.ar","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Argentina Programa..."],["src","./../../../assets/media/logoArgProg.png","alt","INTI...",1,"logoInti"],["id","nvtext",1,"columna","d-flex","justify-content-center","align-items-center"],[1,"ttit"],[1,"columna","d-flex","flex-direction-column","justify-content-center","align-items-center"],["href","https://github.com/HCanestraro","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to GitHub..."],["src","./../../../assets/media/logo-github.svg","alt","GitHub...",1,"logos","m-1","shadow","rounded","p-1"],["href","https://instagram.com/@canestraro-che","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Instagram..."],["src","./../../../assets/media/cheinstagram.png","alt","Instagram...",1,"logos"],["href","https://www.twitter.com/@canestraro-che","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to X (ex-Twitter)..."],["src","./../../../assets/media/chetwitter.png","alt","Twitter...",1,"logos"],["href","https://ar.linkedin.com/in/hernan-canestraro-44448435","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to GitHub..."],["src","./../../../assets/media/chelinkedin.png","alt","Linkedin...",1,"logos"],["href","https://sites.google.com/view/HCanestraro","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Google Sites..."],["src","./../../../assets/media/chegooglesites.jpeg","alt","Google Sites...",1,"logos"],["href","https://www.youtube.com/@HCanestraro","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Youtube..."],["src","./../../../assets/media/cheyoutube.png","alt","Youtube...",1,"logos"],[1,"colunma","d-flex","justify-content-center","align-items-center"],[4,"ngIf"],["data-bs-toggle","tooltip","data-bs-placement","bottom","title","Abrir sesi\xF3n...","routerLink","/portfolio",1,"btn","btn-info","btn-md","fw-bold","shadow-lg","buttonx"],["data-bs-toggle","tooltip","data-bs-placement","bottom","title","Cerrar sesi\xF3n...",1,"btn","btn-dark","rounded","text-white","shadow-lg","buttonx",3,"click"]],template:function(r,o){r&1&&(w(0,"div",0)(1,"div",1)(2,"a",2),O(3,"img",3),v()(),w(4,"div",4)(5,"h1",5),S(6,"Integrator Project"),v()(),w(7,"div",6)(8,"div")(9,"a",7),O(10,"img",8),v()(),w(11,"div")(12,"a",9),O(13,"img",10),v()(),w(14,"div")(15,"a",11),O(16,"img",12),v()(),w(17,"div")(18,"a",13),O(19,"img",14),v()(),w(20,"div")(21,"a",15),O(22,"img",16),v()(),w(23,"div")(24,"a",17),O(25,"img",18),v()()(),w(26,"div",19),Oe(27,M6,3,0,"div",20)(28,P6,3,0,"div",20),v()()),r&2&&(z(27),ie("ngIf",o.portfolioActive===!1),z(),ie("ngIf",o.portfolioActive===!0))},dependencies:[Jr,Sp],styles:[".divgrid[_ngcontent-%COMP%]{border:2px solid blue;display:grid;grid-template-columns:25% 25% 25% 25%;border-radius:5px}.gridSocial[_ngcontent-%COMP%]{display:grid;grid-template-columns:25% 25% 25% 25% 25%}.columna[_ngcontent-%COMP%]{border:1px solid #ddd}.buttonx[_ngcontent-%COMP%]{font-size:x-large}.buttonx[_ngcontent-%COMP%]:after{border-color:#00f}.imgCover[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]});let t=e;return t})();function Pu(t,e=0){return k6(t)?Number(t):e}function k6(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function dc(t){return Array.isArray(t)?t:[t]}function ut(t){return t==null?"":typeof t=="string"?t:`${t}px`}function vr(t){return t instanceof je?t.nativeElement:t}var M0;try{M0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{M0=!1}var St=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?tw(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||M0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(_(pt))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ku;function N6(){if(ku==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ku=!0}))}finally{ku=ku||!1}return ku}function hc(t){return N6()?t:!!t.capture}var ms;function a1(){if(ms==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ms=!1,ms;if("scrollBehavior"in document.documentElement.style)ms=!0;else{let t=Element.prototype.scrollTo;t?ms=!/\{\s*\[native code\]\s*\}/.test(t.toString()):ms=!1}}return ms}var R0;function O6(){if(R0==null){let t=typeof document<"u"?document.head:null;R0=!!(t&&(t.createShadowRoot||t.attachShadow))}return R0}function c1(t){if(O6()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Nu(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function ii(t){return t.composedPath?t.composedPath()[0]:t.target}function Ou(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var F6=new F("cdk-dir-doc",{providedIn:"root",factory:L6});function L6(){return j(he)}var V6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function j6(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?V6.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Fu=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new ke,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=j6(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(_(F6,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})();var H6=20,u1=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this._platform=r,this._scrolled=new ue,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=H6){return this._platform.isBrowser?new ne(r=>{this._globalSubscription||this._addGlobalListener();let o=i>0?this._scrolled.pipe(qh(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let o=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(Pe(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,i)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let o=vr(r),s=i.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return Dl(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(_(Z),_(St),_(he,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var z6=20,P0=(()=>{let e=class e{constructor(i,r,o){this._platform=i,this._change=new ue,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(i.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+o,right:i.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),o=i.documentElement,s=o.getBoundingClientRect(),a=-s.top||i.body.scrollTop||r.scrollY||o.scrollTop||0,c=-s.left||i.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:c}}change(i=z6){return i>0?this._change.pipe(qh(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(_(St),_(Z),_(he,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var l1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})(),k0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({imports:[lo,l1,lo,l1]});let t=e;return t})();var Lu=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},fc=class extends Lu{constructor(e,n,i,r,o){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},pc=class extends Lu{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},N0=class extends Lu{constructor(e){super(),this.element=e instanceof je?e.nativeElement:e}},mc=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof fc)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof pc)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof N0)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var qp=class extends mc{constructor(e,n,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||ot.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Vu=(()=>{let e=class e extends mc{constructor(i,r,o){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new ke,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=r.createComponent(s,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};e.\u0275fac=function(r){return new(r||e)(L(Kr),L(On),L(he))},e.\u0275dir=Ne({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[We.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ct]});let t=e;return t})();var gs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})();function Gp(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var d1=a1(),O0=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ut(-this._previousScrollPosition.left),e.style.top=ut(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,i=e.style,r=n.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),d1&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),d1&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var F0=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Pe(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Wp=class{enable(){}disable(){}attach(){}};function L0(t,e){return e.some(n=>{let i=t.bottom<n.top,r=t.top>n.bottom,o=t.right<n.left,s=t.left>n.right;return i||r||o||s})}function h1(t,e){return e.some(n=>{let i=t.top<n.top,r=t.bottom>n.bottom,o=t.left<n.left,s=t.right>n.right;return i||r||o||s})}var V0=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();L0(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},G6=(()=>{let e=class e{constructor(i,r,o,s){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Wp,this.close=a=>new F0(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new O0(this._viewportRuler,this._document),this.reposition=a=>new V0(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(_(u1),_(P0),_(Z),_(he))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ju=class{constructor(e){if(this.scrollStrategy=new Wp,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let i of n)e[i]!==void 0&&(this[i]=e[i])}}};var j0=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var y1=(()=>{let e=class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(_(he))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),W6=(()=>{let e=class e extends y1{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let c=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(o)):c.next(o);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(_(he),_(Z,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K6=(()=>{let e=class e extends y1{constructor(i,r,o){super(i),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ii(s)},this._clickListener=s=>{let a=ii(s),c=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){let f=l[u];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(a)||f.overlayElement.contains(c))break;let m=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(s)):m.next(s)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(_(he),_(St),_(Z,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gc=(()=>{let e=class e{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||Ou()){let o=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(i),Ou()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(_(he),_(St))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_r=class{constructor(e,n,i,r,o,s,a,c,l,u=!1){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new ue,this._attachments=new ue,this._detachments=new ue,this._locationChanges=Ge.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new ue,this._outsidePointerEvents=new ue,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Et(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=V(V({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Te(V({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=ut(this._config.width),e.height=ut(this._config.height),e.minWidth=ut(this._config.minWidth),e.minHeight=ut(this._config.minHeight),e.maxWidth=ut(this._config.maxWidth),e.maxHeight=ut(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){let r=dc(n||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(vi(Ho(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},f1="cdk-overlay-connected-position-bounding-box",Y6=/([A-Za-z%]+)$/,B0=class{get positions(){return this._preferredPositions}constructor(e,n,i,r,o){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ue,this._resizeSubscription=Ge.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(f1),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,n,a),u=this._getOverlayFit(l,n,i,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(u,l,i)){o.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:n})}if(o.length){let a=null,c=-1;for(let l of o){let u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ys(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(f1),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:a}n.left<0&&(r-=n.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(e,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return i.overlayY=="center"?o=-n.height/2:o=i.overlayY=="top"?0:-n.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,n,i,r){let o=m1(n),{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let u=0-s,f=s+o.width-i.width,m=0-a,g=a+o.height-i.height,b=this._subtractOverflows(o.width,u,f),I=this._subtractOverflows(o.height,m,g),E=b*I;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:I===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,o=i.right-n.x,s=p1(this._overlayRef.getConfig().minHeight),a=p1(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=r,l=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&l}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=m1(n),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0),u=0,f=0;return r.width<=o.width?u=l||-s:u=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?f=c||-a:f=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:f},{x:e.x+u,y:e.y+f}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!Q6(this._lastScrollVisibility,i)){let r=new j0(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(n.overlayY==="top")s=e.y,o=i.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let g=Math.min(i.bottom-e.y+i.top,e.y),b=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-b/2)}let c=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,l=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,u,f,m;if(l)m=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if(c)f=e.x,u=i.right-e.x;else{let g=Math.min(i.right-e.x+i.left,e.x),b=this._lastBoundingBoxSize.width;u=g*2,f=e.x-g,u>b&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-b/2)}return{top:s,left:f,bottom:a,right:m,width:u,height:o}}_setBoundingBoxStyles(e,n){let i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ut(i.height),r.top=ut(i.top),r.bottom=ut(i.bottom),r.width=ut(i.width),r.left=ut(i.left),r.right=ut(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=ut(o)),s&&(r.maxWidth=ut(s))}this._lastBoundingBoxSize=i,ys(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ys(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ys(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();ys(i,this._getExactOverlayY(n,e,u)),ys(i,this._getExactOverlayX(n,e,u))}else i.position="static";let a="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ut(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ut(s.maxWidth):o&&(i.maxWidth="")),ys(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=ut(o.y);return r}_getExactOverlayX(e,n,i){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=ut(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:h1(e,i),isOriginOutsideView:L0(e,i),isOverlayClipped:h1(n,i),isOverlayOutsideView:L0(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&dc(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof je)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}};function ys(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function p1(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(Y6);return!n||n==="px"?parseFloat(e):null}return t||null}function m1(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function Q6(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var g1="cdk-global-overlay-wrapper",U0=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(g1),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,f=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",g="",b="",I="";c?I="flex-start":u==="center"?(I="center",m?b=f:g=f):m?u==="left"||u==="end"?(I="flex-end",g=f):(u==="right"||u==="start")&&(I="flex-start",b=f):u==="left"||u==="start"?(I="flex-start",g=f):(u==="right"||u==="end")&&(I="flex-end",b=f),e.position=this._cssPosition,e.marginLeft=c?"0":g,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":b,n.justifyContent=I,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(g1),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},Z6=(()=>{let e=class e{constructor(i,r,o,s){this._viewportRuler=i,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new U0}flexibleConnectedTo(i){return new B0(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(_(P0),_(he),_(St),_(gc))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),X6=0,ri=(()=>{let e=class e{constructor(i,r,o,s,a,c,l,u,f,m,g,b){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=c,this._ngZone=l,this._document=u,this._directionality=f,this._location=m,this._outsideClickDispatcher=g,this._animationsModuleType=b}create(i){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new ju(i);return a.direction=a.direction||this._directionality.value,new _r(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${X6++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(pr)),new qp(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(_(G6),_(gc),_(Kr),_(Z6),_(W6),_(ot),_(Z),_(he),_(Fu),_(Mi),_(K6),_(Ua,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var J6=new F("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(ri);return()=>t.scrollStrategies.reposition()}});function e9(t){return()=>t.scrollStrategies.reposition()}var t9={provide:J6,deps:[ri],useFactory:e9},Kp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({providers:[ri,t9],imports:[lo,gs,k0,k0]});let t=e;return t})();var n9=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({providers:[n9]});let t=e;return t})();var w1=new Set,vs,i9=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):o9}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&r9(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(_(St),_(zl,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function r9(t,e){if(!w1.has(t))try{vs||(vs=document.createElement("style"),e&&(vs.nonce=e),vs.setAttribute("type","text/css"),document.head.appendChild(vs)),vs.sheet&&(vs.sheet.insertRule(`@media ${t} {body{ }}`,0),w1.add(t))}catch(n){console.error(n)}}function o9(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var E1=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new ue}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return b1(dc(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=b1(dc(i)).map(a=>this._registerQuery(a).observable),s=$o(o);return s=Or(s.pipe(Et(1)),s.pipe(Tl(1),wa(0))),s.pipe(Y(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{c.matches=c.matches||l,c.breakpoints[u]=l}),c}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new ne(a=>{let c=l=>this._zone.run(()=>a.next(l));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(ln(r),Y(({matches:a})=>({query:i,matches:a})),vi(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)(_(i9),_(Z))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function b1(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Bu=(()=>{let e=class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return a9(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let r=s9(m9(i));if(r&&(I1(r)===-1||!this.isVisible(r)))return!1;let o=i.nodeName.toLowerCase(),s=I1(i);return i.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!f9(i)?!1:o==="audio"?i.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,r){return p9(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}};e.\u0275fac=function(r){return new(r||e)(_(St))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function s9(t){try{return t.frameElement}catch{return null}}function a9(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function c9(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function l9(t){return d9(t)&&t.type=="hidden"}function u9(t){return h9(t)&&t.hasAttribute("href")}function d9(t){return t.nodeName.toLowerCase()=="input"}function h9(t){return t.nodeName.toLowerCase()=="a"}function T1(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function I1(t){if(!T1(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function f9(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function p9(t){return l9(t)?!1:c9(t)||u9(t)||t.hasAttribute("contenteditable")||T1(t)}function m9(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var H0=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,i,r,o=!1){this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(e),!!i}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Et(1)).subscribe(e)}},Zp=(()=>{let e=class e{constructor(i,r,o){this._checker=i,this._ngZone=r,this._document=o}create(i,r=!1){return new H0(i,this._checker,this._ngZone,this._document,r)}};e.\u0275fac=function(r){return new(r||e)(_(Bu),_(Z),_(he))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function z0(t){return t.buttons===0||t.detail===0}function q0(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var g9=new F("cdk-input-modality-detector-options"),y9={ignoreKeys:[18,17,224,91,16]},A1=650,yc=hc({passive:!0,capture:!0}),v9=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new bt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ii(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<A1||(this._modality.next(z0(a)?"keyboard":"mouse"),this._mostRecentTarget=ii(a))},this._onTouchstart=a=>{if(q0(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ii(a)},this._options=V(V({},y9),s),this.modalityDetected=this._modality.pipe(Tl(1)),this.modalityChanged=this.modalityDetected.pipe(ba()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,yc),o.addEventListener("mousedown",this._onMousedown,yc),o.addEventListener("touchstart",this._onTouchstart,yc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,yc),document.removeEventListener("mousedown",this._onMousedown,yc),document.removeEventListener("touchstart",this._onTouchstart,yc))}};e.\u0275fac=function(r){return new(r||e)(_(St),_(Z),_(he),_(g9,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qp=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Qp||{}),_9=new F("cdk-focus-monitor-default-options"),Yp=hc({passive:!0,capture:!0}),Xp=(()=>{let e=class e{constructor(i,r,o,s,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ue,this._rootNodeFocusAndBlurListener=c=>{let l=ii(c);for(let u=l;u;u=u.parentElement)c.type==="focus"?this._onFocus(c,u):this._onBlur(c,u)},this._document=s,this._detectionMode=a?.detectionMode||Qp.IMMEDIATE}monitor(i,r=!1){let o=vr(i);if(!this._platform.isBrowser||o.nodeType!==1)return W();let s=c1(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let c={checkChildren:r,subject:new ue,rootNode:s};return this._elementInfo.set(o,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(i){let r=vr(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=vr(i),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([c,l])=>this._originChanged(c,r,l)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===Qp.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===Qp.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?A1:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=ii(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Yp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Yp)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(vi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Yp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Yp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(_(Z),_(St),_(v9),_(he,8),_(_9,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _s=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(_s||{}),D1="cdk-high-contrast-black-on-white",C1="cdk-high-contrast-white-on-black",$0="cdk-high-contrast-active",G0=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=j(E1).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return _s.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return _s.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return _s.BLACK_ON_WHITE}return _s.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove($0,D1,C1),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===_s.BLACK_ON_WHITE?i.add($0,D1):r===_s.WHITE_ON_BLACK&&i.add($0,C1)}}};e.\u0275fac=function(r){return new(r||e)(_(St),_(he))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),S1=(()=>{let e=class e{constructor(i){i._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(r){return new(r||e)(_(G0))},e.\u0275mod=oe({type:e}),e.\u0275inj=se({imports:[_1]});let t=e;return t})();function w9(t,e){}var ws=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Q0=(()=>{let e=class e extends mc{constructor(i,r,o,s,a,c,l,u){super(),this._elementRef=i,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=a,this._ngZone=c,this._overlayRef=l,this._focusMonitor=u,this._platform=j(St),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=j(ei),this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let m=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),m},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let r=this._ariaLabelledByQueue.indexOf(i);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),r}attachTemplatePortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,r){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{i.removeEventListener("blur",o),i.removeEventListener("mousedown",o),i.removeAttribute("tabindex")};i.addEventListener("blur",o),i.addEventListener("mousedown",o)})),i.focus(r)}_focusByCssSelector(i,r){let o=this._elementRef.nativeElement.querySelector(i);o&&this._forceFocus(o,r)}_trapFocus(){let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let i=this._config.restoreFocus,r=null;if(typeof i=="string"?r=this._document.querySelector(i):typeof i=="boolean"?r=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(r=i),this._config.restoreFocus&&r&&typeof r.focus=="function"){let o=Nu(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,r=Nu();return i===r||i.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Nu()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(r){return new(r||e)(L(je),L(Zp),L(he,8),L(ws),L(Bu),L(Z),L(_r),L(Xp))},e.\u0275cmp=Ee({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(r&1&&qf(Vu,7),r&2){let s;Gl(s=Wl())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){r&2&&Ot("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[Ct,Zr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&Oe(0,w9,0,0,"ng-template",0)},dependencies:[Vu],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),Uu=class{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new ue,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Gp(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},b9=new F("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=j(ri);return()=>t.scrollStrategies.block()}}),E9=new F("DialogData"),I9=new F("DefaultDialogConfig");var D9=0,Z0=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,r,o,s,a,c){this._overlay=i,this._injector=r,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ue,this._afterOpenedAtThisLevel=new ue,this._ariaHiddenElements=new Map,this.afterAllClosed=Fr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ln(void 0))),this._scrollStrategy=c}open(i,r){let o=this._defaultOptions||new ws;r=V(V({},o),r),r.id=r.id||`cdk-dialog-${D9++}`,r.id&&this.getDialogById(r.id);let s=this._getOverlayConfig(r),a=this._overlay.create(s),c=new Uu(a,r),l=this._attachContainer(a,c,r);return c.containerInstance=l,this._attachDialogContent(i,c,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){K0(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){K0(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),K0(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let r=new ju({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(r.backdropClass=i.backdropClass),r}_attachContainer(i,r,o){let s=o.injector||o.viewContainerRef?.injector,a=[{provide:ws,useValue:o},{provide:Uu,useValue:r},{provide:_r,useValue:i}],c;o.container?typeof o.container=="function"?c=o.container:(c=o.container.type,a.push(...o.container.providers(o))):c=Q0;let l=new fc(c,o.viewContainerRef,ot.create({parent:s||this._injector,providers:a}),o.componentFactoryResolver);return i.attach(l).instance}_attachDialogContent(i,r,o,s){if(i instanceof kn){let a=this._createInjector(s,r,o,void 0),c={$implicit:s.data,dialogRef:r};s.templateContext&&(c=V(V({},c),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new pc(i,null,c,a))}else{let a=this._createInjector(s,r,o,this._injector),c=o.attachComponentPortal(new fc(i,s.viewContainerRef,a,s.componentFactoryResolver));r.componentRef=c,r.componentInstance=c.instance}}_createInjector(i,r,o,s){let a=i.injector||i.viewContainerRef?.injector,c=[{provide:E9,useValue:i.data},{provide:Uu,useValue:r}];return i.providers&&(typeof i.providers=="function"?c.push(...i.providers(r,i,o)):c.push(...i.providers)),i.direction&&(!a||!a.get(Fu,null,{optional:!0}))&&c.push({provide:Fu,useValue:{value:i.direction,change:W()}}),ot.create({parent:a||s,providers:c})}_removeOpenDialog(i,r){let o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let r=i.parentElement.children;for(let o=r.length-1;o>-1;o--){let s=r[o];s!==i&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(r){return new(r||e)(_(ri),_(ot),_(I9,8),_(e,12),_(gc),_(b9))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function K0(t,e){let n=t.length;for(;n--;)e(t[n])}var x1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({providers:[Z0],imports:[Kp,gs,S1,gs]});let t=e;return t})();function C9(){return!0}var T9=new F("mat-sanity-checks",{providedIn:"root",factory:C9}),eb=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return Ou()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(_(G0),_(T9,8),_(he))},e.\u0275mod=oe({type:e}),e.\u0275inj=se({imports:[lo,lo]});let t=e;return t})();var Vn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Vn||{}),X0=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Vn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},R1=hc({passive:!0,capture:!0}),J0=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=ii(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,R1)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,R1)))}},M1={enterDuration:225,exitDuration:150},A9=800,P1=hc({passive:!0,capture:!0}),k1=["mousedown","touchstart"],N1=["mouseup","mouseleave","touchend","touchcancel"],$u=class $u{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=vr(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=V(V({},M1),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||S9(e,n,r),a=e-r.left,c=n-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let f=window.getComputedStyle(u),m=f.transitionProperty,g=f.transitionDuration,b=m==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,I=new X0(this,u,i,b);u.style.transform="scale3d(1, 1, 1)",I.state=Vn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=I);let E=null;return!b&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let A=()=>this._finishRippleTransition(I),B=()=>this._destroyRipple(I);u.addEventListener("transitionend",A),u.addEventListener("transitioncancel",B),E={onTransitionEnd:A,onTransitionCancel:B}}),this._activeRipples.set(I,E),(b||!l)&&this._finishRippleTransition(I),I}fadeOutRipple(e){if(e.state===Vn.FADING_OUT||e.state===Vn.HIDDEN)return;let n=e.element,i=V(V({},M1),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=Vn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=vr(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,k1.forEach(i=>{$u._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{N1.forEach(n=>{this._triggerElement.addEventListener(n,this,P1)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Vn.FADING_IN?this._startFadeOutTransition(e):e.state===Vn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Vn.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Vn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=z0(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+A9;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!q0(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Vn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Vn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(k1.forEach(n=>$u._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&N1.forEach(n=>e.removeEventListener(n,this,P1)))}};$u._eventManager=new J0;var O1=$u;function S9(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}function x9(t,e){}var Hu=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},tb="mdc-dialog--open",F1="mdc-dialog--opening",L1="mdc-dialog--closing",R9=150,M9=75,P9=(()=>{let e=class e extends Q0{constructor(i,r,o,s,a,c,l,u,f){super(i,r,o,s,a,c,l,f),this._animationMode=u,this._animationStateChanged=new ke,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?j1(this._config.enterAnimationDuration)??R9:0,this._exitAnimationDuration=this._animationsEnabled?j1(this._config.exitAnimationDuration)??M9:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(V1,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(F1,tb)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(tb),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(tb),this._animationsEnabled?(this._hostElement.style.setProperty(V1,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(L1)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(F1,L1)}_waitForAnimationToComplete(i,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let r=super.attachComponentPortal(i);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};e.\u0275fac=function(r){return new(r||e)(L(je),L(Zp),L(he,8),L(Hu),L(Bu),L(Z),L(_r),L(Ua,8),L(Xp))},e.\u0275cmp=Ee({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){r&2&&(zf("id",o._config.id),Ot("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),fr("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[Ct,Zr],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(w(0,"div",0)(1,"div",1),Oe(2,x9,0,0,"ng-template",2),v()())},dependencies:[Vu],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let t=e;return t})(),V1="--mat-dialog-transition-duration";function j1(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Pu(t.substring(0,t.length-2)):t.endsWith("s")?Pu(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Jp=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Jp||{}),vc=class{constructor(e,n,i){this._ref=e,this._containerInstance=i,this._afterOpened=new ue,this._beforeClosed=new ue,this._state=Jp.OPEN,this.disableClose=n.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Pe(r=>r.state==="opened"),Et(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Pe(r=>r.state==="closed"),Et(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Ho(this.backdropClick(),this.keydownEvents().pipe(Pe(r=>r.keyCode===27&&!this.disableClose&&!Gp(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),k9(this,r.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Pe(n=>n.state==="closing"),Et(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Jp.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Jp.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function k9(t,e,n){return t._closeInteractionType=e,t.close(n)}var N9=new F("MatMdcDialogData"),O9=new F("mat-mdc-dialog-default-options"),F9=new F("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(ri);return()=>t.scrollStrategies.block()}});var L9=0,em=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,r,o,s,a,c,l,u){this._overlay=i,this._defaultOptions=s,this._scrollStrategy=a,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ue,this._afterOpenedAtThisLevel=new ue,this.dialogConfigClass=Hu,this.afterAllClosed=Fr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ln(void 0))),this._dialog=r.get(Z0),this._dialogRefConstructor=vc,this._dialogContainerType=P9,this._dialogDataToken=N9}open(i,r){let o;r=V(V({},this._defaultOptions||new Hu),r),r.id=r.id||`mat-mdc-dialog-${L9++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(i,Te(V({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:ws,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(a,c,l)=>(o=new this._dialogRefConstructor(a,r,l),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=s.componentRef,o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(o);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let r=i.length;for(;r--;)i[r].close()}};e.\u0275fac=function(r){return new(r||e)(_(ri),_(ot),_(Mi,8),_(O9,8),_(F9),_(e,12),_(gc),_(Ua,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var V9=(()=>{let e=class e{constructor(i,r,o){this._dialogRef=i,this._elementRef=r,this._dialog=o}ngOnInit(){this._dialogRef||(this._dialogRef=j9(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}};e.\u0275fac=function(r){return new(r||e)(L(vc,8),L(je),L(em))},e.\u0275dir=Ne({type:e,standalone:!0});let t=e;return t})();var B1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ne({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0});let t=e;return t})(),U1=(()=>{let e=class e extends V9{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=dr(e)))(o||e)}})(),e.\u0275dir=Ne({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(r,o){r&2&&fr("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},standalone:!0,features:[Ct]});let t=e;return t})();function j9(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-mdc-dialog-container");)n=n.parentElement;return n?e.find(i=>i.id===n.id):null}var $1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({providers:[em],imports:[x1,Kp,gs,eb,eb]});let t=e;return t})();var z1=(()=>{let e=class e{constructor(i){this.dialogRef=i}ngOnInit(){console.log("DEBUG: MIDIALOG")}cerrarDialog(){this.dialogRef.close()}};e.\u0275fac=function(r){return new(r||e)(L(vc))},e.\u0275cmp=Ee({type:e,selectors:[["app-mi-dialog"]],decls:24,vars:0,consts:[[1,"dialog-content"],[1,"dialog-title"],[1,"dialog-subtitle"],["align","center"],["mat-button","","color","primary",3,"click"]],template:function(r,o){r&1&&(w(0,"mat-dialog-content",0)(1,"h5",1),S(2,"Argentina Programa 4.0"),v(),w(3,"h6",2),S(4,"Proyecto Final"),v(),w(5,"h6"),S(6,"Luego de recorrer nueve m\xF3dulos llegamos a construir una pagina web"),v(),w(7,"h6"),S(8,"en Angular usando un frontend de Firebase con TypeScript"),v(),O(9,"br"),w(10,"h6"),S(11,"\xA1Lo hemos logrado!"),v(),O(12,"br"),w(13,"h6"),S(14,"Editor Visual Code \xA9 Microsoft."),v(),w(15,"h6"),S(16,"Firebase \xA9 Google"),v(),w(17,"h6"),S(18,"TypeScript \xA9 Microsoft."),v(),w(19,"h6"),S(20,"Im\xE1genes obtenidas de Google y Freepik.es"),v(),w(21,"mat-dialog-actions",3)(22,"button",4),ze("click",function(){return o.cerrarDialog()}),S(23,"Cerrar"),v()()())},dependencies:[U1,B1],styles:[".dialog-content[_ngcontent-%COMP%]{background-image:url(https://drive.google.com/uc?export=download&id=1rX5zCl1lQPjeGbYsH8BQUI-1L1HT0nL2);background-repeat:repeat;width:auto;height:auto;color:#7fff00}.dialog-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}.dialog-subtitle[_ngcontent-%COMP%]{font-size:18px;text-align:center}button[color=primary][_ngcontent-%COMP%]{color:green}"]});let t=e;return t})();var tm=(()=>{let e=class e{constructor(i){this.dialog=i}ngOnInit(){console.log("DEBUG: FOOTER")}abrirDialog(){this.dialog.open(z1,{width:"400px"}).afterClosed().subscribe(r=>{console.log("Dialog result: ${result}")})}};e.\u0275fac=function(r){return new(r||e)(L(em))},e.\u0275cmp=Ee({type:e,selectors:[["app-footer"]],decls:15,vars:0,consts:[["id","footer",1,"content"],[1,"d-flex","container-fluid","align-items-center","justify-content-center"],["data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Informaci\xF3n Page...",1,"btn","btn-primary"],["href","mailto:hernancanestraro.dev@gmail.com"]],template:function(r,o){r&1&&(w(0,"div",0)(1,"p"),S(2,'Proyecto Integrador Argentina Programa | "Yo Programo2" | Portafolio/CV Personal. | '),v(),w(3,"p"),S(4,"Backend hecho en Java con Spring framework | Frontend hecho en TypeScript con Angular framework."),v(),w(5,"p"),S(6,"2023 \xA9 HERNAN CANESTRARO"),v(),w(7,"div",1)(8,"button",2),S(9,"Info"),v()(),w(10,"a",3)(11,"p"),S(12,"Enviar un Email a: hernancanestraro.dev@gmail.com"),v()(),w(13,"p"),S(14,"Gracias por usar la aplicaci\xF3n!!!"),v()())}});let t=e;return t})();var jn=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="http://localhost:8080/api/",this.headers=new yr({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})}obtenerDatos(){return this.http.get("./../../assets/data/data.json")}obtenerDatosAcercaDe(){return this.http.get(this.apiUrl+"acercade")}obtenerDatosPersona(){return this.http.get(this.apiUrl+"ver/personas")}obtenerDatosEducacion(){return this.http.get(this.apiUrl+"educacion")}obtenerDatosExperiencia(){return this.http.get(this.apiUrl+"experiencia")}obtenerDatosProyectos(){return this.http.get(this.apiUrl+"proyectos")}obtenerDatosSkills(){return this.http.get(this.apiUrl+"skills")}obtenerOneDatosAcercaDe(i){return this.http.get(this.apiUrl+"acercade/"+i)}obtenerOneDatosEducacion(i){return this.http.get(this.apiUrl+"educacion/"+i)}obtenerOneDatosExperiencia(i){return this.http.get(this.apiUrl+"experiencias/"+i)}obtenerOneDatosProyecto(i){return this.http.get(this.apiUrl+"proyectos/"+i)}obtenerOneDatosSkill(i){return this.http.get(this.apiUrl+"skills/"+i)}postAcercaDe(i){let r=JSON.stringify(i);return this.http.post(this.apiUrl+"acercade",r,{headers:this.headers})}postEducacion(i){return this.http.post(this.apiUrl+"educacion",i,{headers:this.headers})}postExperiencia(i){return this.http.post(this.apiUrl+"experiencias",i,{headers:this.headers})}postProyecto(i){return this.http.post(this.apiUrl+"proyectos",i,{headers:this.headers})}postSkill(i){return this.http.post(this.apiUrl+"skills",i,{headers:this.headers})}putAcercaDe(i,r){return this.http.put(this.apiUrl+"acercade/"+r,i,{headers:this.headers})}putExperiencia(i,r){return this.http.put(this.apiUrl+"experiencias/"+r,i,{headers:this.headers})}putEducacion(i,r){return this.http.put(this.apiUrl+"educacion/"+r,i,{headers:this.headers})}putProyecto(i,r){return this.http.put(this.apiUrl+"proyectos/"+r,i,{headers:this.headers})}putSkill(i,r){return this.http.put(this.apiUrl+"skills/"+r,i,{headers:this.headers})}deleteAcercaDe(i){return this.http.delete(this.apiUrl+"acercade/"+i,{headers:this.headers})}deleteEducacion(i){return this.http.delete(this.apiUrl+"educacion/"+i,{headers:this.headers})}deleteExperiencia(i){return this.http.delete(this.apiUrl+"experiencias/"+i,{headers:this.headers})}deleteProyecto(i){return this.http.delete(this.apiUrl+"proyectos/"+i,{headers:this.headers})}deleteSkill(i){return this.http.delete(this.apiUrl+"skills/"+i,{headers:this.headers})}holaChe(){return this.http.get("localhost:8080/che/hola")}};e.\u0275fac=function(r){return new(r||e)(_(ss))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var G1=(()=>{let e=class e{constructor(i){this.portfolioService=i}ngOnInit(){console.log("[CHE-Acerdade]"),this.portfolioService.obtenerDatosAcercaDe().subscribe(i=>{console.log(i),this.miPortfolio=i.acercade,console.log(this.miPortfolio)}),this.portfolioService.obtenerDatosPersona().subscribe(i=>{console.log(i),this.miPortfolio2=i,console.log(this.miPortfolio2)})}};e.\u0275fac=function(r){return new(r||e)(L(jn))},e.\u0275cmp=Ee({type:e,selectors:[["app-acercade"]],inputs:{isLogged:"isLogged"},decls:10,vars:2,consts:[["id","acercaDeFirstCard",1,"card","card-mx","d-flex","acercaDe"],[1,"card-titles"],[1,"btn-edit"],["href","#","data-bs-toggle","tooltip","title","Editar acercade...",1,"btn-right"],[1,"fa","fa-pen"]],template:function(r,o){r&1&&(w(0,"div",0)(1,"div",1)(2,"h2"),S(3,"Acerca de"),v(),w(4,"div",2)(5,"a",3)(6,"i",4),S(7,"\u270F "),v()()(),w(8,"div"),S(9),v()()()),r&2&&(z(9),Kl(" ",o.miPortfolio.acercaDe," Nombres: ",o.miPortfolio2.nombres," "))},styles:["h1[_ngcontent-%COMP%]{color:#00f}div[_ngcontent-%COMP%]   #acercade[_ngcontent-%COMP%]{border-radius:50%;border:1px solid greenyellow;margin:1px}.acercaDe[_ngcontent-%COMP%]{margin:5px;background-color:#f0f8ff;width:95%;height:50px;padding:5px;border-top:5px;border-left:5px;border-right:5px;border:2px solid red;border-radius:5px}"]});let t=e;return t})();var eP=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(L(Yr),L(je))},e.\u0275dir=Ne({type:e});let t=e;return t})(),U9=(()=>{let e=class e extends eP{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=dr(e)))(o||e)}})(),e.\u0275dir=Ne({type:e,features:[Ct]});let t=e;return t})(),tP=new F("");var $9={provide:tP,useExisting:Wr(()=>fo),multi:!0};function H9(){let t=Ri()?Ri().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var z9=new F(""),fo=(()=>{let e=class e extends eP{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!H9())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(L(Yr),L(je),L(z9,8))},e.\u0275dir=Ne({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&ze("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Si([$9]),Ct]});let t=e;return t})();function uo(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function nP(t){return t!=null&&typeof t.length=="number"}var lm=new F(""),sb=new F(""),q9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ge=class{static min(e){return G9(e)}static max(e){return W9(e)}static required(e){return iP(e)}static requiredTrue(e){return K9(e)}static email(e){return Y9(e)}static minLength(e){return Q9(e)}static maxLength(e){return Z9(e)}static pattern(e){return X9(e)}static nullValidator(e){return im(e)}static compose(e){return lP(e)}static composeAsync(e){return uP(e)}};function G9(t){return e=>{if(uo(e.value)||uo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function W9(t){return e=>{if(uo(e.value)||uo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function iP(t){return uo(t.value)?{required:!0}:null}function K9(t){return t.value===!0?null:{required:!0}}function Y9(t){return uo(t.value)||q9.test(t.value)?null:{email:!0}}function Q9(t){return e=>uo(e.value)||!nP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Z9(t){return e=>nP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function X9(t){if(!t)return im;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(uo(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function im(t){return null}function rP(t){return t!=null}function oP(t){return rs(t)?ye(t):t}function sP(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function aP(t,e){return e.map(n=>n(t))}function J9(t){return!t.validate}function cP(t){return t.map(e=>J9(e)?e:n=>e.validate(n))}function lP(t){if(!t)return null;let e=t.filter(rP);return e.length==0?null:function(n){return sP(aP(n,e))}}function ab(t){return t!=null?lP(cP(t)):null}function uP(t){if(!t)return null;let e=t.filter(rP);return e.length==0?null:function(n){let i=aP(n,e).map(oP);return Yy(i).pipe(Y(sP))}}function cb(t){return t!=null?uP(cP(t)):null}function W1(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function dP(t){return t._rawValidators}function hP(t){return t._rawAsyncValidators}function nb(t){return t?Array.isArray(t)?t:[t]:[]}function rm(t,e){return Array.isArray(t)?t.includes(e):t===e}function K1(t,e){let n=nb(e);return nb(t).forEach(r=>{rm(n,r)||n.push(r)}),n}function Y1(t,e){return nb(e).filter(n=>!rm(t,n))}var om=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ab(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ho=class extends om{get formDirective(){return null}get path(){return null}},Wu=class extends om{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},sm=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},e8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},sle=Te(V({},e8),{"[class.ng-submitted]":"isSubmitted"}),Ec=(()=>{let e=class e extends sm{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(L(Wu,2))},e.\u0275dir=Ne({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&fr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ct]});let t=e;return t})(),Ui=(()=>{let e=class e extends sm{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(L(ho,10))},e.\u0275dir=Ne({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&fr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ct]});let t=e;return t})();var zu="VALID",nm="INVALID",wc="PENDING",qu="DISABLED";function lb(t){return(um(t)?t.validators:t)||null}function t8(t){return Array.isArray(t)?ab(t):t||null}function ub(t,e){return(um(e)?e.asyncValidators:t)||null}function n8(t){return Array.isArray(t)?cb(t):t||null}function um(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function fP(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Q(1e3,"");if(!i[n])throw new Q(1001,"")}function pP(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new Q(1002,"")})}var bc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zu}get invalid(){return this.status===nm}get pending(){return this.status==wc}get disabled(){return this.status===qu}get enabled(){return this.status!==qu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(K1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(K1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Y1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Y1(e,this._rawAsyncValidators))}hasValidator(e){return rm(this._rawValidators,e)}hasAsyncValidator(e){return rm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wc,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=qu,this.errors=null,this._forEachChild(i=>{i.disable(Te(V({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Te(V({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=zu,this._forEachChild(i=>{i.enable(Te(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Te(V({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zu||this.status===wc)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qu:zu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wc,this._hasOwnPendingAsyncValidator=!0;let n=oP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?qu:this.errors?nm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wc)?wc:this._anyControlsHaveStatus(nm)?nm:zu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){um(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=t8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=n8(this._rawAsyncValidators)}},Bn=class extends bc{constructor(e,n,i){super(lb(n),ub(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){pP(this,!0,e),Object.keys(e).forEach(i=>{fP(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ib=class extends Bn{};var dm=new F("CallSetDisabledState",{providedIn:"root",factory:()=>hm}),hm="always";function i8(t,e){return[...e.path,t]}function rb(t,e,n=hm){db(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),o8(t,e),a8(t,e),s8(t,e),r8(t,e)}function Q1(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),cm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function am(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function r8(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function db(t,e){let n=dP(t);e.validator!==null?t.setValidators(W1(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=hP(t);e.asyncValidator!==null?t.setAsyncValidators(W1(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();am(e._rawValidators,r),am(e._rawAsyncValidators,r)}function cm(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=dP(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=hP(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return am(e._rawValidators,i),am(e._rawAsyncValidators,i),n}function o8(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&mP(t,e)})}function s8(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&mP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function mP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function a8(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function gP(t,e){t==null,db(t,e)}function c8(t,e){return cm(t,e)}function l8(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function u8(t){return Object.getPrototypeOf(t.constructor)===U9}function yP(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function d8(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===fo?n=o:u8(o)?i=o:r=o}),r||i||n||null}function h8(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var f8={provide:ho,useExisting:Wr(()=>hb)},Gu=Promise.resolve(),hb=(()=>{let e=class e extends ho{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ke,this.form=new Bn({},ab(i),cb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Gu.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),rb(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Gu.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Gu.then(()=>{let r=this._findContainer(i.path),o=new Bn({});gP(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Gu.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Gu.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,yP(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(L(lm,10),L(sb,10),L(dm,8))},e.\u0275dir=Ne({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&ze("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[We.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Si([f8]),Ct]});let t=e;return t})();function Z1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function X1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ie=class extends bc{constructor(e=null,n,i){super(lb(n),ub(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),um(n)&&(n.nonNullable||n.initialValueIsDefault)&&(X1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Z1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Z1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){X1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var p8=t=>t instanceof Ie;var $i=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ne({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var vP=new F("");var m8={provide:ho,useExisting:Wr(()=>wr)},wr=(()=>{let e=class e extends ho{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ke,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return rb(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){Q1(i.control||null,i,!1),h8(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,yP(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(Q1(r||null,i),p8(o)&&(rb(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);gP(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&c8(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){db(this.form,this),this._oldForm&&cm(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(L(lm,10),L(sb,10),L(dm,8))},e.\u0275dir=Ne({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&ze("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[We.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Si([m8]),Ct,bn]});let t=e;return t})();var g8={provide:Wu,useExisting:Wr(()=>bs)},bs=(()=>{let e=class e extends Wu{set isDisabled(i){}constructor(i,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ke,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=d8(this,s)}ngOnChanges(i){this._added||this._setUpControl(),l8(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return i8(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(L(ho,13),L(lm,10),L(sb,10),L(tP,10),L(vP,8))},e.\u0275dir=Ne({type:e,selectors:[["","formControlName",""]],inputs:{name:[We.None,"formControlName","name"],isDisabled:[We.None,"disabled","isDisabled"],model:[We.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Si([g8]),Ct,bn]});let t=e;return t})();var y8=(()=>{let e=class e{constructor(){this._validator=im}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):im,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ne({type:e,features:[bn]});let t=e;return t})();var v8={provide:lm,useExisting:Wr(()=>Ku),multi:!0};var Ku=(()=>{let e=class e extends y8{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xi,this.createValidator=i=>iP}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=dr(e)))(o||e)}})(),e.\u0275dir=Ne({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Ot("required",o._enabled?"":null)},inputs:{required:"required"},features:[Si([v8]),Ct]});let t=e;return t})();var _P=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})(),ob=class extends bc{constructor(e,n,i){super(lb(n),ub(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){pP(this,!1,e),e.forEach((i,r)=>{fP(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function J1(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var fm=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let o=this._reduceControls(i),s={};return J1(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Bn(o,s)}record(i,r=null){let o=this._reduceControls(i);return new ib(o,r)}control(i,r,o){let s={};return this.useNonNullable?(J1(r)?s=r:(s.validators=r,s.asyncValidators=o),new Ie(i,Te(V({},s),{nonNullable:!0}))):new Ie(i,r,o)}array(i,r,o){let s=i.map(a=>this._createControl(a));return new ob(s,r,o)}_reduceControls(i){let r={};return Object.keys(i).forEach(o=>{r[o]=this._createControl(i[o])}),r}_createControl(i){if(i instanceof Ie)return i;if(i instanceof bc)return i;if(Array.isArray(i)){let r=i[0],o=i.length>1?i[1]:null,s=i.length>2?i[2]:null;return this.control(r,o,s)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wP=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:dm,useValue:i.callSetDisabledState??hm}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({imports:[_P]});let t=e;return t})(),bP=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:vP,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:dm,useValue:i.callSetDisabledState??hm}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({imports:[_P]});let t=e;return t})();var fb=ph(Du());var EP=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="http://localhost:8080/api"}getDatos(){return this.http.get(`${this.apiUrl}/datos`)}getDatosEducacion(){return console.log("[education]"),this.http.get(`${this.apiUrl}/educacion`)}};e.\u0275fac=function(r){return new(r||e)(_(ss))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function w8(t,e){if(t&1){let n=Ai();w(0,"div")(1,"div",7)(2,"button",8),ze("click",function(r){dn(n);let o=Ze();return hn(o.onCrear(r))}),w(3,"span"),O(4,"img",9),S(5,"AGREGAR EDUCACI\xD3N"),v()()()()}}function b8(t,e){if(t&1){let n=Ai();w(0,"div")(1,"div",31)(2,"div",32)(3,"button",33),ze("click",function(){dn(n);let r=Ze(2);return hn(r.onCancelNuevoRegistro())}),w(4,"span"),O(5,"img",34),v()(),w(6,"button",33),ze("click",function(r){dn(n);let o=Ze(2);return hn(o.onSaveNewNuevoRegistro(r))}),w(7,"span"),O(8,"img",35),v()()()()()}}function E8(t,e){if(t&1&&(w(0,"div",10)(1,"form",11)(2,"div",12),Oe(3,b8,9,0,"div",3),w(4,"h3",13),O(5,"img",14),w(6,"span"),S(7,"Nueva Educaci\xF3n"),v()(),w(8,"div",15)(9,"div",16)(10,"label",17),S(11,"Escuela:"),v()(),O(12,"input",18),v(),w(13,"div",15)(14,"div",16)(15,"label",19),S(16,"Titulo:"),v()(),O(17,"input",20),v(),w(18,"div",15)(19,"div",16)(20,"label",21),S(21,"Detalles:"),v()(),O(22,"input",22),v(),w(23,"div",15)(24,"div",16)(25,"label",23),S(26,"Puntaje:"),v()(),O(27,"input",24),v(),w(28,"div",15)(29,"div",16)(30,"label",25),S(31,"Inicio:"),v()(),O(32,"input",26),v(),w(33,"div",15)(34,"div",16)(35,"label",27),S(36,"Fin:"),v()(),O(37,"input",28),v(),w(38,"div",15)(39,"div",16)(40,"label",29),S(41,"URL Imagen:"),v()(),O(42,"input",30),v()()()()),t&2){let n=Ze();z(),ie("formGroup",n.form),z(2),ie("ngIf",n.modoNuevoRegistro===!0)}}function I8(t,e){if(t&1){let n=Ai();w(0,"div")(1,"div",31)(2,"div",32)(3,"button",33),ze("click",function(){dn(n);let r=Ze(2);return hn(r.onCancelNuevoRegistro())}),w(4,"span"),O(5,"img",34),v()(),w(6,"button",33),ze("click",function(r){dn(n);let o=Ze(2);return hn(o.onSaveNewNuevoRegistro(r))}),w(7,"span"),O(8,"img",35),v()()()()()}}function D8(t,e){if(t&1&&(w(0,"div",36)(1,"form",37)(2,"div",12),Oe(3,I8,9,0,"div",3),w(4,"h3",13),O(5,"img",14),w(6,"span"),S(7,"New education"),v()(),w(8,"div",15)(9,"div",16)(10,"label",38),S(11,"Escuela:"),v()(),O(12,"input",39),v(),w(13,"div",15)(14,"div",16)(15,"label",19),S(16,"Titulo:"),v()(),O(17,"input",20),v(),w(18,"div",15)(19,"div",16)(20,"label",21),S(21,"Detalles:"),v()(),O(22,"input",22),v(),w(23,"div",15)(24,"div",16)(25,"label",23),S(26,"Puntaje:"),v()(),O(27,"input",24),v(),w(28,"div",15)(29,"div",16)(30,"label",25),S(31,"Inicio:"),v()(),O(32,"input",26),v(),w(33,"div",15)(34,"div",16)(35,"label",27),S(36,"Fin:"),v()(),O(37,"input",28),v(),w(38,"div",15)(39,"div",16)(40,"label",29),S(41,"URL Imagen:"),v()(),O(42,"input",30),v()()()()),t&2){let n=Ze();z(),ie("formGroup",n.form),z(2),ie("ngIf",n.modoEdicion===!0)}}function C8(t,e){if(t&1&&(w(0,"div",40)(1,"div",41)(2,"div",42)(3,"div",32)(4,"button",43)(5,"span"),O(6,"img",44),v()()(),w(7,"div",32)(8,"button",45)(9,"span"),O(10,"img",46),v()()()(),w(11,"div",47),O(12,"img",48),v(),w(13,"div",49)(14,"p")(15,"b"),S(16,"\u{1F3EB} Escuela:"),v(),S(17),v(),w(18,"p")(19,"b"),S(20,"Titulo:"),v(),S(21),v(),w(22,"p")(23,"b"),S(24,"Detalles:"),v(),S(25),v(),w(26,"p")(27,"b"),S(28,"Puntaje:"),v(),S(29),v(),w(30,"p")(31,"b"),S(32,"\u{1F4C5} Inicio: "),v(),S(33),v(),w(34,"p")(35,"b"),S(36,"\u{1F4C5} Fin: "),v(),S(37),v()()()()),t&2){let n=e.$implicit,i=e.index;Ot("data-index",i),z(12),ie("src",n.imagen,Jn),z(5),Xt(" ",n.escuela,""),z(4),Xt(" ",n.titulo,""),z(4),fn(n.detalles),z(4),fn(n.puntaje),z(4),fn(n.inicio),z(4),fn(n.fin)}}var IP=(()=>{let e=class e{constructor(i,r){this.apiService=i,this.datosPortfolio=r,this.educacion=[],this.tituloModal="",this.modoEdicion=!1,this.modoNuevoRegistro=!1,this.form=new Bn({detalles:new Ie(["",[ge.required,ge.minLength(2)]]),estado:new Ie(["",[ge.required,ge.minLength(2)]]),institucion:new Ie(["",[ge.required,ge.minLength(2)]]),periodo:new Ie(["",[ge.required,ge.minLength(2)]]),titulo:new Ie(["",[ge.required,ge.minLength(2)]])})}ngOnInit(){console.log("EDUCATION"),this.datosPortfolio.obtenerDatosEducacion(),console.log("get:",this.miPortfolio2),this.datosPortfolio.obtenerDatosEducacion().subscribe(i=>{console.log(i),this.miPortfolio=i,console.log(this.miPortfolio)})}selectItem(i){console.log(i)}onCrear(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),s[3].setValue(""),s[4].setValue(""),console.log("valueFormDetalles: ",s[0].value),console.log("valueFormEstado: ",s[1].value),console.log("valueFormInstitucion: ",s[2].value),console.log("valueFormPeriodo: ",s[3].value),console.log("valueFormTitulo: ",s[4].value),this.modoNuevoRegistro=!0}onEdit(i,r,o){this.editID=i,this.i=r,console.log("i",r),console.log("editID",this.editID),console.log("this.form.value: ",this.form.value),console.log("id: ",i),this.form.setValue({detalles:this.miPortfolio[r].detalles,estado:this.miPortfolio[r].estado,institucion:this.miPortfolio[r].institucion,periodo:this.miPortfolio[r].periodo,titulo:this.miPortfolio[r].titulo}),console.log("this.form.value: ",this.form.value),this.modoEdicion=!0}onSaveEdit(i){i.preventDefault,this.datosPortfolio.putEducacion(this.form.value,this.editID).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("id: ",this.editID),console.log("EDUCACI\xD3N method PUT Data Editada",r),this.datosPortfolio.obtenerOneDatosEducacion(this.editID).subscribe(o=>{console.log("Dato: "+JSON.stringify(o)),this.miPortfolio[this.i]=o,console.log("miPortfolio[i : ",this.miPortfolio[this.i])})}),this.modoEdicion=!1}onSaveNewNuevoRegistro(i){i.preventDefault,this.datosPortfolio.postEducacion(this.form.value).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("AcercaDe method post Data",r),this.datosPortfolio.obtenerDatosEducacion().subscribe(o=>{this.miPortfolio=o})}),this.modoNuevoRegistro=!1}onDelete(i,r){console.log("ondelete",i),this.i=i,this.modoEdicion=!1,r.preventDefault,fb.default.fire({title:`\xBFELIMINAR EDUCACI\xD3N ${this.miPortfolio[i].titulo.toUpperCase()}?`,text:"No podr\xE1 revertir los cambios.",icon:"warning",confirmButtonColor:"#d33",confirmButtonText:"Si, Eliminar.",showCancelButton:!0,cancelButtonText:"Cancelar",cancelButtonColor:"#00b5ff"}).then(o=>{o.isConfirmed&&(this.datosPortfolio.deleteEducacion(this.miPortfolio[i].id).subscribe(s=>{console.log("Borrando registro",s),this.datosPortfolio.obtenerDatosEducacion().subscribe(a=>{this.miPortfolio=a})}),fb.default.fire({title:"ITEM ELIMINADO",icon:"success",showConfirmButton:!1,timer:1e3}))})}onCancelNuevoRegistro(){this.modoNuevoRegistro=!1}onCancel(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),s[3].setValue(""),s[4].setValue(""),console.log("valueFormDetalles: ",s[0].value),console.log("valueFormEstado: ",s[1].value),console.log("valueFormInstitucion: ",s[2].value),console.log("valueFormPeriodo: ",s[3].value),console.log("valueFormTitulo: ",s[4].value),this.modoEdicion=!1}};e.\u0275fac=function(r){return new(r||e)(L(EP),L(jn))},e.\u0275cmp=Ee({type:e,selectors:[["app-educacion"]],decls:9,vars:4,consts:[["id","educacionFirstCard"],[1,"cHeader"],[1,"cTitle","column","justify-content-start"],[4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["class","d-flex",4,"ngIf"],["onclick","selectItem(miP);",4,"ngFor","ngForOf"],[1,"cAdd"],[1,"btn-agregar",3,"click"],["src","../../../assets/media/logoAdd.png","alt","Agregar Educaci\xF3n...",1,"logos","mt-1","bg-blue","rounded-circle"],[1,"d-flex","justify-content-center"],[1,"mb-4",3,"formGroup"],[1,"text-center","border","mt-5","p-3","shadow","rounded"],[1,"text-center","m-3"],["src","./../../../assets/media/logoEdu.png","alt","",1,"logos"],[1,""],[1,"text-start"],["for","escuela",1,"form-label","fw-bold"],["type","text","id","escuela","placeholder","\u{1F3EB} Escuela","formControlName","escuela","required","","autofocus","",1,"p-2","mb-2","border","rounded","border","shadow"],["for","titulo",1,"form-label"],["type","text","id","titulo","placeholder","Titulo","formControlName","titulo","required",""],["for","detalles",1,"form-label"],["type","text","id","detalles","placeholder","Detalles","formControlName","detalles","required",""],["for","puntaje",1,"form-label"],["type","text","id","puntaje","placeholder","puntaje","formControlName","puntaje","required",""],["for","inicio",1,"form-label"],["type","text","id","inicio","placeholder","inicio","formControlName","inicio","required",""],["for","fin",1,"form-label"],["type","text","id","fin","placeholder","fin","formControlName","fin","required",""],["for","imagen",1,"form-label"],["type","text","id","imagen","placeholder","imagen","formControlName","imagen"],[1,"d-flex","justify-content-end"],[1,"p-1"],[1,"btn","p-0","m-1",3,"click"],["src","./../../../assets/media/logoCancel.png","alt","Editar",1,"logos"],["src","./../../../assets/media/logoSave.png","alt","Editar",1,"logos"],[1,"d-flex"],[3,"formGroup"],["for","escuela",1,"form-label"],["type","text","id","escuela","placeholder","\u{1F3EB} Escuela","formControlName","escuela","required","","autofocus",""],["onclick","selectItem(miP);"],[1,"cCard","row","box1"],[1,"d-flex","justify-content-end","border"],["data-bs-toggle","tooltip","title",`
							Editar educaci\xF3n...`,1,"btn","p-0","m-1"],["src","../../../assets/media/logoPencil.png",1,"logos"],["click","onDelete(i, $event)","data-bs-toggle","tooltip","title","Eliminar educaci\xF3n...",1,"btn","p-0","m-1"],["src","../../../assets/media/logoDelete.png",1,"logos"],[1,"column",2,"width","25%","margin-bottom","10px"],["alt","","id","imgEducacion",3,"src"],[1,"column",2,"width","75%"]],template:function(r,o){r&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),S(4,"Educaci\xF3n"),v()(),Oe(5,w8,6,0,"div",3),v(),Oe(6,E8,43,2,"div",4)(7,D8,43,2,"div",5)(8,C8,38,8,"div",6),v()),r&2&&(z(5),ie("ngIf",o.modoNuevoRegistro===!1),z(),ie("ngIf",o.modoNuevoRegistro===!0),z(),ie("ngIf",o.modoEdicion===!0),z(),ie("ngForOf",o.miPortfolio))},dependencies:[Xr,Jr,$i,fo,Ec,Ui,Ku,wr,bs],styles:[".row[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;display:flex;flex-wrap:wrap;margin-top:calc(-1 * var(--bs-gutter-y));margin-right:calc(-.5 * var(--bs-gutter-x));margin-left:calc(1 * var(--bs-gutter-x))}"]});let t=e;return t})();var pb=ph(Du());function A8(t,e){if(t&1){let n=Ai();w(0,"div")(1,"div",7)(2,"button",8),ze("click",function(r){dn(n);let o=Ze();return hn(o.onCrear(r))}),w(3,"span"),O(4,"img",9),S(5,"AGREGAR EXPERIENCIA"),v()()()()}}function S8(t,e){if(t&1){let n=Ai();w(0,"div")(1,"div",29)(2,"div",30)(3,"button",31),ze("click",function(){dn(n);let r=Ze(2);return hn(r.onCancelNuevoRegistro())}),w(4,"span"),O(5,"img",32),v()(),w(6,"button",31),ze("click",function(r){dn(n);let o=Ze(2);return hn(o.onSaveNewNuevoRegistro(r))}),w(7,"span"),O(8,"img",33),v()()()()()}}function x8(t,e){if(t&1&&(w(0,"div",10)(1,"form",11)(2,"div",12),Oe(3,S8,9,0,"div",3),w(4,"h3",13),O(5,"img",14),w(6,"span"),S(7,"Nueva Experiencia"),v()(),w(8,"div",15)(9,"div",16)(10,"label",17),S(11,"Ubicaci\xF3n:"),v()(),O(12,"input",18),v(),w(13,"div",15)(14,"div",16)(15,"label",19),S(16,"puesto:"),v()(),O(17,"input",20),v(),w(18,"div",15)(19,"div",16)(20,"label",21),S(21,"periodo:"),v()(),O(22,"input",22),v(),w(23,"div",15)(24,"div",16)(25,"label",23),S(26,"empresa:"),v()(),O(27,"input",24),v(),w(28,"div",15)(29,"div",16)(30,"label",25),S(31,"actividades:"),v()(),O(32,"input",26),v(),w(33,"div",15)(34,"div",16)(35,"label",27),S(36,"URL Imagen:"),v()(),O(37,"input",28),v()()()()),t&2){let n=Ze();z(),ie("formGroup",n.form),z(2),ie("ngIf",n.modoNuevoRegistro===!0)}}function R8(t,e){if(t&1){let n=Ai();w(0,"div")(1,"div",29)(2,"div",30)(3,"button",31),ze("click",function(){dn(n);let r=Ze(2);return hn(r.onCancelNuevoRegistro())}),w(4,"span"),O(5,"img",32),v()(),w(6,"button",31),ze("click",function(r){dn(n);let o=Ze(2);return hn(o.onSaveNewNuevoRegistro(r))}),w(7,"span"),O(8,"img",33),v()()()()()}}function M8(t,e){if(t&1&&(w(0,"div",34)(1,"form",35)(2,"div",12),Oe(3,R8,9,0,"div",3),w(4,"h3",13),O(5,"img",14),w(6,"span"),S(7,"Nueva Experiencia"),v()(),w(8,"div",15)(9,"div",16)(10,"label",36),S(11,"Experiencia:"),v()(),O(12,"input",37),v(),w(13,"div",15)(14,"div",16)(15,"label",19),S(16,"puesto:"),v()(),O(17,"input",20),v(),w(18,"div",15)(19,"div",16)(20,"label",21),S(21,"periodo:"),v()(),O(22,"input",22),v(),w(23,"div",15)(24,"div",16)(25,"label",23),S(26,"empresa:"),v()(),O(27,"input",24),v(),w(28,"div",15)(29,"div",16)(30,"label",25),S(31,"actividades:"),v()(),O(32,"input",26),v(),w(33,"div",15)(34,"div",16)(35,"label",27),S(36,"URL Imagen:"),v()(),O(37,"input",28),v()()()()),t&2){let n=Ze();z(),ie("formGroup",n.form),z(2),ie("ngIf",n.modoEdicion===!0)}}function P8(t,e){if(t&1&&(w(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",30)(4,"button",41)(5,"span"),O(6,"img",42),v()()(),w(7,"div",30)(8,"button",43)(9,"span"),O(10,"img",44),v()()()(),w(11,"div",45),O(12,"img",46),v(),w(13,"div",47)(14,"p")(15,"b"),S(16,"Ubicacion:"),v(),S(17),v(),w(18,"p")(19,"b"),S(20,"Puesto:"),v(),S(21),v(),w(22,"p")(23,"b"),S(24,"Periodo:"),v(),S(25),v(),w(26,"p")(27,"b"),S(28,"Empresa:"),v(),S(29),v(),w(30,"p")(31,"b"),S(32,"Actividades: "),v(),S(33),v()()()()),t&2){let n=e.$implicit,i=e.index;Ot("data-index",i),z(12),ie("src",n.imagen,Jn),z(5),Xt(" ",n.ubicacion,""),z(4),Xt(" ",n.puesto,""),z(4),fn(n.periodo),z(4),fn(n.empresa),z(4),fn(n.actividades)}}var DP=(()=>{let e=class e{constructor(i){this.datosPortfolio=i,this.modoEdicion=!1,this.modoNuevoRegistro=!1,this.form=new Bn({ubicacion:new Ie(["",[ge.required,ge.minLength(2)]]),puesto:new Ie(["",[ge.required,ge.minLength(2)]]),periodo:new Ie(["",[ge.required,ge.minLength(2)]]),empresa:new Ie(["",[ge.required,ge.minLength(2)]]),actividades:new Ie(["",[ge.required,ge.minLength(2)]])})}ngOnInit(){console.log("CHE-EXPERIENCIA"),this.datosPortfolio.obtenerDatosExperiencia().subscribe(i=>{console.log("Experiencias:",i),this.miPortfolio=i,console.log(this.miPortfolio)})}selectItem(i){console.log(i)}onCrear(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),s[3].setValue(""),s[4].setValue(""),console.log("valueFormDetalles: ",s[0].value),console.log("valueFormEstado: ",s[1].value),console.log("valueFormInstitucion: ",s[2].value),console.log("valueFormPeriodo: ",s[3].value),console.log("valueFormTitulo: ",s[4].value),this.modoNuevoRegistro=!0}onEdit(i,r,o){this.editID=i,this.i=r,console.log("i",r),console.log("editID",this.editID),console.log("this.form.value: ",this.form.value),console.log("id: ",i),this.form.setValue({detalles:this.miPortfolio[r].detalles,estado:this.miPortfolio[r].estado,institucion:this.miPortfolio[r].institucion,periodo:this.miPortfolio[r].periodo,titulo:this.miPortfolio[r].titulo}),console.log("this.form.value: ",this.form.value),this.modoEdicion=!0}onSaveEdit(i){i.preventDefault,this.datosPortfolio.putEducacion(this.form.value,this.editID).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("id: ",this.editID),console.log("EDUCACI\xD3N method PUT Data Editada",r),this.datosPortfolio.obtenerOneDatosEducacion(this.editID).subscribe(o=>{console.log("Dato: "+JSON.stringify(o)),this.miPortfolio[this.i]=o,console.log("miPortfolio[i : ",this.miPortfolio[this.i])})}),this.modoEdicion=!1}onSaveNewNuevoRegistro(i){i.preventDefault,this.datosPortfolio.postEducacion(this.form.value).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("AcercaDe method post Data",r),this.datosPortfolio.obtenerDatosEducacion().subscribe(o=>{this.miPortfolio=o})}),this.modoNuevoRegistro=!1}onDelete(i,r){console.log("ondelete",i),this.i=i,this.modoEdicion=!1,r.preventDefault,pb.default.fire({title:`\xBFELIMINAR EDUCACI\xD3N ${this.miPortfolio[i].titulo.toUpperCase()}?`,text:"No podr\xE1 revertir los cambios.",icon:"warning",confirmButtonColor:"#d33",confirmButtonText:"Si, Eliminar.",showCancelButton:!0,cancelButtonText:"Cancelar",cancelButtonColor:"#00b5ff"}).then(o=>{o.isConfirmed&&(this.datosPortfolio.deleteEducacion(this.miPortfolio[i].id).subscribe(s=>{console.log("Borrando registro",s),this.datosPortfolio.obtenerDatosEducacion().subscribe(a=>{this.miPortfolio=a})}),pb.default.fire({title:"ITEM ELIMINADO",icon:"success",showConfirmButton:!1,timer:1e3}))})}onCancelNuevoRegistro(){this.modoNuevoRegistro=!1}onCancel(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),s[3].setValue(""),s[4].setValue(""),s[5].setValue(""),console.log("valueFormDetalles: ",s[0].value),console.log("valueFormEstado: ",s[1].value),console.log("valueFormInstitucion: ",s[2].value),console.log("valueFormPeriodo: ",s[3].value),console.log("valueFormTitulo: ",s[4].value),console.log("valueFormImagen: ",s[5].value),this.modoEdicion=!1}};e.\u0275fac=function(r){return new(r||e)(L(jn))},e.\u0275cmp=Ee({type:e,selectors:[["app-experiencia"]],inputs:{isLogged:"isLogged"},decls:9,vars:4,consts:[["id","experienciaFirstCard"],[1,"cHeader"],[1,"cTitle","column","justify-content-start"],[4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["class","d-flex",4,"ngIf"],["click","selectItem(miP);",4,"ngFor","ngForOf"],[1,"cAdd"],[1,"btn-agregar",3,"click"],["src","../../../assets/media/logoAdd.png","alt","Agregar experiencia...",1,"logos","mt-1","bg-blue","rounded-circle"],[1,"d-flex","justify-content-center"],[1,"mb-4",3,"formGroup"],[1,"text-center","border","mt-5","p-3","shadow","rounded"],[1,"text-center","m-3"],["src","./../../../assets/media/logoEdu.png","alt","",1,"logos"],[1,""],[1,"text-start"],["for","ubicacion",1,"form-label","fw-bold"],["type","text","id","ubicacion","placeholder","Ubicaci\xF3n","formControlName","ubicacion","required","","autofocus","",1,"p-2","mb-2","border","rounded","border","shadow"],["for","puesto",1,"form-label"],["type","text","id","puesto","placeholder","puesto","formControlName","puesto","required",""],["for","periodo",1,"form-label"],["type","text","id","periodo","placeholder","periodo","formControlName","periodo","required",""],["for","empresa",1,"form-label"],["type","text","id","empresa","placeholder","empresa","formControlName","empresa","required",""],["for","actividades",1,"form-label"],["type","text","id","actividades","placeholder","actividades","formControlName","actividades","required",""],["for","imagen",1,"form-label"],["type","text","id","imagen","placeholder","imagen","formControlName","imagen"],[1,"d-flex","justify-content-end"],[1,"p-1"],[1,"btn","p-0","m-1",3,"click"],["src","./../../../assets/media/logoCancel.png","alt","Editar",1,"logos"],["src","./../../../assets/media/logoSave.png","alt","Editar",1,"logos"],[1,"d-flex"],[3,"formGroup"],["for","experiencia",1,"form-label"],["type","text","id","experiencia","placeholder","Experiencia","formControlName","experiencia","required","","autofocus",""],["click","selectItem(miP);"],[1,"cCard","row","box1"],[1,"d-flex","justify-content-end","border"],["data-bs-toggle","tooltip","title",`
							Editar experiencia...`,1,"btn","p-0","m-1"],["src","../../../assets/media/logoPencil.png",1,"logos"],["data-bs-toggle","tooltip","title",`
							Eliminar experiencia...`,1,"btn","p-0","m-1"],["src","../../../assets/media/logoDelete.png",1,"logos"],[1,"column",2,"width","25%","margin-bottom","10px"],["alt","","id","imgExperiencia",3,"src"],[1,"column",2,"width","75%"]],template:function(r,o){r&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),S(4,"Experiencia"),v()(),Oe(5,A8,6,0,"div",3),v(),Oe(6,x8,38,2,"div",4)(7,M8,38,2,"div",5)(8,P8,34,7,"div",6),v()),r&2&&(z(5),ie("ngIf",o.modoNuevoRegistro===!1),z(),ie("ngIf",o.modoNuevoRegistro===!0),z(),ie("ngIf",o.modoEdicion===!0),z(),ie("ngForOf",o.miPortfolio))},dependencies:[Xr,Jr,$i,fo,Ec,Ui,Ku,wr,bs],styles:[".row[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;display:flex;flex-wrap:wrap;margin-top:calc(-1 * var(--bs-gutter-y));margin-right:calc(-.5 * var(--bs-gutter-x));margin-left:calc(1 * var(--bs-gutter-x))}"]});let t=e;return t})();var mb=ph(Du());function N8(t,e){if(t&1&&(w(0,"li",9)(1,"div",10)(2,"div")(3,"div",11)(4,"button",12)(5,"span"),O(6,"img",13),v()()(),w(7,"div",14)(8,"button",15)(9,"span"),O(10,"img",16),v()()()(),w(11,"div")(12,"div",17),O(13,"img",18),v(),w(14,"div",19)(15,"p")(16,"b"),S(17,"Titulo:"),v(),S(18),v(),w(19,"p")(20,"b"),S(21,"Descripcion:"),v(),S(22),v()()()()()),t&2){let n=e.$implicit,i=e.index;Ot("data-index",i),z(13),ie("src",n.imagen,Jn),z(5),Xt(" ",n.titulo,""),z(4),fn(n.descripcion)}}function O8(t,e){t&1&&(w(0,"div",20)(1,"h1",21),S(2,"A\xF1adir Proyecto"),v(),w(3,"form",22)(4,"label",23),S(5,"Titulo: "),v(),O(6,"input",24),w(7,"label",25),S(8,"Descripci\xF3n: "),v(),O(9,"input",26),w(10,"label",27),S(11,"URL de imag\xE9n: "),v(),O(12,"input",28),w(13,"button",29),S(14,"Submit"),v()()())}var CP=(()=>{let e=class e{constructor(i){this.datosPortfolio=i,this.modoEdicion=!1,this.modoNuevoRegistro=!1,this.form=new Bn({titulo:new Ie(["",[ge.required,ge.maxLength(2)]]),descripcion:new Ie(["",[ge.required,ge.maxLength(2)]]),imagen:new Ie(["",[ge.required,ge.maxLength(2)]])})}ngOnInit(){console.log("PROYECTOS"),this.datosPortfolio.obtenerDatosProyectos().subscribe(i=>{console.log("Datos Personales: "+JSON.stringify(i)),this.miPortfolio=i,console.log(i)})}selectItem(i){console.log(i)}onCrear(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),console.log("valueFormTitulo: ",s[0].value),console.log("valueFormDescripcion: ",s[1].value),console.log("valueFormImagen: ",s[2].value),this.modoNuevoRegistro=!0}onEdit(i,r,o){this.editID=i,this.i=r,console.log("i",r),console.log("editID",this.editID),console.log("this.form.value: ",this.form.value),console.log("id: ",i),this.form.setValue({titulo:this.miPortfolio[r].titulo,descripcion:this.miPortfolio[r].descripcion,imagen:this.miPortfolio[r].imagen}),console.log("this.form.value: ",this.form.value),this.modoEdicion=!0}onSaveEdit(i){i.preventDefault,this.datosPortfolio.putEducacion(this.form.value,this.editID).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("id: ",this.editID),console.log("PROYECTO method PUT Data Editada",r),this.datosPortfolio.obtenerOneDatosEducacion(this.editID).subscribe(o=>{console.log("Dato: "+JSON.stringify(o)),this.miPortfolio[this.i]=o,console.log("miPortfolio[i : ",this.miPortfolio[this.i])})}),this.modoEdicion=!1}onSaveNewNuevoRegistro(i){i.preventDefault,this.datosPortfolio.postProyecto(this.form.value).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("AcercaDe method post Data",r),this.datosPortfolio.obtenerDatosProyectos().subscribe(o=>{this.miPortfolio=o})}),this.modoNuevoRegistro=!1}onDelete(i,r){console.log("ondelete",i),this.i=i,this.modoEdicion=!1,r.preventDefault,mb.default.fire({title:`\xBFELIMINAR PROYECTO ${this.miPortfolio[i].titulo.toUpperCase()}?`,text:"No podr\xE1 revertir los cambios.",icon:"warning",confirmButtonColor:"#d33",confirmButtonText:"Si, Eliminar.",showCancelButton:!0,cancelButtonText:"Cancelar",cancelButtonColor:"#00b5ff"}).then(o=>{o.isConfirmed&&(this.datosPortfolio.deleteProyecto(this.miPortfolio[i].id).subscribe(s=>{console.log("Borrando registro",s),this.datosPortfolio.obtenerDatosProyectos().subscribe(a=>{this.miPortfolio=a})}),mb.default.fire({title:"ITEM ELIMINADO",icon:"success",showConfirmButton:!1,timer:1e3}))})}onCancelNuevoRegistro(){this.modoNuevoRegistro=!1}onCancel(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),console.log("valueFormTitulo: ",s[0].value),console.log("valueFormDescripcion: ",s[1].value),console.log("valueFormImagen: ",s[2].value),this.modoEdicion=!1}};e.\u0275fac=function(r){return new(r||e)(L(jn))},e.\u0275cmp=Ee({type:e,selectors:[["app-proyectos"]],inputs:{isLogged:"isLogged"},decls:14,vars:2,consts:[["id","proyectosFirstCard"],[1,"cHeader"],[1,"cTitle","column","justify-content-start"],[1,"cAdd"],["onclick","addProyecto()",1,"btn-agregar"],["src","../../../assets/media/logoAdd.png","alt","Agregar Proyecto...",1,"logos","mt-1","bg-blue","rounded-circle"],["onclick","selectItem(miP);",4,"ngFor","ngForOf"],["id","addProyecto"],["class","d-flex",4,"ngIf[modoNuevoRegistro]"],["onclick","selectItem(miP);"],[1,"cCard","row","box1"],[1,"p-1","border",2,"margin","3px"],["data-bs-toggle","tooltip","title",`
						Editar proyecto...`,"onclick","editarProyecto()",1,"btn","p-0","m-1"],["src","../../../assets/media/logoPencil.png",1,"logos"],[1,"p-1","border"],["data-bs-toggle","tooltip","title",`
						Eliminar proyecto...`,"onclick","deleteProyecto()",1,"btn","p-0","m-1"],["src","../../../assets/media/logoDelete.png",1,"logos"],[1,"column",2,"width","25%","margin-bottom","10px","margin-left","10px"],["alt","","id","imgProyecto",3,"src"],[1,"column",2,"width","65%","margin-left","10px"],[1,"d-flex"],[1,"centertext"],["action",""],["for","titulo"],["type","text","name","titulo","id","titulo","placeholder","Titulo"],["for","descripcion"],["type","text","name","descripcion","id","descripcion"],["for","imagen"],["type","text","name","imagen","id","imagen","autocomplete","src\\assets\\media\\empty.jpg"],["type","submit"]],template:function(r,o){r&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),S(4,"Proyectos"),v()(),w(5,"div",3)(6,"button",4)(7,"span"),O(8,"img",5),S(9,"AGREGAR PROYECTO"),v()()()(),w(10,"ul"),Oe(11,N8,23,4,"li",6),v()(),w(12,"section",7),Oe(13,O8,15,0,"div",8),v()),r&2&&(z(11),ie("ngForOf",o.miPortfolio),z(2),ie("ngIf[modoNuevoRegistro]",o.True))},dependencies:[Xr,$i,Ui,hb]});let t=e;return t})();function L8(t,e){if(t&1&&(w(0,"li",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11)(5,"span"),O(6,"img",12),v()()(),w(7,"div",10)(8,"button",13)(9,"span"),O(10,"img",14),v()()()(),w(11,"div",15),O(12,"img",16),v(),w(13,"div",17)(14,"p")(15,"b"),S(16,"Descripcion:"),v(),S(17),v()()()()),t&2){let n=e.$implicit;z(12),ie("src",n.imagen,Jn),z(5),Xt(" ",n.descripcion,"")}}var TP=(()=>{let e=class e{constructor(i){this.portfolioService=i}ngOnInit(){this.portfolioService.obtenerDatos().subscribe(i=>{console.log(i),this.miPortfolio=i.skills,console.log(this.miPortfolio)})}selectItem(i){this.portfolioService.obtenerOneDatosSkill(i).subscribe(r=>{console.log(i)})}};e.\u0275fac=function(r){return new(r||e)(L(jn))},e.\u0275cmp=Ee({type:e,selectors:[["app-skills"]],decls:12,vars:1,consts:[["id","skillsFirstCard"],[1,"cHeader"],[1,"cTitle","column","justify-content-start"],[1,"cAdd"],[1,"btn-agregar"],["src","https://drive.google.com/uc?export=download&id=1fjYoxt7euY7eeMicSfKYoLxuppo6kGiO","alt","Agregar skills...",1,"logos","mt-1","bg-blue","rounded-circle"],["onclick","selectItem(miP);",4,"ngFor","ngForOf"],["onclick","selectItem(miP);"],[1,"cCard","row","box1"],[1,"d-flex","justify-content-end","border"],[1,"p-1"],["data-bs-toggle","tooltip","title",`
						Editar skills...`,1,"btn","p-0","m-1"],["src","../../../assets/media/logoPencil.png",1,"logos"],["data-bs-toggle","tooltip","title",`
						Eliminar skills...`,1,"btn","p-0","m-1"],["src","../../../assets/media/logoDelete.png",1,"logos"],[1,"column",2,"width","25%","margin-bottom","10px"],["alt","","id","imgSkill",3,"src"],[1,"column","align-self-center",2,"width","75%"]],template:function(r,o){r&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),S(4,"Skills"),v()(),w(5,"div",3)(6,"button",4)(7,"span"),O(8,"img",5),S(9,"AGREGAR SKILLS"),v()()()(),w(10,"ul"),Oe(11,L8,18,2,"li",6),v()()),r&2&&(z(11),ie("ngForOf",o.miPortfolio))},dependencies:[Xr]});let t=e;return t})();var AP=(()=>{let e=class e{constructor(i){this.portfolioService=i}ngOnInit(){console.log("[CHE-BANNER]"),this.portfolioService.obtenerDatosAcercaDe().subscribe(i=>{this.miPortfolio2=i,console.log(this.miPortfolio2)}),this.portfolioService.obtenerDatosPersona().subscribe(i=>{this.miPortfolio=i,console.log(this.miPortfolio)})}};e.\u0275fac=function(r){return new(r||e)(L(jn))},e.\u0275cmp=Ee({type:e,selectors:[["app-banner"]],decls:46,vars:4,consts:[["id","first-card"],["id","profile-background",1,"img"],["src","./../../../assets/media/bg-ap.jpg","alt","","id","profile-image"],["id","info",2,"padding","16px"],["id","info-img"],["src","./../../../assets/media/chedata1foto.png","alt","",1,"profile-image"],[1,"btn-edit"],["href","#",1,"btn-right"],[1,"fa","fa-pen"],["id","info-data"],["id","info-company"],["id","info-contact"],["href","#"],["id","info-details"],[1,"d-flex","container","bg-black"],["alt","",1,"img-info",3,"src"],["src","../../../assets/media/chemindhub.png","alt","","width","3vw","height","3vw"],["id","info-actions"],["type","button",1,"btn","btn-primary"],["type","button",1,"btn","btn-light"]],template:function(r,o){r&1&&(w(0,"div",0)(1,"div",1),O(2,"img",2),v(),w(3,"div",3)(4,"div",4),O(5,"img",5),w(6,"div",6)(7,"a",7),O(8,"i",8),v()()(),w(9,"div",9)(10,"div")(11,"h1"),S(12),v(),w(13,"div",10)(14,"p"),S(15),v()(),w(16,"div",11),S(17," Ubicaci\xF3n:"),w(18,"span"),S(19,"Buenos Aires (Argentina) "),v(),O(20,"br"),w(21,"span")(22,"a",12),S(23,"Informaci\xF3n de contacto"),v()()()(),w(24,"div")(25,"ul",13)(26,"li")(27,"a",12)(28,"div",14),O(29,"img",15),v(),w(30,"p")(31,"b"),S(32,"I.N.T.I."),v()()()(),w(33,"li")(34,"a",12)(35,"div",14),O(36,"img",16),v(),w(37,"h2"),S(38,"Argentina Programa - MINDHUB"),v()()()()()(),w(39,"div",17)(40,"button",18),S(41,"Tengo inter\xE9s en"),v(),w(42,"button",19),S(43,"A\xF1adir secci\xF3n"),v(),w(44,"button",19),S(45,"M\xE1s"),v()()()()),r&2&&(z(12),Kl("Nombres: ",o.miPortfolio2.nombres," Apellido: ",o.miPortfolio2.apellido,""),z(3),Xt("Ocupaci\xF3n: ",o.miPortfolio.ocupacion,""),z(14),ie("src",o.miPortfolio.institutionImage,Jn))},styles:[".mat-card[_ngcontent-%COMP%]{border-radius:32px;border:3px solid blue}.mat-card#first-card[_ngcontent-%COMP%]{padding:0}div#profile-background[_ngcontent-%COMP%]{display:flex}div#profile-background[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:32px}div#info-actions[_ngcontent-%COMP%]{display:flex}div#info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div#info-img[_ngcontent-%COMP%]{width:30%}div#info-data[_ngcontent-%COMP%]{display:flex}div#info-company[_ngcontent-%COMP%]{font-size:medium}div#info-contact[_ngcontent-%COMP%]{font-size:large}.profile-image[_ngcontent-%COMP%]{background-color:#000;border-radius:50%;width:152px;height:152px;margin-top:-110px;z-index:3}.btn-edit[_ngcontent-%COMP%], .btn-right[_ngcontent-%COMP%]{width:32px}@media (max-width: 320px){div#info-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{bottom:auto}.profile-image[_ngcontent-%COMP%]{border-radius:50%;width:52px;height:52px;margin-top:-110px;z-index:3}.img-info[_ngcontent-%COMP%]{width:35%;height:35%}}@media (max-width: 768px){.profile-image[_ngcontent-%COMP%]{border-radius:50%;width:52px;height:52px;margin-top:-110px;z-index:3}.img-info[_ngcontent-%COMP%]{width:35%;height:35%}}"]});let t=e;return t})();var SP=(()=>{let e=class e{ngOnInit(){console.log("[Portfolio-l11]")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-portfolio"]],decls:8,vars:0,template:function(r,o){r&1&&O(0,"app-navbar")(1,"app-banner")(2,"app-acercade")(3,"app-educacion")(4,"app-experiencia")(5,"app-skills")(6,"app-proyectos")(7,"app-footer")},dependencies:[uc,tm,G1,IP,DP,CP,TP,AP]});let t=e;return t})();var xP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-page-not-found"]],decls:4,vars:0,template:function(r,o){r&1&&(w(0,"h1"),S(1,"Error 404"),v(),w(2,"p"),S(3,"page-not-found works!"),v())}});let t=e;return t})();function B8(t,e){t&1&&(w(0,"p",17),S(1," The name of user is required... "),v())}function U8(t,e){t&1&&(w(0,"p",17),S(1," The format of the name be valid. "),v())}function $8(t,e){if(t&1&&(w(0,"div"),Oe(1,B8,2,0,"p",16)(2,U8,2,0,"p",16),v()),t&2){let n=Ze();z(),ie("ngIf",n.username==null?null:n.username.hasError("required")),z(),ie("ngIf",n.username==null?null:n.username.hasError("nombreUsuario"))}}function H8(t,e){t&1&&O(0,"p",17)}function z8(t,e){t&1&&(w(0,"p",17),S(1," The password must long 8 characters minimal. "),v())}function q8(t,e){if(t&1&&(w(0,"div"),Oe(1,H8,1,0,"p",16),S(2," The password is required. "),Oe(3,z8,2,0,"p",16),v()),t&2){let n=Ze();z(),ie("ngIf",n.password==null?null:n.password.hasError("required")),z(2),ie("ngIf",n.password==null||n.password.errors==null?null:n.password.errors.minlength)}}function G8(t,e){t&1&&(w(0,"p"),S(1,"Enviando datos..."),v())}function W8(t,e){if(t&1&&(w(0,"p"),S(1),v()),t&2){let n=Ze(2);z(),fn(n.respta.msj)}}function K8(t,e){if(t&1&&(w(0,"div",18),Oe(1,G8,2,0,"p",7)(2,W8,2,1,"p",7),v()),t&2){let n=Ze();ie("ngClass",n.respta.salioBien?"alert alert-success":"alert alert-danger"),z(),ie("ngIf",n.respta.msj==""),z(),ie("ngIf",n.respta.msj!="")}}var RP=(t,e)=>({"is-invalid":t,"is-valid":e}),MP=(()=>{let e=class e{constructor(i,r,o){this.formBuilder=i,this.autenticacionService=r,this.ruta=o,this.respta={salioBien:!1,msj:""},this.mostrarMsj=!1,this.loginForm=this.formBuilder.group({username:["",[ge.required,ge.minLength(2)]],password:["",[ge.required,ge.minLength(8)]]})}ngOnInit(){console.log("[ln29] Login")}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}ingresar(){this.loginForm.valid&&(this.loginForm.value.username==="sole"&&this.loginForm.value.password==="12345678"?(this.mostrarMsj=!0,this.autenticacionService.iniciarSesion(),this.respta.salioBien=!0,this.respta.msj="\xA1Buena! Ya iniciaste sesi\xF3n!",this.ruta.navigate(["/portfolio"])):this.loginForm.value.username===""||this.loginForm.value.password===""?(this.mostrarMsj=!0,this.respta.msj="Se necesita usuario y contrase\xF1a para ingresar"):(this.mostrarMsj=!0,this.respta.msj="Mmm... Usuario o contrase\xF1a inv\xE1lidos"))}loginWithGoogle(){}};e.\u0275fac=function(r){return new(r||e)(L(fm),L(Hp),L(pn))},e.\u0275cmp=Ee({type:e,selectors:[["app-login"]],decls:30,vars:12,consts:[[1,"container-fluid","imagen-fondo","d-flex","justify-content-center","border","loginBorder",2,"padding","5px 5px"],[1,"row","justify-content-center","col-10",2,"width","40vw","height","30vw","border","2px solid gray","padding-bottom","10px"],["name","loginForm","id","loginForm",1,"shadow","col-sm-6","p-4","m-auto",3,"formGroup","ngSubmit"],[1,"text-center","text-info","shadow","border","cc",2,"color","blueviolet"],[1,"mb-3","mt-3"],["for","username",1,"form-label","spcLabel"],["type","text","formControlName","username","id","username","aria-describedby","nombreUsuarioHelp","placeholder","Enter the name of user...","tooltip","Enter the name of current user...",1,"form-control",3,"ngClass"],[4,"ngIf"],[1,"mb-5"],["for","exampleInputPassword1",1,"form-label","spcLabel"],["type","password","formControlName","password","tooltip","Enter your password...","id","exampleInputPassword1","placeholder","Enter your password...",1,"form-control",3,"ngClass"],["role","alert",3,"ngClass",4,"ngIf"],[1,"d-flex","botones","my-1"],["type","button","onclick","loginWithGoogle();",1,"btn","btn-blue"],["type","submit","routerLink","/portfolio",1,"btn","btn-skyblue","btn-sm","w-50","fw-bold","border"],["type","button","routerLink","/register",1,"btn","border"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["role","alert",3,"ngClass"]],template:function(r,o){r&1&&(O(0,"app-navbar"),w(1,"div",0)(2,"div",1)(3,"form",2),ze("ngSubmit",function(){return o.ingresar()}),w(4,"h2",3)(5,"i"),S(6,"MY PORTFOLIO"),v()(),w(7,"div",4)(8,"label",5),S(9,"User Name: "),v(),O(10,"input",6),Oe(11,$8,3,2,"div",7),v(),w(12,"div",8)(13,"label",9),S(14," Password: "),v(),O(15,"input",10),Oe(16,q8,4,2,"div",7),v(),Oe(17,K8,3,3,"div",11),O(18,"br")(19,"br"),w(20,"div",12)(21,"button",13),S(22,"Login with Google Acount"),v(),O(23,"br"),w(24,"button",14),S(25,"INIT SESSION"),v(),O(26,"br"),w(27,"button",15),S(28,"New user"),v()()()()(),O(29,"app-footer")),r&2&&(z(3),ie("formGroup",o.loginForm),z(7),ie("ngClass",U_(6,RP,(o.username==null?null:o.username.errors)&&(o.username==null?null:o.username.touched),!(o.username!=null&&o.username.errors)&&(o.username==null?null:o.username.touched))),z(),ie("ngIf",(o.username==null?null:o.username.errors)&&(o.username==null?null:o.username.touched)),z(4),ie("ngClass",U_(9,RP,(o.password==null?null:o.password.errors)&&(o.password==null?null:o.password.touched),!(o.password!=null&&o.password.errors)&&(o.password==null?null:o.password.touched))),z(),ie("ngIf",(o.password==null?null:o.password.errors)&&(o.password==null?null:o.password.touched)),z(),ie("ngIf",o.mostrarMsj))},dependencies:[Ux,Jr,Sp,$i,fo,Ec,Ui,wr,bs,uc,tm],styles:[".loginBorder[_ngcontent-%COMP%]{background-color:#f0f8ff;border:2px solid rgb(160,15,15);border-radius:5px;top:5px;padding-top:5px}.cc[_ngcontent-%COMP%]{text-align:center}.spcLabel[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.botones[_ngcontent-%COMP%]{line-height:.5;justify-content:center;text-align:center;flex-direction:column}"]});let t=e;return t})();var pm=class{constructor(e){return e}};var PP=r0(My,!0);var kP=r0(Py,!0);var NP=(()=>{let e=class e{constructor(i){this.auth=i}register({email:i,password:r}){return PP(this.auth,i,r)}login({email:i,password:r}){return kP(this.auth,i,r)}};e.\u0275fac=function(r){return new(r||e)(_(pm))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var OP=(()=>{let e=class e{constructor(i,r,o){this.formBuilder=i,this.userService=r,this.router=o,this.formReg=this.formBuilder.group({nombres:new Ie(["",[ge.required,ge.maxLength(2)]]),apellido:new Ie(["",[ge.required,ge.maxLength(2)]]),fecha_nacimiento:new Ie,nacionalidad:new Ie,mail:new Ie,password:new Ie,sobre_mi:new Ie,ocupacion:new Ie,bannerUrl:new Ie,image_background_header:new Ie,image_perfil:new Ie,linkedinUrl:new Ie,githubUrl:new Ie,descripcion:new Ie,imgUrl:new Ie})}ngOnInit(){console.log("[CHE-Register]")}onSubmit(){console.log(this.formReg.value),this.userService.register(this.formReg.value).then(i=>{console.log(i),this.router.navigate(["/login"])}).catch(i=>console.error(i))}};e.\u0275fac=function(r){return new(r||e)(L(fm),L(NP),L(pn))},e.\u0275cmp=Ee({type:e,selectors:[["app-register"]],decls:23,vars:1,consts:[[1,"d-flex","container-fluid","border","shadow"],["name","formReg",3,"formGroup"],["type","text","name","nombres","id","nombres",1,"form-control"],["type","text","name","apellido","id","apellido",1,"form-control"],["type","date","name","fecha_nacimiento","id","fecha_nacimiento",1,"form-control"],["type","text","name","nacionalidad","id","nacionalidad",1,"form-control"],["type","text","name","mail","id","mail",1,"form-control"],["type","password","name","password","id","password",1,"form-control"],["type","sobre_mi","name","sobre_mi","id","sobre_mi",1,"form-control"],["type","text","name","ocupacion","id","ocupacion",1,"form-control"],["type","text","name","bannerUrl","id","bannerUrl",1,"form-control"],["type","text","name","image_background_header","id","image_background_header",1,"form-control"],["type","text","name","image_perfil","id","image_perfil",1,"form-control"],["type","text","name","linkedinUrl","id","linkedinUrl",1,"form-control"],["type","text","name","githubUrl","id","githubUrl",1,"form-control"],["type","text","name","descripcion","id","descripcion",1,"form-control"],["type","text","name","imgUrl","id","imgUrl",1,"form-control"],["type","submit"],[1,"btn","danger"]],template:function(r,o){r&1&&(w(0,"div",0)(1,"h1"),S(2,"Registro de usuario"),v(),w(3,"form",1),O(4,"input",2)(5,"input",3)(6,"input",4)(7,"input",5)(8,"input",6)(9,"input",7)(10,"input",8)(11,"input",9)(12,"input",10)(13,"input",11)(14,"input",12)(15,"input",13)(16,"input",14)(17,"input",15)(18,"input",16),w(19,"button",17),S(20,"Enviar"),v(),w(21,"button",18),S(22,"Cancelar"),v()()()),r&2&&(z(3),ie("formGroup",o.formReg))},dependencies:[$i,Ui,wr]});let t=e;return t})();var YW=[{path:"login",component:MP},{path:"portfolio",component:SP},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",component:xP},{path:"navbar",component:uc},{path:"register",component:OP}],FP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({imports:[Iu.forRoot(YW),Iu]});let t=e;return t})();var gb=new F("angularfire2.auth.use-emulator"),yb=new F("angularfire2.auth.settings"),vb=new F("angularfire2.auth.tenant-id"),_b=new F("angularfire2.auth.langugage-code"),wb=new F("angularfire2.auth.use-device-language"),bb=new F("angularfire.auth.persistence"),Eb=(t,e,n,i,r,o,s,a)=>tc(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(let[l,u]of Object.entries(s))c.settings[l]=u;return a&&c.setPersistence(a),c},[n,i,r,o,s,a]),Ib=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,c,l,u,f,m,g){let b=new ue,I=W(void 0).pipe(cn(s.outsideAngular),$e(()=>o.runOutsideAngular(()=>import("./chunk-26RWEZGO.js"))),Y(()=>hs(n,o,i)),Y(E=>Eb(E,o,a,l,u,f,c,m)),Cl({bufferSize:1,refCount:!1}));if(os(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=W(null);else{I.pipe(Rn()).subscribe();let E=I.pipe($e(M=>M.getRedirectResult().then(R=>R,()=>null)),At,Cl({bufferSize:1,refCount:!1})),A=I.pipe($e(M=>new ne(R=>({unsubscribe:o.runOutsideAngular(()=>M.onAuthStateChanged(G=>R.next(G),G=>R.error(G),()=>R.complete()))})))),B=I.pipe($e(M=>new ne(R=>({unsubscribe:o.runOutsideAngular(()=>M.onIdTokenChanged(G=>R.next(G),G=>R.error(G),()=>R.complete()))}))));this.authState=E.pipe(Wh(A),xn(s.outsideAngular),cn(s.insideAngular)),this.user=E.pipe(Wh(B),xn(s.outsideAngular),cn(s.insideAngular)),this.idToken=this.user.pipe($e(M=>M?ye(M.getIdToken()):W(null))),this.idTokenResult=this.user.pipe($e(M=>M?ye(M.getIdTokenResult()):W(null))),this.credential=Ho(E,b,this.authState.pipe(Pe(M=>!M))).pipe(Y(M=>M?.user?M:null),xn(s.outsideAngular),cn(s.insideAngular))}return gM(this,I,o,{spy:{apply:(E,A,B)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&B.then(M=>b.next(M))}}})}static \u0275fac=function(i){return new(i||t)(_(so),_(ao,8),_(pt),_(Z),_(ds),_(gb,8),_(yb,8),_(vb,8),_(_b,8),_(wb,8),_(bb,8),_(Li,8))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),LP=(()=>{class t{constructor(){wt.registerVersion("angularfire",Vi.full,"auth-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=oe({type:t});static \u0275inj=se({providers:[Ib]})}return t})();var ZW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},si={},H,qb=qb||{},ce=ZW||self;function Sm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ld(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function XW(t){return Object.prototype.hasOwnProperty.call(t,Db)&&t[Db]||(t[Db]=++JW)}var Db="closure_uid_"+(1e9*Math.random()>>>0),JW=0;function e7(t,e,n){return t.call.apply(t.bind,arguments)}function t7(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function $t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$t=e7:$t=t7,$t.apply(null,arguments)}function mm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Rt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function po(){this.s=this.s,this.o=this.o}var n7=0;po.prototype.s=!1;po.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),n7!=0)&&XW(this)};po.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var QP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Gb(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function VP(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(Sm(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let s=0;s<o;s++)t[r+s]=i[s]}else t.push(i)}}function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var i7=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function td(t){return/^[\s\xa0]*$/.test(t)}function xm(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Hi(t){return xm().indexOf(t)!=-1}function Wb(t){return Wb[" "](t),t}Wb[" "]=function(){};function r7(t,e){var n=G7;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var o7=Hi("Opera"),Tc=Hi("Trident")||Hi("MSIE"),ZP=Hi("Edge"),xb=ZP||Tc,XP=Hi("Gecko")&&!(xm().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge"))&&!(Hi("Trident")||Hi("MSIE"))&&!Hi("Edge"),s7=xm().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge");function JP(){var t=ce.document;return t?t.documentMode:void 0}var Rb;e:{if(gm="",ym=function(){var t=xm();if(XP)return/rv:([^\);]+)(\)|;)/.exec(t);if(ZP)return/Edge\/([\d\.]+)/.exec(t);if(Tc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(s7)return/WebKit\/(\S+)/.exec(t);if(o7)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),ym&&(gm=ym?ym[1]:""),Tc&&(vm=JP(),vm!=null&&vm>parseFloat(gm))){Rb=String(vm);break e}Rb=gm}var gm,ym,vm,Mb;ce.document&&Tc?(Cb=JP(),Mb=Cb||parseInt(Rb,10)||void 0):Mb=void 0;var Cb,a7=Mb;function nd(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XP){e:{try{Wb(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:c7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&nd.$.h.call(this)}}Rt(nd,Ht);var c7={2:"touch",3:"pen",4:"mouse"};nd.prototype.h=function(){nd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ud="closure_listenable_"+(1e6*Math.random()|0),l7=0;function u7(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++l7,this.fa=this.ia=!1}function Rm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Kb(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function d7(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function ek(t){let e={};for(let n in t)e[n]=t[n];return e}var jP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tk(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<jP.length;o++)n=jP[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Mm(t){this.src=t,this.g={},this.h=0}Mm.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=kb(t,e,i,r);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new u7(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function Pb(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=QP(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Rm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function kb(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var Yb="closure_lm_"+(1e6*Math.random()|0),Tb={};function nk(t,e,n,i,r){if(i&&i.once)return rk(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)nk(t,e[o],n,i,r);return null}return n=Xb(n),t&&t[ud]?t.O(e,n,ld(i)?!!i.capture:!!i,r):ik(t,e,n,!1,i,r)}function ik(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=ld(r)?!!r.capture:!!r,a=Zb(t);if(a||(t[Yb]=a=new Mm(t)),n=a.add(e,n,i,s,o),n.proxy)return n;if(i=h7(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)i7||(r=s),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(sk(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function h7(){function t(n){return e.call(t.src,t.listener,n)}let e=f7;return t}function rk(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)rk(t,e[o],n,i,r);return null}return n=Xb(n),t&&t[ud]?t.P(e,n,ld(i)?!!i.capture:!!i,r):ik(t,e,n,!0,i,r)}function ok(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)ok(t,e[o],n,i,r);else i=ld(i)?!!i.capture:!!i,n=Xb(n),t&&t[ud]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=kb(o,n,i,r),-1<n&&(Rm(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Zb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=kb(e,n,i,r)),(n=-1<t?e[t]:null)&&Qb(n))}function Qb(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ud])Pb(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(sk(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Zb(e))?(Pb(n,t),n.h==0&&(n.src=null,e[Yb]=null)):Rm(t)}}}function sk(t){return t in Tb?Tb[t]:Tb[t]="on"+t}function f7(t,e){if(t.fa)t=!0;else{e=new nd(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Qb(t),t=n.call(i,e)}return t}function Zb(t){return t=t[Yb],t instanceof Mm?t:null}var Ab="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xb(t){return typeof t=="function"?t:(t[Ab]||(t[Ab]=function(e){return t.handleEvent(e)}),t[Ab])}function xt(){po.call(this),this.i=new Mm(this),this.S=this,this.J=null}Rt(xt,po);xt.prototype[ud]=!0;xt.prototype.removeEventListener=function(t,e,n,i){ok(this,t,e,n,i)};function Vt(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var r=e;e=new Ht(i,t),tk(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=_m(s,i,!0,e)&&r}if(s=e.g=t,r=_m(s,i,!0,e)&&r,r=_m(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)s=e.g=n[o],r=_m(s,i,!1,e)&&r}xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Rm(n[i]);delete t.g[e],t.h--}}this.J=null};xt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};xt.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function _m(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Pb(t.i,s),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var Jb=ce.JSON.stringify,Nb=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function p7(){var t=eE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ob=class{constructor(){this.h=this.g=null}add(e,n){let i=ak.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},ak=new Nb(()=>new Fb,t=>t.reset()),Fb=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function m7(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function g7(t){ce.setTimeout(()=>{throw t},0)}var id,rd=!1,eE=new Ob,ck=()=>{let t=ce.Promise.resolve(void 0);id=()=>{t.then(y7)}},y7=()=>{for(var t;t=p7();){try{t.h.call(t.g)}catch(n){g7(n)}var e=ak;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}rd=!1};function Pm(t,e){xt.call(this),this.h=t||1,this.g=e||ce,this.j=$t(this.qb,this),this.l=Date.now()}Rt(Pm,xt);H=Pm.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vt(this,"tick"),this.ga&&(tE(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function tE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Pm.$.N.call(this),tE(this),delete this.g};function nE(t,e,n){if(typeof t=="function")n&&(t=$t(t,n));else if(t&&typeof t.handleEvent=="function")t=$t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function lk(t){t.g=nE(()=>{t.g=null,t.i&&(t.i=!1,lk(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Lb=class extends po{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lk(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function od(t){po.call(this),this.h=t,this.g={}}Rt(od,po);var BP=[];function uk(t,e,n,i){Array.isArray(n)||(n&&(BP[0]=n.toString()),n=BP);for(var r=0;r<n.length;r++){var o=nk(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function dk(t){Kb(t.g,function(e,n){this.g.hasOwnProperty(n)&&Qb(e)},t),t.g={}}od.prototype.N=function(){od.$.N.call(this),dk(this)};od.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function km(){this.g=!0}km.prototype.Ea=function(){this.g=!1};function v7(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");s=2<=f.length&&f[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+s})}function _7(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+s})}function Dc(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+b7(t,n)+(i?" "+i:"")})}function w7(t,e){t.info(function(){return"TIMEOUT: "+e})}km.prototype.info=function(){};function b7(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return Jb(n)}catch{return e}}var Cs={},UP=null;function Nm(){return UP=UP||new xt}Cs.Ta="serverreachability";function hk(t){Ht.call(this,Cs.Ta,t)}Rt(hk,Ht);function sd(t){let e=Nm();Vt(e,new hk(e))}Cs.STAT_EVENT="statevent";function fk(t,e){Ht.call(this,Cs.STAT_EVENT,t),this.stat=e}Rt(fk,Ht);function en(t){let e=Nm();Vt(e,new fk(e,t))}Cs.Ua="timingevent";function pk(t,e){Ht.call(this,Cs.Ua,t),this.size=e}Rt(pk,Ht);function dd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Om={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iE(){}iE.prototype.h=null;function $P(t){return t.h||(t.h=t.i())}function gk(){}var hd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rE(){Ht.call(this,"d")}Rt(rE,Ht);function oE(){Ht.call(this,"c")}Rt(oE,Ht);var Vb;function Fm(){}Rt(Fm,iE);Fm.prototype.g=function(){return new XMLHttpRequest};Fm.prototype.i=function(){return{}};Vb=new Fm;function fd(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new od(this),this.P=E7,t=xb?125:void 0,this.V=new Pm(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yk}function yk(){this.i=null,this.g="",this.h=!1}var E7=45e3,vk={},jb={};H=fd.prototype;H.setTimeout=function(t){this.P=t};function Bb(t,e,n){t.L=1,t.A=Vm(Er(e)),t.u=n,t.S=!0,_k(t,null)}function _k(t,e){t.G=Date.now(),pd(t),t.B=Er(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),Ak(n.i,"t",i),t.o=0,n=t.l.J,t.h=new yk,t.g=Kk(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Lb($t(t.Pa,t,t.g),t.O)),uk(t.U,t.g,"readystatechange",t.nb),e=t.I?ek(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),sd(),v7(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;let e=this.M;e&&zi(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{let u=zi(this.g);var e=this.g.Ia();let f=this.g.da();if(!(3>u)&&(u!=3||xb||this.g&&(this.h.h||this.g.ja()||GP(this.g)))){this.J||u!=4||e==7||(e==8||0>=f?sd(3):sd(2)),Lm(this);var n=this.g.da();this.ca=n;t:if(wk(this)){var i=GP(this.g);t="";var r=i.length,o=zi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),ed(this);var s="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,_7(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!td(a)){var l=a;break t}}l=null}if(n=l)Dc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ub(this,n);else{this.i=!1,this.s=3,en(12),Es(this),ed(this);break e}}this.S?(bk(this,u,s),xb&&this.i&&u==3&&(uk(this.U,this.V,"tick",this.mb),this.V.start())):(Dc(this.j,this.m,s,null),Ub(this,s)),u==4&&Es(this),this.i&&!this.J&&(u==4?zk(this.l,this):(this.i=!1,pd(this)))}else H7(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),Es(this),ed(this)}}}catch{}finally{}};function wk(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function bk(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=I7(t,n),r==jb){e==4&&(t.s=4,en(14),i=!1),Dc(t.j,t.m,null,"[Incomplete Response]");break}else if(r==vk){t.s=4,en(15),Dc(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Dc(t.j,t.m,r,null),Ub(t,r);wk(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,en(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),dE(e),e.M=!0,en(11))):(Dc(t.j,t.m,n,"[Invalid Chunked Response]"),Es(t),ed(t))}H.mb=function(){if(this.g){var t=zi(this.g),e=this.g.ja();this.o<e.length&&(Lm(this),bk(this,t,e),this.i&&t!=4&&pd(this))}};function I7(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?jb:(n=Number(e.substring(n,i)),isNaN(n)?vk:(i+=1,i+n>e.length?jb:(e=e.slice(i,i+n),t.o=i+n,e)))}H.cancel=function(){this.J=!0,Es(this)};function pd(t){t.Y=Date.now()+t.P,Ek(t,t.P)}function Ek(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=dd($t(t.lb,t),e)}function Lm(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(w7(this.j,this.B),this.L!=2&&(sd(),en(17)),Es(this),this.s=2,ed(this)):Ek(this,this.Y-t)};function ed(t){t.l.H==0||t.J||zk(t.l,t)}function Es(t){Lm(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,tE(t.V),dk(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ub(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||$b(n.i,t))){if(!t.K&&$b(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Dm(n),Um(n);else break e;uE(n),en(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=dd($t(n.ib,n),6e3));if(1>=Rk(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Is(n,11)}else if((t.K||n.g==t)&&Dm(n),!td(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));let m=l[5];m!=null&&typeof m=="number"&&0<m&&(i=1.5*m,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let g=t.g;if(g){let b=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||b.indexOf("spdy")==-1&&b.indexOf("quic")==-1&&b.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(sE(o,o.h),o.h=null))}if(i.F){let I=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(i.Da=I,Ye(i.I,i.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var s=t;if(i.wa=Wk(i,i.J?i.pa:null,i.Y),s.K){Mk(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.C&&(Lm(a),pd(a)),i.g=s}else $k(i);0<n.j.length&&$m(n)}else l[0]!="stop"&&l[0]!="close"||Is(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Is(n,7):lE(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}sd(4)}catch{}}function D7(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Sm(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function C7(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Sm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function Ik(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Sm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=C7(t),i=D7(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var Dk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function T7(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Ds(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ds){this.h=t.h,Em(this,t.j),this.s=t.s,this.g=t.g,Im(this,t.m),this.l=t.l;var e=t.i,n=new ad;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),HP(this,n),this.o=t.o}else t&&(e=String(t).match(Dk))?(this.h=!1,Em(this,e[1]||"",!0),this.s=Xu(e[2]||""),this.g=Xu(e[3]||"",!0),Im(this,e[4]),this.l=Xu(e[5]||"",!0),HP(this,e[6]||"",!0),this.o=Xu(e[7]||"")):(this.h=!1,this.i=new ad(null,this.h))}Ds.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ju(e,zP,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ju(e,zP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ju(n,n.charAt(0)=="/"?x7:S7,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ju(n,M7)),t.join("")};function Er(t){return new Ds(t)}function Em(t,e,n){t.j=n?Xu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Im(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function HP(t,e,n){e instanceof ad?(t.i=e,P7(t.i,t.h)):(n||(e=Ju(e,R7)),t.i=new ad(e,t.h))}function Ye(t,e,n){t.i.set(e,n)}function Vm(t){return Ye(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ju(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,A7),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function A7(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zP=/[#\/\?@]/g,S7=/[#\?:]/g,x7=/[#\?]/g,R7=/[#\?@]/g,M7=/#/g;function ad(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function mo(t){t.g||(t.g=new Map,t.h=0,t.i&&T7(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=ad.prototype;H.add=function(t,e){mo(this),this.i=null,t=Ac(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Ck(t,e){mo(t),e=Ac(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Tk(t,e){return mo(t),e=Ac(t,e),t.g.has(e)}H.forEach=function(t,e){mo(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};H.ta=function(){mo(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};H.Z=function(t){mo(this);let e=[];if(typeof t=="string")Tk(this,t)&&(e=e.concat(this.g.get(Ac(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return mo(this),this.i=null,t=Ac(this,t),Tk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Ak(t,e,n){Ck(t,e),0<n.length&&(t.i=null,t.g.set(Ac(t,e),Gb(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),t.push(r)}}return this.i=t.join("&")};function Ac(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function P7(t,e){e&&!t.j&&(mo(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(Ck(this,i),Ak(this,r,n))},t)),t.j=e}var k7=class{constructor(t,e){this.g=t,this.map=e}};function Sk(t){this.l=t||N7,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var N7=10;function xk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Rk(t){return t.h?1:t.g?t.g.size:0}function $b(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function sE(t,e){t.g?t.g.add(e):t.h=e}function Mk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Sk.prototype.cancel=function(){if(this.i=Pk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Pk(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Gb(t.i)}var O7=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function F7(){this.g=new O7}function L7(t,e,n){let i=n||"";try{Ik(t,function(r,o){let s=r;ld(r)&&(s=Jb(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function V7(t,e){let n=new km;if(ce.Image){let i=new Image;i.onload=mm(wm,n,i,"TestLoadImage: loaded",!0,e),i.onerror=mm(wm,n,i,"TestLoadImage: error",!1,e),i.onabort=mm(wm,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=mm(wm,n,i,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function wm(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function md(t){this.l=t.ec||null,this.j=t.ob||!1}Rt(md,iE);md.prototype.g=function(){return new jm(this.l,this.j)};md.prototype.i=function(t){return function(){return t}}({});function jm(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=aE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rt(jm,xt);var aE=0;H=jm.prototype;H.open=function(t,e){if(this.readyState!=aE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cd(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gd(this)),this.readyState=aE};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cd(this)),this.g&&(this.readyState=3,cd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function kk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gd(this):cd(this),this.readyState==3&&kk(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,gd(this))};H.Ya=function(t){this.g&&(this.response=t,gd(this))};H.ka=function(){this.g&&gd(this)};function gd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cd(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function cd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(jm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var j7=ce.JSON.parse;function st(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Nk,this.L=this.M=!1}Rt(st,xt);var Nk="",B7=/^https?$/i,U7=["POST","PUT"];H=st.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vb.g(),this.C=this.u?$P(this.u):$P(Vb),this.g.onreadystatechange=$t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){qP(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=ce.FormData&&t instanceof ce.FormData,!(0<=QP(U7,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Lk(this),0<this.B&&((this.L=$7(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$t(this.ua,this)):this.A=nE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){qP(this,o)}};function $7(t){return Tc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof qb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))};function qP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ok(t),Bm(t)}function Ok(t){t.F||(t.F=!0,Vt(t,"complete"),Vt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vt(this,"complete"),Vt(this,"abort"),Bm(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bm(this,!0)),st.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?Fk(this):this.kb())};H.kb=function(){Fk(this)};function Fk(t){if(t.h&&typeof qb<"u"&&(!t.C[1]||zi(t)!=4||t.da()!=2)){if(t.v&&zi(t)==4)nE(t.La,0,t);else if(Vt(t,"readystatechange"),zi(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=s===0){var r=String(t.I).match(Dk)[1]||null;!r&&ce.self&&ce.self.location&&(r=ce.self.location.protocol.slice(0,-1)),i=!B7.test(r?r.toLowerCase():"")}n=i}if(n)Vt(t,"complete"),Vt(t,"success");else{t.m=6;try{var o=2<zi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",Ok(t)}}finally{Bm(t)}}}}function Bm(t,e){if(t.g){Lk(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Vt(t,"ready");try{n.onreadystatechange=i}catch{}}}function Lk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function zi(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),j7(e)}};function GP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Nk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function H7(t){let e={};t=(t.g&&2<=zi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(td(t[i]))continue;var n=m7(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}d7(e,function(i){return i.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Vk(t){let e="";return Kb(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function cE(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Vk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ye(t,e,n))}function Qu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jk(t){this.Ga=0,this.j=[],this.l=new km,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qu("baseRetryDelayMs",5e3,t),this.hb=Qu("retryDelaySeedMs",1e4,t),this.eb=Qu("forwardChannelMaxRetries",2,t),this.xa=Qu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Sk(t&&t.concurrentRequestLimit),this.Ja=new F7,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=jk.prototype;H.ra=8;H.H=1;function lE(t){if(Bk(t),t.H==3){var e=t.W++,n=Er(t.I);if(Ye(n,"SID",t.K),Ye(n,"RID",e),Ye(n,"TYPE","terminate"),yd(t,n),e=new fd(t,t.l,e),e.L=2,e.A=Vm(Er(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=Kk(e.l,null),e.g.ha(e.A)),e.G=Date.now(),pd(e)}Gk(t)}function Um(t){t.g&&(dE(t),t.g.cancel(),t.g=null)}function Bk(t){Um(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Dm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function $m(t){if(!xk(t.i)&&!t.m){t.m=!0;var e=t.Na;id||ck(),rd||(id(),rd=!0),eE.add(e,t),t.C=0}}function z7(t,e){return Rk(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=dd($t(t.Na,t,e),qk(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new fd(this,this.l,t),o=this.s;if(this.U&&(o?(o=ek(o),tk(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Uk(this,r,e),n=Er(this.I),Ye(n,"RID",t),Ye(n,"CVER",22),this.F&&Ye(n,"X-HTTP-Session-Id",this.F),yd(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Vk(o)))+"&"+e:this.o&&cE(n,this.o,o)),sE(this.i,r),this.bb&&Ye(n,"TYPE","init"),this.P?(Ye(n,"$req",e),Ye(n,"SID","null"),r.aa=!0,Bb(r,n,null)):Bb(r,n,e),this.H=2}}else this.H==3&&(t?WP(this,t):this.j.length==0||xk(this.i)||WP(this))};function WP(t,e){var n;e?n=e.m:n=t.W++;let i=Er(t.I);Ye(i,"SID",t.K),Ye(i,"RID",n),Ye(i,"AID",t.V),yd(t,i),t.o&&t.s&&cE(i,t.o,t.s),n=new fd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Uk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),sE(t.i,n),Bb(n,i,e)}function yd(t,e){t.na&&Kb(t.na,function(n,i){Ye(e,i,n)}),t.h&&Ik({},function(n,i){Ye(e,i,n)})}function Uk(t,e,n){n=Math.min(t.j.length,n);var i=t.h?$t(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=r[c].g,u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{L7(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function $k(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;id||ck(),rd||(id(),rd=!0),eE.add(e,t),t.A=0}}function uE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=dd($t(t.Ma,t),qk(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,Hk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=dd($t(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,en(10),Um(this),Hk(this))};function dE(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function Hk(t){t.g=new fd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Er(t.wa);Ye(e,"RID","rpc"),Ye(e,"SID",t.K),Ye(e,"AID",t.V),Ye(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ye(e,"TO",t.qa),Ye(e,"TYPE","xmlhttp"),yd(t,e),t.o&&t.s&&cE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Vm(Er(e)),n.u=null,n.S=!0,_k(n,t)}H.ib=function(){this.v!=null&&(this.v=null,Um(this),uE(this),en(19))};function Dm(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function zk(t,e){var n=null;if(t.g==e){Dm(t),dE(t),t.g=null;var i=2}else if($b(t.i,e))n=e.F,Mk(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=Nm(),Vt(i,new pk(i,n)),$m(t)}else $k(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&z7(t,e)||i==2&&uE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Is(t,5);break;case 4:Is(t,10);break;case 3:Is(t,6);break;default:Is(t,2)}}}function qk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Is(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=$t(t.pb,t);n||(n=new Ds("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Em(n,"https"),Vm(n)),V7(n.toString(),i)}else en(2);t.H=0,t.h&&t.h.za(e),Gk(t),Bk(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),en(2)):(this.l.info("Failed to ping google.com"),en(1))};function Gk(t){if(t.H=0,t.ma=[],t.h){let e=Pk(t.i);(e.length!=0||t.j.length!=0)&&(VP(t.ma,e),VP(t.ma,t.j),t.i.i.length=0,Gb(t.j),t.j.length=0),t.h.ya()}}function Wk(t,e,n){var i=n instanceof Ds?Er(n):new Ds(n);if(i.g!="")e&&(i.g=e+"."+i.g),Im(i,i.m);else{var r=ce.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Ds(null);i&&Em(o,i),e&&(o.g=e),r&&Im(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Ye(i,n,e),Ye(i,"VER",t.ra),yd(t,i),i}function Kk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new st(new md({ob:n})):new st(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function Yk(){}H=Yk.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function Cm(){if(Tc&&!(10<=Number(a7)))throw Error("Environmental error: no available transport.")}Cm.prototype.g=function(t,e){return new Dn(t,e)};function Dn(t,e){xt.call(this),this.g=new jk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!td(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!td(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Sc(this)}Rt(Dn,xt);Dn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;en(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Wk(t,null,t.Y),$m(t)};Dn.prototype.close=function(){lE(this.g)};Dn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Jb(t),t=n);e.j.push(new k7(e.fb++,t)),e.H==3&&$m(e)};Dn.prototype.N=function(){this.g.h=null,delete this.j,lE(this.g),delete this.g,Dn.$.N.call(this)};function Qk(t){rE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Rt(Qk,rE);function Zk(){oE.call(this),this.status=1}Rt(Zk,oE);function Sc(t){this.g=t}Rt(Sc,Yk);Sc.prototype.Ba=function(){Vt(this.g,"a")};Sc.prototype.Aa=function(t){Vt(this.g,new Qk(t))};Sc.prototype.za=function(t){Vt(this.g,new Zk)};Sc.prototype.ya=function(){Vt(this.g,"b")};function q7(){this.blockSize=-1}function oi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Rt(oi,q7);oi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sb(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}oi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)Sb(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){Sb(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){Sb(this,i),r=0;break}}this.h=r,this.i+=e};oi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Be(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var G7={};function hE(t){return-128<=t&&128>t?r7(t,function(e){return new Be([e|0],0>e?-1:0)}):new Be([t|0],0>t?-1:0)}function qi(t){if(isNaN(t)||!isFinite(t))return Cc;if(0>t)return Lt(qi(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Hb;return new Be(e,0)}function Xk(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Lt(Xk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qi(Math.pow(e,8)),i=Cc,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),s=parseInt(t.substring(r,r+o),e);8>o?(o=qi(Math.pow(e,o)),i=i.R(o).add(qi(s))):(i=i.R(n),i=i.add(qi(s)))}return i}var Hb=4294967296,Cc=hE(0),zb=hE(1),KP=hE(16777216);H=Be.prototype;H.ea=function(){if(Un(this))return-Lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Hb+i)*e,e*=Hb}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(br(this))return"0";if(Un(this))return"-"+Lt(this).toString(t);for(var e=qi(Math.pow(t,6)),n=this,i="";;){var r=Am(n,e).g;n=Tm(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,br(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function br(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Un(t){return t.h==-1}H.X=function(t){return t=Tm(this,t),Un(t)?-1:br(t)?0:1};function Lt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Be(n,~t.h).add(zb)}H.abs=function(){return Un(this)?Lt(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new Be(n,n[n.length-1]&-2147483648?-1:0)};function Tm(t,e){return t.add(Lt(e))}H.R=function(t){if(br(this)||br(t))return Cc;if(Un(this))return Un(t)?Lt(this).R(Lt(t)):Lt(Lt(this).R(t));if(Un(t))return Lt(this.R(Lt(t)));if(0>this.X(KP)&&0>t.X(KP))return qi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=s*c,bm(n,2*i+2*r),n[2*i+2*r+1]+=o*c,bm(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,bm(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,bm(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Be(n,0)};function bm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Zu(t,e){this.g=t,this.h=e}function Am(t,e){if(br(e))throw Error("division by zero");if(br(t))return new Zu(Cc,Cc);if(Un(t))return e=Am(Lt(t),e),new Zu(Lt(e.g),Lt(e.h));if(Un(e))return e=Am(t,Lt(e)),new Zu(Lt(e.g),e.h);if(30<t.g.length){if(Un(t)||Un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zb,i=e;0>=i.X(t);)n=YP(n),i=YP(i);var r=Ic(n,1),o=Ic(i,1);for(i=Ic(i,2),n=Ic(n,2);!br(i);){var s=o.add(i);0>=s.X(t)&&(r=r.add(n),o=s),i=Ic(i,1),n=Ic(n,1)}return e=Tm(t,r.R(e)),new Zu(r,e)}for(r=Cc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=qi(n),s=o.R(e);Un(s)||0<s.X(t);)n-=i,o=qi(n),s=o.R(e);br(o)&&(o=zb),r=r.add(o),t=Tm(t,s)}return new Zu(r,t)}H.gb=function(t){return Am(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Be(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Be(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Be(n,this.h^t.h)};function YP(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Be(n,t.h)}function Ic(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Be(r,t.h)}Cm.prototype.createWebChannel=Cm.prototype.g;Dn.prototype.send=Dn.prototype.u;Dn.prototype.open=Dn.prototype.m;Dn.prototype.close=Dn.prototype.close;Om.NO_ERROR=0;Om.TIMEOUT=8;Om.HTTP_ERROR=6;mk.COMPLETE="complete";gk.EventType=hd;hd.OPEN="a";hd.CLOSE="b";hd.ERROR="c";hd.MESSAGE="d";xt.prototype.listen=xt.prototype.O;st.prototype.listenOnce=st.prototype.P;st.prototype.getLastError=st.prototype.Sa;st.prototype.getLastErrorCode=st.prototype.Ia;st.prototype.getStatus=st.prototype.da;st.prototype.getResponseJson=st.prototype.Wa;st.prototype.getResponseText=st.prototype.ja;st.prototype.send=st.prototype.ha;st.prototype.setWithCredentials=st.prototype.Oa;oi.prototype.digest=oi.prototype.l;oi.prototype.reset=oi.prototype.reset;oi.prototype.update=oi.prototype.j;Be.prototype.add=Be.prototype.add;Be.prototype.multiply=Be.prototype.R;Be.prototype.modulo=Be.prototype.gb;Be.prototype.compare=Be.prototype.X;Be.prototype.toNumber=Be.prototype.ea;Be.prototype.toString=Be.prototype.toString;Be.prototype.getBits=Be.prototype.D;Be.fromNumber=qi;Be.fromString=Xk;var Jk=si.createWebChannelTransport=function(){return new Cm},eN=si.getStatEventTarget=function(){return Nm()},Hm=si.ErrorCode=Om,tN=si.EventType=mk,nN=si.Event=Cs,fE=si.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Sue=si.FetchXmlHttpFactory=md,vd=si.WebChannel=gk,iN=si.XhrIo=st,rN=si.Md5=oi,Ts=si.Integer=Be;var oN="@firebase/firestore";var yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");var ol="10.9.0";var Eo=new _h("@firebase/firestore");function kc(){return Eo.logLevel}function oO(t){Eo.setLogLevel(t)}function N(t,...e){if(Eo.logLevel<=mi.DEBUG){let n=e.map(gD);Eo.debug(`Firestore (${ol}): ${t}`,...n)}}function dt(t,...e){if(Eo.logLevel<=mi.ERROR){let n=e.map(gD);Eo.error(`Firestore (${ol}): ${t}`,...n)}}function Hn(t,...e){if(Eo.logLevel<=mi.WARN){let n=e.map(gD);Eo.warn(`Firestore (${ol}): ${t}`,...n)}}function gD(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function q(t="Unexpected state"){let e=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: `+t;throw dt(e),new Error(e)}function X(t,e){t||q()}function sO(t,e){t||q()}function $(t,e){return t}var C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},P=class extends vh{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var eg=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}},_E=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},wE=class{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),o=new vt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vt,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>T(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(X(typeof i.accessToken=="string"),new eg(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return X(e===null||typeof e=="string"),new yt(e)}},bE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},EE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new bE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},IE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},DE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,N("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(X(typeof n.token=="string"),this.R=n.token,new IE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function W7(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var tg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=W7(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function de(t,e){return t<e?-1:t>e?1:0}function $c(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function aO(t){return t+"\0"}var it=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new P(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new P(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new P(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new it(0,0))}static max(){return new t(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ng=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&q(),i===void 0?i=e.length-n:i>e.length-n&&q(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},xe=class t extends ng{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new P(C.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},K7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ht=class t extends ng{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return K7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new P(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new P(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new P(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new P(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var U=class t{constructor(e){this.path=e}static fromPath(e){return new t(xe.fromString(e))}static fromName(e){return new t(xe.fromString(e).popFirst(5))}static empty(){return new t(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new xe(e.slice()))}};var Hc=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};function CE(t){return t.fields.find(e=>e.kind===2)}function Ss(t){return t.fields.filter(e=>e.kind!==2)}Hc.UNKNOWN_ID=-1;var jc=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var Rd=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,zn.min())}};function cO(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=J.fromTimestamp(i===1e9?new it(n+1,0):new it(n,i));return new zn(r,U.empty(),e)}function lO(t){return new zn(t.readTime,t.key,-1)}var zn=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(J.min(),U.empty(),-1)}static max(){return new t(J.max(),U.empty(),-1)}};function yD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}var uO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ig=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Po(t){return T(this,null,function*(){if(t.code!==C.FAILED_PRECONDITION||t.message!==uO)throw t;N("LocalStore","Unexpectedly lost primary lease")})}var D=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},c=>i(c))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var rg=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new vt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ns(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=vD(i.target.error);this.V.reject(new Ns(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new Ns(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(N("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new AE(n)}},Cr=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(wl())===12.2&&dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return N("SimpleDb","Removing database:",e),xs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!yh())return!1;if(t.C())return!0;let e=wl(),n=t.S(e),i=0<n&&n<10,r=t.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return T(this,null,function*(){return this.db||(N("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;n(s)},r.onblocked=()=>{i(new Ns(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?i(new P(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new P(C.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new Ns(e,s))},r.onupgradeneeded=o=>{N("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,r.transaction,o.oldVersion,this.version).next(()=>{N("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return T(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=rg.open(this.db,e,o?"readonly":"readwrite",i),c=r(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),D.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&s<3;if(N("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},TE=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return xs(this.k.delete())}},Ns=class extends P{constructor(e,n){super(C.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function ko(t){return t.name==="IndexedDbTransactionError"}var AE=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(N("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(N("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),xs(i)}add(e){return N("SimpleDb","ADD",this.store.name,e,e),xs(this.store.add(e))}get(e){return xs(this.store.get(e)).next(n=>(n===void 0&&(n=null),N("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return N("SimpleDb","DELETE",this.store.name,e),xs(this.store.delete(e))}count(){return N("SimpleDb","COUNT",this.store.name),xs(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new D((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(i),s=[];return this.G(o,(a,c)=>{s.push(c)}).next(()=>s)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new D((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,n){N("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new D((i,r)=>{n.onerror=o=>{let s=vD(o.target.error);r(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,n){let i=[];return new D((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let c=new TE(a),l=n(a.primaryKey,a.value,c);if(l instanceof D){let u=l.catch(f=>(c.done(),D.reject(f)));i.push(u)}c.isDone?r():c.$===null?a.continue():a.continue(c.$)}}).next(()=>D.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function xs(t){return new D((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=vD(i.target.error);n(r)}})}var sN=!1;function vD(t){let e=Cr.S(wl());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new P("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sN||(sN=!0,setTimeout(()=>{throw i},0)),i}}return t}var SE=class{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){N("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>T(this,null,function*(){this.task=null;try{N("IndexBackfiller",`Documents written: ${yield this.X.te()}`)}catch(n){ko(n)?N("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield Po(n)}yield this.ee(6e4)}))}},xE=class{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){return T(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))})}ne(e,n){let i=new Set,r=n,o=!0;return D.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!i.has(s))return N("IndexBackfiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>n-r)}re(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(N("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let i=e;return n.changes.forEach((r,o)=>{let s=lO(o);yD(s,i)>0&&(i=s)}),new zn(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}};var Cn=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Xd(t){return t==null}function Md(t){return t===0&&1/t==-1/0}function dO(t){return typeof t=="number"&&Number.isInteger(t)&&!Md(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function tn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aN(e)),e=Y7(t.get(n),e);return aN(e)}function Y7(t,e){let n=e,i=t.length;for(let r=0;r<i;r++){let o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function aN(t){return t+""}function Gi(t){let e=t.length;if(X(e>=2),e===2)return X(t.charAt(0)===""&&t.charAt(1)===""),xe.emptyPath();let n=e-2,i=[],r="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&q(),t.charAt(s+1)){case"":let a=t.substring(o,s),c;r.length===0?c=a:(r+=a,c=r,r=""),i.push(c);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:q()}o=s+2}return new xe(i)}var cN=["userId","batchId"];function Km(t,e){return[t,tn(e)]}function hO(t,e,n){return[t,tn(e),n]}var Q7={},Z7=["prefixPath","collectionGroup","readTime","documentId"],X7=["prefixPath","collectionGroup","documentId"],J7=["collectionGroup","readTime","prefixPath","documentId"],eK=["canonicalId","targetId"],tK=["targetId","path"],nK=["path","targetId"],iK=["collectionId","parent"],rK=["indexId","uid"],oK=["uid","sequenceNumber"],sK=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],aK=["indexId","uid","orderedDocumentKey"],cK=["userId","collectionPath","documentId"],lK=["userId","collectionPath","largestBatchId"],uK=["userId","collectionGroup","largestBatchId"],fO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dK=[...fO,"documentOverlays"],pO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mO=pO,hK=[...mO,"indexConfiguration","indexState","indexEntries"];var Pd=class extends ig{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}};function Pt(t,e){let n=$(t);return Cr.M(n.ae,e)}function lN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gO(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Qe=class t{constructor(e,n){this.comparator=e,this.root=n||Ki.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}},Vc=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ki=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();let e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}};Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1;Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Ki(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var qe=class t{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new og(this.data.getIterator())}getIteratorFrom(e){return new og(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},og=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function xc(t){return t.hasNext()?t.getNext():void 0}var Tn=class t{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new t([])}unionWith(e){let n=new qe(ht.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $c(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var sg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function yO(){return typeof atob<"u"}var Mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sg("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mt.EMPTY_BYTE_STRING=new Mt("");var fK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(t){if(X(!!t),typeof t=="string"){let e=0,n=fK.exec(t);if(X(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Do(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}function Qg(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _D(t){let e=t.mapValue.fields.__previous_value__;return Qg(e)?_D(e):e}function kd(t){let e=Io(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}var RE=class{constructor(e,n,i,r,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Co=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ym={nullValue:"NULL_VALUE"};function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qg(t)?4:vO(t)?9007199254740991:10:q()}function Zi(t,e){if(t===e)return!0;let n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kd(t).isEqual(kd(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Io(r.timestampValue),a=Io(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Do(r.bytesValue).isEqual(Do(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return at(r.geoPointValue.latitude)===at(o.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return at(r.integerValue)===at(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=at(r.doubleValue),a=at(o.doubleValue);return s===a?Md(s)===Md(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return $c(t.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(lN(s)!==lN(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Zi(s[c],a[c])))return!1;return!0}(t,e);default:return q()}}function Nd(t,e){return(t.values||[]).find(n=>Zi(n,e))!==void 0}function To(t,e){if(t===e)return 0;let n=Os(t),i=Os(e);if(n!==i)return de(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=at(o.integerValue||o.doubleValue),c=at(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return uN(t.timestampValue,e.timestampValue);case 4:return uN(kd(t),kd(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Do(o),c=Do(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=de(a[l],c[l]);if(u!==0)return u}return de(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=de(at(o.latitude),at(s.latitude));return a!==0?a:de(at(o.longitude),at(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=To(a[l],c[l]);if(u)return u}return de(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===wo.mapValue&&s===wo.mapValue)return 0;if(o===wo.mapValue)return 1;if(s===wo.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){let m=de(c[f],u[f]);if(m!==0)return m;let g=To(a[c[f]],l[u[f]]);if(g!==0)return g}return de(c.length,u.length)}(t.mapValue,e.mapValue);default:throw q()}}function uN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);let n=Io(t),i=Io(e),r=de(n.seconds,i.seconds);return r!==0?r:de(n.nanos,i.nanos)}function zc(t){return ME(t)}function ME(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Io(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Do(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return U.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=ME(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${ME(n.fields[s])}`;return r+"}"}(t.mapValue):q()}function Fs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function PE(t){return!!t&&"integerValue"in t}function Od(t){return!!t&&"arrayValue"in t}function dN(t){return!!t&&"nullValue"in t}function hN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qm(t){return!!t&&"mapValue"in t}function Cd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Cd(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function pK(t){return"nullValue"in t?Ym:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Fs(Co.empty(),U.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:q()}function mK(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Fs(Co.empty(),U.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?wo:q()}function fN(t,e){let n=To(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function pN(t,e){let n=To(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var qt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Qm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cd(n)}setAll(e){let n=ht.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=Cd(s):r.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());Qm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Qm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Gs(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(Cd(this.value))}};function _O(t){let e=[];return Gs(t.fields,(n,i)=>{let r=new ht([n]);if(Qm(i)){let o=_O(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new Tn(e)}var _t=class t{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),qt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,J.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xi=class{constructor(e,n){this.position=e,this.inclusive=n}};function mN(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=U.comparator(U.fromName(s.referenceValue),n.key):i=To(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function gN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zi(t.position[n],e.position[n]))return!1;return!0}var Ls=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function gK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ag=class{},De=class t extends ag{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new OE(e,n,i):n==="array-contains"?new VE(e,i):n==="in"?new cg(e,i):n==="not-in"?new jE(e,i):n==="array-contains-any"?new BE(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new FE(e,i):new LE(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(To(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ue=class t extends ag{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return qc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function qc(t){return t.op==="and"}function kE(t){return t.op==="or"}function wD(t){return wO(t)&&qc(t)}function wO(t){for(let e of t.filters)if(e instanceof Ue)return!1;return!0}function NE(t){if(t instanceof De)return t.field.canonicalString()+t.op.toString()+zc(t.value);if(wD(t))return t.filters.map(e=>NE(e)).join(",");{let e=t.filters.map(n=>NE(n)).join(",");return`${t.op}(${e})`}}function bO(t,e){return t instanceof De?function(i,r){return r instanceof De&&i.op===r.op&&i.field.isEqual(r.field)&&Zi(i.value,r.value)}(t,e):t instanceof Ue?function(i,r){return r instanceof Ue&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&bO(s,r.filters[a]),!0):!1}(t,e):void q()}function EO(t,e){let n=t.filters.concat(e);return Ue.create(n,t.op)}function IO(t){return t instanceof De?function(n){return`${n.field.canonicalString()} ${n.op} ${zc(n.value)}`}(t):t instanceof Ue?function(n){return n.op.toString()+" {"+n.getFilters().map(IO).join(" ,")+"}"}(t):"Filter"}var OE=class extends De{constructor(e,n,i){super(e,n,i),this.key=U.fromName(i.referenceValue)}matches(e){let n=U.comparator(e.key,this.key);return this.matchesComparison(n)}},FE=class extends De{constructor(e,n){super(e,"in",n),this.keys=DO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},LE=class extends De{constructor(e,n){super(e,"not-in",n),this.keys=DO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function DO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>U.fromName(i.referenceValue))}var VE=class extends De{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Od(n)&&Nd(n.arrayValue,this.value)}},cg=class extends De{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Nd(this.value.arrayValue,n)}},jE=class extends De{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Nd(this.value.arrayValue,n)}},BE=class extends De{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Od(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Nd(this.value.arrayValue,i))}};var UE=class{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function $E(t,e=null,n=[],i=[],r=null,o=null,s=null){return new UE(t,e,n,i,r,o,s)}function Vs(t){let e=$(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>NE(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>zc(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>zc(i)).join(",")),e.ce=n}return e.ce}function Jd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gN(t.startAt,e.startAt)&&gN(t.endAt,e.endAt)}function lg(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ug(t,e){return t.filters.filter(n=>n instanceof De&&n.field.isEqual(e))}function yN(t,e,n){let i=Ym,r=!0;for(let o of ug(t,e)){let s=Ym,a=!0;switch(o.op){case"<":case"<=":s=pK(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Ym}fN({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];fN({value:i,inclusive:r},{value:s,inclusive:n.inclusive})<0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}function vN(t,e,n){let i=wo,r=!0;for(let o of ug(t,e)){let s=wo,a=!0;switch(o.op){case">=":case">":s=mK(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=wo}pN({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];pN({value:i,inclusive:r},{value:s,inclusive:n.inclusive})>0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}var ai=class{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function CO(t,e,n,i,r,o,s,a){return new ai(t,e,n,i,r,o,s,a)}function sl(t){return new ai(t)}function _N(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bD(t){return t.collectionGroup!==null}function Bc(t){let e=$(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new qe(ht.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Ls(o,i))}),n.has(ht.keyField().canonicalString())||e.le.push(new Ls(ht.keyField(),i))}return e.le}function nn(t){let e=$(t);return e.he||(e.he=yK(e,Bc(t))),e.he}function yK(t,e){if(t.limitType==="F")return $E(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Ls(r.field,o)});let n=t.endAt?new Xi(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Xi(t.startAt.position,t.startAt.inclusive):null;return $E(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function HE(t,e){let n=t.filters.concat([e]);return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dg(t,e,n){return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function eh(t,e){return Jd(nn(t),nn(e))&&t.limitType===e.limitType}function TO(t){return`${Vs(nn(t))}|lt:${t.limitType}`}function Nc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>IO(r)).join(", ")}]`),Xd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>zc(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>zc(r)).join(",")),`Target(${i})`}(nn(t))}; limitType=${t.limitType})`}function th(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):U.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of Bc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let l=mN(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,Bc(i),r)||i.endAt&&!function(s,a,c){let l=mN(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,Bc(i),r))}(t,e)}function AO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SO(t){return(e,n)=>{let i=!1;for(let r of Bc(t)){let o=vK(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function vK(t,e,n){let i=t.field.isKeyField()?U.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?To(c,l):q()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return q()}}var Ji=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return gO(this.inner)}size(){return this.innerSize}};var _K=new Qe(U.comparator);function mn(){return _K}var xO=new Qe(U.comparator);function Id(...t){let e=xO;for(let n of t)e=e.insert(n.key,n);return e}function RO(t){let e=xO;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Wi(){return Td()}function MO(){return Td()}function Td(){return new Ji(t=>t.toString(),(t,e)=>t.isEqual(e))}var wK=new Qe(U.comparator),bK=new qe(U.comparator);function fe(...t){let e=bK;for(let n of t)e=e.add(n);return e}var EK=new qe(de);function ED(){return EK}function PO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Md(e)?"-0":e}}function kO(t){return{integerValue:""+t}}function NO(t,e){return dO(e)?kO(e):PO(t,e)}var Gc=class{constructor(){this._=void 0}};function IK(t,e,n){return t instanceof Ao?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Qg(o)&&(o=_D(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Tr?FO(t,e):t instanceof Ar?LO(t,e):function(r,o){let s=OO(r,o),a=wN(s)+wN(r.Ie);return PE(s)&&PE(r.Ie)?kO(a):PO(r.serializer,a)}(t,e)}function DK(t,e,n){return t instanceof Tr?FO(t,e):t instanceof Ar?LO(t,e):n}function OO(t,e){return t instanceof So?function(i){return PE(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Ao=class extends Gc{},Tr=class extends Gc{constructor(e){super(),this.elements=e}};function FO(t,e){let n=VO(e);for(let i of t.elements)n.some(r=>Zi(r,i))||n.push(i);return{arrayValue:{values:n}}}var Ar=class extends Gc{constructor(e){super(),this.elements=e}};function LO(t,e){let n=VO(e);for(let i of t.elements)n=n.filter(r=>!Zi(r,i));return{arrayValue:{values:n}}}var So=class extends Gc{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function wN(t){return at(t.integerValue||t.doubleValue)}function VO(t){return Od(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var js=class{constructor(e,n){this.field=e,this.transform=n}};function CK(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Tr&&r instanceof Tr||i instanceof Ar&&r instanceof Ar?$c(i.elements,r.elements,Zi):i instanceof So&&r instanceof So?Zi(i.Ie,r.Ie):i instanceof Ao&&r instanceof Ao}(t.transform,e.transform)}var zE=class{constructor(e,n){this.version=e,this.transformResults=n}},ct=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Zm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Wc=class{};function jO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ro(t.key,ct.none()):new xo(t.key,t.data,ct.none());{let n=t.data,i=qt.empty(),r=new qe(ht.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new ci(t.key,i,new Tn(r.toArray()),ct.none())}}function TK(t,e,n){t instanceof xo?function(r,o,s){let a=r.value.clone(),c=EN(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ci?function(r,o,s){if(!Zm(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=EN(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(BO(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ad(t,e,n,i){return t instanceof xo?function(o,s,a,c){if(!Zm(o.precondition,s))return a;let l=o.value.clone(),u=IN(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof ci?function(o,s,a,c){if(!Zm(o.precondition,s))return a;let l=IN(o.fieldTransforms,c,s),u=s.data;return u.setAll(BO(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(o,s,a){return Zm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function AK(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=OO(i.transform,r||null);o!=null&&(n===null&&(n=qt.empty()),n.set(i.field,o))}return n||null}function bN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&$c(i,r,(o,s)=>CK(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var xo=class extends Wc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ci=class extends Wc{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function BO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function EN(t,e,n){let i=new Map;X(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,DK(s,a,n[r]))}return i}function IN(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,IK(o,s,e))}return i}var Ro=class extends Wc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Fd=class extends Wc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ld=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&TK(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ad(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Ad(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=MO();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;let c=jO(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&$c(this.mutations,e.mutations,(n,i)=>bN(n,i))&&$c(this.baseMutations,e.baseMutations,(n,i)=>bN(n,i))}},qE=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){X(e.mutations.length===i.length);let r=function(){return wK}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var Vd=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var GE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var mt,Se;function UO(t){switch(t){default:return q();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function $O(t){if(t===void 0)return dt("GRPC error has no .code"),C.UNKNOWN;switch(t){case mt.OK:return C.OK;case mt.CANCELLED:return C.CANCELLED;case mt.UNKNOWN:return C.UNKNOWN;case mt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case mt.INTERNAL:return C.INTERNAL;case mt.UNAVAILABLE:return C.UNAVAILABLE;case mt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case mt.NOT_FOUND:return C.NOT_FOUND;case mt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case mt.ABORTED:return C.ABORTED;case mt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case mt.DATA_LOSS:return C.DATA_LOSS;default:return q()}}(Se=mt||(mt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var DN=null;function HO(){return new TextEncoder}var SK=new Ts([4294967295,4294967295],0);function CN(t){let e=HO().encode(t),n=new rN;return n.update(e),new Uint8Array(n.digest())}function TN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ts([n,i],0),new Ts([r,o],0)]}var WE=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ks(`Invalid padding: ${n}`);if(i<0)throw new ks(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ks(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ks(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ts.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Ts.fromNumber(i)));return r.compare(SK)===1&&(r=new Ts([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=CN(e),[i,r]=TN(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=CN(e),[i,r]=TN(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},ks=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var jd=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Bd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(J.min(),r,new Qe(de),mn(),fe())}},Bd=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,fe(),fe(),fe())}};var Uc=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},hg=class{constructor(e,n){this.targetId=e,this.fe=n}},fg=class{constructor(e,n,i=Mt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},pg=class{constructor(){this.ge=0,this.pe=SN(),this.ye=Mt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=fe(),n=fe(),i=fe();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:q()}}),new Bd(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=SN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,X(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},KE=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=mn(),this.Qe=AN(),this.Ke=new Qe(de)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(lg(o))if(i===0){let s=new U(o.path);this.We(n,s,_t.newNoDocument(s,J.min()))}else X(i===1);else{let s=this.Ze(n);if(s!==i){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}DN?.tt(function(u,f,m,g,b){var I,E,A,B,M,R;let G={localCacheCount:u,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},ee=f.unchangedNames;return ee&&(G.bloomFilter={applied:b===0,hashCount:(I=ee?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(B=(A=(E=ee?.bits)===null||E===void 0?void 0:E.bitmap)===null||A===void 0?void 0:A.length)!==null&&B!==void 0?B:0,padding:(R=(M=ee?.bits)===null||M===void 0?void 0:M.padding)!==null&&R!==void 0?R:0,mightContain:Ce=>{var et;return(et=g?.mightContain(Ce))!==null&&et!==void 0&&et}}),G}(s,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,a;try{s=Do(i).toUint8Array()}catch(c){if(c instanceof sg)return Hn("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new WE(s,r,o)}catch(c){return Hn(c instanceof ks?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Be.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&lg(a.target)){let c=new U(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,_t.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let i=fe();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let r=new jd(e,n,this.Ke,this.qe,i);return this.qe=mn(),this.Qe=AN(),this.Ke=new Qe(de),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new pg,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new qe(de),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||N("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new pg),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function AN(){return new Qe(U.comparator)}function SN(){return new Qe(U.comparator)}var xK={asc:"ASCENDING",desc:"DESCENDING"},RK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MK={and:"AND",or:"OR"},YE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function QE(t,e){return t.useProto3Json||Xd(e)?e:{value:e}}function Kc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PK(t,e){return Kc(t,e.toTimestamp())}function ft(t){return X(!!t),J.fromTimestamp(function(n){let i=Io(n);return new it(i.seconds,i.nanos)}(t))}function ID(t,e){return ZE(t,e).canonicalString()}function ZE(t,e){let n=function(r){return new xe(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qO(t){let e=xe.fromString(t);return X(tF(e)),e}function Ud(t,e){return ID(t.databaseId,e.path)}function Yi(t,e){let n=qO(e);if(n.get(1)!==t.databaseId.projectId)throw new P(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new P(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(KO(n))}function GO(t,e){return ID(t.databaseId,e)}function WO(t){let e=qO(t);return e.length===4?xe.emptyPath():KO(e)}function XE(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KO(t){return X(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xN(t,e,n){return{name:Ud(t,e),fields:n.value.mapValue.fields}}function YO(t,e,n){let i=Yi(t,e.name),r=ft(e.updateTime),o=e.createTime?ft(e.createTime):J.min(),s=new qt({mapValue:{fields:e.fields}}),a=_t.newFoundDocument(i,r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function kK(t,e){return"found"in e?function(i,r){X(!!r.found),r.found.name,r.found.updateTime;let o=Yi(i,r.found.name),s=ft(r.found.updateTime),a=r.found.createTime?ft(r.found.createTime):J.min(),c=new qt({mapValue:{fields:r.found.fields}});return _t.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(i,r){X(!!r.missing),X(!!r.readTime);let o=Yi(i,r.missing),s=ft(r.readTime);return _t.newNoDocument(o,s)}(t,e):q()}function NK(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(X(u===void 0||typeof u=="string"),Mt.fromBase64String(u||"")):(X(u===void 0||u instanceof Uint8Array),Mt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?C.UNKNOWN:$O(l.code);return new P(u,l.message||"")}(s);n=new fg(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Yi(t,i.document.name),o=ft(i.document.updateTime),s=i.document.createTime?ft(i.document.createTime):J.min(),a=new qt({mapValue:{fields:i.document.fields}}),c=_t.newFoundDocument(r,o,s,a),l=i.targetIds||[],u=i.removedTargetIds||[];n=new Uc(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Yi(t,i.document),o=i.readTime?ft(i.readTime):J.min(),s=_t.newNoDocument(r,o),a=i.removedTargetIds||[];n=new Uc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Yi(t,i.document),o=i.removedTargetIds||[];n=new Uc([],o,r,null)}else{if(!("filter"in e))return q();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new GE(r,o),a=i.targetId;n=new hg(a,s)}}return n}function $d(t,e){let n;if(e instanceof xo)n={update:xN(t,e.key,e.value)};else if(e instanceof Ro)n={delete:Ud(t,e.key)};else if(e instanceof ci)n={update:xN(t,e.key,e.data),updateMask:BK(e.fieldMask)};else{if(!(e instanceof Fd))return q();n={verify:Ud(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Ao)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Tr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ar)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof So)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw q()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:PK(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q()}(t,e.precondition)),n}function JE(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?ct.updateTime(ft(o.updateTime)):o.exists!==void 0?ct.exists(o.exists):ct.none()}(e.currentDocument):ct.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;if("setToServerValue"in a)X(a.setToServerValue==="REQUEST_TIME"),c=new Ao;else if("appendMissingElements"in a){let u=a.appendMissingElements.values||[];c=new Tr(u)}else if("removeAllFromArray"in a){let u=a.removeAllFromArray.values||[];c=new Ar(u)}else"increment"in a?c=new So(s,a.increment):q();let l=ht.fromServerFormat(a.fieldPath);return new js(l,c)}(t,r)):[];if(e.update){e.update.name;let r=Yi(t,e.update.name),o=new qt({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let l=c.fieldPaths||[];return new Tn(l.map(u=>ht.fromServerFormat(u)))}(e.updateMask);return new ci(r,o,s,n,i)}return new xo(r,o,n,i)}if(e.delete){let r=Yi(t,e.delete);return new Ro(r,n)}if(e.verify){let r=Yi(t,e.verify);return new Fd(r,n)}return q()}function OK(t,e){return t&&t.length>0?(X(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?ft(r.updateTime):ft(o);return s.isEqual(J.min())&&(s=ft(o)),new zE(s,r.transformResults||[])}(n,e))):[]}function QO(t,e){return{documents:[GO(t,e.path)]}}function ZO(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=GO(t,r);let o=function(l){if(l.length!==0)return eF(Ue.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(u=>function(m){return{field:Oc(m.field),direction:LK(m.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=QE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:r}}function XO(t){let e=WO(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){X(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){let m=JO(f);return m instanceof Ue&&wD(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(m=>function(b){return new Ls(Fc(b.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Xd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){let m=!!f.before,g=f.values||[];return new Xi(g,m)}(n.startAt));let l=null;return n.endAt&&(l=function(f){let m=!f.before,g=f.values||[];return new Xi(g,m)}(n.endAt)),CO(e,r,s,o,a,"F",c,l)}function FK(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Fc(n.unaryFilter.field);return De.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Fc(n.unaryFilter.field);return De.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Fc(n.unaryFilter.field);return De.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Fc(n.unaryFilter.field);return De.create(s,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(n){return De.create(Fc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ue.create(n.compositeFilter.filters.map(i=>JO(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(t):q()}function LK(t){return xK[t]}function VK(t){return RK[t]}function jK(t){return MK[t]}function Oc(t){return{fieldPath:t.canonicalString()}}function Fc(t){return ht.fromServerFormat(t.fieldPath)}function eF(t){return t instanceof De?function(n){if(n.op==="=="){if(hN(n.value))return{unaryFilter:{field:Oc(n.field),op:"IS_NAN"}};if(dN(n.value))return{unaryFilter:{field:Oc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hN(n.value))return{unaryFilter:{field:Oc(n.field),op:"IS_NOT_NAN"}};if(dN(n.value))return{unaryFilter:{field:Oc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oc(n.field),op:VK(n.op),value:n.value}}}(t):t instanceof Ue?function(n){let i=n.getFilters().map(r=>eF(r));return i.length===1?i[0]:{compositeFilter:{op:jK(n.op),filters:i}}}(t):q()}function BK(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Yc=class t{constructor(e,n,i,r,o=J.min(),s=J.min(),a=Mt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var mg=class{constructor(e){this.ct=e}};function UK(t,e){let n;if(e.document)n=YO(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=U.fromSegments(e.noDocument.path),r=Us(e.noDocument.readTime);n=_t.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return q();{let i=U.fromSegments(e.unknownDocument.path),r=Us(e.unknownDocument.version);n=_t.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(r){let o=new it(r[0],r[1]);return J.fromTimestamp(o)}(e.readTime)),n}function RN(t,e){let n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(o,s){return{name:Ud(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Kc(o,s.version.toTimestamp()),createTime:Kc(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Bs(e.version)};else{if(!e.isUnknownDocument())return q();i.unknownDocument={path:n.path.toArray(),version:Bs(e.version)}}return i}function gg(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Bs(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Us(t){let e=new it(t.seconds,t.nanoseconds);return J.fromTimestamp(e)}function Rs(t,e){let n=(e.baseMutations||[]).map(o=>JE(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let i=e.mutations.map(o=>JE(t.ct,o)),r=it.fromMillis(e.localWriteTimeMs);return new Ld(e.batchId,r,n,i)}function Dd(t){let e=Us(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Us(t.lastLimboFreeSnapshotVersion):J.min(),i;return i=function(o){return o.documents!==void 0}(t.query)?function(o){return X(o.documents.length===1),nn(sl(WO(o.documents[0])))}(t.query):function(o){return nn(XO(o))}(t.query),new Yc(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Mt.fromBase64String(t.resumeToken))}function nF(t,e){let n=Bs(e.snapshotVersion),i=Bs(e.lastLimboFreeSnapshotVersion),r;r=lg(e.target)?QO(t.ct,e.target):ZO(t.ct,e.target).ut;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vs(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function DD(t){let e=XO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dg(e,e.limit,"L"):e}function pE(t,e){return new Vd(e.largestBatchId,JE(t.ct,e.overlayMutation))}function MN(t,e){let n=e.path.lastSegment();return[t,tn(e.path.popLast()),n]}function PN(t,e,n,i){return{indexId:t,uid:e,sequenceNumber:n,readTime:Bs(i.readTime),documentKey:tn(i.documentKey.path),largestBatchId:i.largestBatchId}}var eI=class{getBundleMetadata(e,n){return kN(e).get(n).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:Us(o.createTime),version:o.version}}(i)})}saveBundleMetadata(e,n){return kN(e).put(function(r){return{bundleId:r.id,createTime:Bs(ft(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return NN(e).get(n).next(i=>{if(i)return function(o){return{name:o.name,query:DD(o.bundledQuery),readTime:Us(o.readTime)}}(i)})}saveNamedQuery(e,n){return NN(e).put(function(r){return{name:r.name,readTime:Bs(ft(r.readTime)),bundledQuery:r.bundledQuery}}(n))}};function kN(t){return Pt(t,"bundles")}function NN(t){return Pt(t,"namedQueries")}var yg=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let i=n.uid||"";return new t(e,i)}getOverlay(e,n){return _d(e).get(MN(this.userId,n)).next(i=>i?pE(this.serializer,i):null)}getOverlays(e,n){let i=Wi();return D.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){let r=[];return i.forEach((o,s)=>{let a=new Vd(n,s);r.push(this.ht(e,a))}),D.waitFor(r)}removeOverlaysForBatchId(e,n,i){let r=new Set;n.forEach(s=>r.add(tn(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(_d(e).H("collectionPathOverlayIndex",a))}),D.waitFor(o)}getOverlaysForCollection(e,n,i){let r=Wi(),o=tn(n),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return _d(e).W("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let l=pE(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(e,n,i,r){let o=Wi(),s,a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return _d(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{let f=pE(this.serializer,l);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):u.done()}).next(()=>o)}ht(e,n){return _d(e).put(function(r,o,s){let[a,c,l]=MN(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:$d(r.ct,s.mutation)}}(this.serializer,this.userId,n))}};function _d(t){return Pt(t,"documentOverlays")}var Ir=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(at(e.integerValue));else if("doubleValue"in e){let i=at(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Md(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Do(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?vO(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):q()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),U.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Ir.bt=new Ir;function $K(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function ON(t){let e=64-function(i){let r=0;for(let o=0;o<8;++o){let s=$K(255&i[o]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}var tI=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Ct(i.value),i=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Mt(i.value),i=n.next();this.xt()}Ot(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{let r=n.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{let r=n.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(e){let n=this.Bt(e),i=ON(n);this.kt(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}qt(e){let n=this.Bt(e),i=ON(n);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},nI=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},iI=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},Ms=class{constructor(){this.Gt=new tI,this.zt=new nI(this.Gt),this.jt=new iI(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var Ps=class t{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new t(this.indexId,this.documentKey,this.arrayValue,i)}};function go(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=FN(t.arrayValue,e.arrayValue),n!==0?n:(n=FN(t.directionalValue,e.directionalValue),n!==0?n:U.comparator(t.documentKey,e.documentKey)))}function FN(t,e){for(let n=0;n<t.length&&n<e.length;++n){let i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}var vg=class{constructor(e){this.Yt=new qe((n,i)=>ht.comparator(n.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let i=n;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}get en(){return this.Yt.size>1}tn(e){if(X(e.collectionGroup===this.collectionId),this.en)return!1;let n=CE(e);if(n!==void 0&&!this.nn(n))return!1;let i=Ss(e),r=new Set,o=0,s=0;for(;o<i.length&&this.nn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let c=i[o];if(!this.rn(a,c)||!this.sn(this.Zt[s++],c))return!1}++o}for(;o<i.length;++o){let a=i[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new qe(ht.comparator),n=[];for(let i of this.Xt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new jc(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),n.push(new jc(i.field,0))}for(let i of this.Zt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),n.push(new jc(i.field,i.dir==="asc"?0:1)));return new Hc(Hc.UNKNOWN_ID,this.collectionId,n,Rd.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function iF(t){var e,n;if(X(t instanceof De||t instanceof Ue),t instanceof De){if(t instanceof cg){let r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>De.create(t.field,"==",o)))||[];return Ue.create(r,"or")}return t}let i=t.filters.map(r=>iF(r));return Ue.create(i,t.op)}function HK(t){if(t.getFilters().length===0)return[];let e=sI(iF(t));return X(rF(e)),rI(e)||oI(e)?[e]:e.getFilters()}function rI(t){return t instanceof De}function oI(t){return t instanceof Ue&&wD(t)}function rF(t){return rI(t)||oI(t)||function(n){if(n instanceof Ue&&kE(n)){for(let i of n.getFilters())if(!rI(i)&&!oI(i))return!1;return!0}return!1}(t)}function sI(t){if(X(t instanceof De||t instanceof Ue),t instanceof De)return t;if(t.filters.length===1)return sI(t.filters[0]);let e=t.filters.map(i=>sI(i)),n=Ue.create(e,t.op);return n=_g(n),rF(n)?n:(X(n instanceof Ue),X(qc(n)),X(n.filters.length>1),n.filters.reduce((i,r)=>CD(i,r)))}function CD(t,e){let n;return X(t instanceof De||t instanceof Ue),X(e instanceof De||e instanceof Ue),n=t instanceof De?e instanceof De?function(r,o){return Ue.create([r,o],"and")}(t,e):LN(t,e):e instanceof De?LN(e,t):function(r,o){if(X(r.filters.length>0&&o.filters.length>0),qc(r)&&qc(o))return EO(r,o.getFilters());let s=kE(r)?r:o,a=kE(r)?o:r,c=s.filters.map(l=>CD(l,a));return Ue.create(c,"or")}(t,e),_g(n)}function LN(t,e){if(qc(e))return EO(e,t.getFilters());{let n=e.filters.map(i=>CD(t,i));return Ue.create(n,"or")}}function _g(t){if(X(t instanceof De||t instanceof Ue),t instanceof De)return t;let e=t.getFilters();if(e.length===1)return _g(e[0]);if(wO(t))return t;let n=e.map(r=>_g(r)),i=[];return n.forEach(r=>{r instanceof De?i.push(r):r instanceof Ue&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:Ue.create(i,t.op)}var aI=class{constructor(){this._n=new Hd}addToCollectionParentIndex(e,n){return this._n.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}deleteAllFieldIndexes(e){return D.resolve()}createTargetIndexes(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(zn.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(zn.min())}updateCollectionGroup(e,n,i){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}},Hd=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new qe(xe.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new qe(xe.comparator)).toArray()}};var zm=new Uint8Array(0),cI=class{constructor(e,n){this.databaseId=n,this.an=new Hd,this.un=new Ji(i=>Vs(i),(i,r)=>Jd(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let o={collectionId:i,parent:tn(r)};return VN(e).put(o)}return D.resolve()}getCollectionParents(e,n){let i=[],r=IDBKeyRange.bound([n,""],[aO(n),""],!1,!0);return VN(e).W(r).next(o=>{for(let s of o){if(s.collectionId!==n)break;i.push(Gi(s.parent))}return i})}addFieldIndex(e,n){let i=wd(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete r.indexId;let o=i.add(r);if(n.indexState){let s=Mc(e);return o.next(a=>{s.put(PN(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let i=wd(e),r=Mc(e),o=Rc(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=wd(e),i=Rc(e),r=Mc(e);return n.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,n){return D.forEach(this.cn(n),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let o=new vg(i).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let i=Rc(e),r=!0,o=new Map;return D.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=fe(),a=[];return D.forEach(o,(c,l)=>{N("IndexedDbIndexManager",`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(R=>`${R.fieldPath}:${R.kind}`).join(",")}`}(c)} to execute ${Vs(n)}`);let u=function(M,R){let G=CE(R);if(G===void 0)return null;for(let ee of ug(M,G.fieldPath))switch(ee.op){case"array-contains-any":return ee.value.arrayValue.values||[];case"array-contains":return[ee.value]}return null}(l,c),f=function(M,R){let G=new Map;for(let ee of Ss(R))for(let Ce of ug(M,ee.fieldPath))switch(Ce.op){case"==":case"in":G.set(ee.fieldPath.canonicalString(),Ce.value);break;case"not-in":case"!=":return G.set(ee.fieldPath.canonicalString(),Ce.value),Array.from(G.values())}return null}(l,c),m=function(M,R){let G=[],ee=!0;for(let Ce of Ss(R)){let et=Ce.kind===0?yN(M,Ce.fieldPath,M.startAt):vN(M,Ce.fieldPath,M.startAt);G.push(et.value),ee&&(ee=et.inclusive)}return new Xi(G,ee)}(l,c),g=function(M,R){let G=[],ee=!0;for(let Ce of Ss(R)){let et=Ce.kind===0?vN(M,Ce.fieldPath,M.endAt):yN(M,Ce.fieldPath,M.endAt);G.push(et.value),ee&&(ee=et.inclusive)}return new Xi(G,ee)}(l,c),b=this.hn(c,l,m),I=this.hn(c,l,g),E=this.Pn(c,l,f),A=this.In(c.indexId,u,b,m.inclusive,I,g.inclusive,E);return D.forEach(A,B=>i.j(B,n.limit).next(M=>{M.forEach(R=>{let G=U.fromSegments(R.documentKey);s.has(G)||(s=s.add(G),a.push(G))})}))}).next(()=>a)}return D.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=HK(Ue.create(e.filters,"and")).map(i=>$E(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,i,r,o,s,a){let c=(n!=null?n.length:1)*Math.max(i.length,o.length),l=c/(n!=null?n.length:1),u=[];for(let f=0;f<c;++f){let m=n?this.Tn(n[f/l]):zm,g=this.En(e,m,i[f%l],r),b=this.dn(e,m,o[f%l],s),I=a.map(E=>this.En(e,m,E,!0));u.push(...this.createRange(g,b,I))}return u}En(e,n,i,r){let o=new Ps(e,U.empty(),n,i);return r?o:o.Jt()}dn(e,n,i,r){let o=new Ps(e,U.empty(),n,i);return r?o.Jt():o}ln(e,n){let i=new vg(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(let a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let i=2,r=this.cn(n);return D.forEach(r,o=>this.ln(e,o).next(s=>{s?i!==0&&s.fields.length<function(c){let l=new qe(ht.comparator),u=!1;for(let f of c.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?u=!0:l=l.add(m.field));for(let f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>function(s){return s.limit!==null}(n)&&r.length>1&&i===2?1:i)}An(e,n){let i=new Ms;for(let r of Ss(e)){let o=n.data.field(r.fieldPath);if(o==null)return null;let s=i.Ht(r.kind);Ir.bt.Pt(o,s)}return i.Wt()}Tn(e){let n=new Ms;return Ir.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let i=new Ms;return Ir.bt.Pt(Fs(this.databaseId,n),i.Ht(function(o){let s=Ss(o);return s.length===0?0:s[s.length-1].kind}(e))),i.Wt()}Pn(e,n,i){if(i===null)return[];let r=[];r.push(new Ms);let o=0;for(let s of Ss(e)){let a=i[o++];for(let c of r)if(this.Vn(n,s.fieldPath)&&Od(a))r=this.mn(r,s,a);else{let l=c.Ht(s.kind);Ir.bt.Pt(a,l)}}return this.fn(r)}hn(e,n,i){return this.Pn(e,n,i.position)}fn(e){let n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Wt();return n}mn(e,n,i){let r=[...e],o=[];for(let s of i.arrayValue.values||[])for(let a of r){let c=new Ms;c.seed(a.Wt()),Ir.bt.Pt(s,c.Ht(n.kind)),o.push(c)}return o}Vn(e,n){return!!e.filters.find(i=>i instanceof De&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){let i=wd(e),r=Mc(e);return(n?i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.W()).next(o=>{let s=[];return D.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(u,f){let m=f?new Rd(f.sequenceNumber,new zn(Us(f.readTime),new U(Gi(f.documentKey)),f.largestBatchId)):Rd.empty(),g=u.fields.map(([b,I])=>new jc(ht.fromServerFormat(b),I));return new Hc(u.indexId,u.collectionGroup,g,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{let o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:de(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){let r=wd(e),o=Mc(e);return this.gn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>D.forEach(a,c=>o.put(PN(c.indexId,this.uid,s,i)))))}updateIndexEntries(e,n){let i=new Map;return D.forEach(n,(r,o)=>{let s=i.get(r.collectionGroup);return(s?D.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),D.forEach(a,c=>this.pn(e,r,c).next(l=>{let u=this.yn(o,c);return l.isEqual(u)?D.resolve():this.wn(e,o,c,l,u)}))))})}Sn(e,n,i,r){return Rc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(i,n.key),documentKey:n.key.path.toArray()})}bn(e,n,i,r){return Rc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(i,n.key),n.key.path.toArray()])}pn(e,n,i){let r=Rc(e),o=new qe(go);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Rn(i,n)])},(s,a)=>{o=o.add(new Ps(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let i=new qe(go),r=this.An(n,e);if(r==null)return i;let o=CE(n);if(o!=null){let s=e.data.field(o.fieldPath);if(Od(s))for(let a of s.arrayValue.values||[])i=i.add(new Ps(n.indexId,e.key,this.Tn(a),r))}else i=i.add(new Ps(n.indexId,e.key,zm,r));return i}wn(e,n,i,r,o){N("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(c,l,u,f,m){let g=c.getIterator(),b=l.getIterator(),I=xc(g),E=xc(b);for(;I||E;){let A=!1,B=!1;if(I&&E){let M=u(I,E);M<0?B=!0:M>0&&(A=!0)}else I!=null?B=!0:A=!0;A?(f(E),E=xc(b)):B?(m(I),I=xc(g)):(I=xc(g),E=xc(b))}}(r,o,go,a=>{s.push(this.Sn(e,n,i,a))},a=>{s.push(this.bn(e,n,i,a))}),D.waitFor(s)}gn(e){let n=1;return Mc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((s,a)=>go(s,a)).filter((s,a,c)=>!a||go(s,c[a-1])!==0);let r=[];r.push(e);for(let s of i){let a=go(s,e),c=go(s,n);if(a===0)r[0]=e.Jt();else if(a>0&&c<0)r.push(s),r.push(s.Jt());else if(c>0)break}r.push(n);let o=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,zm,[]],c=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,zm,[]];o.push(IDBKeyRange.bound(a,c))}return o}Dn(e,n){return go(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(jN)}getMinOffset(e,n){return D.mapArray(this.cn(n),i=>this.ln(e,i).next(r=>r||q())).next(jN)}};function VN(t){return Pt(t,"collectionParents")}function Rc(t){return Pt(t,"indexEntries")}function wd(t){return Pt(t,"indexConfiguration")}function Mc(t){return Pt(t,"indexState")}function jN(t){X(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){let r=t[i].indexState.offset;yD(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new zn(e.readTime,e.documentKey,n)}var BN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$n=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function oF(t,e,n){let i=t.store("mutations"),r=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=i.Y({range:s},(u,f,m)=>(a++,m.delete()));o.push(c.next(()=>{X(a===1)}));let l=[];for(let u of n.mutations){let f=hO(e,u.key.path,n.batchId);o.push(r.delete(f)),l.push(u.key)}return D.waitFor(o).next(()=>l)}function wg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw q();e=t.noDocument}return JSON.stringify(e).length}$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(41943040,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);var bg=class t{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Cn={}}static lt(e,n,i,r){X(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,i,r)}checkEmpty(e){let n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yo(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,i,r){let o=Lc(e),s=yo(e);return s.add({}).next(a=>{X(typeof a=="number");let c=new Ld(a,n,i,r),l=function(g,b,I){let E=I.baseMutations.map(B=>$d(g.ct,B)),A=I.mutations.map(B=>$d(g.ct,B));return{userId:b,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:E,mutations:A}}(this.serializer,this.userId,c),u=[],f=new qe((m,g)=>de(m.canonicalString(),g.canonicalString()));for(let m of r){let g=hO(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),u.push(s.put(l)),u.push(o.put(g,Q7))}return f.forEach(m=>{u.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),D.waitFor(u).next(()=>c)})}lookupMutationBatch(e,n){return yo(e).get(n).next(i=>i?(X(i.userId===this.userId),Rs(this.serializer,i)):null)}vn(e,n){return this.Cn[n]?D.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){let r=i.keys();return this.Cn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return yo(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(X(a.batchId>=i),o=Rs(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return yo(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yo(e).W("userMutationsIndex",n).next(i=>i.map(r=>Rs(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){let i=Km(this.userId,n.path),r=IDBKeyRange.lowerBound(i),o=[];return Lc(e).Y({range:r},(s,a,c)=>{let[l,u,f]=s,m=Gi(u);if(l===this.userId&&n.path.isEqual(m))return yo(e).get(f).next(g=>{if(!g)throw q();X(g.userId===this.userId),o.push(Rs(this.serializer,g))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new qe(de),r=[];return n.forEach(o=>{let s=Km(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Lc(e).Y({range:a},(l,u,f)=>{let[m,g,b]=l,I=Gi(g);m===this.userId&&o.path.isEqual(I)?i=i.add(b):f.done()});r.push(c)}),D.waitFor(r).next(()=>this.Fn(e,i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=Km(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new qe(de);return Lc(e).Y({range:s},(c,l,u)=>{let[f,m,g]=c,b=Gi(m);f===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(g)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let i=[],r=[];return n.forEach(o=>{r.push(yo(e).get(o).next(s=>{if(s===null)throw q();X(s.userId===this.userId),i.push(Rs(this.serializer,s))}))}),D.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return oF(e.ae,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),D.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return D.resolve();let i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return Lc(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){let c=Gi(o[1]);r.push(c)}else a.done()}).next(()=>{X(r.length===0)})})}containsKey(e,n){return sF(e,this.userId,n)}xn(e){return aF(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function sF(t,e,n){let i=Km(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Lc(t).Y({range:o,J:!0},(a,c,l)=>{let[u,f,m]=a;u===e&&f===r&&(s=!0),l.done()}).next(()=>s)}function yo(t){return Pt(t,"mutations")}function Lc(t){return Pt(t,"documentMutations")}function aF(t){return Pt(t,"mutationQueues")}var Qc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var lI=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let i=new Qc(n.highestTargetId);return n.highestTargetId=i.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>J.fromTimestamp(new it(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.kn(e,r)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.Qn(n,i),this.kn(e,i))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Pc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(i=>(X(i.targetCount>0),i.targetCount-=1,this.kn(e,i)))}removeTargets(e,n,i){let r=0,o=[];return Pc(e).Y((s,a)=>{let c=Dd(a);c.sequenceNumber<=n&&i.get(c.targetId)===null&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>D.waitFor(o)).next(()=>r)}forEachTarget(e,n){return Pc(e).Y((i,r)=>{let o=Dd(r);n(o)})}Bn(e){return UN(e).get("targetGlobalKey").next(n=>(X(n!==null),n))}kn(e,n){return UN(e).put("targetGlobalKey",n)}qn(e,n){return Pc(e).put(nF(this.serializer,n))}Qn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let i=Vs(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return Pc(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{let l=Dd(a);Jd(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,i){let r=[],o=vo(e);return n.forEach(s=>{let a=tn(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),D.waitFor(r)}removeMatchingKeys(e,n,i){let r=vo(e);return D.forEach(n,o=>{let s=tn(o.path);return D.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,n){let i=vo(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){let i=IDBKeyRange.bound([n],[n+1],!1,!0),r=vo(e),o=fe();return r.Y({range:i,J:!0},(s,a,c)=>{let l=Gi(s[1]),u=new U(l);o=o.add(u)}).next(()=>o)}containsKey(e,n){let i=tn(n.path),r=IDBKeyRange.bound([i],[aO(i)],!1,!0),o=0;return vo(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return Pc(e).get(n).next(i=>i?Dd(i):null)}};function Pc(t){return Pt(t,"targets")}function UN(t){return Pt(t,"targetGlobal")}function vo(t){return Pt(t,"targetDocuments")}function $N([t,e],[n,i]){let r=de(t,n);return r===0?de(e,i):r}var uI=class{constructor(e){this.Kn=e,this.buffer=new qe($N),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let i=this.buffer.last();$N(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}},dI=class{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){N("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>T(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?N("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Po(n)}yield this.zn(3e5)}))}},hI=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return D.resolve(Cn._e);let i=new uI(n);return this.jn.forEachTarget(e,r=>i.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(e,r=>i.Wn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(N("LruGarbageCollector","Garbage collection skipped; disabled"),D.resolve(BN)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(N("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BN):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let i,r,o,s,a,c,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(N("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(l=Date.now(),kc()<=mi.DEBUG&&N("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),D.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}};function zK(t,e){return new hI(t,e)}var fI=class{constructor(e,n){this.db=e,this.garbageCollector=zK(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Zn(e){let n=0;return this.Jn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(i,r)=>n(r))}addReference(e,n,i){return qm(e,i)}removeReference(e,n,i){return qm(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return qm(e,n)}er(e,n){return function(r,o){let s=!1;return aF(r).Z(a=>sF(r,a,o).next(c=>(c&&(s=!0),D.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.Xn(e,(s,a)=>{if(a<=n){let c=this.er(e,s).next(l=>{if(!l)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,J.min()),vo(e).delete(function(f){return[0,tn(f.path)]}(s))))});r.push(c)}}).next(()=>D.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,n){let i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return qm(e,n)}Xn(e,n){let i=vo(e),r,o=Cn._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{s===0?(o!==Cn._e&&n(new U(Gi(r)),o),o=l,r=c):o=Cn._e}).next(()=>{o!==Cn._e&&n(new U(Gi(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function qm(t,e){return vo(t).put(function(i,r){return{targetId:0,path:tn(i.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}var Eg=class{constructor(){this.changes=new Ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?D.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var pI=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return As(e).put(i)}removeEntry(e,n,i){return As(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],gg(s),a[a.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.tr(e,i)))}getEntry(e,n){let i=_t.newInvalidDocument(n);return As(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(bd(n))},(r,o)=>{i=this.nr(n,o)}).next(()=>i)}rr(e,n){let i={size:0,document:_t.newInvalidDocument(n)};return As(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(bd(n))},(r,o)=>{i={document:this.nr(n,o),size:wg(o)}}).next(()=>i)}getEntries(e,n){let i=mn();return this.ir(e,n,(r,o)=>{let s=this.nr(r,o);i=i.insert(r,s)}).next(()=>i)}sr(e,n){let i=mn(),r=new Qe(U.comparator);return this.ir(e,n,(o,s)=>{let a=this.nr(o,s);i=i.insert(o,a),r=r.insert(o,wg(s))}).next(()=>({documents:i,_r:r}))}ir(e,n,i){if(n.isEmpty())return D.resolve();let r=new qe(qN);n.forEach(c=>r=r.add(c));let o=IDBKeyRange.bound(bd(r.first()),bd(r.last())),s=r.getIterator(),a=s.getNext();return As(e).Y({index:"documentKeyIndex",range:o},(c,l,u)=>{let f=U.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&qN(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?u.U(bd(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,i,r,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),gg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return As(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let u=mn();for(let f of l){let m=this.nr(U.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(th(n,m)||r.has(m.key))&&(u=u.insert(m.key,m))}return u})}getAllFromCollectionGroup(e,n,i,r){let o=mn(),s=zN(n,i),a=zN(n,zn.max());return As(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{let f=this.nr(U.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new mI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return HN(e).get("remoteDocumentGlobalKey").next(n=>(X(!!n),n))}tr(e,n){return HN(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let i=UK(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(J.min())))return i}return _t.newInvalidDocument(e)}};function cF(t){return new pI(t)}var mI=class extends Eg{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Ji(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let n=[],i=0,r=new qe((o,s)=>de(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=RN(this.ar.serializer,s);r=r.add(o.path.popLast());let l=wg(c);i+=l-a.size,n.push(this.ar.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){let c=RN(this.ar.serializer,s.convertToNoDocument(J.min()));n.push(this.ar.addEntry(e,o,c))}}),r.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,i)),D.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(i=>(this.ur.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:i,_r:r})=>(r.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:i.get(o).readTime})}),i))}};function HN(t){return Pt(t,"remoteDocumentGlobal")}function As(t){return Pt(t,"remoteDocumentsV14")}function bd(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zN(t,e){let n=e.documentKey.path.toArray();return[t,gg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function qN(t,e){let n=t.path.toArray(),i=e.path.toArray(),r=0;for(let o=0;o<n.length-2&&o<i.length-2;++o)if(r=de(n[o],i[o]),r)return r;return r=de(n.length,i.length),r||(r=de(n[n.length-2],i[i.length-2]),r||de(n[n.length-1],i[i.length-1]))}var gI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ig=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ad(i.mutation,r,Tn.empty(),it.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,fe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=fe()){let r=Wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=Id();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,fe()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=mn(),s=Td(),a=function(){return Td()}();return n.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof ci)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),Ad(u.mutation,l,u.mutation.getFieldMask(),it.now())):s.set(l.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var f;return a.set(l,new gI(u,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let i=Td(),r=new Qe((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=i.get(c)||Tn.empty();u=a.applyToLocalView(l,u),i.set(c,u);let f=(r.get(a.batchId)||fe()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,f=MO();u.forEach(m=>{if(!o.has(m)){let g=jO(n.get(m),i.get(m));g!==null&&f.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return D.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return U.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):D.resolve(Wi()),a=-1,c=o;return s.next(l=>D.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?D.resolve():this.remoteDocumentCache.getEntry(e,u).next(m=>{c=c.insert(u,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,fe())).next(u=>({batchId:a,changes:RO(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(i=>{let r=Id();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=Id();return this.indexManager.getCollectionParents(e,o).next(a=>D.forEach(a,c=>{let l=function(f,m){return new ai(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,_t.newInvalidDocument(u)))});let a=Id();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&Ad(u.mutation,l,Tn.empty(),it.now()),th(n,l)&&(a=a.insert(c,l))}),a})}};var yI=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return D.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ft(r.createTime)}}(n)),D.resolve()}getNamedQuery(e,n){return D.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:DD(r.bundledQuery),readTime:ft(r.readTime)}}(n)),D.resolve()}};var vI=class{constructor(){this.overlays=new Qe(U.comparator),this.hr=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Wi();return D.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),D.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),D.resolve()}getOverlaysForCollection(e,n,i){let r=Wi(),o=n.length+1,s=new U(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return D.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Qe((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let u=o.get(l.largestBatchId);u===null&&(u=Wi(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Wi(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return D.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new Vd(n,i));let o=this.hr.get(n);o===void 0&&(o=fe(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var zd=class{constructor(){this.Pr=new qe(gt.Ir),this.Tr=new qe(gt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new gt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new gt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new U(new xe([])),i=new gt(n,e),r=new gt(n,e+1),o=[];return this.Tr.forEachInRange([i,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new U(new xe([])),i=new gt(n,e),r=new gt(n,e+1),o=fe();return this.Tr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new gt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},gt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return U.comparator(e.key,n.key)||de(e.pr,n.pr)}static Er(e,n){return de(e.pr,n.pr)||U.comparator(e.key,n.key)}};var _I=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new qe(gt.Ir)}checkEmpty(e){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ld(o,n,i,r);this.mutationQueue.push(s);for(let a of r)this.wr=this.wr.add(new gt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(s)}lookupMutationBatch(e,n){return D.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return D.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new gt(n,0),r=new gt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],s=>{let a=this.Sr(s.pr);o.push(a)}),D.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new qe(de);return n.forEach(r=>{let o=new gt(r,0),s=new gt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{i=i.add(a.pr)})}),D.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;U.isDocumentKey(o)||(o=o.child(""));let s=new gt(new U(o),0),a=new qe(de);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},s),D.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){X(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return D.forEach(n.mutations,r=>{let o=new gt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new gt(n,0),r=this.wr.firstAfterOrEqual(i);return D.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,D.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var wI=class{constructor(e){this.vr=e,this.docs=function(){return new Qe(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return D.resolve(i?i.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let i=mn();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():_t.newInvalidDocument(r))}),D.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=mn(),s=n.path,a=new U(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||yD(lO(u),i)<=0||(r.has(u.key)||th(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return D.resolve(o)}getAllFromCollectionGroup(e,n,i,r){q()}Fr(e,n){return D.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new bI(this)}getSize(e){return D.resolve(this.size)}},bI=class extends Eg{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),D.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var EI=class{constructor(e){this.persistence=e,this.Mr=new Ji(n=>Vs(n),Jd),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Or=0,this.Nr=new zd,this.targetCount=0,this.Lr=Qc.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),D.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Qc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.qn(n),D.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),D.waitFor(o).next(()=>r)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return D.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),D.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),D.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),D.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return D.resolve(i)}containsKey(e,n){return D.resolve(this.Nr.containsKey(n))}};var Dg=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new Cn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new EI(this),this.indexManager=new aI,this.remoteDocumentCache=function(r){return new wI(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new mg(n),this.$r=new yI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new _I(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){N("MemoryPersistence","Starting transaction:",e);let r=new II(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return D.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},II=class extends ig{constructor(e){super(),this.currentSequenceNumber=e}},Cg=class t{constructor(e){this.persistence=e,this.zr=new zd,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw q()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),D.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),D.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Jr,i=>{let r=U.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,J.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return D.or([()=>D.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var DI=class{constructor(e){this.serializer=e}N(e,n,i,r){let o=new rg("createOrUpgrade",n);i<1&&r>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cN,{unique:!0}),c.createObjectStore("documentMutations")}(e),GN(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=D.resolve();return i<3&&r>=3&&(i!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),GN(e)),s=s.next(()=>function(c){let l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:J.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cN,{unique:!0});let f=l.store("mutations"),m=u.map(g=>f.put(g));return D.waitFor(m)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(s=s.next(()=>this.Xr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),i<7&&r>=7&&(s=s.next(()=>this.ti(o))),i<8&&r>=8&&(s=s.next(()=>this.ni(e,o))),i<9&&r>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(s=s.next(()=>this.ri(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:cK});l.createIndex("collectionPathOverlayIndex",lK,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",uK,{unique:!1})})(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:Z7});l.createIndex("documentKeyIndex",X7),l.createIndex("collectionGroupIndex",J7)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:rK}).createIndex("sequenceNumberIndex",oK,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:sK}).createIndex("documentKeyIndex",aK,{unique:!1})}(e))),s}ei(e){let n=0;return e.store("remoteDocuments").Y((i,r)=>{n+=wg(r)}).next(()=>{let i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Xr(e){let n=e.store("mutationQueues"),i=e.store("mutations");return n.W().next(r=>D.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>D.forEach(a,c=>{X(c.userId===o.userId);let l=Rs(this.serializer,c);return oF(e,o.userId,l).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return i.Y((s,a)=>{let c=new xe(s),l=function(f){return[0,tn(f)]}(c);o.push(n.get(l).next(u=>u?D.resolve():(f=>n.put({targetId:0,path:tn(f),sequenceNumber:r.highestListenSequenceNumber}))(c)))}).next(()=>D.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:iK});let i=n.store("collectionParents"),r=new Hd,o=s=>{if(r.add(s)){let a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:tn(c)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{let c=new xe(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,c],l)=>{let u=Gi(a);return o(u.popLast())}))}ri(e){let n=e.store("targets");return n.Y((i,r)=>{let o=Dd(r),s=nF(this.serializer,o);return n.put(s)})}ii(e,n){let i=n.store("remoteDocuments"),r=[];return i.Y((o,s)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new U(xe.fromString(f.document.name).popFirst(5)):f.noDocument?U.fromSegments(f.noDocument.path):f.unknownDocument?U.fromSegments(f.unknownDocument.path):q()}(s).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(l))}).next(()=>D.waitFor(r))}si(e,n){let i=n.store("mutations"),r=cF(this.serializer),o=new Dg(Cg.Hr,this.serializer.ct);return i.W().next(s=>{let a=new Map;return s.forEach(c=>{var l;let u=(l=a.get(c.userId))!==null&&l!==void 0?l:fe();Rs(this.serializer,c).keys().forEach(f=>u=u.add(f)),a.set(c.userId,u)}),D.forEach(a,(c,l)=>{let u=new yt(l),f=yg.lt(this.serializer,u),m=o.getIndexManager(u),g=bg.lt(u,this.serializer,m,o.referenceDelegate);return new Ig(r,g,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Pd(n,Cn._e),c).next()})})}};function GN(t){t.createObjectStore("targetDocuments",{keyPath:tK}).createIndex("documentTargetsIndex",nK,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",eK,{unique:!0}),t.createObjectStore("targetGlobal")}var mE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",CI=class t{constructor(e,n,i,r,o,s,a,c,l,u,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.oi=o,this.window=s,this.document=a,this._i=l,this.ai=u,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=m=>Promise.resolve(),!t.D())throw new P(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fI(this,r),this.Ti=n+"main",this.serializer=new mg(c),this.Ei=new Cr(this.Ti,this.ui,new DI(this.serializer)),this.Qr=new lI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=cF(this.serializer),this.$r=new eI,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new P(C.FAILED_PRECONDITION,mE);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Cn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>T(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(n=>T(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>T(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(ko(e))return N("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return N("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Ed(e).get("owner").next(n=>D.resolve(this.Si(n)))}bi(e){return Gm(e).delete(this.clientId)}Di(){return T(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let i=Pt(n,"clientMetadata");return i.W().next(r=>{let o=this.vi(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return D.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?D.resolve(!0):Ed(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new P(C.FAILED_PRECONDITION,mE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gm(e).W().next(i=>this.vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&N("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return T(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Pd(e,Cn._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(i=>this.Ci(i.updateTimeMs,n)&&!this.Mi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Gm(e).W().next(n=>this.vi(n,18e5).map(i=>i.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return bg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cI(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return yg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,i){N("IndexedDbPersistence","Starting transaction:",e);let r=n==="readonly"?"readonly":"readwrite",o=function(c){return c===15?hK:c===14?mO:c===13?pO:c===12?dK:c===11?fO:void q()}(this.ui),s;return this.Ei.runTransaction(e,r,o,a=>(s=new Pd(a,this.kr?this.kr.next():Cn._e),n==="readwrite-primary"?this.gi(s).next(c=>!!c||this.pi(s)).next(c=>{if(!c)throw dt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new P(C.FAILED_PRECONDITION,uO);return i(s)}).next(c=>this.wi(s).next(()=>c)):this.ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return Ed(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new P(C.FAILED_PRECONDITION,mE)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ed(e).put("owner",n)}static D(){return Cr.D()}yi(e){let n=Ed(e);return n.get("owner").next(i=>this.Si(i)?(N("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):D.resolve())}Ci(e,n){let i=Date.now();return!(e<i-n)&&(!(e>i)||(dt(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;xy()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let i=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return N("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return dt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){dt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Ed(t){return Pt(t,"owner")}function Gm(t){return Pt(t,"clientMetadata")}function TD(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var TI=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=fe(),r=fe();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var AI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Tg=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return xy()?8:Cr.v(wl())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new AI;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(kc()<=mi.DEBUG&&N("QueryEngine","SDK will not create cache indexes for query:",Nc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),D.resolve()):(kc()<=mi.DEBUG&&N("QueryEngine","Query:",Nc(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(kc()<=mi.DEBUG&&N("QueryEngine","The SDK decides to create cache indexes for query:",Nc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nn(n))):D.resolve())}ji(e,n){if(_N(n))return D.resolve(null);let i=nn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=dg(n,null,"F"),i=nn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=fe(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,s,c.readTime)?this.ji(e,dg(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,i,r){return _N(n)||r.isEqual(J.min())?D.resolve(null):this.zi.getDocuments(e,i).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,i,r)?D.resolve(null):(kc()<=mi.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nc(n)),this.es(e,s,n,cO(r,-1)).next(a=>a))})}Zi(e,n){let i=new qe(SO(e));return n.forEach((r,o)=>{th(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return kc()<=mi.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",Nc(n)),this.zi.getDocumentsMatchingQuery(e,n,zn.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var SI=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Qe(de),this.rs=new Ji(o=>Vs(o),Jd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ig(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function lF(t,e,n,i){return new SI(t,e,n,i)}function uF(t,e){return T(this,null,function*(){let n=$(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=fe();for(let l of r){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(i,c).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})})}function qK(t,e){let n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let f=l.batch,m=f.keys(),g=D.resolve();return m.forEach(b=>{g=g.next(()=>u.getEntry(c,b)).next(I=>{let E=l.docVersions.get(b);X(E!==null),I.version.compareTo(E)<0&&(f.applyToRemoteDocument(I,l),I.isValidDocument()&&(I.setReadTime(l.commitVersion),u.addEntry(I)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function dF(t){let e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function GK(t,e){let n=$(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((u,f)=>{let m=r.get(f);if(!m)return;a.push(n.Qr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,u.addedDocuments,f)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Mt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,i)),r=r.insert(f,g),function(I,E,A){return I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(m,g,u)&&a.push(n.Qr.updateTargetData(o,g))});let c=mn(),l=fe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(hF(o,s,e.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!i.isEqual(J.min())){let u=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return D.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ns=r,o))}function hF(t,e,n){let i=fe(),r=fe();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=mn();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(J.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):N("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:s,ls:r}})}function WK(t,e){let n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Zc(t,e){let n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,D.resolve(r)):n.Qr.allocateTargetId(i).next(s=>(r=new Yc(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function Xc(t,e,n){return T(this,null,function*(){let i=$(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!ko(s))throw s;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function Ag(t,e,n){let i=$(t),r=J.min(),o=fe();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let f=$(c),m=f.rs.get(u);return m!==void 0?D.resolve(f.ns.get(m)):f.Qr.getTargetData(l,u)}(i,s,nn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ts.getDocumentsMatchingQuery(s,e,n?r:J.min(),n?o:fe())).next(a=>(mF(i,AO(e),a),{documents:a,hs:o})))}function fF(t,e){let n=$(t),i=$(n.Qr),r=n.ns.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function pF(t,e){let n=$(t),i=n.ss.get(e)||J.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.os.getAllFromCollectionGroup(r,e,cO(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(mF(n,e,r),r))}function mF(t,e,n){let i=t.ss.get(e)||J.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}function KK(t,e,n,i){return T(this,null,function*(){let r=$(t),o=fe(),s=mn();for(let l of n){let u=e.Ps(l.metadata.name);l.document&&(o=o.add(u));let f=e.Is(l);f.setReadTime(e.Ts(l.metadata.readTime)),s=s.insert(u,f)}let a=r.os.newChangeBuffer({trackRemovals:!0}),c=yield Zc(r,function(u){return nn(sl(xe.fromString(`__bundle__/docs/${u}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>hF(l,a,s).next(u=>(a.apply(l),u)).next(u=>r.Qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.Qr.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,u.cs,u.ls)).next(()=>u.cs)))})}function YK(i,r){return T(this,arguments,function*(t,e,n=fe()){let o=yield Zc(t,nn(DD(e.bundledQuery))),s=$(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=ft(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.$r.saveNamedQuery(a,e);let l=o.withResumeToken(Mt.EMPTY_BYTE_STRING,c);return s.ns=s.ns.insert(l.targetId,l),s.Qr.updateTargetData(a,l).next(()=>s.Qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Qr.addMatchingKeys(a,n,o.targetId)).next(()=>s.$r.saveNamedQuery(a,e))})})}function WN(t,e){return`firestore_clients_${t}_${e}`}function KN(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function gE(t,e){return`firestore_targets_${t}_${e}`}var Sg=class t{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static Es(e,n,i){let r=JSON.parse(i),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new P(r.error.code,r.error.message))),s?new t(e,n,r.state,o):(dt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Sd=class t{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static Es(e,n){let i=JSON.parse(n),r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new P(i.error.code,i.error.message))),o?new t(e,i.state,r):(dt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},xg=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=ED();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=dO(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(dt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},xI=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(dt("SharedClientState",`Failed to parse online state: ${e}`),null)}},qd=class{constructor(){this.activeTargetIds=ED()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},xd=class{constructor(e,n,i,r,o){this.window=e,this.oi=n,this.persistenceKey=i,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Qe(de),this.started=!1,this.ys=[];let s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=WN(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new qd),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return T(this,null,function*(){let e=yield this.syncEngine.Bi();for(let i of e){if(i===this.Vs)continue;let r=this.getItem(WN(this.persistenceKey,i));if(r){let o=xg.Es(i,r);o&&(this.ps=this.ps.insert(o.clientId,o))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let i=this.xs(n);i&&this.Os(i)}for(let i of this.ys)this.gs(i);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,i){this.Ls(e,n,i),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(gE(this.persistenceKey,e));if(i){let r=Sd.Es(e,i);r&&(n=r.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gE(this.persistenceKey,e))}updateQueryState(e,n,i){this.qs(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return N("SharedClientState","READ",e,n),n}setItem(e,n){N("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){N("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(N("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>T(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let i=this.$s(n.key);return this.Us(i,null)}{let i=this.Ws(n.key,n.newValue);if(i)return this.Us(i.clientId,i)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let i=this.Gs(n.key,n.newValue);if(i)return this.zs(i)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let i=this.js(n.key,n.newValue);if(i)return this.Hs(i)}}else if(n.key===this.vs){if(n.newValue!==null){let i=this.xs(n.newValue);if(i)return this.Os(i)}}else if(n.key===this.Ss){let i=function(o){let s=Cn._e;if(o!=null)try{let a=JSON.parse(o);X(typeof a=="number"),s=a}catch(a){dt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);i!==Cn._e&&this.sequenceNumberHandler(i)}else if(n.key===this.Fs){let i=this.Js(n.newValue);yield Promise.all(i.map(r=>this.syncEngine.Ys(r)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,i){let r=new Sg(this.currentUser,e,n,i),o=KN(this.persistenceKey,this.currentUser,e);this.setItem(o,r.ds())}Bs(e){let n=KN(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,i){let r=gE(this.persistenceKey,e),o=new Sd(e,n,i);this.setItem(r,o.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let i=this.$s(e);return xg.Es(i,n)}Gs(e,n){let i=this.Ds.exec(e),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return Sg.Es(new yt(o),r,n)}js(e,n){let i=this.Cs.exec(e),r=Number(i[1]);return Sd.Es(r,n)}xs(e){return xI.Es(e)}Js(e){return JSON.parse(e)}zs(e){return T(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);N("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let i=n?this.ps.insert(e,n):this.ps.remove(e),r=this.Ns(this.ps),o=this.Ns(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.eo(s,a).then(()=>{this.ps=i})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=ED();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}},Rg=class{constructor(){this.no=new qd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new qd,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var RI=class{io(e){}shutdown(){}};var Mg=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Wm=null;function yE(){return Wm===null?Wm=function(){return 268435456+Math.round(2147483648*Math.random())}():Wm++,"0x"+Wm.toString(16)}var QK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var MI=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var zt="WebChannelConnection",PI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(n,i,r,o,s){let a=yE(),c=this.bo(n,i.toUriEncodedString());N("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,o,s),this.Co(n,c,l,r).then(u=>(N("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Hn("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}vo(n,i,r,o,s,a){return this.So(n,i,r,o,s)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}bo(n,i){let r=QK[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let o=yE();return new Promise((s,a)=>{let c=new iN;c.setWithCredentials(!0),c.listenOnce(tN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Hm.NO_ERROR:let u=c.getResponseJson();N(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Hm.TIMEOUT:N(zt,`RPC '${e}' ${o} timed out`),a(new P(C.DEADLINE_EXCEEDED,"Request time out"));break;case Hm.HTTP_ERROR:let f=c.getStatus();if(N(zt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let b=function(E){let A=E.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(A)>=0?A:C.UNKNOWN}(g.status);a(new P(b,g.message))}else a(new P(C.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new P(C.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{N(zt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(r);N(zt,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",l,i,15)})}Fo(e,n,i){let r=yE(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Jk(),a=eN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let u=o.join("");N(zt,`Creating RPC '${e}' stream ${r}: ${u}`,c);let f=s.createWebChannel(u,c),m=!1,g=!1,b=new MI({lo:E=>{g?N(zt,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(m||(N(zt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),N(zt,`RPC '${e}' stream ${r} sending:`,E),f.send(E))},ho:()=>f.close()}),I=(E,A,B)=>{E.listen(A,M=>{try{B(M)}catch(R){setTimeout(()=>{throw R},0)}})};return I(f,vd.EventType.OPEN,()=>{g||N(zt,`RPC '${e}' stream ${r} transport opened.`)}),I(f,vd.EventType.CLOSE,()=>{g||(g=!0,N(zt,`RPC '${e}' stream ${r} transport closed`),b.Vo())}),I(f,vd.EventType.ERROR,E=>{g||(g=!0,Hn(zt,`RPC '${e}' stream ${r} transport errored:`,E),b.Vo(new P(C.UNAVAILABLE,"The operation could not be completed")))}),I(f,vd.EventType.MESSAGE,E=>{var A;if(!g){let B=E.data[0];X(!!B);let M=B,R=M.error||((A=M[0])===null||A===void 0?void 0:A.error);if(R){N(zt,`RPC '${e}' stream ${r} received error:`,R);let G=R.status,ee=function(di){let Js=mt[di];if(Js!==void 0)return $O(Js)}(G),Ce=R.message;ee===void 0&&(ee=C.INTERNAL,Ce="Unknown error status: "+G+" with message "+R.message),g=!0,b.Vo(new P(ee,Ce)),f.close()}else N(zt,`RPC '${e}' stream ${r} received:`,B),b.mo(B)}}),I(a,nN.STAT_EVENT,E=>{E.stat===fE.PROXY?N(zt,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===fE.NOPROXY&&N(zt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ro()},0),b}};function gF(){return typeof window<"u"?window:null}function Xm(){return typeof document<"u"?document:null}function nh(t){return new YE(t,!0)}var Gd=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&N("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Pg=class{constructor(e,n,i,r,o,s,a,c){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Gd(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return T(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return T(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return T(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(dt(n.toString()),dt("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new P(C.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>T(this,null,function*(){this.state=0,this.start()}))}__(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},kI=class extends Pg{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=NK(this.serializer,e),i=function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?ft(s.readTime):J.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=XE(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=lg(c)?{documents:QO(o,c)}:{query:ZO(o,c).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=zO(o,s.resumeToken);let l=QE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=Kc(o,s.snapshotVersion.toTimestamp());let l=QE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=FK(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=XE(this.serializer),n.removeTarget=e,this.t_(n)}},NI=class extends Pg{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(X(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=OK(e.writeResults,e.commitTime),i=ft(e.commitTime);return this.listener.T_(i,n)}return X(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=XE(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>$d(this.serializer,i))};this.t_(n)}};var OI=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new P(C.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,ZE(n,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new P(C.UNKNOWN,o.toString())})}vo(e,n,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,ZE(n,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new P(C.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var FI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(dt(n),this.g_=!1):N("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var LI=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{i.enqueueAndForget(()=>T(this,null,function*(){No(this)&&(N("RemoteStore","Restarting streams for network reachability change."),yield function(c){return T(this,null,function*(){let l=$(c);l.v_.add(4),yield al(l),l.x_.set("Unknown"),l.v_.delete(4),yield ih(l)})}(this))}))}),this.x_=new FI(i,r)}};function ih(t){return T(this,null,function*(){if(No(t))for(let e of t.F_)yield e(!0)})}function al(t){return T(this,null,function*(){for(let e of t.F_)yield e(!1)})}function Zg(t,e){let n=$(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),xD(n)?SD(n):ll(n).Jo()&&AD(n,e))}function Jc(t,e){let n=$(t),i=ll(n);n.C_.delete(e),i.Jo()&&yF(n,e),n.C_.size===0&&(i.Jo()?i.Xo():No(n)&&n.x_.set("Unknown"))}function AD(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ll(t).c_(e)}function yF(t,e){t.O_.Oe(e),ll(t).l_(e)}function SD(t){t.O_=new KE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ll(t).start(),t.x_.p_()}function xD(t){return No(t)&&!ll(t).Ho()&&t.C_.size>0}function No(t){return $(t).v_.size===0}function vF(t){t.O_=void 0}function ZK(t){return T(this,null,function*(){t.C_.forEach((e,n)=>{AD(t,e)})})}function XK(t,e){return T(this,null,function*(){vF(t),xD(t)?(t.x_.S_(e),SD(t)):t.x_.set("Unknown")})}function JK(t,e,n){return T(this,null,function*(){if(t.x_.set("Online"),e instanceof fg&&e.state===2&&e.cause)try{yield function(r,o){return T(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.C_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.C_.delete(a),r.O_.removeTarget(a))})}(t,e)}catch(i){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield kg(t,i)}else if(e instanceof Uc?t.O_.$e(e):e instanceof hg?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(J.min()))try{let i=yield dF(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let a=o.O_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.C_.get(l);u&&o.C_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.C_.get(c);if(!u)return;o.C_.set(c,u.withResumeToken(Mt.EMPTY_BYTE_STRING,u.snapshotVersion)),yF(o,c);let f=new Yc(u.target,c,l,u.sequenceNumber);AD(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){N("RemoteStore","Failed to raise snapshot:",i),yield kg(t,i)}})}function kg(t,e,n){return T(this,null,function*(){if(!ko(e))throw e;t.v_.add(1),yield al(t),t.x_.set("Offline"),n||(n=()=>dF(t.localStore)),t.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){N("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield ih(t)}))})}function _F(t,e){return e().catch(n=>kg(t,n,e))}function cl(t){return T(this,null,function*(){let e=$(t),n=Mo(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;eY(e);)try{let r=yield WK(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,tY(e,r)}catch(r){yield kg(e,r)}wF(e)&&bF(e)})}function eY(t){return No(t)&&t.D_.length<10}function tY(t,e){t.D_.push(e);let n=Mo(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function wF(t){return No(t)&&!Mo(t).Ho()&&t.D_.length>0}function bF(t){Mo(t).start()}function nY(t){return T(this,null,function*(){Mo(t).d_()})}function iY(t){return T(this,null,function*(){let e=Mo(t);for(let n of t.D_)e.I_(n.mutations)})}function rY(t,e,n){return T(this,null,function*(){let i=t.D_.shift(),r=qE.from(i,e,n);yield _F(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield cl(t)})}function oY(t,e){return T(this,null,function*(){e&&Mo(t).P_&&(yield function(i,r){return T(this,null,function*(){if(function(s){return UO(s)&&s!==C.ABORTED}(r.code)){let o=i.D_.shift();Mo(i).Zo(),yield _F(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield cl(i)}})}(t,e)),wF(t)&&bF(t)})}function YN(t,e){return T(this,null,function*(){let n=$(t);n.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");let i=No(n);n.v_.add(3),yield al(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield ih(n)})}function VI(t,e){return T(this,null,function*(){let n=$(t);e?(n.v_.delete(2),yield ih(n)):e||(n.v_.add(2),yield al(n),n.x_.set("Unknown"))})}function ll(t){return t.N_||(t.N_=function(n,i,r){let o=$(n);return o.R_(),new kI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:ZK.bind(null,t),To:XK.bind(null,t),u_:JK.bind(null,t)}),t.F_.push(e=>T(this,null,function*(){e?(t.N_.Zo(),xD(t)?SD(t):t.x_.set("Unknown")):(yield t.N_.stop(),vF(t))}))),t.N_}function Mo(t){return t.L_||(t.L_=function(n,i,r){let o=$(n);return o.R_(),new NI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:nY.bind(null,t),To:oY.bind(null,t),E_:iY.bind(null,t),T_:rY.bind(null,t)}),t.F_.push(e=>T(this,null,function*(){e?(t.L_.Zo(),yield cl(t)):(yield t.L_.stop(),t.D_.length>0&&(N("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var jI=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new P(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ul(t,e){if(dt("AsyncQueue",`${e}: ${t}`),ko(t))return new P(C.UNAVAILABLE,`${e}: ${t}`);throw t}var Ng=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||U.comparator(n.key,i.key):(n,i)=>U.comparator(n.key,i.key),this.keyedMap=Id(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Og=class{constructor(){this.B_=new Qe(U.comparator)}track(e){let n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):q():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}},el=class t{constructor(e,n,i,r,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Ng.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var BI=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},UI=class{constructor(){this.queries=new Ji(e=>TO(e),eh),this.onlineState="Unknown",this.W_=new Set}};function RD(t,e){return T(this,null,function*(){let n=$(t),i=3,r=e.query,o=n.queries.get(r);o?!o.K_()&&e.U_()&&(i=2):(o=new BI,i=e.U_()?0:1);try{switch(i){case 0:o.q_=yield n.onListen(r,!0);break;case 1:o.q_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(s){let a=ul(s,`Initialization of query '${Nc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&PD(n)})}function MD(t,e){return T(this,null,function*(){let n=$(t),i=e.query,r=3,o=n.queries.get(i);if(o){let s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?r=e.U_()?0:1:!o.K_()&&e.U_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function sY(t,e){let n=$(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let a of s.Q_)a.z_(r)&&(i=!0);s.q_=r}}i&&PD(n)}function aY(t,e,n){let i=$(t),r=i.queries.get(e);if(r)for(let o of r.Q_)o.onError(n);i.queries.delete(e)}function PD(t){t.W_.forEach(e=>{e.next()})}var $I,QN;(QN=$I||($I={})).j_="default",QN.Cache="cache";var Wd=class{constructor(e,n,i){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=i||{}}z_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new el(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let i=n!=="Offline";return(!this.options.ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==$I.Cache}};var HI=class{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}};var Fg=class{constructor(e){this.serializer=e}Ps(e){return Yi(this.serializer,e)}Is(e){return e.metadata.exists?YO(this.serializer,e.document,!1):_t.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ft(e)}},zI=class{constructor(e,n,i){this.ia=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=EF(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;let i=xe.fromString(e.na.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){let n=new Map,i=new Fg(this.serializer);for(let r of e)if(r.metadata.queries){let o=i.Ps(r.metadata.name);for(let s of r.metadata.queries){let a=(n.get(s)||fe()).add(o);n.set(s,a)}}return n}complete(){return T(this,null,function*(){let e=yield KK(this.localStore,new Fg(this.serializer),this.documents,this.ia.id),n=this.oa(this.documents);for(let i of this.queries)yield YK(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}})}};function EF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Lg=class{constructor(e){this.key=e}},Vg=class{constructor(e){this.key=e}},jg=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=fe(),this.mutatedKeys=fe(),this.ha=SO(e),this.Pa=new Ng(this.ha)}get Ia(){return this.ua}Ta(e,n){let i=n?n.Ea:new Og,r=n?n.Pa:this.Pa,o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,f)=>{let m=r.get(u),g=th(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),E=!1;m&&g?m.data.isEqual(g.data)?b!==I&&(i.track({type:3,doc:g}),E=!0):this.da(m,g)||(i.track({type:2,doc:g}),E=!0,(c&&this.ha(g,c)>0||l&&this.ha(g,l)<0)&&(a=!0)):!m&&g?(i.track({type:0,doc:g}),E=!0):m&&!g&&(i.track({type:1,doc:m}),E=!0,(c||l)&&(a=!0)),E&&(g?(s=s.add(g),o=I?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{Pa:s,Ea:i,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let s=e.Ea.k_();s.sort((u,f)=>function(g,b){let I=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return I(g)-I(b)}(u.type,f.type)||this.ha(u.doc,f.doc)),this.Aa(i),r=r!=null&&r;let a=n&&!r?this.Ra():[],c=this.la.size===0&&this.current&&!r?1:0,l=c!==this.ca;return this.ca=c,s.length!==0||l?{snapshot:new el(this.query,e.Pa,o,s,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Og,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=fe(),this.Pa.forEach(i=>{this.ma(i.key)&&(this.la=this.la.add(i.key))});let n=[];return e.forEach(i=>{this.la.has(i)||n.push(new Vg(i))}),this.la.forEach(i=>{e.has(i)||n.push(new Lg(i))}),n}fa(e){this.ua=e.hs,this.la=fe();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return el.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},qI=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},GI=class{constructor(e){this.key=e,this.pa=!1}},WI=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Ji(a=>TO(a),eh),this.Sa=new Map,this.ba=new Set,this.Da=new Qe(U.comparator),this.Ca=new Map,this.va=new zd,this.Fa={},this.Ma=new Map,this.xa=Qc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function cY(t,e,n=!0){return T(this,null,function*(){let i=Xg(t),r,o=i.wa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ga()):r=yield IF(i,e,n,!0),r})}function lY(t,e){return T(this,null,function*(){let n=Xg(t);yield IF(n,e,!0,!1)})}function IF(t,e,n,i){return T(this,null,function*(){let r=yield Zc(t.localStore,nn(e)),o=r.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return i&&(a=yield kD(t,e,o,s==="current",r.resumeToken)),t.isPrimaryClient&&n&&Zg(t.remoteStore,r),a})}function kD(t,e,n,i,r){return T(this,null,function*(){t.Na=(f,m,g)=>function(I,E,A,B){return T(this,null,function*(){let M=E.view.Ta(A);M.Xi&&(M=yield Ag(I.localStore,E.query,!1).then(({documents:Ce})=>E.view.Ta(Ce,M)));let R=B&&B.targetChanges.get(E.targetId),G=B&&B.targetMismatches.get(E.targetId)!=null,ee=E.view.applyChanges(M,I.isPrimaryClient,R,G);return KI(I,E.targetId,ee.Va),ee.snapshot})}(t,f,m,g);let o=yield Ag(t.localStore,e,!0),s=new jg(e,o.hs),a=s.Ta(o.documents),c=Bd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=s.applyChanges(a,t.isPrimaryClient,c);KI(t,n,l.Va);let u=new qI(e,n,s);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),l.snapshot})}function uY(t,e,n){return T(this,null,function*(){let i=$(t),r=i.wa.get(e),o=i.Sa.get(r.targetId);if(o.length>1)return i.Sa.set(r.targetId,o.filter(s=>!eh(s,e))),void i.wa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xc(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Jc(i.remoteStore,r.targetId),tl(i,r.targetId)}).catch(Po))):(tl(i,r.targetId),yield Xc(i.localStore,r.targetId,!0))})}function dY(t,e){return T(this,null,function*(){let n=$(t),i=n.wa.get(e),r=n.Sa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Jc(n.remoteStore,i.targetId))})}function hY(t,e,n){return T(this,null,function*(){let i=LD(t);try{let r=yield function(s,a){let c=$(s),l=it.now(),u=a.reduce((g,b)=>g.add(b.key),fe()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=mn(),I=fe();return c.os.getEntries(g,u).next(E=>{b=E,b.forEach((A,B)=>{B.isValidDocument()||(I=I.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(E=>{f=E;let A=[];for(let B of a){let M=AK(B,f.get(B.key).overlayedDocument);M!=null&&A.push(new ci(B.key,M,_O(M.value.mapValue),ct.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,A,a)}).next(E=>{m=E;let A=E.applyToLocalDocumentSet(f,I);return c.documentOverlayCache.saveOverlays(g,E.batchId,A)})}).then(()=>({batchId:m.batchId,changes:RO(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Fa[s.currentUser.toKey()];l||(l=new Qe(de)),l=l.insert(a,c),s.Fa[s.currentUser.toKey()]=l}(i,r.batchId,n),yield Rr(i,r.changes),yield cl(i.remoteStore)}catch(r){let o=ul(r,"Failed to persist write");n.reject(o)}})}function DF(t,e){return T(this,null,function*(){let n=$(t);try{let i=yield GK(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.Ca.get(o);s&&(X(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.pa=!0:r.modifiedDocuments.size>0?X(s.pa):r.removedDocuments.size>0&&(X(s.pa),s.pa=!1))}),yield Rr(n,i,e)}catch(i){yield Po(i)}})}function ZN(t,e,n){let i=$(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.wa.forEach((o,s)=>{let a=s.view.G_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=$(s);c.onlineState=a;let l=!1;c.queries.forEach((u,f)=>{for(let m of f.Q_)m.G_(a)&&(l=!0)}),l&&PD(c)}(i.eventManager,e),r.length&&i.ya.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function fY(t,e,n){return T(this,null,function*(){let i=$(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Ca.get(e),o=r&&r.key;if(o){let s=new Qe(U.comparator);s=s.insert(o,_t.newNoDocument(o,J.min()));let a=fe().add(o),c=new jd(J.min(),new Map,new Qe(de),s,a);yield DF(i,c),i.Da=i.Da.remove(o),i.Ca.delete(e),FD(i)}else yield Xc(i.localStore,e,!1).then(()=>tl(i,e,n)).catch(Po)})}function pY(t,e){return T(this,null,function*(){let n=$(t),i=e.batch.batchId;try{let r=yield qK(n.localStore,e);OD(n,i,null),ND(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Rr(n,r)}catch(r){yield Po(r)}})}function mY(t,e,n){return T(this,null,function*(){let i=$(t);try{let r=yield function(s,a){let c=$(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(X(f!==null),u=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);OD(i,e,n),ND(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Rr(i,r)}catch(r){yield Po(r)}})}function gY(t,e){return T(this,null,function*(){let n=$(t);No(n.remoteStore)||N("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(s){let a=$(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(i===-1)return void e.resolve();let r=n.Ma.get(i)||[];r.push(e),n.Ma.set(i,r)}catch(i){let r=ul(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function ND(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function OD(t,e,n){let i=$(t),r=i.Fa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Fa[i.currentUser.toKey()]=r}}function tl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Sa.get(e))t.wa.delete(i),n&&t.ya.La(i,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(i=>{t.va.containsKey(i)||CF(t,i)})}function CF(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(Jc(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),FD(t))}function KI(t,e,n){for(let i of n)i instanceof Lg?(t.va.addReference(i.key,e),yY(t,i)):i instanceof Vg?(N("SyncEngine","Document no longer in limbo: "+i.key),t.va.removeReference(i.key,e),t.va.containsKey(i.key)||CF(t,i.key)):q()}function yY(t,e){let n=e.key,i=n.path.canonicalString();t.Da.get(n)||t.ba.has(i)||(N("SyncEngine","New document in limbo: "+n),t.ba.add(i),FD(t))}function FD(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new U(xe.fromString(e)),i=t.xa.next();t.Ca.set(i,new GI(n)),t.Da=t.Da.insert(n,i),Zg(t.remoteStore,new Yc(nn(sl(n.path)),i,"TargetPurposeLimboResolution",Cn._e))}}function Rr(t,e,n){return T(this,null,function*(){let i=$(t),r=[],o=[],s=[];i.wa.isEmpty()||(i.wa.forEach((a,c)=>{s.push(i.Na(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=TI.Ki(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.ya.u_(r),yield function(c,l){return T(this,null,function*(){let u=$(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>D.forEach(l,m=>D.forEach(m.qi,g=>u.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>D.forEach(m.Qi,g=>u.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!ko(f))throw f;N("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let m=f.targetId;if(!f.fromCache){let g=u.ns.get(m),b=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(b);u.ns=u.ns.insert(m,I)}}})}(i.localStore,o))})}function vY(t,e){return T(this,null,function*(){let n=$(t);if(!n.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());let i=yield uF(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(c=>{c.reject(new P(C.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Rr(n,i.us)}})}function _Y(t,e){let n=$(t),i=n.Ca.get(e);if(i&&i.pa)return fe().add(i.key);{let r=fe(),o=n.Sa.get(e);if(!o)return r;for(let s of o){let a=n.wa.get(s);r=r.unionWith(a.view.Ia)}return r}}function wY(t,e){return T(this,null,function*(){let n=$(t),i=yield Ag(n.localStore,e.query,!0),r=e.view.fa(i);return n.isPrimaryClient&&KI(n,e.targetId,r.Va),r})}function bY(t,e){return T(this,null,function*(){let n=$(t);return pF(n.localStore,e).then(i=>Rr(n,i))})}function EY(t,e,n,i){return T(this,null,function*(){let r=$(t),o=yield function(a,c){let l=$(a),u=$(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>u.vn(f,c).next(m=>m?l.localDocuments.getDocuments(f,m):D.resolve(null)))}(r.localStore,e);o!==null?(n==="pending"?yield cl(r.remoteStore):n==="acknowledged"||n==="rejected"?(OD(r,e,i||null),ND(r,e),function(a,c){$($(a).mutationQueue).Mn(c)}(r.localStore,e)):q(),yield Rr(r,o)):N("SyncEngine","Cannot apply mutation batch with id: "+e)})}function IY(t,e){return T(this,null,function*(){let n=$(t);if(Xg(n),LD(n),e===!0&&n.Oa!==!0){let i=n.sharedClientState.getAllActiveQueryTargets(),r=yield XN(n,i.toArray());n.Oa=!0,yield VI(n.remoteStore,!0);for(let o of r)Zg(n.remoteStore,o)}else if(e===!1&&n.Oa!==!1){let i=[],r=Promise.resolve();n.Sa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(tl(n,s),Xc(n.localStore,s,!0))),Jc(n.remoteStore,s)}),yield r,yield XN(n,i),function(s){let a=$(s);a.Ca.forEach((c,l)=>{Jc(a.remoteStore,l)}),a.va.mr(),a.Ca=new Map,a.Da=new Qe(U.comparator)}(n),n.Oa=!1,yield VI(n.remoteStore,!1)}})}function XN(t,e,n){return T(this,null,function*(){let i=$(t),r=[],o=[];for(let s of e){let a,c=i.Sa.get(s);if(c&&c.length!==0){a=yield Zc(i.localStore,nn(c[0]));for(let l of c){let u=i.wa.get(l),f=yield wY(i,u);f.snapshot&&o.push(f.snapshot)}}else{let l=yield fF(i.localStore,s);a=yield Zc(i.localStore,l),yield kD(i,TF(l),s,!1,a.resumeToken)}r.push(a)}return i.ya.u_(o),r})}function TF(t){return CO(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function DY(t){return function(n){return $($(n).persistence).Bi()}($(t).localStore)}function CY(t,e,n,i){return T(this,null,function*(){let r=$(t);if(r.Oa)return void N("SyncEngine","Ignoring unexpected query state notification.");let o=r.Sa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield pF(r.localStore,AO(o[0])),a=jd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Mt.EMPTY_BYTE_STRING);yield Rr(r,s,a);break}case"rejected":yield Xc(r.localStore,e,!0),tl(r,e,i);break;default:q()}})}function TY(t,e,n){return T(this,null,function*(){let i=Xg(t);if(i.Oa){for(let r of e){if(i.Sa.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){N("SyncEngine","Adding an already active target "+r);continue}let o=yield fF(i.localStore,r),s=yield Zc(i.localStore,o);yield kD(i,TF(o),s.targetId,!1,s.resumeToken),Zg(i.remoteStore,s)}for(let r of n)i.Sa.has(r)&&(yield Xc(i.localStore,r,!1).then(()=>{Jc(i.remoteStore,r),tl(i,r)}).catch(Po))}})}function Xg(t){let e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_Y.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fY.bind(null,e),e.ya.u_=sY.bind(null,e.eventManager),e.ya.La=aY.bind(null,e.eventManager),e}function LD(t){let e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mY.bind(null,e),e}function AY(t,e,n){let i=$(t);(function(o,s,a){return T(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(g,b){let I=$(g),E=ft(b.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",A=>I.$r.getBundleMetadata(A,b.id)).then(A=>!!A&&A.createTime.compareTo(E)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(EF(c));let l=new zI(c,o.localStore,s.serializer),u=yield s.Ba();for(;u;){let m=yield l.sa(u);m&&a._updateProgress(m),u=yield s.Ba()}let f=yield l.complete();return yield Rr(o,f.aa,void 0),yield function(g,b){let I=$(g);return I.persistence.runTransaction("Save bundle","readwrite",E=>I.$r.saveBundleMetadata(E,b))}(o.localStore,c),a._completeWith(f.progress),Promise.resolve(f._a)}catch(c){return Hn("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var Kd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return T(this,null,function*(){this.serializer=nh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return lF(this.persistence,new Tg,e.initialUser,this.serializer)}createPersistence(e){return new Dg(Cg.Hr,this.serializer)}createSharedClientState(e){return new Rg}terminate(){return T(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Bg=class t extends Kd{constructor(e,n,i){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return T(this,null,function*(){yield Ay(t.prototype,this,"initialize").call(this,e),yield this.ka.initialize(this,e),yield LD(this.ka.syncEngine),yield cl(this.ka.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return lF(this.persistence,new Tg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let i=this.persistence.referenceDelegate.garbageCollector;return new dI(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let i=new xE(n,this.persistence);return new SE(e.asyncQueue,i)}createPersistence(e){let n=TD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new CI(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,gF(),Xm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Rg}},YI=class t extends Bg{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return T(this,null,function*(){yield Ay(t.prototype,this,"initialize").call(this,e);let n=this.ka.syncEngine;this.sharedClientState instanceof xd&&(this.sharedClientState.syncEngine={Zs:EY.bind(null,n),Xs:CY.bind(null,n),eo:TY.bind(null,n),Bi:DY.bind(null,n),Ys:bY.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(i=>T(this,null,function*(){yield IY(this.ka.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=gF();if(!xd.D(n))throw new P(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=TD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xd(n,e.asyncQueue,i,e.clientId,e.initialUser)}},Yd=class{initialize(e,n){return T(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ZN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vY.bind(null,this.syncEngine),yield VI(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new UI}()}createDatastore(e){let n=nh(e.databaseInfo.databaseId),i=function(o){return new PI(o)}(e.databaseInfo);return function(o,s,a,c){return new OI(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,a){return new LI(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ZN(this.syncEngine,n,0),function(){return Mg.D()?new Mg:new RI}())}createSyncEngine(e,n){return function(r,o,s,a,c,l,u){let f=new WI(r,o,s,a,c,l);return u&&(f.Oa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return T(this,null,function*(){var e;yield function(i){return T(this,null,function*(){let r=$(i);N("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield al(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function JN(t,e=10240){let n=0;return{read(){return T(this,null,function*(){if(n<t.byteLength){let r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})},cancel(){return T(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var nl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):dt("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var QI=class{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new vt,this.buffer=new Uint8Array,this.$a=function(){return new TextDecoder("utf-8")}(),this.Ua().then(i=>{i&&i.ra()?this.metadata.resolve(i.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.na)}`))},i=>this.metadata.reject(i))}close(){return this.Ka.cancel()}getMetadata(){return T(this,null,function*(){return this.metadata.promise})}Ba(){return T(this,null,function*(){return yield this.getMetadata(),this.Ua()})}Ua(){return T(this,null,function*(){let e=yield this.Wa();if(e===null)return null;let n=this.$a.decode(e),i=Number(n);isNaN(i)&&this.Ga(`length string (${n}) is not valid number`);let r=yield this.za(i);return new HI(JSON.parse(r),e.length+i)})}ja(){return this.buffer.findIndex(e=>e===123)}Wa(){return T(this,null,function*(){for(;this.ja()<0&&!(yield this.Ha()););if(this.buffer.length===0)return null;let e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}za(e){return T(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ha())&&this.Ga("Reached the end of bundle when more is expected.");let n=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){return T(this,null,function*(){let e=yield this.Ka.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var ZI=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return T(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new P(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(r,o){return T(this,null,function*(){let s=$(r),a={documents:o.map(f=>Ud(s.serializer,f))},c=yield s.vo("BatchGetDocuments",s.serializer.databaseId,xe.emptyPath(),a,o.length),l=new Map;c.forEach(f=>{let m=kK(s.serializer,f);l.set(m.key.toString(),m)});let u=[];return o.forEach(f=>{let m=l.get(f.toString());X(!!m),u.push(m)}),u})}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ro(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return T(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{let r=U.fromPath(i);this.mutations.push(new Fd(r,this.precondition(r)))}),yield function(i,r){return T(this,null,function*(){let o=$(i),s={writes:r.map(a=>$d(o.serializer,a))};yield o.So("Commit",o.serializer.databaseId,xe.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw q();n=J.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new P(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(J.min())?ct.exists(!1):ct.updateTime(n):ct.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(J.min()))throw new P(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(n)}return ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var XI=class{constructor(e,n,i,r,o){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=o,this.Ja=i.maxAttempts,this.jo=new Gd(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo(()=>T(this,null,function*(){let e=new ZI(this.datastore),n=this.Xa(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.eu(r)}))}).catch(i=>{this.eu(i)})}))}Xa(e){try{let n=this.updateFunction(e);return!Xd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!UO(n)}return!1}};var JI=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=yt.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>T(this,null,function*(){N("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(N("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=ul(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Jm(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>T(this,null,function*(){i.isEqual(r)||(yield uF(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function eD(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield VD(t);N("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>YN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>YN(e.remoteStore,r)),t._onlineComponents=e})}function AF(t){return t.name==="FirebaseError"?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function VD(t){return T(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){N("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!AF(n))throw n;Hn("Error using user provided cache. Falling back to memory cache: "+n),yield Jm(t,new Kd)}}else N("FirestoreClient","Using default OfflineComponentProvider"),yield Jm(t,new Kd);return t._offlineComponents})}function Jg(t){return T(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(N("FirestoreClient","Using user provided OnlineComponentProvider"),yield eD(t,t._uninitializedComponentsProvider._online)):(N("FirestoreClient","Using default OnlineComponentProvider"),yield eD(t,new Yd))),t._onlineComponents})}function SF(t){return VD(t).then(e=>e.persistence)}function jD(t){return VD(t).then(e=>e.localStore)}function xF(t){return Jg(t).then(e=>e.remoteStore)}function BD(t){return Jg(t).then(e=>e.syncEngine)}function SY(t){return Jg(t).then(e=>e.datastore)}function il(t){return T(this,null,function*(){let e=yield Jg(t),n=e.eventManager;return n.onListen=cY.bind(null,e.syncEngine),n.onUnlisten=uY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dY.bind(null,e.syncEngine),n})}function xY(t){return t.asyncQueue.enqueue(()=>T(this,null,function*(){let e=yield SF(t),n=yield xF(t);return e.setNetworkEnabled(!0),function(r){let o=$(r);return o.v_.delete(0),ih(o)}(n)}))}function RY(t){return t.asyncQueue.enqueue(()=>T(this,null,function*(){let e=yield SF(t),n=yield xF(t);return e.setNetworkEnabled(!1),function(r){return T(this,null,function*(){let o=$(r);o.v_.add(0),yield al(o),o.x_.set("Offline")})}(n)}))}function MY(t,e){let n=new vt;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(r,o,s){return T(this,null,function*(){try{let a=yield function(l,u){let f=$(l);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,u))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new P(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=ul(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield jD(t),e,n)})),n.promise}function RF(t,e,n={}){let i=new vt;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(o,s,a,c,l){let u=new nl({next:m=>{s.enqueueAndForget(()=>MD(o,f));let g=m.docs.has(a);!g&&m.fromCache?l.reject(new P(C.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?l.reject(new P(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new Wd(sl(a.path),u,{includeMetadataChanges:!0,ta:!0});return RD(o,f)}(yield il(t),t.asyncQueue,e,n,i)})),i.promise}function PY(t,e){let n=new vt;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(r,o,s){return T(this,null,function*(){try{let a=yield Ag(r,o,!0),c=new jg(o,a.hs),l=c.Ta(a.documents),u=c.applyChanges(l,!1);s.resolve(u.snapshot)}catch(a){let c=ul(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield jD(t),e,n)})),n.promise}function MF(t,e,n={}){let i=new vt;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(o,s,a,c,l){let u=new nl({next:m=>{s.enqueueAndForget(()=>MD(o,f)),m.fromCache&&c.source==="server"?l.reject(new P(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new Wd(a,u,{includeMetadataChanges:!0,ta:!0});return RD(o,f)}(yield il(t),t.asyncQueue,e,n,i)})),i.promise}function kY(t,e){let n=new nl(e);return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(r,o){$(r).W_.add(o),o.next()}(yield il(t),n)})),()=>{n.Qa(),t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(r,o){$(r).W_.delete(o)}(yield il(t),n)}))}}function NY(t,e,n,i){let r=function(s,a){let c;return c=typeof s=="string"?HO().encode(s):s,function(u,f){return new QI(u,f)}(function(u,f){if(u instanceof Uint8Array)return JN(u,f);if(u instanceof ArrayBuffer)return JN(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,nh(e));t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){AY(yield BD(t),r,i)}))}function OY(t,e){return t.asyncQueue.enqueue(()=>T(this,null,function*(){return function(i,r){let o=$(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,r))}(yield jD(t),e)}))}function PF(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var eO=new Map;function UD(t,e,n){if(!n)throw new P(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $D(t,e,n,i){if(e===!0&&i===!0)throw new P(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tO(t){if(!U.isDocumentKey(t))throw new P(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nO(t){if(U.isDocumentKey(t))throw new P(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ey(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function Re(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new P(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ey(t);throw new P(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function kF(t,e){if(e<=0)throw new P(C.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Ug=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new P(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new P(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$D("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PF((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new P(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new P(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new P(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},$s=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new P(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new P(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new vE;switch(i.type){case"firstParty":return new EE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new P(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=eO.get(n);i&&(N("ComponentProvider","Removing Datastore"),eO.delete(n),i.terminate())}(this),Promise.resolve()}};function NF(t,e,n,i={}){var r;let o=(t=Re(t,$s))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Hn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=yt.MOCK_USER;else{a=gh(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new P(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new yt(l)}t._authCredentials=new _E(new eg(a,c))}}var jt=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ke=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Qi=class t extends jt{constructor(e,n,i){super(e,n,sl(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new U(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function HD(t,e,...n){if(t=Me(t),UD("collection","path",e),t instanceof $s){let i=xe.fromString(e,...n);return nO(i),new Qi(t,null,i)}{if(!(t instanceof Ke||t instanceof Qi))throw new P(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(xe.fromString(e,...n));return nO(i),new Qi(t.firestore,null,i)}}function OF(t,e){if(t=Re(t,$s),UD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new P(C.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new jt(t,null,function(i){return new ai(xe.emptyPath(),i)}(e))}function rh(t,e,...n){if(t=Me(t),arguments.length===1&&(e=tg.newId()),UD("doc","path",e),t instanceof $s){let i=xe.fromString(e,...n);return tO(i),new Ke(t,null,new U(i))}{if(!(t instanceof Ke||t instanceof Qi))throw new P(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(xe.fromString(e,...n));return tO(i),new Ke(t.firestore,t instanceof Qi?t.converter:null,new U(i))}}function zD(t,e){return t=Me(t),e=Me(e),(t instanceof Ke||t instanceof Qi)&&(e instanceof Ke||e instanceof Qi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function qD(t,e){return t=Me(t),e=Me(e),t instanceof jt&&e instanceof jt&&t.firestore===e.firestore&&eh(t._query,e._query)&&t.converter===e.converter}var tD=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Gd(this,"async_queue_retry"),this.cu=()=>{let n=Xm();n&&N("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Xm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new vt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return T(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!ko(e))throw e;N("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(i=>{this.ou=i,this._u=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw dt("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this._u=!1,i))));return this.nu=n,n}enqueueAfterDelay(e,n,i){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let r=jI.createAndSchedule(this,e,n,i,o=>this.Iu(o));return this.su.push(r),r}lu(){this.ou&&q()}verifyOperationInProgress(){}Tu(){return T(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};function nD(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var iD=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new vt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var FF=-1,Je=class extends $s{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new tD}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LF(this),this._firestoreClient.terminate()}};function It(t){return t._firestoreClient||LF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function LF(t){var e,n,i;let r=t._freezeSettings(),o=function(a,c,l,u){return new RE(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,PF(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new JI(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function VF(t,e){WF(t=Re(t,Je));let n=It(t);if(n._uninitializedComponentsProvider)throw new P(C.FAILED_PRECONDITION,"SDK cache is already specified.");Hn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=t._freezeSettings(),r=new Yd;return BF(n,r,new Bg(r,i.cacheSizeBytes,e?.forceOwnership))}function jF(t){WF(t=Re(t,Je));let e=It(t);if(e._uninitializedComponentsProvider)throw new P(C.FAILED_PRECONDITION,"SDK cache is already specified.");Hn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),i=new Yd;return BF(e,i,new YI(i,n.cacheSizeBytes))}function BF(t,e,n){let i=new vt;return t.asyncQueue.enqueue(()=>T(this,null,function*(){try{yield Jm(t,n),yield eD(t,e),i.resolve()}catch(r){let o=r;if(!AF(o))throw o;Hn("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function UF(t){if(t._initialized&&!t._terminated)throw new P(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new vt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{yield function(i){return T(this,null,function*(){if(!Cr.D())return Promise.resolve();let r=i+"main";yield Cr.delete(r)})}(TD(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function $F(t){return function(n){let i=new vt;return n.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return gY(yield BD(n),i)})),i.promise}(It(t=Re(t,Je)))}function HF(t){return xY(It(t=Re(t,Je)))}function zF(t){return RY(It(t=Re(t,Je)))}function qF(t,e){let n=It(t=Re(t,Je)),i=new iD;return NY(n,t._databaseId,e,i),i}function GF(t,e){return OY(It(t=Re(t,Je)),e).then(n=>n?new jt(t,null,n.query):null)}function WF(t){if(t._initialized||t._terminated)throw new P(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var er=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Mt.fromBase64String(e))}catch(n){throw new P(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var li=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new P(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Sr=class{constructor(e){this._methodName=e}};var Hs=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new P(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new P(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}};var FY=/^__.*__$/,rD=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new xo(e,this.data,n,this.fieldTransforms)}},$g=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function KF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}var Hg=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.mu({path:i,gu:!1});return r.pu(e),r}yu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.mu({path:i,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return zg(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(KF(this.Vu)&&FY.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},oD=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||nh(e)}Cu(e,n,i,r=!1){return new Hg({Vu:e,methodName:n,Du:i,path:ht.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ws(t){let e=t._freezeSettings(),n=nh(t._databaseId);return new oD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ty(t,e,n,i,r,o={}){let s=t.Cu(o.merge||o.mergeFields?2:0,e,n,r);KD("Data must be an object, but it was:",s,i);let a=ZF(i,s),c,l;if(o.merge)c=new Tn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let f of o.mergeFields){let m=uD(e,f,n);if(!s.contains(m))throw new P(C.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JF(u,m)||u.push(m)}c=new Tn(u),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new rD(new qt(a),c,l)}var Qd=class t extends Sr{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function YF(t,e,n){return new Hg({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var sD=class t extends Sr{_toFieldTransform(e){return new js(e.path,new Ao)}isEqual(e){return e instanceof t}},aD=class t extends Sr{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){let n=YF(this,e,!0),i=this.vu.map(o=>Ks(o,n)),r=new Tr(i);return new js(e.path,r)}isEqual(e){return e instanceof t&&Ry(this.vu,e.vu)}},cD=class t extends Sr{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){let n=YF(this,e,!0),i=this.vu.map(o=>Ks(o,n)),r=new Ar(i);return new js(e.path,r)}isEqual(e){return e instanceof t&&Ry(this.vu,e.vu)}},lD=class t extends Sr{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){let n=new So(e.serializer,NO(e.serializer,this.Fu));return new js(e.path,n)}isEqual(e){return e instanceof t&&this.Fu===e.Fu}};function GD(t,e,n,i){let r=t.Cu(1,e,n);KD("Data must be an object, but it was:",r,i);let o=[],s=qt.empty();Gs(i,(c,l)=>{let u=YD(e,c,n);l=Me(l);let f=r.yu(u);if(l instanceof Qd)o.push(u);else{let m=Ks(l,f);m!=null&&(o.push(u),s.set(u,m))}});let a=new Tn(o);return new $g(s,a,r.fieldTransforms)}function WD(t,e,n,i,r,o){let s=t.Cu(1,e,n),a=[uD(e,i,n)],c=[r];if(o.length%2!=0)throw new P(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(uD(e,o[m])),c.push(o[m+1]);let l=[],u=qt.empty();for(let m=a.length-1;m>=0;--m)if(!JF(l,a[m])){let g=a[m],b=c[m];b=Me(b);let I=s.yu(g);if(b instanceof Qd)l.push(g);else{let E=Ks(b,I);E!=null&&(l.push(g),u.set(g,E))}}let f=new Tn(l);return new $g(u,f,s.fieldTransforms)}function QF(t,e,n,i=!1){return Ks(n,t.Cu(i?4:3,e))}function Ks(t,e){if(XF(t=Me(t)))return KD("Unsupported field value:",e,t),ZF(t,e);if(t instanceof Sr)return function(i,r){if(!KF(r.Vu))throw r.Su(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Su(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=Ks(a,r.wu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Me(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return NO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=it.fromDate(i);return{timestampValue:Kc(r.serializer,o)}}if(i instanceof it){let o=new it(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Kc(r.serializer,o)}}if(i instanceof Hs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof er)return{bytesValue:zO(r.serializer,i._byteString)};if(i instanceof Ke){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ID(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Su(`Unsupported field value: ${ey(i)}`)}(t,e)}function ZF(t,e){let n={};return gO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(i,r)=>{let o=Ks(r,e.fu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function XF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Hs||t instanceof er||t instanceof Ke||t instanceof Sr)}function KD(t,e,n){if(!XF(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=ey(n);throw i==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+i)}}function uD(t,e,n){if((e=Me(e))instanceof li)return e._internalPath;if(typeof e=="string")return YD(t,e);throw zg("Field path arguments must be of type string or ",t,!1,void 0,n)}var LY=new RegExp("[~\\*/\\[\\]]");function YD(t,e,n){if(e.search(LY)>=0)throw zg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new li(...e.split("."))._internalPath}catch{throw zg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zg(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new P(C.INVALID_ARGUMENT,a+t+c)}function JF(t,e){return t.some(n=>n.isEqual(e))}var zs=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new dD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(ny("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},dD=class extends zs{data(){return super.data()}};function ny(t,e){return typeof e=="string"?YD(t,e):e instanceof li?e._internalPath:e._delegate._internalPath}function e2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new P(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zd=class{},qs=class extends Zd{};function Mr(t,e,...n){let i=[];e instanceof Zd&&i.push(e),i=i.concat(n),function(o){let s=o.filter(c=>c instanceof hD).length,a=o.filter(c=>c instanceof qg).length;if(s>1||s>0&&a>0)throw new P(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var qg=class t extends qs{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return u2(e._query,n),new jt(e.firestore,e.converter,HE(e._query,n))}_parse(e){let n=Ws(e.firestore);return function(o,s,a,c,l,u,f){let m;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new P(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){rO(f,u);let g=[];for(let b of f)g.push(iO(c,o,b));m={arrayValue:{values:g}}}else m=iO(c,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||rO(f,u),m=QF(a,s,f,u==="in"||u==="not-in");return De.create(l,u,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function t2(t,e,n){let i=e,r=ny("where",t);return qg._create(r,i,n)}var hD=class t extends Zd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ue.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)u2(s,c),s=HE(s,c)}(e._query,n),new jt(e.firestore,e.converter,HE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var fD=class t extends qs{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,o,s){if(r.startAt!==null)throw new P(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new P(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ls(o,s)}(e._query,this._field,this._direction);return new jt(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new ai(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function n2(t,e="asc"){let n=e,i=ny("orderBy",t);return fD._create(i,n)}var Gg=class t extends qs{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new jt(e.firestore,e.converter,dg(e._query,this._limit,this._limitType))}};function i2(t){return kF("limit",t),Gg._create("limit",t,"F")}function r2(t){return kF("limitToLast",t),Gg._create("limitToLast",t,"L")}var Wg=class t extends qs{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=l2(e,this.type,this._docOrFields,this._inclusive);return new jt(e.firestore,e.converter,function(r,o){return new ai(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,n))}};function o2(...t){return Wg._create("startAt",t,!0)}function s2(...t){return Wg._create("startAfter",t,!1)}var Kg=class t extends qs{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=l2(e,this.type,this._docOrFields,this._inclusive);return new jt(e.firestore,e.converter,function(r,o){return new ai(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(e._query,n))}};function a2(...t){return Kg._create("endBefore",t,!1)}function c2(...t){return Kg._create("endAt",t,!0)}function l2(t,e,n,i){if(n[0]=Me(n[0]),n[0]instanceof zs)return function(o,s,a,c,l){if(!c)throw new P(C.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let u=[];for(let f of Bc(o))if(f.field.isKeyField())u.push(Fs(s,c.key));else{let m=c.data.field(f.field);if(Qg(m))throw new P(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let g=f.field.canonicalString();throw new P(C.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}u.push(m)}return new Xi(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{let r=Ws(t.firestore);return function(s,a,c,l,u,f){let m=s.explicitOrderBy;if(u.length>m.length)throw new P(C.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let g=[];for(let b=0;b<u.length;b++){let I=u[b];if(m[b].field.isKeyField()){if(typeof I!="string")throw new P(C.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof I}`);if(!bD(s)&&I.indexOf("/")!==-1)throw new P(C.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${I}' contains a slash.`);let E=s.path.child(xe.fromString(I));if(!U.isDocumentKey(E))throw new P(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);let A=new U(E);g.push(Fs(a,A))}else{let E=QF(c,l,I);g.push(E)}}return new Xi(g,f)}(t._query,t.firestore._databaseId,r,e,n,i)}}function iO(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new P(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bD(e)&&n.indexOf("/")!==-1)throw new P(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(xe.fromString(n));if(!U.isDocumentKey(i))throw new P(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Fs(t,new U(i))}if(n instanceof Ke)return Fs(t,n._key);throw new P(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ey(n)}.`)}function rO(t,e){if(!Array.isArray(t)||t.length===0)throw new P(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u2(t,e){let n=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new P(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new P(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var rl=class{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Do(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Gs(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new Hs(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=_D(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(kd(e));default:return null}}convertTimestamp(e){let n=Io(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=xe.fromString(e);X(tF(i));let r=new Co(i.get(1),i.get(3)),o=new U(i.popFirst(5));return r.isEqual(n)||dt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function iy(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var pD=class extends rl{constructor(e){super(),this.firestore=e}convertBytes(e){return new er(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,n)}};var Dr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},qn=class extends zs{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new bo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(ny("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},bo=class extends qn{data(e={}){return super.data(e)}},ui=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Dr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new bo(this._firestore,this._userDataWriter,i.key,i,new Dr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new P(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new bo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Dr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new bo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Dr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:VY(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function VY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}function QD(t,e){return t instanceof qn&&e instanceof qn?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ui&&e instanceof ui&&t._firestore===e._firestore&&qD(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function d2(t){t=Re(t,Ke);let e=Re(t.firestore,Je);return RF(It(e),t._key).then(n=>eC(e,t,n))}var xr=class extends rl{constructor(e){super(),this.firestore=e}convertBytes(e){return new er(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,n)}};function h2(t){t=Re(t,Ke);let e=Re(t.firestore,Je),n=It(e),i=new xr(e);return MY(n,t._key).then(r=>new qn(e,i,t._key,r,new Dr(r!==null&&r.hasLocalMutations,!0),t.converter))}function f2(t){t=Re(t,Ke);let e=Re(t.firestore,Je);return RF(It(e),t._key,{source:"server"}).then(n=>eC(e,t,n))}function p2(t){t=Re(t,jt);let e=Re(t.firestore,Je),n=It(e),i=new xr(e);return e2(t._query),MF(n,t._query).then(r=>new ui(e,i,t,r))}function m2(t){t=Re(t,jt);let e=Re(t.firestore,Je),n=It(e),i=new xr(e);return PY(n,t._query).then(r=>new ui(e,i,t,r))}function g2(t){t=Re(t,jt);let e=Re(t.firestore,Je),n=It(e),i=new xr(e);return MF(n,t._query,{source:"server"}).then(r=>new ui(e,i,t,r))}function ZD(t,e,n){t=Re(t,Ke);let i=Re(t.firestore,Je),r=iy(t.converter,e,n);return dl(i,[ty(Ws(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,ct.none())])}function XD(t,e,n,...i){t=Re(t,Ke);let r=Re(t.firestore,Je),o=Ws(r),s;return s=typeof(e=Me(e))=="string"||e instanceof li?WD(o,"updateDoc",t._key,e,n,i):GD(o,"updateDoc",t._key,e),dl(r,[s.toMutation(t._key,ct.exists(!0))])}function y2(t){return dl(Re(t.firestore,Je),[new Ro(t._key,ct.none())])}function v2(t,e){let n=Re(t.firestore,Je),i=rh(t),r=iy(t.converter,e);return dl(n,[ty(Ws(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,ct.exists(!1))]).then(()=>i)}function JD(t,...e){var n,i,r;t=Me(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||nD(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(nD(e[s])){let f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[s+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let c,l,u;if(t instanceof Ke)l=Re(t.firestore,Je),u=sl(t._key.path),c={next:f=>{e[s]&&e[s](eC(l,t,f))},error:e[s+1],complete:e[s+2]};else{let f=Re(t,jt);l=Re(f.firestore,Je),u=f._query;let m=new xr(l);c={next:g=>{e[s]&&e[s](new ui(l,m,f,g))},error:e[s+1],complete:e[s+2]},e2(t._query)}return function(m,g,b,I){let E=new nl(I),A=new Wd(g,E,b);return m.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return RD(yield il(m),A)})),()=>{E.Qa(),m.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return MD(yield il(m),A)}))}}(It(l),u,a,c)}function _2(t,e){return kY(It(t=Re(t,Je)),nD(e)?e:{next:e})}function dl(t,e){return function(i,r){let o=new vt;return i.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return hY(yield BD(i),r,o)})),o.promise}(It(t),e)}function eC(t,e,n){let i=n.docs.get(e._key),r=new xr(t);return new qn(t,r,e._key,i,new Dr(n.hasPendingWrites,n.fromCache),e.converter)}var jY={maxAttempts:5};var Yg=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ws(e)}set(e,n,i){this._verifyNotCommitted();let r=_o(e,this._firestore),o=iy(r.converter,n,i),s=ty(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(s.toMutation(r._key,ct.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let o=_o(e,this._firestore),s;return s=typeof(n=Me(n))=="string"||n instanceof li?WD(this._dataReader,"WriteBatch.update",o._key,n,i,r):GD(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,ct.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=_o(e,this._firestore);return this._mutations=this._mutations.concat(new Ro(n._key,ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new P(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function _o(t,e){if((t=Me(t)).firestore!==e)throw new P(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var mD=class extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=Ws(n)}get(n){let i=_o(n,this._firestore),r=new pD(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||o.length!==1)return q();let s=o[0];if(s.isFoundDocument())return new zs(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new zs(this._firestore,r,i._key,null,i.converter);throw q()})}set(n,i,r){let o=_o(n,this._firestore),s=iy(o.converter,i,r),a=ty(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(n,i,r,...o){let s=_o(n,this._firestore),a;return a=typeof(i=Me(i))=="string"||i instanceof li?WD(this._dataReader,"Transaction.update",s._key,i,r,o):GD(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(n){let i=_o(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=_o(e,this._firestore),i=new xr(this._firestore);return super.get(e).then(r=>new qn(this._firestore,i,n._key,r._document,new Dr(!1,!1),n.converter))}};function w2(t,e,n){t=Re(t,Je);let i=Object.assign(Object.assign({},jY),n);return function(o){if(o.maxAttempts<1)throw new P(C.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){let c=new vt;return o.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){let l=yield SY(o);new XI(o.asyncQueue,l,a,s,c).Ya()})),c.promise}(It(t),r=>e(new mD(t,r)),i)}function b2(){return new Qd("deleteField")}function E2(){return new sD("serverTimestamp")}function I2(...t){return new aD("arrayUnion",t)}function D2(...t){return new cD("arrayRemove",t)}function C2(t){return new lD("increment",t)}(function(e,n=!0){(function(r){ol=r})(wh),Vo(new Wn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Je(new wE(i.getProvider("auth-internal")),new DE(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new P(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(l.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Sn(oN,"4.5.0",e),Sn(oN,"4.5.0","esm2017")})();var BY="@firebase/firestore-compat",UY="0.3.27";function sC(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new P("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function T2(){if(typeof Uint8Array>"u")throw new P("unimplemented","Uint8Arrays are not available in this environment.")}function A2(){if(!yO())throw new P("unimplemented","Blobs are unavailable in Firestore in this environment.")}var ry=class t{constructor(e){this._delegate=e}static fromBase64String(e){return A2(),new t(er.fromBase64String(e))}static fromUint8Array(e){return T2(),new t(er.fromUint8Array(e))}toBase64(){return A2(),this._delegate.toBase64()}toUint8Array(){return T2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function tC(t){return $Y(t,["next","error","complete"])}function $Y(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}var nC=class{enableIndexedDbPersistence(e,n){return VF(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return jF(e._delegate)}clearIndexedDbPersistence(e){return UF(e._delegate)}},oy=class{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Co||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Hn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){NF(this._delegate,e,n,i)}enableNetwork(){return HF(this._delegate)}disableNetwork(){return zF(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,$D("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return $F(this._delegate)}onSnapshotsInSync(e){return _2(this._delegate,e)}get app(){if(!this._appCompat)throw new P("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pl(this,HD(this._delegate,e))}catch(n){throw rn(n,"collection()","Firestore.collection()")}}doc(e){try{return new tr(this,rh(this._delegate,e))}catch(n){throw rn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Xs(this,OF(this._delegate,e))}catch(n){throw rn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return w2(this._delegate,n=>e(new sy(this,n)))}batch(){return It(this._delegate),new ay(new Yg(this._delegate,e=>dl(this._delegate,e)))}loadBundle(e){return qF(this._delegate,e)}namedQuery(e){return GF(this._delegate,e).then(n=>n?new Xs(this,n):null)}},hl=class extends rl{constructor(e){super(),this.firestore=e}convertBytes(e){return new ry(new er(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return tr.forKey(n,this.firestore,null)}};function HY(t){oO(t)}var sy=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new hl(e)}get(e){let n=Ys(e);return this._delegate.get(n).then(i=>new Qs(this._firestore,new qn(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){let r=Ys(e);return i?(sC("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=Ys(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=Ys(e);return this._delegate.delete(n),this}},ay=class{constructor(e){this._delegate=e}set(e,n,i){let r=Ys(e);return i?(sC("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=Ys(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=Ys(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},fl=class t{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){let i=new bo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zs(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let i=t.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(n);return o||(o=new t(e,new hl(e),n),r.set(n,o)),o}};fl.INSTANCES=new WeakMap;var tr=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new hl(e)}static forPath(e,n,i){if(e.length%2!==0)throw new P("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new Ke(n._delegate,i,new U(e)))}static forKey(e,n,i){return new t(n,new Ke(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new pl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pl(this.firestore,HD(this._delegate,e))}catch(n){throw rn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Me(e),e instanceof Ke?zD(this._delegate,e):!1}set(e,n){n=sC("DocumentReference.set",n);try{return n?ZD(this._delegate,e,n):ZD(this._delegate,e)}catch(i){throw rn(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?XD(this._delegate,e):XD(this._delegate,e,n,...i)}catch(r){throw rn(r,"updateDoc()","DocumentReference.update()")}}delete(){return y2(this._delegate)}onSnapshot(...e){let n=S2(e),i=x2(e,r=>new Qs(this.firestore,new qn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return JD(this._delegate,n,i)}get(e){let n;return e?.source==="cache"?n=h2(this._delegate):e?.source==="server"?n=f2(this._delegate):n=d2(this._delegate),n.then(i=>new Qs(this.firestore,new qn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(fl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function rn(t,e,n){return t.message=t.message.replace(e,n),t}function S2(t){for(let e of t)if(typeof e=="object"&&!tC(e))return e;return{}}function x2(t,e){var n,i;let r;return tC(t[0])?r=t[0]:tC(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:o=>{r.next&&r.next(e(o))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Qs=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new tr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return QD(this._delegate,e._delegate)}},Zs=class extends Qs{data(e){let n=this._delegate.data(e);return this._delegate._converter||sO(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Xs=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new hl(e)}where(e,n,i){try{return new t(this.firestore,Mr(this._delegate,t2(e,n,i)))}catch(r){throw rn(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,Mr(this._delegate,n2(e,n)))}catch(i){throw rn(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,Mr(this._delegate,i2(e)))}catch(n){throw rn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,Mr(this._delegate,r2(e)))}catch(n){throw rn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,Mr(this._delegate,o2(...e)))}catch(n){throw rn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,Mr(this._delegate,s2(...e)))}catch(n){throw rn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,Mr(this._delegate,a2(...e)))}catch(n){throw rn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,Mr(this._delegate,c2(...e)))}catch(n){throw rn(n,"endAt()","Query.endAt()")}}isEqual(e){return qD(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=m2(this._delegate):e?.source==="server"?n=g2(this._delegate):n=p2(this._delegate),n.then(i=>new oh(this.firestore,new ui(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let n=S2(e),i=x2(e,r=>new oh(this.firestore,new ui(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return JD(this._delegate,n,i)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(fl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},iC=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Zs(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},oh=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Zs(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new iC(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new Zs(this._firestore,i))})}isEqual(e){return QD(this._delegate,e._delegate)}},pl=class t extends Xs{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new tr(this.firestore,e):null}doc(e){try{return e===void 0?new tr(this.firestore,rh(this._delegate)):new tr(this.firestore,rh(this._delegate,e))}catch(n){throw rn(n,"doc()","CollectionReference.doc()")}}add(e){return v2(this._delegate,e).then(n=>new tr(this.firestore,n))}isEqual(e){return zD(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(fl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ys(t){return Re(t,Ke)}var rC=class t{constructor(...e){this._delegate=new li(...e)}static documentId(){return new t(ht.keyField().canonicalString())}isEqual(e){return e=Me(e),e instanceof li?this._delegate._internalPath.isEqual(e._internalPath):!1}};var oC=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=E2();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=b2();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=I2(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=D2(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=C2(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var zY={Firestore:oy,GeoPoint:Hs,Timestamp:it,Blob:ry,Transaction:sy,WriteBatch:ay,DocumentReference:tr,DocumentSnapshot:Qs,Query:Xs,QueryDocumentSnapshot:Zs,QuerySnapshot:oh,CollectionReference:pl,FieldPath:rC,FieldValue:oC,setLogLevel:HY,CACHE_SIZE_UNLIMITED:FF};function qY(t,e){t.INTERNAL.registerComponent(new Wn("firestore-compat",n=>{let i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},zY)))}function GY(t){qY(t,(e,n)=>new oy(e,n,new nC)),t.registerVersion(BY,UY)}GY(wt);function WY(t,e=gi){return new ne(n=>{let i;return e!=null?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}function R2(t,e){return WY(t,e)}function KY(t,e){return R2(t,e).pipe(ln(void 0),Ia(),Y(n=>{let[i,r]=n;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function lC(t,e){return R2(t,e).pipe(Y(n=>({payload:n,type:"query"})))}var cy=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let i=this.ref.collection(e),{ref:r,query:o}=O2(i,n);return new uy(r,o,this.afs)}snapshotChanges(){return KY(this.ref,this.afs.schedulers.outsideAngular).pipe(At)}valueChanges(e={}){return this.snapshotChanges().pipe(Y(({payload:n})=>e.idField?Te(V({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return ye(this.ref.get(e)).pipe(At)}};function ly(t,e){return lC(t,e).pipe(ln(void 0),Ia(),Y(n=>{let[i,r]=n,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{let l=o.find(f=>f.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function M2(t,e,n){return ly(t,n).pipe(zo((i,r)=>YY(i,r.map(o=>o.payload),e),[]),ba(),Y(i=>i.map(r=>({type:r.type,payload:r}))))}function YY(t,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(t=QY(t,i))}),t}function aC(t,e,n,...i){let r=t.slice();return r.splice(e,n,...i),r}function QY(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return aC(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return aC(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return aC(t,e.oldIndex,1);break}return t}function P2(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var uy=class{ref;query;afs;constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=ly(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(Y(i=>i.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(ln(void 0),Ia(),Pe(([i,r])=>r.length>0||!i),Y(([,i])=>i),At)}auditTrail(e){return this.stateChanges(e).pipe(zo((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=P2(e);return M2(this.query,n,this.afs.schedulers.outsideAngular).pipe(At)}valueChanges(e={}){return lC(this.query,this.afs.schedulers.outsideAngular).pipe(Y(n=>n.payload.docs.map(i=>e.idField?Te(V({},i.data()),{[e.idField]:i.id}):i.data())),At)}get(e){return ye(this.query.get(e)).pipe(At)}add(e){return this.ref.add(e)}doc(e){return new cy(this.ref.doc(e),this.afs)}},cC=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?ly(this.query,this.afs.schedulers.outsideAngular).pipe(At):ly(this.query,this.afs.schedulers.outsideAngular).pipe(Y(n=>n.filter(i=>e.indexOf(i.type)>-1)),Pe(n=>n.length>0),At)}auditTrail(e){return this.stateChanges(e).pipe(zo((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=P2(e);return M2(this.query,n,this.afs.schedulers.outsideAngular).pipe(At)}valueChanges(e={}){return lC(this.query,this.afs.schedulers.outsideAngular).pipe(Y(i=>i.payload.docs.map(r=>e.idField?V({[e.idField]:r.id},r.data()):r.data())),At)}get(e){return ye(this.query.get(e)).pipe(At)}},k2=new F("angularfire2.enableFirestorePersistence"),N2=new F("angularfire2.firestore.persistenceSettings"),ZY=new F("angularfire2.firestore.settings"),XY=new F("angularfire2.firestore.use-emulator");function O2(t,e=n=>n){return{query:e(t),ref:t}}var JY=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,i,r,o,s,a,c,l,u,f,m,g,b,I,E,A,B){this.schedulers=c;let M=hs(n,a,i),R=u;f&&Eb(M,a,m,b,I,E,g,A),[this.firestore,this.persistenceEnabled$]=tc(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{let G=a.runOutsideAngular(()=>M.firestore());if(o&&G.settings(o),R&&G.useEmulator(...R),r&&!os(s)){let ee=()=>{try{return ye(G.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(Ce){return typeof console<"u"&&console.warn(Ce),W(!1)}};return[G,a.runOutsideAngular(ee)]}else return[G,W(!1)]},[o,R,r])}collection(n,i){let r;typeof n=="string"?r=this.firestore.collection(n):r=n;let{ref:o,query:s}=O2(r,i),a=this.schedulers.ngZone.run(()=>o);return new uy(a,s,this)}collectionGroup(n,i){let r=i||(s=>s),o=this.firestore.collectionGroup(n);return new cC(r(o),this)}doc(n){let i;typeof n=="string"?i=this.firestore.doc(n):i=n;let r=this.schedulers.ngZone.run(()=>i);return new cy(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||t)(_(so),_(ao,8),_(k2,8),_(ZY,8),_(pt),_(Z),_(ds),_(N2,8),_(XY,8),_(Ib,8),_(gb,8),_(yb,8),_(vb,8),_(_b,8),_(wb,8),_(bb,8),_(Li,8))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),F2=(()=>{class t{constructor(){wt.registerVersion("angularfire",Vi.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:k2,useValue:!0},{provide:N2,useValue:n}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=oe({type:t});static \u0275inj=se({providers:[JY]})}return t})();var L2={production:!1,firebaseConfig:{apiKey:"AIzaSyBH_g3d8yMuuJOfZqttgwQWfbEbyj_9kz8",authDomain:"front-ad0dc.firebaseapp.com",projectId:"front-ad0dc",storageBucket:"front-ad0dc.appspot.com",messagingSenderId:"782994755810",appId:"1:782994755810:web:b002b5319a822a5379cebb",measurementId:"G-MLKW7W7WXG"}};var eQ=[$1],V2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e,bootstrap:[eM]}),e.\u0275inj=se({imports:[lR,FP,Iu.forRoot([]),bP,yM.initializeApp(L2.firebaseConfig),eR,wP,eQ,F2,n1,LP]});let t=e;return t})();cR().bootstrapModule(V2).catch(t=>console.error(t));
