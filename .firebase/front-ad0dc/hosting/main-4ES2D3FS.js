import{A as Gn,B as wt,a as L,b as De,c as pj,d as lh,e as wy,f as T,g as BC,h as uh,i as UC,j as $C,k as HC,l as by,m as dh,n as vl,o as Ey,p as hh,q as fh,r as zC,s as Iy,t as Re,u as qn,v as mi,w as ph,x as Fo,y as mh,z as qC}from"./chunk-XAYG4UCW.js";var bu=pj((Fi,Kw)=>{"use strict";(function(t,e){typeof Fi=="object"&&typeof Kw<"u"?Kw.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Fi,function(){"use strict";var t={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};let e="swal2-",n=d=>{let h={};for(let p in d)h[d[p]]=e+d[p];return h},i=n(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),r=n(["success","warning","info","question","error"]),o="SweetAlert2:",s=d=>{let h=[];for(let p=0;p<d.length;p++)h.indexOf(d[p])===-1&&h.push(d[p]);return h},a=d=>d.charAt(0).toUpperCase()+d.slice(1),c=d=>{console.warn(`${o} ${typeof d=="object"?d.join(" "):d}`)},l=d=>{console.error(`${o} ${d}`)},u=[],f=d=>{u.includes(d)||(u.push(d),c(d))},m=(d,h)=>{f(`"${d}" is deprecated and will be removed in the next major release. Please use "${h}" instead.`)},g=d=>typeof d=="function"?d():d,w=d=>d&&typeof d.toPromise=="function",I=d=>w(d)?d.toPromise():Promise.resolve(d),E=d=>d&&Promise.resolve(d)===d,A=()=>document.body.querySelector(`.${i.container}`),B=d=>{let h=A();return h?h.querySelector(d):null},M=d=>B(`.${d}`),R=()=>M(i.popup),q=()=>M(i.icon),ee=()=>M(i["icon-content"]),Ie=()=>M(i.title),Je=()=>M(i["html-container"]),di=()=>M(i.image),Zs=()=>M(i["progress-steps"]),th=()=>M(i["validation-message"]),zn=()=>B(`.${i.actions} .${i.confirm}`),Sr=()=>B(`.${i.actions} .${i.deny}`),x2=()=>M(i["input-label"]),Xs=()=>B(`.${i.loader}`),ko=()=>B(`.${i.actions} .${i.cancel}`),fl=()=>M(i.actions),iC=()=>M(i.footer),nh=()=>M(i["timer-progress-bar"]),ry=()=>M(i.close),R2=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,oy=()=>{let d=Array.from(R().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((p,y)=>{let S=parseInt(p.getAttribute("tabindex")),K=parseInt(y.getAttribute("tabindex"));return S>K?1:S<K?-1:0}),h=Array.from(R().querySelectorAll(R2)).filter(p=>p.getAttribute("tabindex")!=="-1");return s(d.concat(h)).filter(p=>mn(p))},sy=()=>Xi(document.body,i.shown)&&!Xi(document.body,i["toast-shown"])&&!Xi(document.body,i["no-backdrop"]),ih=()=>R()&&Xi(R(),i.toast),M2=()=>R().hasAttribute("data-loading"),Js={previousBodyPadding:null},pn=(d,h)=>{if(d.textContent="",h){let y=new DOMParser().parseFromString(h,"text/html");Array.from(y.querySelector("head").childNodes).forEach(S=>{d.appendChild(S)}),Array.from(y.querySelector("body").childNodes).forEach(S=>{S instanceof HTMLVideoElement||S instanceof HTMLAudioElement?d.appendChild(S.cloneNode(!0)):d.appendChild(S)})}},Xi=(d,h)=>{if(!h)return!1;let p=h.split(/\s+/);for(let y=0;y<p.length;y++)if(!d.classList.contains(p[y]))return!1;return!0},P2=(d,h)=>{Array.from(d.classList).forEach(p=>{!Object.values(i).includes(p)&&!Object.values(r).includes(p)&&!Object.values(h.showClass).includes(p)&&d.classList.remove(p)})},Tn=(d,h,p)=>{if(P2(d,h),h.customClass&&h.customClass[p]){if(typeof h.customClass[p]!="string"&&!h.customClass[p].forEach){c(`Invalid type of customClass.${p}! Expected string or iterable object, got "${typeof h.customClass[p]}"`);return}Ce(d,h.customClass[p])}},ay=(d,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return d.querySelector(`.${i.popup} > .${i[h]}`);case"checkbox":return d.querySelector(`.${i.popup} > .${i.checkbox} input`);case"radio":return d.querySelector(`.${i.popup} > .${i.radio} input:checked`)||d.querySelector(`.${i.popup} > .${i.radio} input:first-child`);case"range":return d.querySelector(`.${i.popup} > .${i.range} input`);default:return d.querySelector(`.${i.popup} > .${i.input}`)}},rC=d=>{if(d.focus(),d.type!=="file"){let h=d.value;d.value="",d.value=h}},oC=(d,h,p)=>{!d||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(y=>{Array.isArray(d)?d.forEach(S=>{p?S.classList.add(y):S.classList.remove(y)}):p?d.classList.add(y):d.classList.remove(y)}))},Ce=(d,h)=>{oC(d,h,!0)},hi=(d,h)=>{oC(d,h,!1)},xr=(d,h)=>{let p=Array.from(d.children);for(let y=0;y<p.length;y++){let S=p[y];if(S instanceof HTMLElement&&Xi(S,h))return S}},ea=(d,h,p)=>{p===`${parseInt(p)}`&&(p=parseInt(p)),p||parseInt(p)===0?d.style[h]=typeof p=="number"?`${p}px`:p:d.style.removeProperty(h)},Pt=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d.style.display=h},Bt=d=>{d.style.display="none"},sC=(d,h,p,y)=>{let S=d.querySelector(h);S&&(S.style[p]=y)},rh=function(d,h){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?Pt(d,p):Bt(d)},mn=d=>!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length)),k2=()=>!mn(zn())&&!mn(Sr())&&!mn(ko()),aC=d=>d.scrollHeight>d.clientHeight,cC=d=>{let h=window.getComputedStyle(d),p=parseFloat(h.getPropertyValue("animation-duration")||"0"),y=parseFloat(h.getPropertyValue("transition-duration")||"0");return p>0||y>0},cy=function(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=nh();mn(p)&&(h&&(p.style.transition="none",p.style.width="100%"),setTimeout(()=>{p.style.transition=`width ${d/1e3}s linear`,p.style.width="0%"},10))},N2=()=>{let d=nh(),h=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";let p=parseInt(window.getComputedStyle(d).width),y=h/p*100;d.style.removeProperty("transition"),d.style.width=`${y}%`},O2=100,we={},F2=()=>{we.previousActiveElement instanceof HTMLElement?(we.previousActiveElement.focus(),we.previousActiveElement=null):document.body&&document.body.focus()},L2=d=>new Promise(h=>{if(!d)return h();let p=window.scrollX,y=window.scrollY;we.restoreFocusTimeout=setTimeout(()=>{F2(),h()},O2),window.scrollTo(p,y)}),lC=()=>typeof window>"u"||typeof document>"u",V2=`
 <div aria-labelledby="${i.title}" aria-describedby="${i["html-container"]}" class="${i.popup}" tabindex="-1">
   <button type="button" class="${i.close}"></button>
   <ul class="${i["progress-steps"]}"></ul>
   <div class="${i.icon}"></div>
   <img class="${i.image}" />
   <h2 class="${i.title}" id="${i.title}"></h2>
   <div class="${i["html-container"]}" id="${i["html-container"]}"></div>
   <input class="${i.input}" />
   <input type="file" class="${i.file}" />
   <div class="${i.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${i.select}"></select>
   <div class="${i.radio}"></div>
   <label for="${i.checkbox}" class="${i.checkbox}">
     <input type="checkbox" />
     <span class="${i.label}"></span>
   </label>
   <textarea class="${i.textarea}"></textarea>
   <div class="${i["validation-message"]}" id="${i["validation-message"]}"></div>
   <div class="${i.actions}">
     <div class="${i.loader}"></div>
     <button type="button" class="${i.confirm}"></button>
     <button type="button" class="${i.deny}"></button>
     <button type="button" class="${i.cancel}"></button>
   </div>
   <div class="${i.footer}"></div>
   <div class="${i["timer-progress-bar-container"]}">
     <div class="${i["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),j2=()=>{let d=A();return d?(d.remove(),hi([document.documentElement,document.body],[i["no-backdrop"],i["toast-shown"],i["has-column"]]),!0):!1},No=()=>{we.currentInstance.resetValidationMessage()},B2=()=>{let d=R(),h=xr(d,i.input),p=xr(d,i.file),y=d.querySelector(`.${i.range} input`),S=d.querySelector(`.${i.range} output`),K=xr(d,i.select),ct=d.querySelector(`.${i.checkbox} input`),pi=xr(d,i.textarea);h.oninput=No,p.onchange=No,K.onchange=No,ct.onchange=No,pi.oninput=No,y.oninput=()=>{No(),S.value=y.value},y.onchange=()=>{No(),S.value=y.value}},U2=d=>typeof d=="string"?document.querySelector(d):d,$2=d=>{let h=R();h.setAttribute("role",d.toast?"alert":"dialog"),h.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||h.setAttribute("aria-modal","true")},H2=d=>{window.getComputedStyle(d).direction==="rtl"&&Ce(A(),i.rtl)},z2=d=>{let h=j2();if(lC()){l("SweetAlert2 requires document to initialize");return}let p=document.createElement("div");p.className=i.container,h&&Ce(p,i["no-transition"]),pn(p,V2);let y=U2(d.target);y.appendChild(p),$2(d),H2(y),B2()},ly=(d,h)=>{d instanceof HTMLElement?h.appendChild(d):typeof d=="object"?q2(d,h):d&&pn(h,d)},q2=(d,h)=>{d.jquery?G2(h,d):pn(h,d.toString())},G2=(d,h)=>{if(d.textContent="",0 in h)for(let p=0;p in h;p++)d.appendChild(h[p].cloneNode(!0));else d.appendChild(h.cloneNode(!0))},pl=(()=>{if(lC())return!1;let d=document.createElement("div"),h={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(let p in h)if(Object.prototype.hasOwnProperty.call(h,p)&&typeof d.style[p]<"u")return h[p];return!1})(),W2=()=>{let d=document.createElement("div");d.className=i["scrollbar-measure"],document.body.appendChild(d);let h=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),h},K2=(d,h)=>{let p=fl(),y=Xs();!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Bt(p):Pt(p),Tn(p,h,"actions"),Y2(p,y,h),pn(y,h.loaderHtml),Tn(y,h,"loader")};function Y2(d,h,p){let y=zn(),S=Sr(),K=ko();uy(y,"confirm",p),uy(S,"deny",p),uy(K,"cancel",p),Q2(y,S,K,p),p.reverseButtons&&(p.toast?(d.insertBefore(K,y),d.insertBefore(S,y)):(d.insertBefore(K,h),d.insertBefore(S,h),d.insertBefore(y,h)))}function Q2(d,h,p,y){if(!y.buttonsStyling){hi([d,h,p],i.styled);return}Ce([d,h,p],i.styled),y.confirmButtonColor&&(d.style.backgroundColor=y.confirmButtonColor,Ce(d,i["default-outline"])),y.denyButtonColor&&(h.style.backgroundColor=y.denyButtonColor,Ce(h,i["default-outline"])),y.cancelButtonColor&&(p.style.backgroundColor=y.cancelButtonColor,Ce(p,i["default-outline"]))}function uy(d,h,p){rh(d,p[`show${a(h)}Button`],"inline-block"),pn(d,p[`${h}ButtonText`]),d.setAttribute("aria-label",p[`${h}ButtonAriaLabel`]),d.className=i[h],Tn(d,p,`${h}Button`),Ce(d,p[`${h}ButtonClass`])}let Z2=(d,h)=>{let p=ry();pn(p,h.closeButtonHtml),Tn(p,h,"closeButton"),rh(p,h.showCloseButton),p.setAttribute("aria-label",h.closeButtonAriaLabel)},X2=(d,h)=>{let p=A();p&&(J2(p,h.backdrop),eL(p,h.position),tL(p,h.grow),Tn(p,h,"container"))};function J2(d,h){typeof h=="string"?d.style.background=h:h||Ce([document.documentElement,document.body],i["no-backdrop"])}function eL(d,h){h in i?Ce(d,i[h]):(c('The "position" parameter is not valid, defaulting to "center"'),Ce(d,i.center))}function tL(d,h){if(h&&typeof h=="string"){let p=`grow-${h}`;p in i&&Ce(d,i[p])}}let nL=["input","file","range","select","radio","checkbox","textarea"],iL=(d,h)=>{let p=R(),y=t.innerParams.get(d),S=!y||h.input!==y.input;nL.forEach(K=>{let ct=xr(p,i[K]);sL(K,h.inputAttributes),ct.className=i[K],S&&Bt(ct)}),h.input&&(S&&rL(h),aL(h))},rL=d=>{if(!sn[d.input]){l(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${d.input}"`);return}let h=uC(d.input),p=sn[d.input](h,d);Pt(h),setTimeout(()=>{rC(p)})},oL=d=>{for(let h=0;h<d.attributes.length;h++){let p=d.attributes[h].name;["type","value","style"].includes(p)||d.removeAttribute(p)}},sL=(d,h)=>{let p=ay(R(),d);if(p){oL(p);for(let y in h)p.setAttribute(y,h[y])}},aL=d=>{let h=uC(d.input);typeof d.customClass=="object"&&Ce(h,d.customClass.input)},dy=(d,h)=>{(!d.placeholder||h.inputPlaceholder)&&(d.placeholder=h.inputPlaceholder)},ml=(d,h,p)=>{if(p.inputLabel){d.id=i.input;let y=document.createElement("label"),S=i["input-label"];y.setAttribute("for",d.id),y.className=S,typeof p.customClass=="object"&&Ce(y,p.customClass.inputLabel),y.innerText=p.inputLabel,h.insertAdjacentElement("beforebegin",y)}},uC=d=>xr(R(),i[d]||i.input),oh=(d,h)=>{["string","number"].includes(typeof h)?d.value=`${h}`:E(h)||c(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},sn={};sn.text=sn.email=sn.password=sn.number=sn.tel=sn.url=(d,h)=>(oh(d,h.inputValue),ml(d,d,h),dy(d,h),d.type=h.input,d),sn.file=(d,h)=>(ml(d,d,h),dy(d,h),d),sn.range=(d,h)=>{let p=d.querySelector("input"),y=d.querySelector("output");return oh(p,h.inputValue),p.type=h.input,oh(y,h.inputValue),ml(p,d,h),d},sn.select=(d,h)=>{if(d.textContent="",h.inputPlaceholder){let p=document.createElement("option");pn(p,h.inputPlaceholder),p.value="",p.disabled=!0,p.selected=!0,d.appendChild(p)}return ml(d,d,h),d},sn.radio=d=>(d.textContent="",d),sn.checkbox=(d,h)=>{let p=ay(R(),"checkbox");p.value="1",p.id=i.checkbox,p.checked=!!h.inputValue;let y=d.querySelector("span");return pn(y,h.inputPlaceholder),p},sn.textarea=(d,h)=>{oh(d,h.inputValue),dy(d,h),ml(d,d,h);let p=y=>parseInt(window.getComputedStyle(y).marginLeft)+parseInt(window.getComputedStyle(y).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let y=parseInt(window.getComputedStyle(R()).width),S=()=>{let K=d.offsetWidth+p(d);K>y?R().style.width=`${K}px`:R().style.width=null};new MutationObserver(S).observe(d,{attributes:!0,attributeFilter:["style"]})}}),d};let cL=(d,h)=>{let p=Je();Tn(p,h,"htmlContainer"),h.html?(ly(h.html,p),Pt(p,"block")):h.text?(p.textContent=h.text,Pt(p,"block")):Bt(p),iL(d,h)},lL=(d,h)=>{let p=iC();rh(p,h.footer),h.footer&&ly(h.footer,p),Tn(p,h,"footer")},uL=(d,h)=>{let p=t.innerParams.get(d),y=q();if(p&&h.icon===p.icon){hC(y,h),dC(y,h);return}if(!h.icon&&!h.iconHtml){Bt(y);return}if(h.icon&&Object.keys(r).indexOf(h.icon)===-1){l(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),Bt(y);return}Pt(y),hC(y,h),dC(y,h),Ce(y,h.showClass.icon)},dC=(d,h)=>{for(let p in r)h.icon!==p&&hi(d,r[p]);Ce(d,r[h.icon]),pL(d,h),dL(),Tn(d,h,"icon")},dL=()=>{let d=R(),h=window.getComputedStyle(d).getPropertyValue("background-color"),p=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let y=0;y<p.length;y++)p[y].style.backgroundColor=h},hL=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,fL=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,hC=(d,h)=>{let p=d.innerHTML,y;h.iconHtml?y=fC(h.iconHtml):h.icon==="success"?(y=hL,p=p.replace(/ style=".*?"/g,"")):h.icon==="error"?y=fL:y=fC({question:"?",warning:"!",info:"i"}[h.icon]),p.trim()!==y.trim()&&pn(d,y)},pL=(d,h)=>{if(h.iconColor){d.style.color=h.iconColor,d.style.borderColor=h.iconColor;for(let p of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])sC(d,p,"backgroundColor",h.iconColor);sC(d,".swal2-success-ring","borderColor",h.iconColor)}},fC=d=>`<div class="${i["icon-content"]}">${d}</div>`,mL=(d,h)=>{let p=di();if(!h.imageUrl){Bt(p);return}Pt(p,""),p.setAttribute("src",h.imageUrl),p.setAttribute("alt",h.imageAlt),ea(p,"width",h.imageWidth),ea(p,"height",h.imageHeight),p.className=i.image,Tn(p,h,"image")},gL=(d,h)=>{let p=A(),y=R();h.toast?(ea(p,"width",h.width),y.style.width="100%",y.insertBefore(Xs(),q())):ea(y,"width",h.width),ea(y,"padding",h.padding),h.color&&(y.style.color=h.color),h.background&&(y.style.background=h.background),Bt(th()),yL(y,h)},yL=(d,h)=>{d.className=`${i.popup} ${mn(d)?h.showClass.popup:""}`,h.toast?(Ce([document.documentElement,document.body],i["toast-shown"]),Ce(d,i.toast)):Ce(d,i.modal),Tn(d,h,"popup"),typeof h.customClass=="string"&&Ce(d,h.customClass),h.icon&&Ce(d,i[`icon-${h.icon}`])},vL=(d,h)=>{let p=Zs();if(!h.progressSteps||h.progressSteps.length===0){Bt(p);return}Pt(p),p.textContent="",h.currentProgressStep>=h.progressSteps.length&&c("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),h.progressSteps.forEach((y,S)=>{let K=_L(y);if(p.appendChild(K),S===h.currentProgressStep&&Ce(K,i["active-progress-step"]),S!==h.progressSteps.length-1){let ct=wL(h);p.appendChild(ct)}})},_L=d=>{let h=document.createElement("li");return Ce(h,i["progress-step"]),pn(h,d),h},wL=d=>{let h=document.createElement("li");return Ce(h,i["progress-step-line"]),d.progressStepsDistance&&ea(h,"width",d.progressStepsDistance),h},bL=(d,h)=>{let p=Ie();rh(p,h.title||h.titleText,"block"),h.title&&ly(h.title,p),h.titleText&&(p.innerText=h.titleText),Tn(p,h,"title")},pC=(d,h)=>{gL(d,h),X2(d,h),vL(d,h),uL(d,h),mL(d,h),bL(d,h),Z2(d,h),cL(d,h),K2(d,h),lL(d,h),typeof h.didRender=="function"&&h.didRender(R())};function mC(){let d=t.innerParams.get(this);if(!d)return;let h=t.domCache.get(this);Bt(h.loader),ih()?d.icon&&Pt(q()):EL(h),hi([h.popup,h.actions],i.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let EL=d=>{let h=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));h.length?Pt(h[0],"inline-block"):k2()&&Bt(d.actions)};function IL(d){let h=t.innerParams.get(d||this),p=t.domCache.get(d||this);return p?ay(p.popup,h.input):null}let DL=()=>mn(R()),gC=()=>zn()&&zn().click(),CL=()=>Sr()&&Sr().click(),TL=()=>ko()&&ko().click(),ta=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),yC=d=>{d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},AL=(d,h,p,y)=>{yC(h),p.toast||(h.keydownHandler=S=>xL(d,S,y),h.keydownTarget=p.keydownListenerCapture?window:R(),h.keydownListenerCapture=p.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},hy=(d,h,p)=>{let y=oy();if(y.length)return h=h+p,h===y.length?h=0:h===-1&&(h=y.length-1),y[h].focus();R().focus()},vC=["ArrowRight","ArrowDown"],SL=["ArrowLeft","ArrowUp"],xL=(d,h,p)=>{let y=t.innerParams.get(d);y&&(h.isComposing||h.keyCode===229||(y.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?RL(d,h,y):h.key==="Tab"?ML(h,y):[...vC,...SL].includes(h.key)?PL(h.key):h.key==="Escape"&&kL(h,y,p)))},RL=(d,h,p)=>{if(g(p.allowEnterKey)&&h.target&&d.getInput()&&h.target instanceof HTMLElement&&h.target.outerHTML===d.getInput().outerHTML){if(["textarea","file"].includes(p.input))return;gC(),h.preventDefault()}},ML=(d,h)=>{let p=d.target,y=oy(),S=-1;for(let K=0;K<y.length;K++)if(p===y[K]){S=K;break}d.shiftKey?hy(h,S,-1):hy(h,S,1),d.stopPropagation(),d.preventDefault()},PL=d=>{let h=zn(),p=Sr(),y=ko();if(document.activeElement instanceof HTMLElement&&![h,p,y].includes(document.activeElement))return;let S=vC.includes(d)?"nextElementSibling":"previousElementSibling",K=document.activeElement;for(let ct=0;ct<fl().children.length;ct++){if(K=K[S],!K)return;if(K instanceof HTMLButtonElement&&mn(K))break}K instanceof HTMLButtonElement&&K.focus()},kL=(d,h,p)=>{g(h.allowEscapeKey)&&(d.preventDefault(),p(ta.esc))};var gl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let NL=()=>{Array.from(document.body.children).forEach(h=>{h===A()||h.contains(A())||(h.hasAttribute("aria-hidden")&&h.setAttribute("data-previous-aria-hidden",h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))})},_C=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},OL=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Xi(document.body,i.iosfix)){let h=document.body.scrollTop;document.body.style.top=`${h*-1}px`,Ce(document.body,i.iosfix),LL(),FL()}},FL=()=>{let d=navigator.userAgent,h=!!d.match(/iPad/i)||!!d.match(/iPhone/i),p=!!d.match(/WebKit/i);h&&p&&!d.match(/CriOS/i)&&R().scrollHeight>window.innerHeight-44&&(A().style.paddingBottom="44px")},LL=()=>{let d=A(),h;d.ontouchstart=p=>{h=VL(p)},d.ontouchmove=p=>{h&&(p.preventDefault(),p.stopPropagation())}},VL=d=>{let h=d.target,p=A();return jL(d)||BL(d)?!1:h===p||!aC(p)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(aC(Je())&&Je().contains(h))},jL=d=>d.touches&&d.touches.length&&d.touches[0].touchType==="stylus",BL=d=>d.touches&&d.touches.length>1,UL=()=>{if(Xi(document.body,i.iosfix)){let d=parseInt(document.body.style.top,10);hi(document.body,i.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},$L=()=>{Js.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Js.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Js.previousBodyPadding+W2()}px`)},HL=()=>{Js.previousBodyPadding!==null&&(document.body.style.paddingRight=`${Js.previousBodyPadding}px`,Js.previousBodyPadding=null)};function wC(d,h,p,y){ih()?bC(d,y):(L2(p).then(()=>bC(d,y)),yC(we)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),sy()&&(HL(),UL(),_C()),zL()}function zL(){hi([document.documentElement,document.body],[i.shown,i["height-auto"],i["no-backdrop"],i["toast-shown"]])}function sh(d){d=KL(d);let h=gl.swalPromiseResolve.get(this),p=GL(this);this.isAwaitingPromise()?d.isDismissed||(yl(this),h(d)):p&&h(d)}function qL(){return!!t.awaitingPromise.get(this)}let GL=d=>{let h=R();if(!h)return!1;let p=t.innerParams.get(d);if(!p||Xi(h,p.hideClass.popup))return!1;hi(h,p.showClass.popup),Ce(h,p.hideClass.popup);let y=A();return hi(y,p.showClass.backdrop),Ce(y,p.hideClass.backdrop),YL(d,h,p),!0};function WL(d){let h=gl.swalPromiseReject.get(this);yl(this),h&&h(d)}let yl=d=>{d.isAwaitingPromise()&&(t.awaitingPromise.delete(d),t.innerParams.get(d)||d._destroy())},KL=d=>typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d),YL=(d,h,p)=>{let y=A(),S=pl&&cC(h);typeof p.willClose=="function"&&p.willClose(h),S?QL(d,h,y,p.returnFocus,p.didClose):wC(d,y,p.returnFocus,p.didClose)},QL=(d,h,p,y,S)=>{we.swalCloseEventFinishedCallback=wC.bind(null,d,p,y,S),h.addEventListener(pl,function(K){K.target===h&&(we.swalCloseEventFinishedCallback(),delete we.swalCloseEventFinishedCallback)})},bC=(d,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(d.params)(),d._destroy()})};function EC(d,h,p){let y=t.domCache.get(d);h.forEach(S=>{y[S].disabled=p})}function IC(d,h){if(d)if(d.type==="radio"){let y=d.parentNode.parentNode.querySelectorAll("input");for(let S=0;S<y.length;S++)y[S].disabled=h}else d.disabled=h}function ZL(){EC(this,["confirmButton","denyButton","cancelButton"],!1)}function XL(){EC(this,["confirmButton","denyButton","cancelButton"],!0)}function JL(){IC(this.getInput(),!1)}function eV(){IC(this.getInput(),!0)}function tV(d){let h=t.domCache.get(this),p=t.innerParams.get(this);pn(h.validationMessage,d),h.validationMessage.className=i["validation-message"],p.customClass&&p.customClass.validationMessage&&Ce(h.validationMessage,p.customClass.validationMessage),Pt(h.validationMessage);let y=this.getInput();y&&(y.setAttribute("aria-invalid",!0),y.setAttribute("aria-describedby",i["validation-message"]),rC(y),Ce(y,i.inputerror))}function nV(){let d=t.domCache.get(this);d.validationMessage&&Bt(d.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),hi(h,i.inputerror))}let na={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},iV=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],rV={},oV=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],DC=d=>Object.prototype.hasOwnProperty.call(na,d),CC=d=>iV.indexOf(d)!==-1,fy=d=>rV[d],sV=d=>{DC(d)||c(`Unknown parameter "${d}"`)},aV=d=>{oV.includes(d)&&c(`The parameter "${d}" is incompatible with toasts`)},cV=d=>{fy(d)&&m(d,fy(d))},lV=d=>{d.backdrop===!1&&d.allowOutsideClick&&c('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in d)sV(h),d.toast&&aV(h),cV(h)};function uV(d){let h=R(),p=t.innerParams.get(this);if(!h||Xi(h,p.hideClass.popup)){c("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let y=dV(d),S=Object.assign({},p,y);pC(this,S),t.innerParams.set(this,S),Object.defineProperties(this,{params:{value:Object.assign({},this.params,d),writable:!1,enumerable:!0}})}let dV=d=>{let h={};return Object.keys(d).forEach(p=>{CC(p)?h[p]=d[p]:c(`Invalid parameter to update: ${p}`)}),h};function hV(){let d=t.domCache.get(this),h=t.innerParams.get(this);if(!h){TC(this);return}d.popup&&we.swalCloseEventFinishedCallback&&(we.swalCloseEventFinishedCallback(),delete we.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),fV(this)}let fV=d=>{TC(d),delete d.params,delete we.keydownHandler,delete we.keydownTarget,delete we.currentInstance},TC=d=>{d.isAwaitingPromise()?(py(t,d),t.awaitingPromise.set(d,!0)):(py(gl,d),py(t,d))},py=(d,h)=>{for(let p in d)d[p].delete(h)};var AC=Object.freeze({__proto__:null,hideLoading:mC,disableLoading:mC,getInput:IL,close:sh,isAwaitingPromise:qL,rejectPromise:WL,handleAwaitingPromise:yl,closePopup:sh,closeModal:sh,closeToast:sh,enableButtons:ZL,disableButtons:XL,enableInput:JL,disableInput:eV,showValidationMessage:tV,resetValidationMessage:nV,update:uV,_destroy:hV});let ia=d=>{let h=R();h||new ch,h=R();let p=Xs();ih()?Bt(q()):pV(h,d),Pt(p),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},pV=(d,h)=>{let p=fl(),y=Xs();!h&&mn(zn())&&(h=zn()),Pt(p),h&&(Bt(h),y.setAttribute("data-button-to-replace",h.className)),y.parentNode.insertBefore(y,h),Ce([d,p],i.loading)},mV=(d,h)=>{h.input==="select"||h.input==="radio"?wV(d,h):["text","email","number","tel","textarea"].includes(h.input)&&(w(h.inputValue)||E(h.inputValue))&&(ia(zn()),bV(d,h))},gV=(d,h)=>{let p=d.getInput();if(!p)return null;switch(h.input){case"checkbox":return yV(p);case"radio":return vV(p);case"file":return _V(p);default:return h.inputAutoTrim?p.value.trim():p.value}},yV=d=>d.checked?1:0,vV=d=>d.checked?d.value:null,_V=d=>d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null,wV=(d,h)=>{let p=R(),y=S=>{EV[h.input](p,my(S),h)};w(h.inputOptions)||E(h.inputOptions)?(ia(zn()),I(h.inputOptions).then(S=>{d.hideLoading(),y(S)})):typeof h.inputOptions=="object"?y(h.inputOptions):l(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},bV=(d,h)=>{let p=d.getInput();Bt(p),I(h.inputValue).then(y=>{p.value=h.input==="number"?`${parseFloat(y)||0}`:`${y}`,Pt(p),p.focus(),d.hideLoading()}).catch(y=>{l(`Error in inputValue promise: ${y}`),p.value="",Pt(p),p.focus(),d.hideLoading()})},EV={select:(d,h,p)=>{let y=xr(d,i.select),S=(K,ct,pi)=>{let Wt=document.createElement("option");Wt.value=pi,pn(Wt,ct),Wt.selected=SC(pi,p.inputValue),K.appendChild(Wt)};h.forEach(K=>{let ct=K[0],pi=K[1];if(Array.isArray(pi)){let Wt=document.createElement("optgroup");Wt.label=ct,Wt.disabled=!1,y.appendChild(Wt),pi.forEach(oa=>S(Wt,oa[1],oa[0]))}else S(y,pi,ct)}),y.focus()},radio:(d,h,p)=>{let y=xr(d,i.radio);h.forEach(K=>{let ct=K[0],pi=K[1],Wt=document.createElement("input"),oa=document.createElement("label");Wt.type="radio",Wt.name=i.radio,Wt.value=ct,SC(ct,p.inputValue)&&(Wt.checked=!0);let _y=document.createElement("span");pn(_y,pi),_y.className=i.label,oa.appendChild(Wt),oa.appendChild(_y),y.appendChild(oa)});let S=y.querySelectorAll("input");S.length&&S[0].focus()}},my=d=>{let h=[];return typeof Map<"u"&&d instanceof Map?d.forEach((p,y)=>{let S=p;typeof S=="object"&&(S=my(S)),h.push([y,S])}):Object.keys(d).forEach(p=>{let y=d[p];typeof y=="object"&&(y=my(y)),h.push([p,y])}),h},SC=(d,h)=>h&&h.toString()===d.toString(),IV=d=>{let h=t.innerParams.get(d);d.disableButtons(),h.input?xC(d,"confirm"):yy(d,!0)},DV=d=>{let h=t.innerParams.get(d);d.disableButtons(),h.returnInputValueOnDeny?xC(d,"deny"):gy(d,!1)},CV=(d,h)=>{d.disableButtons(),h(ta.cancel)},xC=(d,h)=>{let p=t.innerParams.get(d);if(!p.input){l(`The "input" parameter is needed to be set when using returnInputValueOn${a(h)}`);return}let y=gV(d,p);p.inputValidator?TV(d,y,h):d.getInput().checkValidity()?h==="deny"?gy(d,y):yy(d,y):(d.enableButtons(),d.showValidationMessage(p.validationMessage))},TV=(d,h,p)=>{let y=t.innerParams.get(d);d.disableInput(),Promise.resolve().then(()=>I(y.inputValidator(h,y.validationMessage))).then(K=>{d.enableButtons(),d.enableInput(),K?d.showValidationMessage(K):p==="deny"?gy(d,h):yy(d,h)})},gy=(d,h)=>{let p=t.innerParams.get(d||void 0);p.showLoaderOnDeny&&ia(Sr()),p.preDeny?(t.awaitingPromise.set(d||void 0,!0),Promise.resolve().then(()=>I(p.preDeny(h,p.validationMessage))).then(S=>{S===!1?(d.hideLoading(),yl(d)):d.close({isDenied:!0,value:typeof S>"u"?h:S})}).catch(S=>MC(d||void 0,S))):d.close({isDenied:!0,value:h})},RC=(d,h)=>{d.close({isConfirmed:!0,value:h})},MC=(d,h)=>{d.rejectPromise(h)},yy=(d,h)=>{let p=t.innerParams.get(d||void 0);p.showLoaderOnConfirm&&ia(),p.preConfirm?(d.resetValidationMessage(),t.awaitingPromise.set(d||void 0,!0),Promise.resolve().then(()=>I(p.preConfirm(h,p.validationMessage))).then(S=>{mn(th())||S===!1?(d.hideLoading(),yl(d)):RC(d,typeof S>"u"?h:S)}).catch(S=>MC(d||void 0,S))):RC(d,h)},AV=(d,h,p)=>{t.innerParams.get(d).toast?SV(d,h,p):(RV(h),MV(h),PV(d,h,p))},SV=(d,h,p)=>{h.popup.onclick=()=>{let y=t.innerParams.get(d);y&&(xV(y)||y.timer||y.input)||p(ta.close)}},xV=d=>d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton,ah=!1,RV=d=>{d.popup.onmousedown=()=>{d.container.onmouseup=function(h){d.container.onmouseup=void 0,h.target===d.container&&(ah=!0)}}},MV=d=>{d.container.onmousedown=()=>{d.popup.onmouseup=function(h){d.popup.onmouseup=void 0,(h.target===d.popup||d.popup.contains(h.target))&&(ah=!0)}}},PV=(d,h,p)=>{h.container.onclick=y=>{let S=t.innerParams.get(d);if(ah){ah=!1;return}y.target===h.container&&g(S.allowOutsideClick)&&p(ta.backdrop)}},kV=d=>typeof d=="object"&&d.jquery,PC=d=>d instanceof Element||kV(d),NV=d=>{let h={};return typeof d[0]=="object"&&!PC(d[0])?Object.assign(h,d[0]):["title","html","icon"].forEach((p,y)=>{let S=d[y];typeof S=="string"||PC(S)?h[p]=S:S!==void 0&&l(`Unexpected type of ${p}! Expected "string" or "Element", got ${typeof S}`)}),h};function OV(){let d=this;for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];return new d(...p)}function FV(d){class h extends this{_main(y,S){return super._main(y,Object.assign({},d,S))}}return h}let LV=()=>we.timeout&&we.timeout.getTimerLeft(),kC=()=>{if(we.timeout)return N2(),we.timeout.stop()},NC=()=>{if(we.timeout){let d=we.timeout.start();return cy(d),d}},VV=()=>{let d=we.timeout;return d&&(d.running?kC():NC())},jV=d=>{if(we.timeout){let h=we.timeout.increase(d);return cy(h,!0),h}},BV=()=>we.timeout&&we.timeout.isRunning(),OC=!1,vy={};function UV(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";vy[d]=this,OC||(document.body.addEventListener("click",$V),OC=!0)}let $V=d=>{for(let h=d.target;h&&h!==document;h=h.parentNode)for(let p in vy){let y=h.getAttribute(p);if(y){vy[p].fire({template:y});return}}};var HV=Object.freeze({__proto__:null,isValidParameter:DC,isUpdatableParameter:CC,isDeprecatedParameter:fy,argsToParams:NV,getContainer:A,getPopup:R,getTitle:Ie,getHtmlContainer:Je,getImage:di,getIcon:q,getIconContent:ee,getInputLabel:x2,getCloseButton:ry,getActions:fl,getConfirmButton:zn,getDenyButton:Sr,getCancelButton:ko,getLoader:Xs,getFooter:iC,getTimerProgressBar:nh,getFocusableElements:oy,getValidationMessage:th,getProgressSteps:Zs,isLoading:M2,isVisible:DL,clickConfirm:gC,clickDeny:CL,clickCancel:TL,fire:OV,mixin:FV,showLoading:ia,enableLoading:ia,getTimerLeft:LV,stopTimer:kC,resumeTimer:NC,toggleTimer:VV,increaseTimer:jV,isTimerRunning:BV,bindClickHandler:UV});class zV{constructor(h,p){this.callback=h,this.remaining=p,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let p=this.running;return p&&this.stop(),this.remaining+=h,p&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let FC=["swal-title","swal-html","swal-footer"],qV=d=>{let h=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!h)return{};let p=h.content;return JV(p),Object.assign(GV(p),WV(p),KV(p),YV(p),QV(p),ZV(p),XV(p,FC))},GV=d=>{let h={};return Array.from(d.querySelectorAll("swal-param")).forEach(y=>{Oo(y,["name","value"]);let S=y.getAttribute("name"),K=y.getAttribute("value");typeof na[S]=="boolean"?h[S]=K!=="false":typeof na[S]=="object"?h[S]=JSON.parse(K):h[S]=K}),h},WV=d=>{let h={};return Array.from(d.querySelectorAll("swal-function-param")).forEach(y=>{let S=y.getAttribute("name"),K=y.getAttribute("value");h[S]=new Function(`return ${K}`)()}),h},KV=d=>{let h={};return Array.from(d.querySelectorAll("swal-button")).forEach(y=>{Oo(y,["type","color","aria-label"]);let S=y.getAttribute("type");h[`${S}ButtonText`]=y.innerHTML,h[`show${a(S)}Button`]=!0,y.hasAttribute("color")&&(h[`${S}ButtonColor`]=y.getAttribute("color")),y.hasAttribute("aria-label")&&(h[`${S}ButtonAriaLabel`]=y.getAttribute("aria-label"))}),h},YV=d=>{let h={},p=d.querySelector("swal-image");return p&&(Oo(p,["src","width","height","alt"]),p.hasAttribute("src")&&(h.imageUrl=p.getAttribute("src")),p.hasAttribute("width")&&(h.imageWidth=p.getAttribute("width")),p.hasAttribute("height")&&(h.imageHeight=p.getAttribute("height")),p.hasAttribute("alt")&&(h.imageAlt=p.getAttribute("alt"))),h},QV=d=>{let h={},p=d.querySelector("swal-icon");return p&&(Oo(p,["type","color"]),p.hasAttribute("type")&&(h.icon=p.getAttribute("type")),p.hasAttribute("color")&&(h.iconColor=p.getAttribute("color")),h.iconHtml=p.innerHTML),h},ZV=d=>{let h={},p=d.querySelector("swal-input");p&&(Oo(p,["type","label","placeholder","value"]),h.input=p.getAttribute("type")||"text",p.hasAttribute("label")&&(h.inputLabel=p.getAttribute("label")),p.hasAttribute("placeholder")&&(h.inputPlaceholder=p.getAttribute("placeholder")),p.hasAttribute("value")&&(h.inputValue=p.getAttribute("value")));let y=Array.from(d.querySelectorAll("swal-input-option"));return y.length&&(h.inputOptions={},y.forEach(S=>{Oo(S,["value"]);let K=S.getAttribute("value"),ct=S.innerHTML;h.inputOptions[K]=ct})),h},XV=(d,h)=>{let p={};for(let y in h){let S=h[y],K=d.querySelector(S);K&&(Oo(K,[]),p[S.replace(/^swal-/,"")]=K.innerHTML.trim())}return p},JV=d=>{let h=FC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(p=>{let y=p.tagName.toLowerCase();h.includes(y)||c(`Unrecognized element <${y}>`)})},Oo=(d,h)=>{Array.from(d.attributes).forEach(p=>{h.indexOf(p.name)===-1&&c([`Unrecognized attribute "${p.name}" on <${d.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},LC=10,ej=d=>{let h=A(),p=R();typeof d.willOpen=="function"&&d.willOpen(p);let S=window.getComputedStyle(document.body).overflowY;ij(h,p,d),setTimeout(()=>{tj(h,p)},LC),sy()&&(nj(h,d.scrollbarPadding,S),NL()),!ih()&&!we.previousActiveElement&&(we.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(()=>d.didOpen(p)),hi(h,i["no-transition"])},VC=d=>{let h=R();if(d.target!==h)return;let p=A();h.removeEventListener(pl,VC),p.style.overflowY="auto"},tj=(d,h)=>{pl&&cC(h)?(d.style.overflowY="hidden",h.addEventListener(pl,VC)):d.style.overflowY="auto"},nj=(d,h,p)=>{OL(),h&&p!=="hidden"&&$L(),setTimeout(()=>{d.scrollTop=0})},ij=(d,h,p)=>{Ce(d,p.showClass.backdrop),h.style.setProperty("opacity","0","important"),Pt(h,"grid"),setTimeout(()=>{Ce(h,p.showClass.popup),h.style.removeProperty("opacity")},LC),Ce([document.documentElement,document.body],i.shown),p.heightAuto&&p.backdrop&&!p.toast&&Ce([document.documentElement,document.body],i["height-auto"])};var jC={email:(d,h)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(d,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function rj(d){d.inputValidator||Object.keys(jC).forEach(h=>{d.input===h&&(d.inputValidator=jC[h])})}function oj(d){(!d.target||typeof d.target=="string"&&!document.querySelector(d.target)||typeof d.target!="string"&&!d.target.appendChild)&&(c('Target parameter is not valid, defaulting to "body"'),d.target="body")}function sj(d){rj(d),d.showLoaderOnConfirm&&!d.preConfirm&&c(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),oj(d),typeof d.title=="string"&&(d.title=d.title.split(`
`).join("<br />")),z2(d)}let fi;class ra{constructor(){if(typeof window>"u")return;fi=this;for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];let S=Object.freeze(this.constructor.argsToParams(p));Object.defineProperties(this,{params:{value:S,writable:!1,enumerable:!0,configurable:!0}});let K=fi._main(fi.params);t.promise.set(this,K)}_main(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};lV(Object.assign({},p,h)),we.currentInstance&&(we.currentInstance._destroy(),sy()&&_C()),we.currentInstance=fi;let y=cj(h,p);sj(y),Object.freeze(y),we.timeout&&(we.timeout.stop(),delete we.timeout),clearTimeout(we.restoreFocusTimeout);let S=lj(fi);return pC(fi,y),t.innerParams.set(fi,y),aj(fi,S,y)}then(h){return t.promise.get(this).then(h)}finally(h){return t.promise.get(this).finally(h)}}let aj=(d,h,p)=>new Promise((y,S)=>{let K=ct=>{d.close({isDismissed:!0,dismiss:ct})};gl.swalPromiseResolve.set(d,y),gl.swalPromiseReject.set(d,S),h.confirmButton.onclick=()=>{IV(d)},h.denyButton.onclick=()=>{DV(d)},h.cancelButton.onclick=()=>{CV(d,K)},h.closeButton.onclick=()=>{K(ta.close)},AV(d,h,K),AL(d,we,p,K),mV(d,p),ej(p),uj(we,p,K),dj(h,p),setTimeout(()=>{h.container.scrollTop=0})}),cj=(d,h)=>{let p=qV(d),y=Object.assign({},na,h,p,d);return y.showClass=Object.assign({},na.showClass,y.showClass),y.hideClass=Object.assign({},na.hideClass,y.hideClass),y},lj=d=>{let h={popup:R(),container:A(),actions:fl(),confirmButton:zn(),denyButton:Sr(),cancelButton:ko(),loader:Xs(),closeButton:ry(),validationMessage:th(),progressSteps:Zs()};return t.domCache.set(d,h),h},uj=(d,h,p)=>{let y=nh();Bt(y),h.timer&&(d.timeout=new zV(()=>{p("timer"),delete d.timeout},h.timer),h.timerProgressBar&&(Pt(y),Tn(y,h,"timerProgressBar"),setTimeout(()=>{d.timeout&&d.timeout.running&&cy(h.timer)})))},dj=(d,h)=>{if(!h.toast){if(!g(h.allowEnterKey)){fj();return}hj(d,h)||hy(h,-1,1)}},hj=(d,h)=>h.focusDeny&&mn(d.denyButton)?(d.denyButton.focus(),!0):h.focusCancel&&mn(d.cancelButton)?(d.cancelButton.focus(),!0):h.focusConfirm&&mn(d.confirmButton)?(d.confirmButton.focus(),!0):!1,fj=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){let d=new Date,h=localStorage.getItem("swal-initiation");h?(d.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let p=document.createElement("audio");p.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",p.loop=!0,document.body.appendChild(p),setTimeout(()=>{p.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${d}`)}Object.assign(ra.prototype,AC),Object.assign(ra,HV),Object.keys(AC).forEach(d=>{ra[d]=function(){if(fi)return fi[d](...arguments)}}),ra.DismissReason=ta,ra.version="11.6.13";let ch=ra;return ch.default=ch,ch});typeof Fi<"u"&&Fi.Sweetalert2&&(Fi.swal=Fi.sweetAlert=Fi.Swal=Fi.SweetAlert=Fi.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')});var GC=null;var Dy=1,WC=Symbol("SIGNAL");function gn(t){let e=GC;return GC=t,e}var KC={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mj(t){if(!(Ay(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Dy)){if(!t.producerMustRecompute(t)&&!Cy(t)){t.dirty=!1,t.lastCleanEpoch=Dy;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Dy}}function YC(t){return t&&(t.nextProducerIndex=0),gn(t)}function QC(t,e){if(gn(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ay(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ty(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Cy(t){gh(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(mj(n),i!==n.version))return!0}return!1}function ZC(t){if(gh(t),Ay(t))for(let e=0;e<t.producerNode.length;e++)Ty(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ty(t,e){if(gj(t),gh(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Ty(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];gh(r),r.producerIndexOfThis[i]=e}}function Ay(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function gh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function gj(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function yj(){throw new Error}var vj=yj;function XC(t){vj=t}function te(t){return typeof t=="function"}function sa(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var yh=sa(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Lo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(te(i))try{i()}catch(o){e=o instanceof yh?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{JC(o)}catch(s){e=e??[],s instanceof yh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new yh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)JC(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Lo(n,e)}remove(e){let{_finalizers:n}=this;n&&Lo(n,e),e instanceof t&&e._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var Sy=qe.EMPTY;function vh(t){return t instanceof qe||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function JC(t){te(t)?t():t.unsubscribe()}var Wn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var aa={setTimeout(t,e,...n){let{delegate:i}=aa;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=aa;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function _h(t){aa.setTimeout(()=>{let{onUnhandledError:e}=Wn;if(e)e(t);else throw t})}function _l(){}var eT=xy("C",void 0,void 0);function tT(t){return xy("E",void 0,t)}function nT(t){return xy("N",t,void 0)}function xy(t,e,n){return{kind:t,value:e,error:n}}var Vo=null;function ca(t){if(Wn.useDeprecatedSynchronousErrorHandling){let e=!Vo;if(e&&(Vo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Vo;if(Vo=null,n)throw i}}else t()}function iT(t){Wn.useDeprecatedSynchronousErrorHandling&&Vo&&(Vo.errorThrown=!0,Vo.error=t)}var jo=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vh(e)&&e.add(this)):this.destination=bj}static create(e,n,i){return new Ji(e,n,i)}next(e){this.isStopped?My(nT(e),this):this._next(e)}error(e){this.isStopped?My(tT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?My(eT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_j=Function.prototype.bind;function Ry(t,e){return _j.call(t,e)}var Py=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){wh(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){wh(i)}else wh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){wh(n)}}},Ji=class extends jo{constructor(e,n,i){super();let r;if(te(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Wn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Ry(e.next,o),error:e.error&&Ry(e.error,o),complete:e.complete&&Ry(e.complete,o)}):r=e}this.destination=new Py(r)}};function wh(t){Wn.useDeprecatedSynchronousErrorHandling?iT(t):_h(t)}function wj(t){throw t}function My(t,e){let{onStoppedNotification:n}=Wn;n&&aa.setTimeout(()=>n(t,e))}var bj={closed:!0,next:_l,error:wj,complete:_l};var la=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Kt(t){return t}function ky(...t){return Ny(t)}function Ny(t){return t.length===0?Kt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=Ij(n)?n:new Ji(n,i,r);return ca(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=rT(i),new i((r,o)=>{let s=new Ji({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[la](){return this}pipe(...n){return Ny(n)(this)}toPromise(n){return n=rT(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function rT(t){var e;return(e=t??Wn.Promise)!==null&&e!==void 0?e:Promise}function Ej(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function Ij(t){return t&&t instanceof jo||Ej(t)&&vh(t)}function Oy(t){return te(t?.lift)}function le(t){return e=>{if(Oy(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,i,r){return new Fy(t,e,n,i,r)}var Fy=class extends jo{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ua(){return le((t,e)=>{let n=null;t._refCount++;let i=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var da=class extends ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Oy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return ua()(this)}};var oT=sa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=(()=>{class t extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new bh(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new oT}next(n){ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Sy:(this.currentObservers=null,o.push(n),new qe(()=>{this.currentObservers=null,Lo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new ne;return n.source=this,n}}return t.create=(e,n)=>new bh(e,n),t})(),bh=class extends ue{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Sy}};var bt=class extends ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var wl={now(){return(wl.delegate||Date).now()},delegate:void 0};var Eh=class extends ue{constructor(e=1/0,n=1/0,i=wl){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var Ih=class extends qe{constructor(e,n){super()}schedule(e,n=0){return this}};var bl={setInterval(t,e,...n){let{delegate:i}=bl;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=bl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ha=class extends Ih{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return bl.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&bl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Lo(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var fa=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};fa.now=wl.now;var pa=class extends fa{constructor(e,n=fa.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var gi=new pa(ha),Ly=gi;var Dh=class extends ha{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Ch=class extends pa{};var Vy=new Ch(Dh);var an=new ne(t=>t.complete());function Th(t){return t&&te(t.schedule)}function jy(t){return t[t.length-1]}function Ah(t){return te(jy(t))?t.pop():void 0}function yi(t){return Th(jy(t))?t.pop():void 0}function sT(t,e){return typeof jy(t)=="number"?t.pop():e}var ma=t=>t&&typeof t.length=="number"&&typeof t!="function";function Sh(t){return te(t?.then)}function xh(t){return te(t[la])}function Rh(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Mh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Dj(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ph=Dj();function kh(t){return te(t?.[Ph])}function Nh(t){return UC(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield uh(n.read());if(r)return yield uh(void 0);yield yield uh(i)}}finally{n.releaseLock()}})}function Oh(t){return te(t?.getReader)}function Fe(t){if(t instanceof ne)return t;if(t!=null){if(xh(t))return Cj(t);if(ma(t))return Tj(t);if(Sh(t))return Aj(t);if(Rh(t))return aT(t);if(kh(t))return Sj(t);if(Oh(t))return xj(t)}throw Mh(t)}function Cj(t){return new ne(e=>{let n=t[la]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Tj(t){return new ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Aj(t){return new ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_h)})}function Sj(t){return new ne(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function aT(t){return new ne(e=>{Rj(t,e).catch(n=>e.error(n))})}function xj(t){return aT(Nh(t))}function Rj(t,e){var n,i,r,o;return BC(this,void 0,void 0,function*(){try{for(n=$C(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function cn(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function yn(t,e=0){return le((n,i)=>{n.subscribe(ae(i,r=>cn(i,t,()=>i.next(r),e),()=>cn(i,t,()=>i.complete(),e),r=>cn(i,t,()=>i.error(r),e)))})}function Kn(t,e=0){return le((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function cT(t,e){return Fe(t).pipe(Kn(e),yn(e))}function lT(t,e){return Fe(t).pipe(Kn(e),yn(e))}function uT(t,e){return new ne(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function dT(t,e){return new ne(n=>{let i;return cn(n,e,()=>{i=t[Ph](),cn(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>te(i?.return)&&i.return()})}function Fh(t,e){if(!t)throw new Error("Iterable cannot be null");return new ne(n=>{cn(n,e,()=>{let i=t[Symbol.asyncIterator]();cn(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function hT(t,e){return Fh(Nh(t),e)}function fT(t,e){if(t!=null){if(xh(t))return cT(t,e);if(ma(t))return uT(t,e);if(Sh(t))return lT(t,e);if(Rh(t))return Fh(t,e);if(kh(t))return dT(t,e);if(Oh(t))return hT(t,e)}throw Mh(t)}function me(t,e){return e?fT(t,e):Fe(t)}function G(...t){let e=yi(t);return me(t,e)}function ga(t,e){let n=te(t)?t:()=>t,i=r=>r.error(n());return new ne(e?r=>e.schedule(i,0,r):i)}function Lh(t){return!!t&&(t instanceof ne||te(t.lift)&&te(t.subscribe))}var er=sa(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function pT(t){return t instanceof Date&&!isNaN(t)}function Y(t,e){return le((n,i)=>{let r=0;n.subscribe(ae(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:Mj}=Array;function Pj(t,e){return Mj(e)?t(...e):t(e)}function ya(t){return Y(e=>Pj(t,e))}var{isArray:kj}=Array,{getPrototypeOf:Nj,prototype:Oj,keys:Fj}=Object;function Vh(t){if(t.length===1){let e=t[0];if(kj(e))return{args:e,keys:null};if(Lj(e)){let n=Fj(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function Lj(t){return t&&typeof t=="object"&&Nj(t)===Oj}function jh(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Bo(...t){let e=yi(t),n=Ah(t),{args:i,keys:r}=Vh(t);if(i.length===0)return me([],e);let o=new ne(Vj(i,e,r?s=>jh(r,s):Kt));return n?o.pipe(ya(n)):o}function Vj(t,e,n=Kt){return i=>{mT(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)mT(e,()=>{let l=me(t[c],e),u=!1;l.subscribe(ae(i,f=>{o[c]=f,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function mT(t,e,n){t?cn(n,t,e):e()}function gT(t,e,n,i,r,o,s,a){let c=[],l=0,u=0,f=!1,m=()=>{f&&!c.length&&!l&&e.complete()},g=I=>l<i?w(I):c.push(I),w=I=>{o&&e.next(I),l++;let E=!1;Fe(n(I,u++)).subscribe(ae(e,A=>{r?.(A),o?g(A):e.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<i;){let A=c.shift();s?cn(e,s,()=>w(A)):w(A)}m()}catch(A){e.error(A)}}))};return t.subscribe(ae(e,g,()=>{f=!0,m()})),()=>{a?.()}}function it(t,e,n=1/0){return te(e)?it((i,r)=>Y((o,s)=>e(i,o,r,s))(Fe(t(i,r))),n):(typeof e=="number"&&(n=e),le((i,r)=>gT(i,r,t,n)))}function Rr(t=1/0){return it(Kt,t)}function yT(){return Rr(1)}function Mr(...t){return yT()(me(t,yi(t)))}function Pr(t){return new ne(e=>{Fe(t()).subscribe(e)})}function By(...t){let e=Ah(t),{args:n,keys:i}=Vh(t),r=new ne(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let f=!1;Fe(n[u]).subscribe(ae(o,m=>{f||(f=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(i?jh(i,a):a),o.complete())}))}});return e?r.pipe(ya(e)):r}var jj=["addListener","removeListener"],Bj=["addEventListener","removeEventListener"],Uj=["on","off"];function El(t,e,n,i){if(te(n)&&(i=n,n=void 0),i)return El(t,e,n).pipe(ya(i));let[r,o]=zj(t)?Bj.map(s=>a=>t[s](e,a,n)):$j(t)?jj.map(vT(t,e)):Hj(t)?Uj.map(vT(t,e)):[];if(!r&&ma(t))return it(s=>El(s,e,n))(Fe(t));if(!r)throw new TypeError("Invalid event target");return new ne(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function vT(t,e){return n=>i=>t[n](e,i)}function $j(t){return te(t.addListener)&&te(t.removeListener)}function Hj(t){return te(t.on)&&te(t.off)}function zj(t){return te(t.addEventListener)&&te(t.removeEventListener)}function _T(t=0,e,n=Ly){let i=-1;return e!=null&&(Th(e)?n=e:i=e),new ne(r=>{let o=pT(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Uo(...t){let e=yi(t),n=sT(t,1/0),i=t;return i.length?i.length===1?Fe(i[0]):Rr(n)(me(i,e)):an}function Me(t,e){return le((n,i)=>{let r=0;n.subscribe(ae(i,o=>t.call(e,o,r++)&&i.next(o)))})}function wT(t){return le((e,n)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let l=r;r=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(ae(n,l=>{i=!0,r=l,o||Fe(t(l)).subscribe(o=ae(n,a,c))},()=>{s=!0,(!i||!o||o.closed)&&n.complete()}))})}function Bh(t,e=gi){return wT(()=>_T(t,e))}function kr(t){return le((e,n)=>{let i=null,r=!1,o;i=e.subscribe(ae(n,void 0,void 0,s=>{o=Fe(t(s,kr(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function bT(t,e,n,i,r){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ae(s,u=>{let f=l++;c=a?t(c,u,f):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function tr(t,e){return te(e)?it(t,e,1):it(t,1)}function va(t,e=gi){return le((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let l=o;o=null,i.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){r=this.schedule(void 0,l-u),i.add(r);return}a()}n.subscribe(ae(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Nr(t){return le((e,n)=>{let i=!1;e.subscribe(ae(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Et(t){return t<=0?()=>an:le((e,n)=>{let i=0;e.subscribe(ae(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Uy(t){return Y(()=>t)}function _a(t,e=Kt){return t=t??qj,le((n,i)=>{let r,o=!0;n.subscribe(ae(i,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function qj(t,e){return t===e}function Uh(t=Gj){return le((e,n)=>{let i=!1;e.subscribe(ae(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function Gj(){return new er}function Or(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function An(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Me((r,o)=>t(r,o,i)):Kt,Et(1),n?Nr(e):Uh(()=>new er))}function wa(t){return t<=0?()=>an:le((e,n)=>{let i=[];e.subscribe(ae(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function $y(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Me((r,o)=>t(r,o,i)):Kt,wa(1),n?Nr(e):Uh(()=>new er))}function ba(){return le((t,e)=>{let n,i=!1;t.subscribe(ae(e,r=>{let o=n;n=r,i&&e.next([o,r]),i=!0}))})}function $o(t,e){return le(bT(t,e,arguments.length>=2,!0))}function ET(t={}){let{connector:e=()=>new ue,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,c,l=0,u=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=c=void 0,u=f=!1},w=()=>{let I=s;g(),I?.unsubscribe()};return le((I,E)=>{l++,!f&&!u&&m();let A=c=c??e();E.add(()=>{l--,l===0&&!f&&!u&&(a=Hy(w,r))}),A.subscribe(E),!s&&l>0&&(s=new Ji({next:B=>A.next(B),error:B=>{f=!0,m(),a=Hy(g,n,B),A.error(B)},complete:()=>{u=!0,m(),a=Hy(g,i),A.complete()}}),Fe(I).subscribe(s))})(o)}}function Hy(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new Ji({next:()=>{i.unsubscribe(),t()}});return Fe(e(...n)).subscribe(i)}function Il(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,ET({connector:()=>new Eh(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Dl(t){return Me((e,n)=>t<=n)}function ln(...t){let e=yi(t);return le((n,i)=>{(e?Mr(t,n,e):Mr(t,n)).subscribe(i)})}function Ue(t,e){return le((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(ae(i,c=>{r?.unsubscribe();let l=0,u=o++;Fe(t(c,u)).subscribe(r=ae(i,f=>i.next(e?e(c,f,u,l++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function $h(t,e){return te(e)?Ue(()=>t,e):Ue(()=>t)}function vi(t){return le((e,n)=>{Fe(t).subscribe(ae(n,()=>n.complete(),_l)),!n.closed&&e.subscribe(n)})}function et(t,e,n){let i=te(t)||e||n?{next:t,error:e,complete:n}:t;return i?le((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(ae(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Kt}var cA="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(If(e,n)),this.code=e}};function If(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var ov=class extends ue{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=zy(o),r&&(r=zy(r)),s&&(s=zy(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof qe&&e.add(a),a}};function zy(t){return e=>{setTimeout(t,void 0,e)}}var Pe=ov;var _e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_e||{});function Qt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Qt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function IT(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var lA=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(lA||{}),bi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bi||{});function Ll(t){return{toString:t}.toString()}var Zt=globalThis;var Sa={},xn=[];function $e(t){for(let e in t)if(t[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function Wj(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var Kj=$e({\u0275cmp:$e}),Yj=$e({\u0275dir:$e}),Qj=$e({\u0275pipe:$e}),Zj=$e({\u0275mod:$e}),ef=$e({\u0275fac:$e}),Cl=$e({__NG_ELEMENT_ID__:$e}),DT=$e({__NG_ENV_ID__:$e}),Ge=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ge||{});function uA(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function sv(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];Xj(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function dA(t){return t===3||t===4||t===6}function Xj(t){return t.charCodeAt(0)===64}function Al(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?CT(t,n,r,null,e[++i]):CT(t,n,r,null,null))}}return t}function CT(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var hA="ng-template";function Jj(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let s=t[i++];if(n&&o==="class"&&uA(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function fA(t){return t.type===4&&t.value!==hA}function eB(t,e,n){let i=t.type===4&&!n?hA:t.value;return e===i}function tB(t,e,n){let i=4,r=t.attrs||[],o=rB(r),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Yn(i)&&!Yn(c))return!1;if(s&&Yn(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!eB(t,c,n)||c===""&&e.length===1){if(Yn(i))return!1;s=!0}}else{let l=i&8?c:e[++a];if(i&8&&t.attrs!==null){if(!Jj(t.attrs,l,n)){if(Yn(i))return!1;s=!0}continue}let u=i&8?"class":c,f=nB(u,r,fA(t),n);if(f===-1){if(Yn(i))return!1;s=!0;continue}if(l!==""){let m;f>o?m="":m=r[f+1].toLowerCase();let g=i&8?m:null;if(g&&uA(g,l,0)!==-1||i&2&&l!==m){if(Yn(i))return!1;s=!0}}}}return Yn(i)||s}function Yn(t){return(t&1)===0}function nB(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return oB(e,t)}function iB(t,e,n=!1){for(let i=0;i<e.length;i++)if(tB(t,e[i],n))return!0;return!1}function rB(t){for(let e=0;e<t.length;e++){let n=t[e];if(dA(n))return e}return t.length}function oB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function TT(t,e){return t?":not("+e.trim()+")":e}function sB(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Yn(s)&&(e+=TT(o,r),r=""),i=s,o=o||!Yn(i);n++}return r!==""&&(e+=TT(o,r)),e}function aB(t){return t.map(sB).join(",")}function cB(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!Yn(r))break;r=o}i++}return{attrs:e,classes:n}}function Te(t){return Ll(()=>{let e=vA(t),n=De(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===lA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bi.Emulated,styles:t.styles||xn,_:null,schemas:t.schemas||null,tView:null,id:""});_A(n);let i=t.dependencies;return n.directiveDefs=ST(i,!1),n.pipeDefs=ST(i,!0),n.id=dB(n),n})}function lB(t){return Vr(t)||pA(t)}function uB(t){return t!==null}function oe(t){return Ll(()=>({type:t.type,bootstrap:t.bootstrap||xn,declarations:t.declarations||xn,imports:t.imports||xn,exports:t.exports||xn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function AT(t,e){if(t==null)return Sa;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=Ge.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==Ge.None?[i,a]:i,e[o]=s):n[o]=i}return n}function ke(t){return Ll(()=>{let e=vA(t);return _A(e),e})}function Vr(t){return t[Kj]||null}function pA(t){return t[Yj]||null}function mA(t){return t[Qj]||null}function gA(t){let e=Vr(t)||pA(t)||mA(t);return e!==null?e.standalone:!1}function yA(t,e){let n=t[Zj]||null;if(!n&&e===!0)throw new Error(`Type ${Qt(t)} does not have '\u0275mod' property.`);return n}function vA(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Sa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||xn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AT(t.inputs,e),outputs:AT(t.outputs),debugInfo:null}}function _A(t){t.features?.forEach(e=>e(t))}function ST(t,e){if(!t)return null;let n=e?mA:lB;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(uB)}function dB(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var or=0,ge=1,re=2,kt=3,Qn=4,Xn=5,tf=6,Sl=7,Zn=8,xa=9,nr=10,Dt=11,xl=12,xT=13,La=14,Ei=15,Vl=16,Ea=17,ir=18,Df=19,wA=20,Lr=21,qy=22,qo=23,jr=25,bA=1;var Go=7,nf=8,Ra=9,vn=10,Xv=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Xv||{});function Ho(t){return Array.isArray(t)&&typeof t[bA]=="object"}function sr(t){return Array.isArray(t)&&t[bA]===!0}function EA(t){return(t.flags&4)!==0}function Cf(t){return t.componentOffset>-1}function Jv(t){return(t.flags&1)===1}function Br(t){return!!t.template}function hB(t){return(t[re]&512)!==0}var fB="svg",pB="math",mB=!1;function gB(){return mB}function Ii(t){for(;Array.isArray(t);)t=t[or];return t}function IA(t,e){return Ii(e[t])}function Mn(t,e){return Ii(e[t.index])}function DA(t,e){return t.data[e]}function $r(t,e){let n=e[t];return Ho(n)?n:n[or]}function yB(t){return(t[re]&4)===4}function e_(t){return(t[re]&128)===128}function vB(t){return sr(t[kt])}function rf(t,e){return e==null?null:t[e]}function CA(t){t[Ea]=0}function _B(t){t[re]&1024||(t[re]|=1024,e_(t)&&Rl(t))}function wB(t,e){for(;t>0;)e=e[La],t--;return e}function t_(t){return!!(t[re]&9216||t[qo]?.dirty)}function av(t){t_(t)?Rl(t):t[re]&64&&(gB()?(t[re]|=1024,Rl(t)):t[nr].changeDetectionScheduler?.notify())}function Rl(t){t[nr].changeDetectionScheduler?.notify();let e=Ml(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!e_(e)));)e=Ml(e)}function TA(t,e){if((t[re]&256)===256)throw new Q(911,!1);t[Lr]===null&&(t[Lr]=[]),t[Lr].push(e)}function bB(t,e){if(t[Lr]===null)return;let n=t[Lr].indexOf(e);n!==-1&&t[Lr].splice(n,1)}function Ml(t){let e=t[kt];return sr(e)?e[kt]:e}var ye={lFrame:NA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function EB(){return ye.lFrame.elementDepthCount}function IB(){ye.lFrame.elementDepthCount++}function DB(){ye.lFrame.elementDepthCount--}function AA(){return ye.bindingsEnabled}function CB(){return ye.skipHydrationRootTNode!==null}function TB(t){return ye.skipHydrationRootTNode===t}function AB(){ye.skipHydrationRootTNode=null}function Le(){return ye.lFrame.lView}function un(){return ye.lFrame.tView}function dn(t){return ye.lFrame.contextLView=t,t[Zn]}function hn(t){return ye.lFrame.contextLView=null,t}function _n(){let t=SA();for(;t!==null&&t.type===64;)t=t.parent;return t}function SA(){return ye.lFrame.currentTNode}function SB(){let t=ye.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function jl(t,e){let n=ye.lFrame;n.currentTNode=t,n.isParent=e}function xA(){return ye.lFrame.isParent}function xB(){ye.lFrame.isParent=!1}function RB(){let t=ye.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function MB(){return ye.lFrame.bindingIndex}function PB(t){return ye.lFrame.bindingIndex=t}function Tf(){return ye.lFrame.bindingIndex++}function RA(t){let e=ye.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function kB(){return ye.lFrame.inI18n}function NB(t,e){let n=ye.lFrame;n.bindingIndex=n.bindingRootIndex=t,cv(e)}function OB(){return ye.lFrame.currentDirectiveIndex}function cv(t){ye.lFrame.currentDirectiveIndex=t}function FB(t){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function MA(){return ye.lFrame.currentQueryIndex}function n_(t){ye.lFrame.currentQueryIndex=t}function LB(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[Xn]:null}function PA(t,e,n){if(n&_e.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&_e.Host);)if(r=LB(o),r===null||(o=o[La],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=ye.lFrame=kA();return i.currentTNode=e,i.lView=t,!0}function i_(t){let e=kA(),n=t[ge];ye.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kA(){let t=ye.lFrame,e=t===null?null:t.child;return e===null?NA(t):e}function NA(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function OA(){let t=ye.lFrame;return ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var FA=OA;function r_(){let t=OA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function VB(t){return(ye.lFrame.contextLView=wB(t,ye.lFrame.contextLView))[Zn]}function es(){return ye.lFrame.selectedIndex}function Wo(t){ye.lFrame.selectedIndex=t}function o_(){let t=ye.lFrame;return DA(t.tView,t.selectedIndex)}function jB(){return ye.lFrame.currentNamespace}var LA=!0;function s_(){return LA}function a_(t){LA=t}function BB(){return Va(_n(),Le())}function Va(t,e){return new Ve(Mn(t,e))}var Ve=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=BB;let t=e;return t})();function UB(t){return t instanceof Ve?t.nativeElement:t}function $B(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function HB(t){return t.flat(Number.POSITIVE_INFINITY)}function c_(t,e){t.forEach(n=>Array.isArray(n)?c_(n,e):e(n))}function VA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function of(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function zB(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function qB(t,e,n){let i=Bl(t,e);return i>=0?t[i|1]=n:(i=~i,zB(t,i,e,n)),i}function Gy(t,e){let n=Bl(t,e);if(n>=0)return t[n|1]}function Bl(t,e){return GB(t,e,1)}function GB(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}function WB(){return this._results[Symbol.iterator]()}var sf=class t{get changes(){return this._changes??=new Pe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=WB)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=HB(e);(this._changesDetected=!$B(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function jA(t){return(t.flags&128)===128}var lv;function BA(t){lv=t}function KB(){if(lv!==void 0)return lv;if(typeof document<"u")return document;throw new Q(210,!1)}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function se(t){return{providers:t.providers||[],imports:t.imports||[]}}function Af(t){return RT(t,$A)||RT(t,HA)}function UA(t){return Af(t)!==null}function RT(t,e){return t.hasOwnProperty(e)?t[e]:null}function YB(t){let e=t&&(t[$A]||t[HA]);return e||null}function MT(t){return t&&(t.hasOwnProperty(PT)||t.hasOwnProperty(QB))?t[PT]:null}var $A=$e({\u0275prov:$e}),PT=$e({\u0275inj:$e}),HA=$e({ngInjectableDef:$e}),QB=$e({ngInjectorDef:$e}),O=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Ul=new O("",{providedIn:"root",factory:()=>ZB}),ZB="ng",l_=new O(""),ft=new O("",{providedIn:"platform",factory:()=>"unknown"});var ja=new O(""),$l=new O("",{providedIn:"root",factory:()=>KB().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XB=$e({__forward_ref__:$e});function Hr(t){return t.__forward_ref__=Hr,t.toString=function(){return Qt(this())},t}function Yt(t){return zA(t)?t():t}function zA(t){return typeof t=="function"&&t.hasOwnProperty(XB)&&t.__forward_ref__===Hr}function qA(t){return t&&!!t.\u0275providers}function Ma(t){return typeof t=="string"?t:t==null?"":String(t)}function JB(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ma(t)}function eU(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function u_(t,e){throw new Q(-201,!1)}var uv;function GA(){return uv}function Sn(t){let e=uv;return uv=t,e}function WA(t,e,n){let i=Af(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&_e.Optional)return null;if(e!==void 0)return e;u_(t,"Injector")}var tU={},Pl=tU,dv="__NG_DI_FLAG__",af="ngTempTokenPath",nU="ngTokenPath",iU=/\n/gm,rU="\u0275",kT="__source",Ta;function oU(){return Ta}function Fr(t){let e=Ta;return Ta=t,e}function sU(t,e=_e.Default){if(Ta===void 0)throw new Q(-203,!1);return Ta===null?WA(t,void 0,e):Ta.get(t,e&_e.Optional?null:void 0,e)}function _(t,e=_e.Default){return(GA()||sU)(Yt(t),e)}function j(t,e=_e.Default){return _(t,Sf(e))}function Sf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hv(t){let e=[];for(let n=0;n<t.length;n++){let i=Yt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new Q(900,!1);let r,o=_e.Default;for(let s=0;s<i.length;s++){let a=i[s],c=aU(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(_(r,o))}else e.push(_(i))}return e}function KA(t,e){return t[dv]=e,t.prototype[dv]=e,t}function aU(t){return t[dv]}function cU(t,e,n,i){let r=t[af];throw e[kT]&&r.unshift(e[kT]),t.message=lU(`
`+t.message,r,n,i),t[nU]=r,t[af]=null,t}function lU(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==rU?t.slice(2):t;let r=Qt(e);if(Array.isArray(e))r=e.map(Qt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Qt(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(iU,`
  `)}`}var uU="h",dU="b";var hU=()=>null;function d_(t,e,n=!1){return hU(t,e,n)}var Hh="__parameters__";function fU(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function YA(t,e,n){return Ll(()=>{let i=fU(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let f=c.hasOwnProperty(Hh)?c[Hh]:Object.defineProperty(c,Hh,{value:[]})[Hh];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ba=KA(YA("Optional"),8);var h_=KA(YA("SkipSelf"),4);function Pa(t,e){let n=t.hasOwnProperty(ef);return n?t[ef]:null}var ka=new O(""),QA=new O("",-1),ZA=new O(""),cf=class{get(e,n=Pl){if(n===Pl){let i=new Error(`NullInjectorError: No provider for ${Qt(e)}!`);throw i.name="NullInjectorError",i}return n}};function xf(t){return{\u0275providers:t}}function pU(...t){return{\u0275providers:XA(!0,t),\u0275fromNgModule:!0}}function XA(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return c_(e,s=>{let a=s;fv(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&JA(r,o),n}function JA(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];f_(r,o=>{e(o,i)})}}function fv(t,e,n,i){if(t=Yt(t),!t)return!1;let r=null,o=MT(t),s=!o&&Vr(t);if(!o&&!s){let c=t.ngModule;if(o=MT(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)fv(l,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{c_(o.imports,u=>{fv(u,e,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&JA(l,e)}if(!a){let l=Pa(r)||(()=>new r);e({provide:r,useFactory:l,deps:xn},r),e({provide:ZA,useValue:r,multi:!0},r),e({provide:ka,useValue:()=>_(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=t;f_(c,u=>{e(u,l)})}}else return!1;return r!==t&&t.providers!==void 0}function f_(t,e){for(let n of t)qA(n)&&(n=n.\u0275providers),Array.isArray(n)?f_(n,e):e(n)}var mU=$e({provide:String,useValue:$e});function eS(t){return t!==null&&typeof t=="object"&&mU in t}function gU(t){return!!(t&&t.useExisting)}function yU(t){return!!(t&&t.useFactory)}function Na(t){return typeof t=="function"}function vU(t){return!!t.useClass}var Rf=new O(""),Kh={},_U={},Wy;function p_(){return Wy===void 0&&(Wy=new cf),Wy}var Xt=class{},kl=class extends Xt{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mv(e,s=>this.processProvider(s)),this.records.set(QA,Ia(void 0,this)),r.has("environment")&&this.records.set(Xt,Ia(void 0,this));let o=this.records.get(Rf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ZA,xn,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Fr(this),i=Sn(void 0),r;try{return e()}finally{Fr(n),Sn(i)}}get(e,n=Pl,i=_e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(DT))return e[DT](this);i=Sf(i);let r,o=Fr(this),s=Sn(void 0);try{if(!(i&_e.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=DU(e)&&Af(e);l&&this.injectableDefInScope(l)?c=Ia(pv(e),Kh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&_e.Self?p_():this.parent;return n=i&_e.Optional&&n===Pl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[af]=a[af]||[]).unshift(Qt(e)),o)throw a;return cU(a,e,"R3InjectorError",this.source)}else throw a}finally{Sn(s),Fr(o)}}resolveInjectorInitializers(){let e=Fr(this),n=Sn(void 0),i;try{let r=this.get(ka,xn,_e.Self);for(let o of r)o()}finally{Fr(e),Sn(n)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Qt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Yt(e);let n=Na(e)?e:Yt(e&&e.provide),i=bU(e);if(!Na(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Ia(void 0,Kh,!0),r.factory=()=>hv(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){return n.value===Kh&&(n.value=_U,n.value=n.factory()),typeof n.value=="object"&&n.value&&IU(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Yt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function pv(t){let e=Af(t),n=e!==null?e.factory:Pa(t);if(n!==null)return n;if(t instanceof O)throw new Q(204,!1);if(t instanceof Function)return wU(t);throw new Q(204,!1)}function wU(t){if(t.length>0)throw new Q(204,!1);let n=YB(t);return n!==null?()=>n.factory(t):()=>new t}function bU(t){if(eS(t))return Ia(void 0,t.useValue);{let e=tS(t);return Ia(e,Kh)}}function tS(t,e,n){let i;if(Na(t)){let r=Yt(t);return Pa(r)||pv(r)}else if(eS(t))i=()=>Yt(t.useValue);else if(yU(t))i=()=>t.useFactory(...hv(t.deps||[]));else if(gU(t))i=()=>_(Yt(t.useExisting));else{let r=Yt(t&&(t.useClass||t.provide));if(EU(t))i=()=>new r(...hv(t.deps));else return Pa(r)||pv(r)}return i}function Ia(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function EU(t){return!!t.deps}function IU(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function DU(t){return typeof t=="function"||typeof t=="object"&&t instanceof O}function mv(t,e){for(let n of t)Array.isArray(n)?mv(n,e):n&&qA(n)?mv(n.\u0275providers,e):e(n)}function Ti(t,e){t instanceof kl&&t.assertNotDestroyed();let n,i=Fr(t),r=Sn(void 0);try{return e()}finally{Fr(i),Sn(r)}}function CU(t){if(!GA()&&!oU())throw new Q(-203,!1)}function TU(t){let e=Zt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function AU(t){return typeof t=="function"}var gv=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function nS(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function wn(){return iS}function iS(t){return t.type.prototype.ngOnChanges&&(t.setInput=xU),SU}wn.ngInherit=!0;function SU(){let t=oS(this),e=t?.current;if(e){let n=t.previous;if(n===Sa)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function xU(t,e,n,i,r){let o=this.declaredInputs[i],s=oS(t)||RU(t,{previous:Sa,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new gv(l&&l.currentValue,n,c===Sa),nS(t,e,r,n)}var rS="__ngSimpleChanges__";function oS(t){return t[rS]||null}function RU(t,e){return t[rS]=e}var NT=null;var _i=function(t,e,n){NT?.(t,e,n)};function MU(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=iS(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function m_(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Yh(t,e,n){sS(t,e,3,n)}function Qh(t,e,n,i){(t[re]&3)===n&&sS(t,e,n,i)}function Ky(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function sS(t,e,n,i){let r=i!==void 0?t[Ea]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[Ea]+=65536),(a<o||o==-1)&&(PU(t,n,e,c),t[Ea]=(t[Ea]&4294901760)+c+2),c++}function OT(t,e){_i(4,t,e);let n=gn(null);try{e.call(t)}finally{gn(n),_i(5,t,e)}}function PU(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[re]>>14<t[Ea]>>16&&(t[re]&3)===e&&(t[re]+=16384,OT(a,o)):OT(a,o)}var Aa=-1,Ko=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function kU(t){return t instanceof Ko}function NU(t){return(t.flags&8)!==0}function OU(t){return(t.flags&16)!==0}function aS(t){return t!==Aa}function lf(t){return t&32767}function FU(t){return t>>16}function uf(t,e){let n=FU(t),i=e;for(;n>0;)i=i[La],n--;return i}var yv=!0;function FT(t){let e=yv;return yv=t,e}var LU=256,cS=LU-1,lS=5,VU=0,wi={};function jU(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Cl)&&(i=n[Cl]),i==null&&(i=n[Cl]=VU++);let r=i&cS,o=1<<r;e.data[t+(r>>lS)]|=o}function df(t,e){let n=uS(t,e);if(n!==-1)return n;let i=e[ge];i.firstCreatePass&&(t.injectorIndex=e.length,Yy(i.data,t),Yy(e,null),Yy(i.blueprint,null));let r=g_(t,e),o=t.injectorIndex;if(aS(r)){let s=lf(r),a=uf(r,e),c=a[ge].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function Yy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function uS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function g_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=mS(r),i===null)return Aa;if(n++,r=r[La],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Aa}function vv(t,e,n){jU(t,e,n)}function BU(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(dA(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function dS(t,e,n){if(n&_e.Optional||t!==void 0)return t;u_(e,"NodeInjector")}function hS(t,e,n,i){if(n&_e.Optional&&i===void 0&&(i=null),!(n&(_e.Self|_e.Host))){let r=t[xa],o=Sn(void 0);try{return r?r.get(e,i,n&_e.Optional):WA(e,i,n&_e.Optional)}finally{Sn(o)}}return dS(i,e,n)}function fS(t,e,n,i=_e.Default,r){if(t!==null){if(e[re]&2048&&!(i&_e.Self)){let s=zU(t,e,n,i,wi);if(s!==wi)return s}let o=pS(t,e,n,i,wi);if(o!==wi)return o}return hS(e,n,i,r)}function pS(t,e,n,i,r){let o=$U(n);if(typeof o=="function"){if(!PA(e,t,i))return i&_e.Host?dS(r,n,i):hS(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&_e.Optional))u_(n);else return s}finally{FA()}}else if(typeof o=="number"){let s=null,a=uS(t,e),c=Aa,l=i&_e.Host?e[Ei][Xn]:null;for((a===-1||i&_e.SkipSelf)&&(c=a===-1?g_(t,e):e[a+8],c===Aa||!VT(i,!1)?a=-1:(s=e[ge],a=lf(c),e=uf(c,e)));a!==-1;){let u=e[ge];if(LT(o,a,u.data)){let f=UU(a,e,n,s,i,l);if(f!==wi)return f}c=e[a+8],c!==Aa&&VT(i,e[ge].data[a+8]===l)&&LT(o,a,e)?(s=u,a=lf(c),e=uf(c,e)):a=-1}}return r}function UU(t,e,n,i,r,o){let s=e[ge],a=s.data[t+8],c=i==null?Cf(a)&&yv:i!=s&&(a.type&3)!==0,l=r&_e.Host&&o===a,u=Zh(a,s,n,c,l);return u!==null?Yo(e,s,u,a):wi}function Zh(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,f=i?a:a+u,m=r?a+u:l;for(let g=f;g<m;g++){let w=s[g];if(g<c&&n===w||g>=c&&w.type===n)return g}if(r){let g=s[c];if(g&&Br(g)&&g.type===n)return c}return null}function Yo(t,e,n,i){let r=t[n],o=e.data;if(kU(r)){let s=r;s.resolving&&eU(JB(o[n]));let a=FT(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Sn(s.injectImpl):null,u=PA(t,i,_e.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&MU(n,o[n],e)}finally{l!==null&&Sn(l),FT(a),s.resolving=!1,FA()}}return r}function $U(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Cl)?t[Cl]:void 0;return typeof e=="number"?e>=0?e&cS:HU:e}function LT(t,e,n){let i=1<<t;return!!(n[e+(t>>lS)]&i)}function VT(t,e){return!(t&_e.Self)&&!(t&_e.Host&&e)}var zo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return fS(this._tNode,this._lView,e,Sf(i),n)}};function HU(){return new zo(_n(),Le())}function ar(t){return Ll(()=>{let e=t.prototype.constructor,n=e[ef]||_v(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[ef]||_v(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function _v(t){return zA(t)?()=>{let e=_v(Yt(t));return e&&e()}:Pa(t)}function zU(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!(s[re]&512);){let a=pS(o,s,n,i|_e.Self,wi);if(a!==wi)return a;let c=o.parent;if(!c){let l=s[wA];if(l){let u=l.get(n,wi,i);if(u!==wi)return u}c=mS(s),s=s[La]}o=c}return r}function mS(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[Xn]:null}function y_(t){return BU(_n(),t)}function jT(t,e=null,n=null,i){let r=gS(t,e,n,i);return r.resolveInjectorInitializers(),r}function gS(t,e=null,n=null,i,r=new Set){let o=[n||xn,pU(t)];return i=i||(typeof t=="object"?void 0:Qt(t)),new kl(o,e||p_(),i||null,r)}var rt=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return jT({name:""},r,i,"");{let o=i.name??"";return jT({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=Pl,e.NULL=new cf,e.\u0275prov=N({token:e,providedIn:"any",factory:()=>_(QA)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),qU="ngOriginalError";function Qy(t){return t[qU]}var Di=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Qy(e);for(;n&&Qy(n);)n=Qy(n);return n||null}},yS=new O("",{providedIn:"root",factory:()=>j(Di).handleError.bind(void 0)});var vS=!1,GU=new O("",{providedIn:"root",factory:()=>vS});var zh;function WU(){if(zh===void 0&&(zh=null,Zt.trustedTypes))try{zh=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zh}function BT(t){return WU()?.createScriptURL(t)||t}var hf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cA})`}};function Hl(t){return t instanceof hf?t.changingThisBreaksApplicationSecurity:t}function v_(t,e){let n=KU(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${cA})`)}return n===e}function KU(t){return t instanceof hf&&t.getTypeName()||null}var YU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _S(t){return t=String(t),t.match(YU)?t:"unsafe:"+t}var Mf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Mf||{});function Jn(t){let e=bS();return e?e.sanitize(Mf.URL,t)||"":v_(t,"URL")?Hl(t):_S(Ma(t))}function QU(t){let e=bS();if(e)return BT(e.sanitize(Mf.RESOURCE_URL,t)||"");if(v_(t,"ResourceURL"))return BT(Hl(t));throw new Q(904,!1)}function ZU(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?QU:Jn}function wS(t,e,n){return ZU(e,n)(t)}function bS(){let t=Le();return t&&t[nr].sanitizer}var ES=new Map,XU=0;function JU(){return XU++}function e$(t){ES.set(t[Df],t)}function t$(t){ES.delete(t[Df])}var UT="__ngContext__";function Qo(t,e){Ho(e)?(t[UT]=e[Df],e$(e)):t[UT]=e}function IS(t){return t instanceof Function?t():t}function n$(t){return(t??j(rt)).get(ft)==="browser"}var rr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(rr||{}),i$;function __(t,e){return i$(t,e)}function Da(t,e,n,i,r){if(i!=null){let o,s=!1;sr(i)?o=i:Ho(i)&&(s=!0,i=i[or]);let a=Ii(i);t===0&&n!==null?r==null?SS(e,n,a):ff(e,n,a,r||null,!0):t===1&&n!==null?ff(e,n,a,r||null,!0):t===2?w$(e,a,s):t===3&&e.destroyNode(a),o!=null&&E$(e,t,o,n,r)}}function r$(t,e){return t.createText(e)}function o$(t,e,n){t.setValue(e,n)}function DS(t,e,n){return t.createElement(e,n)}function s$(t,e){CS(t,e),e[or]=null,e[Xn]=null}function a$(t,e,n,i,r,o){i[or]=r,i[Xn]=e,Pf(t,i,n,1,r,o)}function CS(t,e){Pf(t,e,e[Dt],2,null,null)}function c$(t){let e=t[xl];if(!e)return Zy(t[ge],t);for(;e;){let n=null;if(Ho(e))n=e[xl];else{let i=e[vn];i&&(n=i)}if(!n){for(;e&&!e[Qn]&&e!==t;)Ho(e)&&Zy(e[ge],e),e=e[kt];e===null&&(e=t),Ho(e)&&Zy(e[ge],e),n=e&&e[Qn]}e=n}}function l$(t,e,n,i){let r=vn+i,o=n.length;i>0&&(n[r-1][Qn]=e),i<o-vn?(e[Qn]=n[r],VA(n,vn+i,e)):(n.push(e),e[Qn]=null),e[kt]=n;let s=e[Vl];s!==null&&n!==s&&u$(s,e);let a=e[ir];a!==null&&a.insertView(t),av(e),e[re]|=128}function u$(t,e){let n=t[Ra],r=e[kt][kt][Ei];e[Ei]!==r&&(t[re]|=Xv.HasTransplantedViews),n===null?t[Ra]=[e]:n.push(e)}function TS(t,e){let n=t[Ra],i=n.indexOf(e);n.splice(i,1)}function wv(t,e){if(t.length<=vn)return;let n=vn+e,i=t[n];if(i){let r=i[Vl];r!==null&&r!==t&&TS(r,i),e>0&&(t[n-1][Qn]=i[Qn]);let o=of(t,vn+e);s$(i[ge],i);let s=o[ir];s!==null&&s.detachView(o[ge]),i[kt]=null,i[Qn]=null,i[re]&=-129}return i}function AS(t,e){if(!(e[re]&256)){let n=e[Dt];n.destroyNode&&Pf(t,e,n,3,null,null),c$(e)}}function Zy(t,e){if(!(e[re]&256)){e[re]&=-129,e[re]|=256,e[qo]&&ZC(e[qo]),h$(t,e),d$(t,e),e[ge].type===1&&e[Dt].destroy();let n=e[Vl];if(n!==null&&sr(e[kt])){n!==e[kt]&&TS(n,e);let i=e[ir];i!==null&&i.detachView(t)}t$(e)}}function d$(t,e){let n=t.cleanup,i=e[Sl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[Sl]=null);let r=e[Lr];if(r!==null){e[Lr]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function h$(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Ko)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];_i(4,a,c);try{c.call(a)}finally{_i(5,a,c)}}else{_i(4,r,o);try{o.call(r)}finally{_i(5,r,o)}}}}}function f$(t,e,n){return p$(t,e.parent,n)}function p$(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[or];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===bi.None||o===bi.Emulated)return null}return Mn(i,n)}}function ff(t,e,n,i,r){t.insertBefore(e,n,i,r)}function SS(t,e,n){t.appendChild(e,n)}function $T(t,e,n,i,r){i!==null?ff(t,e,n,i,r):SS(t,e,n)}function m$(t,e,n,i){t.removeChild(e,n,i)}function w_(t,e){return t.parentNode(e)}function g$(t,e){return t.nextSibling(e)}function y$(t,e,n){return _$(t,e,n)}function v$(t,e,n){return t.type&40?Mn(t,n):null}var _$=v$,HT;function b_(t,e,n,i){let r=f$(t,i,e),o=e[Dt],s=i.parent||e[Xn],a=y$(s,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)$T(o,r,n[c],a,!1);else $T(o,r,n,a,!1);HT!==void 0&&HT(o,i,e,n,r)}function Xh(t,e){if(e!==null){let n=e.type;if(n&3)return Mn(e,t);if(n&4)return bv(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Xh(t,i);{let r=t[e.index];return sr(r)?bv(-1,r):Ii(r)}}else{if(n&32)return __(e,t)()||Ii(t[e.index]);{let i=xS(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ml(t[Ei]);return Xh(r,i)}else return Xh(t,e.next)}}}return null}function xS(t,e){if(e!==null){let i=t[Ei][Xn],r=e.projection;return i.projection[r]}return null}function bv(t,e){let n=vn+t+1;if(n<e.length){let i=e[n],r=i[ge].firstChild;if(r!==null)return Xh(i,r)}return e[Go]}function w$(t,e,n){let i=w_(t,e);i&&m$(t,i,e,n)}function E_(t,e,n,i,r,o,s){for(;n!=null;){let a=i[n.index],c=n.type;if(s&&e===0&&(a&&Qo(Ii(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)E_(t,e,n.child,i,r,o,!1),Da(e,t,r,a,o);else if(c&32){let l=__(n,i),u;for(;u=l();)Da(e,t,r,u,o);Da(e,t,r,a,o)}else c&16?b$(t,e,i,n,r,o):Da(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Pf(t,e,n,i,r,o){E_(n,i,t.firstChild,e,r,o,!1)}function b$(t,e,n,i,r,o){let s=n[Ei],c=s[Xn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Da(e,t,r,u,o)}else{let l=c,u=s[kt];jA(i)&&(l.flags|=128),E_(t,e,l,u,r,o,!0)}}function E$(t,e,n,i,r){let o=n[Go],s=Ii(n);o!==s&&Da(e,t,i,o,r);for(let a=vn;a<n.length;a++){let c=n[a];Pf(c[ge],c,t,e,i,o)}}function I$(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:rr.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=rr.Important),t.setStyle(n,i,r,o))}}function D$(t,e,n){t.setAttribute(e,"style",n)}function RS(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function MS(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&sv(t,e,i),r!==null&&RS(t,e,r),o!==null&&D$(t,e,o)}var cr={};function W(t=1){PS(un(),Le(),es()+t,!1)}function PS(t,e,n,i){if(!i)if((e[re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Yh(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Qh(e,o,0,n)}Wo(n)}function V(t,e=_e.Default){let n=Le();if(n===null)return _(t,e);let i=_n();return fS(i,n,Yt(t),e)}function kS(){let t="invalid";throw new Error(t)}function NS(t,e,n,i,r,o){let s=gn(null);try{let a=null;r&Ge.SignalBased&&(a=e[i][WC]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Ge.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):nS(e,a,i,o)}finally{gn(s)}}function C$(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Wo(~r);else{let o=r,s=n[++i],a=n[++i];NB(s,o);let c=e[o];a(2,c)}}}finally{Wo(-1)}}function kf(t,e,n,i,r,o,s,a,c,l,u){let f=e.blueprint.slice();return f[or]=r,f[re]=i|4|128|8|64,(l!==null||t&&t[re]&2048)&&(f[re]|=2048),CA(f),f[kt]=f[La]=t,f[Zn]=n,f[nr]=s||t&&t[nr],f[Dt]=a||t&&t[Dt],f[xa]=c||t&&t[xa]||null,f[Xn]=o,f[Df]=JU(),f[tf]=u,f[wA]=l,f[Ei]=e.type==2?t[Ei]:f,f}function Nf(t,e,n,i,r){let o=t.data[e];if(o===null)o=T$(t,e,n,i,r),kB()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=SB();o.injectorIndex=s===null?-1:s.injectorIndex}return jl(o,!0),o}function T$(t,e,n,i,r){let o=SA(),s=xA(),a=s?o:o&&o.parent,c=t.data[e]=P$(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function OS(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function FS(t,e,n,i,r){let o=es(),s=i&2;try{Wo(-1),s&&e.length>jr&&PS(t,e,jr,!1),_i(s?2:0,r),n(i,r)}finally{Wo(o),_i(s?3:1,r)}}function LS(t,e,n){if(EA(e)){let i=gn(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{gn(i)}}}function VS(t,e,n){AA()&&(V$(t,e,n,Mn(n,e)),(n.flags&64)===64&&zS(t,e,n))}function jS(t,e,n=Mn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function BS(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=I_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function I_(t,e,n,i,r,o,s,a,c,l,u){let f=jr+i,m=f+r,g=A$(f,m),w=typeof l=="function"?l():l;return g[ge]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:u}}function A$(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:cr);return n}function S$(t,e,n,i){let o=i.get(GU,vS)||n===bi.ShadowDom,s=t.selectRootElement(e,o);return x$(s),s}function x$(t){R$(t)}var R$=()=>null;function M$(t,e,n,i){let r=WS(e);r.push(n),t.firstCreatePass&&KS(t).push(i,r.length-1)}function P$(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return CB()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zT(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=Ge.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}t===0?qT(i,n,l,a,c):qT(i,n,l,a)}return i}function qT(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function k$(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let f=o[u],m=n?n.get(f):null,g=m?m.inputs:null,w=m?m.outputs:null;c=zT(0,f.inputs,u,c,g),l=zT(1,f.outputs,u,l,w);let I=c!==null&&s!==null&&!fA(e)?Y$(c,u,s):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function N$(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function US(t,e,n,i,r,o,s,a){let c=Mn(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(D_(t,n,u,i,r),Cf(e)&&O$(n,e.index)):e.type&3?(i=N$(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function O$(t,e){let n=$r(e,t);n[re]&16||(n[re]|=64)}function $S(t,e,n,i){if(AA()){let r=i===null?null:{"":-1},o=B$(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&HS(t,e,n,s,r,a),r&&U$(n,i,r)}n.mergedAttrs=Al(n.mergedAttrs,n.attrs)}function HS(t,e,n,i,r,o){for(let l=0;l<i.length;l++)vv(df(n,e),t,i[l].type);H$(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=OS(t,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];n.mergedAttrs=Al(n.mergedAttrs,u.hostAttrs),z$(t,n,e,c,u),$$(c,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let f=u.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}k$(t,n,o)}function F$(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;L$(s)!=a&&s.push(a),s.push(n,i,o)}}function L$(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function V$(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;Cf(n)&&q$(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||df(n,e),Qo(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],l=Yo(e,t,a,n);if(Qo(l,e),s!==null&&K$(e,a-r,l,c,n,s),Br(c)){let u=$r(n.index,e);u[Zn]=Yo(e,t,a,n)}}}function zS(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=OB();try{Wo(o);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];cv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&j$(c,l)}}finally{Wo(-1),cv(s)}}function j$(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function B$(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(iB(e,s.selectors,!1))if(i||(i=[]),Br(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;Ev(t,e,c)}else i.unshift(s),Ev(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Ev(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function U$(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new Q(-301,!1);i.push(e[r],o)}}}function $$(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Br(e)&&(n[""]=t)}}function H$(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function z$(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Pa(r.type,!0)),s=new Ko(o,Br(r),V);t.blueprint[i]=s,n[i]=s,F$(t,e,i,OS(t,n,r.hostVars,cr),r)}function q$(t,e,n){let i=Mn(e,t),r=BS(n),o=t[nr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Of(t,kf(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function G$(t,e,n,i,r,o){let s=Mn(t,e);W$(e[Dt],s,o,t.value,n,i,r)}function W$(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?Ma(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function K$(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],f=s[a++];NS(i,n,c,l,u,f)}}function Y$(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function qS(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function GS(t,e){let n=t.contentQueries;if(n!==null){let i=gn(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];n_(o),a.contentQueries(2,e[s],s)}}}finally{gn(i)}}}function Of(t,e){return t[xl]?t[xT][Qn]=e:t[xl]=e,t[xT]=e,e}function Iv(t,e,n){n_(0);let i=gn(null);try{e(t,n)}finally{gn(i)}}function WS(t){return t[Sl]||(t[Sl]=[])}function KS(t){return t.cleanup||(t.cleanup=[])}function YS(t,e){let n=t[xa],i=n?n.get(Di,null):null;i&&i.handleError(e)}function D_(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];NS(u,l,i,a,c,r)}}function QS(t,e,n){let i=IA(e,t);o$(t[Dt],i,n)}function Q$(t,e){let n=$r(e,t),i=n[ge];Z$(i,n);let r=n[or];r!==null&&n[tf]===null&&(n[tf]=d_(r,n[xa])),C_(i,n,n[Zn])}function Z$(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function C_(t,e,n){i_(e);try{let i=t.viewQuery;i!==null&&Iv(1,i,n);let r=t.template;r!==null&&FS(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ir]?.finishViewCreation(t),t.staticContentQueries&&GS(t,e),t.staticViewQueries&&Iv(2,t.viewQuery,n);let o=t.components;o!==null&&X$(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[re]&=-5,r_()}}function X$(t,e){for(let n=0;n<e.length;n++)Q$(t,e[n])}function J$(t,e,n,i){let r=e.tView,s=t[re]&4096?4096:16,a=kf(t,r,n,s,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),c=t[e.index];a[Vl]=c;let l=t[ir];return l!==null&&(a[ir]=l.createEmbeddedView(r)),C_(r,a,n),a}function GT(t,e){return!e||e.firstChild===null||jA(t)}function e4(t,e,n,i=!0){let r=e[ge];if(l$(r,e,t,n),i){let s=bv(n,t),a=e[Dt],c=w_(a,t[Go]);c!==null&&a$(r,t[Xn],a,e,c,s)}let o=e[tf];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function pf(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(Ii(o)),sr(o)&&t4(o,i);let s=n.type;if(s&8)pf(t,e,n.child,i);else if(s&32){let a=__(n,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=xS(e,n);if(Array.isArray(a))i.push(...a);else{let c=Ml(e[Ei]);pf(c[ge],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function t4(t,e){for(let n=vn;n<t.length;n++){let i=t[n],r=i[ge].firstChild;r!==null&&pf(i[ge],i,r,e)}t[Go]!==t[or]&&e.push(t[Go])}var ZS=[];function n4(t){return t[qo]??i4(t)}function i4(t){let e=ZS.pop()??Object.create(o4);return e.lView=t,e}function r4(t){t.lView[qo]!==t&&(t.lView=null,ZS.push(t))}var o4=De(L({},KC),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Rl(t.lView)},consumerOnSignalRead(){this.lView[qo]=this}});function XS(t){return ex(t[xl])}function JS(t){return ex(t[Qn])}function ex(t){for(;t!==null&&!sr(t);)t=t[Qn];return t}var tx=100;function nx(t,e=!0,n=0){let i=t[nr],r=i.rendererFactory,o=!1;o||r.begin?.();try{s4(t,n)}catch(s){throw e&&YS(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function s4(t,e){Dv(t,e);let n=0;for(;t_(t);){if(n===tx)throw new Q(103,!1);n++,Dv(t,1)}}function a4(t,e,n,i){let r=e[re];if((r&256)===256)return;let o=!1;!o&&e[nr].inlineEffectRunner?.flush(),i_(e);let s=null,a=null;!o&&c4(t)&&(a=n4(e),s=YC(a));try{CA(e),PB(t.bindingStartIndex),n!==null&&FS(t,e,n,2,i);let c=(r&3)===3;if(!o)if(c){let f=t.preOrderCheckHooks;f!==null&&Yh(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Qh(e,f,0,null),Ky(e,0)}if(l4(e),ix(e,0),t.contentQueries!==null&&GS(t,e),!o)if(c){let f=t.contentCheckHooks;f!==null&&Yh(e,f)}else{let f=t.contentHooks;f!==null&&Qh(e,f,1),Ky(e,1)}C$(t,e);let l=t.components;l!==null&&ox(e,l,0);let u=t.viewQuery;if(u!==null&&Iv(2,u,i),!o)if(c){let f=t.viewCheckHooks;f!==null&&Yh(e,f)}else{let f=t.viewHooks;f!==null&&Qh(e,f,2),Ky(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[qy]){for(let f of e[qy])f();e[qy]=null}o||(e[re]&=-73)}catch(c){throw Rl(e),c}finally{a!==null&&(QC(a,s),r4(a)),r_()}}function c4(t){return t.type!==2}function ix(t,e){for(let n=XS(t);n!==null;n=JS(n))for(let i=vn;i<n.length;i++){let r=n[i];rx(r,e)}}function l4(t){for(let e=XS(t);e!==null;e=JS(e)){if(!(e[re]&Xv.HasTransplantedViews))continue;let n=e[Ra];for(let i=0;i<n.length;i++){let r=n[i],o=r[kt];_B(r)}}}function u4(t,e,n){let i=$r(e,t);rx(i,n)}function rx(t,e){e_(t)&&Dv(t,e)}function Dv(t,e){let i=t[ge],r=t[re],o=t[qo],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Cy(o)),o&&(o.dirty=!1),t[re]&=-9217,s)a4(i,t,i.template,t[Zn]);else if(r&8192){ix(t,1);let a=i.components;a!==null&&ox(t,a,1)}}function ox(t,e,n){for(let i=0;i<e.length;i++)u4(t,e[i],n)}function T_(t){for(t[nr].changeDetectionScheduler?.notify();t;){t[re]|=64;let e=Ml(t);if(hB(t)&&!e)return t;t=e}return null}var Zo=class{get rootNodes(){let e=this._lView,n=e[ge];return pf(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zn]}set context(e){this._lView[Zn]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[kt];if(sr(e)){let n=e[nf],i=n?n.indexOf(this):-1;i>-1&&(wv(e,i),of(n,i))}this._attachedToViewContainer=!1}AS(this._lView[ge],this._lView)}onDestroy(e){TA(this._lView,e)}markForCheck(){T_(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-129}reattach(){av(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,nx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,CS(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e,av(this._lView)}},Rn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=f4;let t=e;return t})(),d4=Rn,h4=class extends d4{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=J$(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new Zo(r)}};function f4(){return A_(_n(),Le())}function A_(t,e){return t.type&4?new h4(e,t,Va(t,e)):null}var bne=new RegExp(`^(\\d+)*(${dU}|${uU})*(.*)`);var p4=()=>null;function WT(t,e){return p4(t,e)}var Cv=class{},Tv=class{},mf=class{};function m4(t){let e=Error(`No component factory found for ${Qt(t)}.`);return e[g4]=t,e}var g4="ngComponent";var Av=class{resolveComponentFactory(e){throw m4(e)}},zr=(()=>{let e=class e{};e.NULL=new Av;let t=e;return t})(),Nl=class{},qr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>y4();let t=e;return t})();function y4(){let t=Le(),e=_n(),n=$r(e.index,t);return(Ho(n)?n:t)[Dt]}var v4=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Xy={};var KT=new Set;function Ff(t){KT.has(t)||(KT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function sx(t){return w4(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function _4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function w4(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Sv=class{constructor(){}supports(e){return sx(e)}create(e){return new xv(e)}},b4=(t,e)=>e,xv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||b4}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<YT(i,r,o)?n:i,a=YT(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,u=c-r;if(l!=u){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,w=g+m;u<=w&&w<l&&(o[m]=g+1)}let f=s.previousIndex;o[f]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!sx(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,_4(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new Rv(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new gf),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new gf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Rv=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Mv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},gf=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Mv,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function YT(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function QT(){return new Lf([new Sv])}var Lf=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||QT()),deps:[[e,new h_,new Ba]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new Q(901,!1)}};e.\u0275prov=N({token:e,providedIn:"root",factory:QT});let t=e;return t})();var ei=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=E4;let t=e;return t})();function E4(t){return I4(_n(),Le(),(t&16)===16)}function I4(t,e,n){if(Cf(t)&&!n){let i=$r(t.index,e);return new Zo(i,i)}else if(t.type&47){let i=e[Ei];return new Zo(i,e)}return null}var ax=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=D4,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),Pv=class extends ax{constructor(e){super(),this._lView=e}onDestroy(e){return TA(this._lView,e),()=>bB(this._lView,e)}};function D4(){return new Pv(Le())}function ZT(...t){}function C4(){let t=typeof Zt.requestAnimationFrame=="function",e=Zt[t?"requestAnimationFrame":"setTimeout"],n=Zt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Z=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=C4().nativeRequestAnimationFrame,S4(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,T4,ZT,ZT);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},T4={};function S_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function A4(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Zt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,kv(t),t.isCheckStableRunning=!0,S_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),kv(t))}function S4(t){let e=()=>{A4(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if(x4(a))return n.invokeTask(r,o,s,a);try{return XT(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),JT(t)}},onInvoke:(n,i,r,o,s,a,c)=>{try{return XT(t),n.invoke(r,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),JT(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,kv(t),S_(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function kv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function XT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function JT(t){t._nesting--,S_(t)}var Nv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pe,this.onMicrotaskEmpty=new Pe,this.onStable=new Pe,this.onError=new Pe}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function x4(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function R4(t="zone.js",e){return t==="noop"?new Nv:t==="zone.js"?new Z(e):t}var Ca=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ca||{}),M4={destroy(){}};function x_(t,e){!e&&CU(x_);let n=e?.injector??j(rt);if(!n$(n))return M4;Ff("NgAfterNextRender");let i=n.get(R_),r=i.handler??=new Fv,o=e?.phase??Ca.MixedReadWrite,s=()=>{r.unregister(c),a()},a=n.get(ax).onDestroy(s),c=new Ov(n,o,()=>{s(),t()});return r.register(c),{destroy:s}}var Ov=class{constructor(e,n,i){this.phase=n,this.callbackFn=i,this.zone=e.get(Z),this.errorHandler=e.get(Di,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Fv=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ca.EarlyRead]:new Set,[Ca.Write]:new Set,[Ca.MixedReadWrite]:new Set,[Ca.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},R_=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Lv(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=IT(r,a);else if(o==2){let c=a,l=e[++s];i=IT(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var yf=class extends zr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Vr(e);return new Oa(n,this.ngModule)}};function eA(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function P4(t){let e=t.toLowerCase();return e==="svg"?fB:e==="math"?pB:null}var Vv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Sf(i);let r=this.injector.get(e,Xy,i);return r!==Xy||n===Xy?r:this.parentInjector.get(e,n,i)}},Oa=class extends mf{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=eA(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return eA(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=aB(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){r=r||this.ngModule;let o=r instanceof Xt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Vv(e,o):e,a=s.get(Nl,null);if(a===null)throw new Q(407,!1);let c=s.get(v4,null),l=s.get(R_,null),u=s.get(Cv,null),f={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},m=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",w=i?S$(m,i,this.componentDef.encapsulation,s):DS(m,g,P4(g)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let E=null;w!==null&&(E=d_(w,s,!0));let A=I_(0,null,null,1,0,null,null,null,null,null,null),B=kf(null,A,null,I,null,null,f,m,s,null,E);i_(B);let M,R;try{let q=this.componentDef,ee,Ie=null;q.findHostDirectiveDefs?(ee=[],Ie=new Map,q.findHostDirectiveDefs(q,ee,Ie),ee.push(q)):ee=[q];let Je=k4(B,w),di=N4(Je,w,q,ee,B,f,m);R=DA(A,jr),w&&L4(m,q,w,i),n!==void 0&&V4(R,this.ngContentSelectors,n),M=F4(di,q,ee,Ie,B,[j4]),C_(A,B,null)}finally{r_()}return new jv(this.componentType,M,Va(R,B),B,R)}},jv=class extends Tv{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Zo(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;D_(o[ge],o,r,e,n),this.previousInputValues.set(e,n);let s=$r(this._tNode.index,o);T_(s)}}get injector(){return new zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function k4(t,e){let n=t[ge],i=jr;return t[i]=e,Nf(n,i,2,"#host",null)}function N4(t,e,n,i,r,o,s){let a=r[ge];O4(i,t,e,s);let c=null;e!==null&&(c=d_(e,r[xa]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let f=kf(r,BS(n),null,u,r[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Ev(a,t,i.length-1),Of(r,f),r[t.index]=f}function O4(t,e,n,i){for(let r of t)e.mergedAttrs=Al(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Lv(e,e.mergedAttrs,!0),n!==null&&MS(i,n,e))}function F4(t,e,n,i,r,o){let s=_n(),a=r[ge],c=Mn(s,r);HS(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let f=s.directiveStart+u,m=Yo(r,a,f,s);Qo(m,r)}zS(a,r,s),c&&Qo(c,r);let l=Yo(r,a,s.directiveStart+s.componentOffset,s);if(t[Zn]=r[Zn]=l,o!==null)for(let u of o)u(l,e);return LS(a,s,r),l}function L4(t,e,n,i){if(i)sv(t,n,["ng-version","17.2.3"]);else{let{attrs:r,classes:o}=cB(e.selectors[0]);r&&sv(t,n,r),o&&o.length>0&&RS(t,n,o.join(" "))}}function V4(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function j4(){let t=_n();m_(Le()[ge],t)}var Pn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=B4;let t=e;return t})();function B4(){let t=_n();return lx(t,Le())}var U4=Pn,cx=class extends U4{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new zo(this._hostTNode,this._hostLView)}get parentInjector(){let e=g_(this._hostTNode,this._hostLView);if(aS(e)){let n=uf(e,this._hostLView),i=lf(e),r=n[ge].data[i+8];return new zo(r,n)}else return new zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=tA(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-vn}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=WT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,GT(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!AU(e),a;if(s)a=n;else{let w=n||{};a=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let c=s?e:new Oa(Vr(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let I=(s?l:this.parentInjector).get(Xt,null);I&&(o=I)}let u=Vr(c.componentType??{}),f=WT(this._lContainer,u?.id??null),m=f?.firstChild??null,g=c.create(l,r,m,o);return this.insertImpl(g.hostView,a,GT(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(vB(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[kt],l=new cx(c,c[Xn],c[kt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return e4(s,r,o,i),e.attachToViewContainerRef(),VA(Jy(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=tA(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=wv(this._lContainer,n);i&&(of(Jy(this._lContainer),n),AS(i[ge],i))}detach(e){let n=this._adjustIndex(e,-1),i=wv(this._lContainer,n);return i&&of(Jy(this._lContainer),n)!=null?new Zo(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function tA(t){return t[nf]}function Jy(t){return t[nf]||(t[nf]=[])}function lx(t,e){let n,i=e[t.index];return sr(i)?n=i:(n=qS(i,e,null,t),e[t.index]=n,Of(e,n)),H4(n,e,t,i),new cx(n,t,e)}function $4(t,e){let n=t[Dt],i=n.createComment(""),r=Mn(e,t),o=w_(n,r);return ff(n,o,i,g$(n,r),!1),i}var H4=G4,z4=()=>!1;function q4(t,e,n){return z4(t,e,n)}function G4(t,e,n,i){if(t[Go])return;let r;n.type&8?r=Ii(i):r=$4(e,n),t[Go]=r}var Bv=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Uv=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)M_(e,n).matches!==null&&this.queries[n].setDirty()}},$v=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=e5(e):this.predicate=e}},Hv=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},zv=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,W4(n,o)),this.matchTNodeWithReadOption(e,n,Zh(n,e,o,!1,!1))}else i===Rn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Zh(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Ve||r===Pn||r===Rn&&n.type&4)this.addMatch(n.index,-2);else{let o=Zh(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function W4(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function K4(t,e){return t.type&11?Va(t,e):t.type&4?A_(t,e):null}function Y4(t,e,n,i){return n===-1?K4(e,t):n===-2?Q4(t,e,i):Yo(t,t[ge],n,e)}function Q4(t,e,n){if(n===Ve)return Va(e,t);if(n===Rn)return A_(e,t);if(n===Pn)return lx(e,t)}function ux(t,e,n,i){let r=e[ir].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(Y4(e,u,s[c+1],n.metadata.read))}}r.matches=a}return r.matches}function qv(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=ux(t,e,r,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let f=vn;f<u.length;f++){let m=u[f];m[Vl]===m[kt]&&qv(m[ge],m,l,i)}if(u[Ra]!==null){let f=u[Ra];for(let m=0;m<f.length;m++){let g=f[m];qv(g[ge],g,l,i)}}}}}return i}function Z4(t,e){return t[ir].queries[e].queryList}function X4(t,e,n){let i=new sf((n&4)===4);return M$(t,e,i,i.destroy),(e[ir]??=new Uv).queries.push(new Bv(i))-1}function J4(t,e,n){let i=un();return i.firstCreatePass&&(t5(i,new $v(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),X4(i,Le(),e)}function e5(t){return t.split(",").map(e=>e.trim())}function t5(t,e,n){t.queries===null&&(t.queries=new Hv),t.queries.track(new zv(e,n))}function M_(t,e){return t.queries.getByIndex(e)}function n5(t,e){let n=t[ge],i=M_(n,e);return i.crossesNgTemplate?qv(n,t,e,[]):ux(n,t,i,e)}function i5(t){let e=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=t(r);n.set(r,o=s.then(a5))}return o}return vf.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(l=>{r.template=l}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let l=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((f,m)=>{a.push(""),s.push(i(f).then(g=>{a[l+m]=g,u.splice(u.indexOf(f),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(l=>{a.push(l),r.styleUrl=void 0}));let c=Promise.all(s).then(()=>c5(o));e.push(c)}),o5(),Promise.all(e).then(()=>{})}var vf=new Map,r5=new Set;function o5(){let t=vf;return vf=new Map,t}function s5(){return vf.size===0}function a5(t){return typeof t=="string"?t:t.text()}function c5(t){r5.delete(t)}function l5(t){return Object.getPrototypeOf(t.prototype).constructor}function Ct(t){let e=l5(t.type),n=!0,i=[t];for(;e;){let r;if(Br(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=qh(t.inputs),s.inputTransforms=qh(t.inputTransforms),s.declaredInputs=qh(t.declaredInputs),s.outputs=qh(t.outputs);let a=r.hostBindings;a&&p5(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&h5(t,c),l&&f5(t,l),u5(t,r),Wj(t.outputs,r.outputs),Br(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ct&&(n=!1)}}e=Object.getPrototypeOf(e)}d5(i)}function u5(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function d5(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Al(r.hostAttrs,n=Al(n,r.hostAttrs))}}function qh(t){return t===Sa?{}:t===xn?[]:t}function h5(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function f5(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function p5(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function Gr(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var Ur=class{},Ol=class{};var _f=class extends Ur{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yf(this);let r=yA(e);this._bootstrapComponents=IS(r.bootstrap),this._r3Injector=gS(e,n,[{provide:Ur,useValue:this},{provide:zr,useValue:this.componentFactoryResolver},...i],Qt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},wf=class extends Ol{constructor(e){super(),this.moduleType=e}create(e){return new _f(this.moduleType,e,[])}};function m5(t,e,n){return new _f(t,e,n)}var Gv=class extends Ur{constructor(e){super(),this.componentFactoryResolver=new yf(this),this.instance=null;let n=new kl([...e.providers,{provide:Ur,useValue:this},{provide:zr,useValue:this.componentFactoryResolver}],e.parent||p_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vf(t,e,n=null){return new Gv({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ts=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new bt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function g5(t,e,n){return t[e]=n}function Xo(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function dx(t,e,n,i){let r=Xo(t,e,n);return Xo(t,e+1,i)||r}function y5(t,e,n,i,r,o,s,a,c){let l=e.consts,u=Nf(e,t,4,s||null,rf(l,a));$S(e,n,u,rf(l,c)),m_(e,u);let f=u.tView=I_(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}function Ne(t,e,n,i,r,o,s,a){let c=Le(),l=un(),u=t+jr,f=l.firstCreatePass?y5(u,l,c,e,n,i,r,o,s):l.data[u];jl(f,!1);let m=v5(l,c,f,t);s_()&&b_(l,c,m,f),Qo(m,c);let g=qS(m,c,m,f);return c[u]=g,Of(c,g),q4(g,f,c),Jv(f)&&VS(l,c,f),s!=null&&jS(c,f,a),Ne}var v5=_5;function _5(t,e,n,i){return a_(!0),e[Dt].createComment("")}function Nt(t,e,n,i){let r=Le(),o=Tf();if(Xo(r,o,e)){let s=un(),a=o_();G$(a,r,t,e,n,i)}return Nt}function w5(t,e,n,i){return Xo(t,Tf(),n)?e+Ma(n)+i:cr}function b5(t,e,n,i,r,o){let s=MB(),a=dx(t,s,n,r);return RA(2),a?e+Ma(n)+i+Ma(r)+o:cr}function Gh(t,e){return t<<17|e<<2}function Jo(t){return t>>17&32767}function E5(t){return(t&2)==2}function I5(t,e){return t&131071|e<<17}function Wv(t){return t|2}function Fa(t){return(t&131068)>>2}function ev(t,e){return t&-131069|e<<2}function D5(t){return(t&1)===1}function Kv(t){return t|1}function C5(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Jo(s),c=Fa(s);t[i]=n;let l=!1,u;if(Array.isArray(n)){let f=n;u=f[1],(u===null||Bl(f,u)>0)&&(l=!0)}else u=n;if(r)if(c!==0){let m=Jo(t[a+1]);t[i+1]=Gh(m,a),m!==0&&(t[m+1]=ev(t[m+1],i)),t[a+1]=I5(t[a+1],i)}else t[i+1]=Gh(a,0),a!==0&&(t[a+1]=ev(t[a+1],i)),a=i;else t[i+1]=Gh(c,0),a===0?a=i:t[c+1]=ev(t[c+1],i),c=i;l&&(t[i+1]=Wv(t[i+1])),nA(t,u,i,!0),nA(t,u,i,!1),T5(e,u,t,i,o),s=Gh(a,c),o?e.classBindings=s:e.styleBindings=s}function T5(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Bl(o,e)>=0&&(n[i+1]=Kv(n[i+1]))}function nA(t,e,n,i){let r=t[n+1],o=e===null,s=i?Jo(r):Fa(r),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];A5(c,e)&&(a=!0,t[s+1]=i?Kv(l):Wv(l)),s=i?Jo(l):Fa(l)}a&&(t[n+1]=i?Wv(r):Kv(r))}function A5(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Bl(t,e)>=0:!1}function ie(t,e,n){let i=Le(),r=Tf();if(Xo(i,r,e)){let o=un(),s=o_();US(o,s,i,t,e,i[Dt],n,!1)}return ie}function iA(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";D_(t,n,o[s],s,i)}function lr(t,e){return S5(t,e,null,!0),lr}function S5(t,e,n,i){let r=Le(),o=un(),s=RA(2);if(o.firstUpdatePass&&R5(o,t,s,i),e!==cr&&Xo(r,s,e)){let a=o.data[es()];O5(o,a,r,r[Dt],t,r[s+1]=F5(e,n),i,s)}}function x5(t,e){return e>=t.expandoStartIndex}function R5(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[es()],s=x5(t,n);L5(o,i)&&e===null&&!s&&(e=!1),e=M5(r,o,e,i),C5(r,o,e,n,s,i)}}function M5(t,e,n,i){let r=FB(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=tv(null,t,e,n,i),n=Fl(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=tv(r,t,e,n,i),o===null){let c=P5(t,e,i);c!==void 0&&Array.isArray(c)&&(c=tv(null,t,e,c[1],i),c=Fl(c,e.attrs,i),k5(t,e,i,c))}else o=N5(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function P5(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Fa(i)!==0)return t[Jo(i)]}function k5(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Jo(r)]=i}function N5(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Fl(i,s,n)}return Fl(i,e.attrs,n)}function tv(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=Fl(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Fl(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),qB(t,s,n?!0:e[++o]))}return t===void 0?null:t}function O5(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=D5(l)?rA(c,e,n,r,Fa(l),s):void 0;if(!bf(u)){bf(o)||E5(l)&&(o=rA(c,null,n,r,a,s));let f=IA(es(),n);I$(i,s,f,r,o)}}function rA(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),u=l?c[1]:c,f=u===null,m=n[r+1];m===cr&&(m=f?xn:void 0);let g=f?Gy(m,i):u===i?m:void 0;if(l&&!bf(g)&&(g=Gy(c,i)),bf(g)&&(a=g,s))return a;let w=t[r+1];r=s?Jo(w):Fa(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Gy(c,i))}return a}function bf(t){return t!==void 0}function F5(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Qt(Hl(t)))),t}function L5(t,e){return(t.flags&(e?8:16))!==0}function V5(t,e,n,i,r,o){let s=e.consts,a=rf(s,r),c=Nf(e,t,2,i,a);return $S(e,n,c,rf(s,o)),c.attrs!==null&&Lv(c,c.attrs,!1),c.mergedAttrs!==null&&Lv(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function b(t,e,n,i){let r=Le(),o=un(),s=jr+t,a=r[Dt],c=o.firstCreatePass?V5(s,o,r,e,n,i):o.data[s],l=j5(o,r,c,a,e,t);r[s]=l;let u=Jv(c);return jl(c,!0),MS(a,l,c),(c.flags&32)!==32&&s_()&&b_(o,r,l,c),EB()===0&&Qo(l,r),IB(),u&&(VS(o,r,c),LS(o,c,r)),i!==null&&jS(r,c),b}function v(){let t=_n();xA()?xB():(t=t.parent,jl(t,!1));let e=t;TB(e)&&AB(),DB();let n=un();return n.firstCreatePass&&(m_(n,t),EA(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&NU(e)&&iA(n,e,Le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&OU(e)&&iA(n,e,Le(),e.stylesWithoutHost,!1),v}function F(t,e,n,i){return b(t,e,n,i),v(),F}var j5=(t,e,n,i,r,o)=>(a_(!0),DS(i,r,jB()));function Ai(){return Le()}function jf(t,e,n){let i=Le(),r=Tf();if(Xo(i,r,e)){let o=un(),s=o_();US(o,s,i,t,e,i[Dt],n,!0)}return jf}var Ef="en-US";var B5=Ef;function U5(t){typeof t=="string"&&(B5=t.toLowerCase().replace(/_/g,"-"))}function He(t,e,n,i){let r=Le(),o=un(),s=_n();return H5(o,r,r[Dt],s,t,e,i),He}function $5(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Sl],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function H5(t,e,n,i,r,o,s){let a=Jv(i),l=t.firstCreatePass&&KS(t),u=e[Zn],f=WS(e),m=!0;if(i.type&3||s){let I=Mn(i,e),E=s?s(I):I,A=f.length,B=s?R=>s(Ii(R[i.index])):i.index,M=null;if(!s&&a&&(M=$5(t,e,r,i.index)),M!==null){let R=M.__ngLastListenerFn__||M;R.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,m=!1}else{o=sA(i,e,u,o,!1);let R=n.listen(E,r,o);f.push(o,R),l&&l.push(r,B,A,A+1)}}else o=sA(i,e,u,o,!1);let g=i.outputs,w;if(m&&g!==null&&(w=g[r])){let I=w.length;if(I)for(let E=0;E<I;E+=2){let A=w[E],B=w[E+1],q=e[A][B].subscribe(o),ee=f.length;if(f.push(o,q),l){let Ie=typeof q=="function"?ee+1:-(ee+1);l.push(r,i.index,ee,Ie)}}}}function oA(t,e,n,i){try{return _i(6,e,n),n(i)!==!1}catch(r){return YS(t,r),!1}finally{_i(7,e,n)}}function sA(t,e,n,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?$r(t.index,e):e;T_(a);let c=oA(e,n,i,s),l=o.__ngNextListenerFn__;for(;l;)c=oA(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function Qe(t=1){return VB(t)}function Bf(t,e,n){J4(t,e,n)}function zl(t){let e=Le(),n=un(),i=MA();n_(i+1);let r=M_(n,i);if(t.dirty&&yB(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=n5(e,i);t.reset(o,UB),t.notifyOnChanges()}return!0}return!1}function ql(){return Z4(Le(),MA())}function x(t,e=""){let n=Le(),i=un(),r=t+jr,o=i.firstCreatePass?Nf(i,r,1,e,null):i.data[r],s=z5(i,n,o,e,t);n[r]=s,s_()&&b_(i,n,s,o),jl(o,!1)}var z5=(t,e,n,i,r)=>(a_(!0),r$(e[Dt],i));function Ut(t){return Jt("",t,""),Ut}function Jt(t,e,n){let i=Le(),r=w5(i,t,e,n);return r!==cr&&QS(i,es(),r),Jt}function P_(t,e,n,i,r){let o=Le(),s=b5(o,t,e,n,i,r);return s!==cr&&QS(o,es(),s),P_}function q5(t,e,n){let i=un();if(i.firstCreatePass){let r=Br(t);Yv(n,i.data,i.blueprint,r,!0),Yv(e,i.data,i.blueprint,r,!1)}}function Yv(t,e,n,i,r){if(t=Yt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Yv(t[o],e,n,i,r);else{let o=un(),s=Le(),a=_n(),c=Na(t)?t:Yt(t.provide),l=tS(t),u=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Na(t)||!t.multi){let g=new Ko(l,r,V),w=iv(c,e,r?u:u+m,f);w===-1?(vv(df(a,s),o,c),nv(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[w]=g,s[w]=g)}else{let g=iv(c,e,u+m,f),w=iv(c,e,u,u+m),I=g>=0&&n[g],E=w>=0&&n[w];if(r&&!E||!r&&!I){vv(df(a,s),o,c);let A=K5(r?W5:G5,n.length,r,i,l);!r&&E&&(n[w].providerFactory=A),nv(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(A),s.push(A)}else{let A=hx(n[r?w:g],l,!r&&i);nv(o,t,g>-1?g:w,A)}!r&&i&&E&&n[w].componentProviders++}}}function nv(t,e,n,i){let r=Na(e),o=vU(e);if(r||o){let c=(o?Yt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function hx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function iv(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function G5(t,e,n,i){return Qv(this.multi,[])}function W5(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Yo(n,n[ge],this.providerFactory.index,i);o=a.slice(0,s),Qv(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Qv(r,o);return o}function Qv(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function K5(t,e,n,i,r){let o=new Ko(t,n,V);return o.multi=[],o.index=e,o.componentProviders=0,hx(o,r,i&&!n),o}function Si(t,e=[]){return n=>{n.providersResolver=(i,r)=>q5(i,r?r(t):t,e)}}var Y5=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=XA(!1,i.type),o=r.length>0?Vf([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(_(Xt))});let t=e;return t})();function Wr(t){Ff("NgStandalone"),t.getStandaloneInjector=e=>e.get(Y5).getOrCreateStandaloneInjector(t)}function k_(t,e,n,i,r){return Z5(Le(),RB(),t,e,n,i,r)}function Q5(t,e){let n=t[e];return n===cr?void 0:n}function Z5(t,e,n,i,r,o,s){let a=e+n;return dx(t,a,r,o)?g5(t,a+2,s?i.call(s,r,o):i(r,o)):Q5(t,a+2)}var Wh=null;function X5(t){Wh!==null&&(t.defaultEncapsulation!==Wh.defaultEncapsulation||t.preserveWhitespaces!==Wh.preserveWhitespaces)||(Wh=t)}var Ci=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},fx=new Ci("17.2.3"),Uf=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var N_=new O(""),Gl=new O(""),$f=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,O_||(J5(o),o.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),i()},r)),this._callbacks.push({doneCb:i,timeoutId:s,updateCb:o})}whenStable(i,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,o){return[]}};e.\u0275fac=function(r){return new(r||e)(_(Z),_(Hf),_(Gl))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Hf=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return O_?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function J5(t){O_=t}var O_;function ns(t){return!!t&&typeof t.then=="function"}function px(t){return!!t&&typeof t.subscribe=="function"}var zf=new O(""),mx=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=j(zf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if(ns(s))i.push(s);else if(px(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qf=new O("");function e3(){XC(()=>{throw new Q(600,!1)})}function t3(t){return t.isBoundToModule}function n3(t,e,n){try{let i=n();return ns(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function gx(t,e){return Array.isArray(e)?e.reduce(gx,t):L(L({},t),e)}var ur=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(yS),this.afterRenderEffectManager=j(R_),this.componentTypes=[],this.components=[],this.isStable=j(ts).hasPendingTasks.pipe(Y(i=>!i)),this._injector=j(Xt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof mf;if(!this._injector.get(mx).done){let g=!o&&gA(i),w=!1;throw new Q(405,w)}let a;o?a=i:a=this._injector.get(zr).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=t3(a)?void 0:this._injector.get(Ur),l=r||a.selector,u=a.create(rt.NULL,[],l,c),f=u.location.nativeElement,m=u.injector.get(N_,null);return m?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),Jh(this.components,u),m?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Q(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===tx)throw new Q(103,!1);let o=i===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!rv(s)||this.detectChangesInView(s,a,o);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:s})=>rv(s))&&(r.execute(),!this._views.some(({_lView:s})=>rv(s))))break}}detectChangesInView(i,r,o){let s;o?(s=0,i[re]|=1024):i[re]&64?s=0:s=1,nx(i,r,s)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Jh(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(qf,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Jh(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Q(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Jh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function rv(t){return t_(t)}var Zv=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Gf=(()=>{let e=class e{compileModuleSync(i){return new wf(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=yA(i),s=IS(o.declarations).reduce((a,c)=>{let l=Vr(c);return l&&a.push(new Oa(l)),a},[]);return new Zv(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),i3=new O("");function r3(t,e,n){let i=new wf(n);return Promise.resolve(i)}function aA(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var o3=(()=>{let e=class e{constructor(){this.zone=j(Z),this.applicationRef=j(ur)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function s3(t){return[{provide:Z,useFactory:t},{provide:ka,multi:!0,useFactory:()=>{let e=j(o3,{optional:!0});return()=>e.initialize()}},{provide:ka,multi:!0,useFactory:()=>{let e=j(l3);return()=>{e.initialize()}}},{provide:yS,useFactory:a3}]}function a3(){let t=j(Z),e=j(Di);return n=>t.runOutsideAngular(()=>e.handleError(n))}function c3(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var l3=(()=>{let e=class e{constructor(){this.subscription=new qe,this.initialized=!1,this.zone=j(Z),this.pendingTasks=j(ts)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Z.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function u3(){return typeof $localize<"u"&&$localize.locale||Ef}var Wf=new O("",{providedIn:"root",factory:()=>j(Wf,_e.Optional|_e.SkipSelf)||u3()});var yx=new O(""),vx=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let o=R4(r?.ngZone,c3({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let s=m5(i.moduleType,this.injector,s3(()=>o)),a=s.injector.get(Di,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{Jh(this._modules,s),c.unsubscribe()})}),n3(a,o,()=>{let c=s.injector.get(mx);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(Wf,Ef);return U5(l||Ef),this._moduleDoBootstrap(s),s})})})}bootstrapModule(i,r=[]){let o=gx({},r);return r3(this.injector,o,i).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(i){let r=i.injector.get(ur);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new Q(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Q(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(yx,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(_(rt))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Tl=null,_x=new O("");function d3(t){if(Tl&&!Tl.get(_x,!1))throw new Q(400,!1);e3(),Tl=t;let e=t.get(vx);return p3(t),e}function F_(t,e,n=[]){let i=`Platform: ${e}`,r=new O(i);return(o=[])=>{let s=wx();if(!s||s.injector.get(_x,!1)){let a=[...n,...o,{provide:r,useValue:!0}];t?t(a):d3(h3(a,i))}return f3(r)}}function h3(t=[],e){return rt.create({name:e,providers:[{provide:Rf,useValue:"platform"},{provide:yx,useValue:new Set([()=>Tl=null])},...t]})}function f3(t){let e=wx();if(!e)throw new Q(401,!1);return e}function wx(){return Tl?.get(vx)??null}function p3(t){t.get(l_,null)?.forEach(n=>n())}function L_(){return!1}var bx=F_(null,"core",[]),Ex=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(_(ur))},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})();function xi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ix(t){let e=Vr(t);if(!e)return null;let n=new Oa(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var xx=null;function Ri(){return xx}function Rx(t){xx??=t}var Kf=class{};var he=new O(""),H_=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>j(y3),providedIn:"platform"});let t=e;return t})(),Mx=new O(""),y3=(()=>{let e=class e extends H_{constructor(){super(),this._doc=j(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ri().getBaseHref(this._doc)}onPopState(i){let r=Ri().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Ri().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function z_(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Dx(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function dr(t){return t&&t[0]!=="?"?"?"+t:t}var hr=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>j(q_),providedIn:"root"});let t=e;return t})(),Px=new O(""),q_=(()=>{let e=class e extends hr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return z_(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+dr(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+dr(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+dr(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(_(H_),_(Px,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kx=(()=>{let e=class e extends hr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=z_(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+dr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+dr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(_(H_),_(Px,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Mi=(()=>{let e=class e{constructor(i){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=w3(Dx(Cx(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+dr(r))}normalize(i){return e.stripTrailingSlash(_3(this._basePath,Cx(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+dr(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+dr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=dr,e.joinWithSlash=z_,e.stripTrailingSlash=Dx,e.\u0275fac=function(r){return new(r||e)(_(hr))},e.\u0275prov=N({token:e,factory:()=>v3(),providedIn:"root"});let t=e;return t})();function v3(){return new Mi(_(hr))}function _3(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Cx(t){return t.replace(/\/index.html$/,"")}function w3(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Yf(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var V_=/\s+/,Tx=[],Nx=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=Tx,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(V_):Tx}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(V_):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(V_).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(V(Ve),V(qr))},e.\u0275dir=ke({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ge.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var j_=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Kr=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new j_(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,a),Ax(c,o)}});for(let o=0,s=r.length;o<s;o++){let c=r.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);Ax(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(V(Pn),V(Rn),V(Lf))},e.\u0275dir=ke({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Ax(t,e){t.context.$implicit=e.item}var Yr=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new B_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Sx("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Sx("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(V(Pn),V(Rn))},e.\u0275dir=ke({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),B_=class{constructor(){this.$implicit=null,this.ngIf=null}};function Sx(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Qt(e)}'.`)}var Ox=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})(),G_="browser",b3="server";function W_(t){return t===G_}function is(t){return t===b3}var Fx=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>W_(j(ft))?new U_(j(he),window):new $_});let t=e;return t})(),U_=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=E3(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function E3(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var $_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ua=class{};var Kl=class{},Zf=class{},rs=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Y_=class{encodeKey(e){return Lx(e)}encodeValue(e){return Lx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function C3(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var T3=/%(\d[a-f0-9])/gi,A3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lx(t){return encodeURIComponent(t).replace(T3,(e,n)=>A3[n]??e)}function Qf(t){return`${t}`}var Qr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Y_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=C3(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(Qf):[Qf(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Qf(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Qf(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Q_=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function S3(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Vx(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function jx(t){return typeof Blob<"u"&&t instanceof Blob}function Bx(t){return typeof FormData<"u"&&t instanceof FormData}function x3(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Wl=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(S3(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new rs,this.context??=new Q_,!this.params)this.params=new Qr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:Vx(this.body)||jx(this.body)||Bx(this.body)||x3(this.body)||typeof this.body=="string"?this.body:this.body instanceof Qr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Bx(this.body)?null:jx(this.body)?this.body.type||null:Vx(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Qr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,m)=>f.set(m,e.setHeaders[m]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,m)=>f.set(m,e.setParams[m]),l)),new t(n,i,o,{params:l,headers:c,context:u,reportProgress:a,responseType:r,withCredentials:s})}},$a=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}($a||{}),Yl=class{constructor(e,n=ep.Ok,i="OK"){this.headers=e.headers||new rs,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Z_=class t extends Yl{constructor(e={}){super(e),this.type=$a.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Xf=class t extends Yl{constructor(e={}){super(e),this.type=$a.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Jf=class extends Yl{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ep=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(ep||{});function K_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var os=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof Wl)s=i;else{let l;o.headers instanceof rs?l=o.headers:l=new rs(o.headers);let u;o.params&&(o.params instanceof Qr?u=o.params:u=new Qr({fromObject:o.params})),s=new Wl(i,r,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=G(s).pipe(tr(l=>this.handler.handle(l)));if(i instanceof Wl||o.observe==="events")return a;let c=a.pipe(Me(l=>l instanceof Xf));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Y(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Y(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(Y(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Qr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,K_(o,r))}post(i,r,o={}){return this.request("POST",i,K_(o,r))}put(i,r,o={}){return this.request("PUT",i,K_(o,r))}};e.\u0275fac=function(r){return new(r||e)(_(Kl))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function zx(t,e){return e(t)}function R3(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function M3(t,e,n){return(i,r)=>Ti(n,()=>e(i,o=>t(o,r)))}var P3=new O(""),X_=new O(""),k3=new O(""),N3=new O("");function O3(){let t=null;return(e,n)=>{t===null&&(t=(j(P3,{optional:!0})??[]).reduceRight(R3,zx));let i=j(ts),r=i.add();return t(e,n).pipe(Or(()=>i.remove(r)))}}var Ux=(()=>{let e=class e extends Kl{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=j(ts);let o=j(N3,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(X_),...this.injector.get(k3,[])]));this.chain=o.reduceRight((s,a)=>M3(s,a,this.injector),zx)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(Or(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(_(Zf),_(Xt))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();var F3=/^\)\]\}',?\n/;function L3(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var $x=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new Q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?me(r.\u0275loadImpl()):G(null)).pipe(Ue(()=>new ne(s=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((E,A)=>a.setRequestHeader(E,A.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let E=i.detectContentTypeHeader();E!==null&&a.setRequestHeader("Content-Type",E)}if(i.responseType){let E=i.responseType.toLowerCase();a.responseType=E!=="json"?E:"text"}let c=i.serializeBody(),l=null,u=()=>{if(l!==null)return l;let E=a.statusText||"OK",A=new rs(a.getAllResponseHeaders()),B=L3(a)||i.url;return l=new Z_({headers:A,status:a.status,statusText:E,url:B}),l},f=()=>{let{headers:E,status:A,statusText:B,url:M}=u(),R=null;A!==ep.NoContent&&(R=typeof a.response>"u"?a.responseText:a.response),A===0&&(A=R?ep.Ok:0);let q=A>=200&&A<300;if(i.responseType==="json"&&typeof R=="string"){let ee=R;R=R.replace(F3,"");try{R=R!==""?JSON.parse(R):null}catch(Ie){R=ee,q&&(q=!1,R={error:Ie,text:R})}}q?(s.next(new Xf({body:R,headers:E,status:A,statusText:B,url:M||void 0})),s.complete()):s.error(new Jf({error:R,headers:E,status:A,statusText:B,url:M||void 0}))},m=E=>{let{url:A}=u(),B=new Jf({error:E,status:a.status||0,statusText:a.statusText||"Unknown Error",url:A||void 0});s.error(B)},g=!1,w=E=>{g||(s.next(u()),g=!0);let A={type:$a.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(A.total=E.total),i.responseType==="text"&&a.responseText&&(A.partialText=a.responseText),s.next(A)},I=E=>{let A={type:$a.UploadProgress,loaded:E.loaded};E.lengthComputable&&(A.total=E.total),s.next(A)};return a.addEventListener("load",f),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),i.reportProgress&&(a.addEventListener("progress",w),c!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),s.next({type:$a.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",f),a.removeEventListener("timeout",m),i.reportProgress&&(a.removeEventListener("progress",w),c!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(_(Ua))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),qx=new O(""),V3="XSRF-TOKEN",j3=new O("",{providedIn:"root",factory:()=>V3}),B3="X-XSRF-TOKEN",U3=new O("",{providedIn:"root",factory:()=>B3}),tp=class{},$3=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yf(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(_(he),_(ft),_(j3))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function H3(t,e){let n=t.url.toLowerCase();if(!j(qx)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=j(tp).getToken(),r=j(U3);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var Gx=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Gx||{});function z3(t,e){return{\u0275kind:t,\u0275providers:e}}function q3(...t){let e=[os,$x,Ux,{provide:Kl,useExisting:Ux},{provide:Zf,useExisting:$x},{provide:X_,useValue:H3,multi:!0},{provide:qx,useValue:!0},{provide:tp,useClass:$3}];for(let n of t)e.push(...n.\u0275providers);return xf(e)}var Hx=new O("");function G3(){return z3(Gx.LegacyInterceptors,[{provide:Hx,useFactory:O3},{provide:X_,useExisting:Hx,multi:!0}])}var Wx=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({providers:[q3(G3())]});let t=e;return t})();var nw=class extends Kf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},iw=class t extends nw{static makeCurrent(){Rx(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=W3();return n==null?null:K3(n)}resetBaseElement(){Ql=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yf(document.cookie,e)}},Ql=null;function W3(){return Ql=Ql||document.querySelector("base"),Ql?Ql.getAttribute("href"):null}function K3(t){return new URL(t,document.baseURI).pathname}var rw=class{addToWindow(e){Zt.getAngularTestability=(i,r=!0)=>{let o=e.findTestabilityInTree(i,r);if(o==null)throw new Q(5103,!1);return o},Zt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Zt.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=Zt.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Zt.frameworkStabilizers||(Zt.frameworkStabilizers=[]),Zt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?Ri().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},Y3=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),ow=new O(""),Zx=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(_(ow),_(Z))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),np=class{constructor(e){this._doc=e}},ew="ng-app-id",Xx=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=is(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${ew}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(ew),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(ew,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(_(he),_(Ul),_($l,8),_(ft))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),tw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},aw=/%COMP%/g,Jx="%COMP%",Q3=`_nghost-${Jx}`,Z3=`_ngcontent-${Jx}`,X3=!0,J3=new O("",{providedIn:"root",factory:()=>X3});function eH(t){return Z3.replace(aw,t)}function tH(t){return Q3.replace(aw,t)}function eR(t,e){return e.map(n=>n.replace(aw,t))}var Kx=(()=>{let e=class e{constructor(i,r,o,s,a,c,l,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=is(c),this.defaultRenderer=new Zl(i,a,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===bi.ShadowDom&&(r=De(L({},r),{encapsulation:bi.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof ip?o.applyToHost(i):o instanceof Xl&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case bi.Emulated:s=new ip(l,u,r,this.appId,f,a,c,m);break;case bi.ShadowDom:return new sw(l,u,i,r,a,c,this.nonce,m);default:s=new Xl(l,u,r,f,a,c,m);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(_(Zx),_(Xx),_(Ul),_(J3),_(he),_(ft),_(Z),_($l))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Zl=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Yx(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(Yx(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Q(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=tw[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=tw[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(rr.DashCase|rr.Important)?e.style.setProperty(n,i,r&rr.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&rr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Ri().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Yx(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var sw=class extends Zl{constructor(e,n,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=eR(r.id,r.styles);for(let u of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xl=class extends Zl{constructor(e,n,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?eR(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ip=class extends Xl{constructor(e,n,i,r,o,s,a,c){let l=r+"-"+i.id;super(e,n,i,o,s,a,c,l),this.contentAttr=eH(l),this.hostAttr=tH(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},nH=(()=>{let e=class e extends np{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(_(he))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Qx=["alt","control","meta","shift"],iH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rH={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},oH=(()=>{let e=class e extends np{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ri().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),Qx.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),a+=u+".")}),a+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(i,r){let o=iH[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Qx.forEach(a=>{if(a!==o){let c=rH[a];c(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(_(he))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function sH(){iw.makeCurrent()}function aH(){return new Di}function cH(){return BA(document),document}var lH=[{provide:ft,useValue:G_},{provide:l_,useValue:sH,multi:!0},{provide:he,useFactory:cH,deps:[]}],tR=F_(bx,"browser",lH),uH=new O(""),dH=[{provide:Gl,useClass:rw,deps:[]},{provide:N_,useClass:$f,deps:[Z,Hf,Gl]},{provide:$f,useClass:$f,deps:[Z,Hf,Gl]}],hH=[{provide:Rf,useValue:"root"},{provide:Di,useFactory:aH,deps:[]},{provide:ow,useClass:nH,multi:!0,deps:[he,Z,ft]},{provide:ow,useClass:oH,multi:!0,deps:[he]},Kx,Xx,Zx,{provide:Nl,useExisting:Kx},{provide:Ua,useClass:Y3,deps:[]},[]],nR=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Ul,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(_(uH,12))},e.\u0275mod=oe({type:e}),e.\u0275inj=se({providers:[...hH,...dH],imports:[Ox,Ex]});let t=e;return t})();var iR=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(_(he))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pe="primary",fu=Symbol("RouteTitle"),hw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Wa(t){return new hw(t)}function fH(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function pH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ki(t[n],e[n]))return!1;return!0}function ki(t,e){let n=t?fw(t):void 0,i=e?fw(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!fR(t[r],e[r]))return!1;return!0}function fw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function fR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function pR(t){return t.length>0?t[t.length-1]:null}function eo(t){return Lh(t)?t:ns(t)?me(Promise.resolve(t)):G(t)}var mH={exact:gR,subset:yR},mR={exact:gH,subset:yH,ignored:()=>!0};function oR(t,e,n){return mH[n.paths](t.root,e.root,n.matrixParams)&&mR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function gH(t,e){return ki(t,e)}function gR(t,e,n){if(!as(t.segments,e.segments)||!sp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!gR(t.children[i],e.children[i],n))return!1;return!0}function yH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fR(t[n],e[n]))}function yR(t,e,n){return vR(t,e,e.segments,n)}function vR(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!as(r,n)||e.hasChildren()||!sp(r,n,i))}else if(t.segments.length===n.length){if(!as(t.segments,n)||!sp(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!yR(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!as(t.segments,r)||!sp(t.segments,r,i)||!t.children[pe]?!1:vR(t.children[pe],e,o,i)}}function sp(t,e,n){return e.every((i,r)=>mR[n](t[r].parameters,i.parameters))}var Zr=class{constructor(e=new Oe([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Wa(this.queryParams),this._queryParamMap}toString(){return wH.serialize(this)}},Oe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ap(this)}},ss=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Wa(this.parameters),this._parameterMap}toString(){return wR(this)}};function vH(t,e){return as(t,e)&&t.every((n,i)=>ki(n.parameters,e[i].parameters))}function as(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function _H(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===pe&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==pe&&(n=n.concat(e(r,i)))}),n}var pu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>new ou,providedIn:"root"});let t=e;return t})(),ou=class{parse(e){let n=new mw(e);return new Zr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Jl(e.root,!0)}`,i=IH(e.queryParams),r=typeof e.fragment=="string"?`#${bH(e.fragment)}`:"";return`${n}${i}${r}`}},wH=new ou;function ap(t){return t.segments.map(e=>wR(e)).join("/")}function Jl(t,e){if(!t.hasChildren())return ap(t);if(e){let n=t.children[pe]?Jl(t.children[pe],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==pe&&i.push(`${r}:${Jl(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=_H(t,(i,r)=>r===pe?[Jl(t.children[pe],!1)]:[`${r}:${Jl(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[pe]!=null?`${ap(t)}/${n[0]}`:`${ap(t)}/(${n.join("//")})`}}function _R(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rp(t){return _R(t).replace(/%3B/gi,";")}function bH(t){return encodeURI(t)}function pw(t){return _R(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cp(t){return decodeURIComponent(t)}function sR(t){return cp(t.replace(/\+/g,"%20"))}function wR(t){return`${pw(t.path)}${EH(t.parameters)}`}function EH(t){return Object.entries(t).map(([e,n])=>`;${pw(e)}=${pw(n)}`).join("")}function IH(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${rp(n)}=${rp(r)}`).join("&"):`${rp(n)}=${rp(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var DH=/^[^\/()?;#]+/;function cw(t){let e=t.match(DH);return e?e[0]:""}var CH=/^[^\/()?;=#]+/;function TH(t){let e=t.match(CH);return e?e[0]:""}var AH=/^[^=?&#]+/;function SH(t){let e=t.match(AH);return e?e[0]:""}var xH=/^[^&#]+/;function RH(t){let e=t.match(xH);return e?e[0]:""}var mw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[pe]=new Oe(e,n)),i}parseSegment(){let e=cw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new ss(cp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=TH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=cw(this.remaining);r&&(i=r,this.capture(i))}e[cp(n)]=cp(i)}parseQueryParam(e){let n=SH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=RH(this.remaining);s&&(i=s,this.capture(i))}let r=sR(n),o=sR(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=cw(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Q(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[pe]:new Oe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function bR(t){return t.segments.length>0?new Oe([],{[pe]:t}):t}function ER(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=ER(r);if(i===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Oe(t.segments,e);return MH(n)}function MH(t){if(t.numberOfChildren===1&&t.children[pe]){let e=t.children[pe];return new Oe(t.segments.concat(e.segments),e.children)}return t}function Ka(t){return t instanceof Zr}function PH(t,e,n=null,i=null){let r=IR(t);return DR(r,e,n,i)}function IR(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Oe(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=bR(i);return e??r}function DR(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return lw(r,r,r,n,i);let o=kH(e);if(o.toRoot())return lw(r,r,new Oe([],{}),n,i);let s=NH(o,r,t),a=s.processChildren?nu(s.segmentGroup,s.index,o.commands):TR(s.segmentGroup,s.index,o.commands);return lw(r,s.segmentGroup,a,n,i)}function lp(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function su(t){return typeof t=="object"&&t!=null&&t.outlets}function lw(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=CR(t,e,n);let a=bR(ER(s));return new Zr(a,o,r)}function CR(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=CR(o,e,n)}),new Oe(t.segments,i)}var up=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&lp(i[0]))throw new Q(4003,!1);let r=i.find(su);if(r&&r!==pR(i))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function kH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new up(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new up(n,e,i)}var qa=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function NH(t,e,n){if(t.isAbsolute)return new qa(e,!0,0);if(!n)return new qa(e,!1,NaN);if(n.parent===null)return new qa(n,!0,0);let i=lp(t.commands[0])?0:1,r=n.segments.length-1+i;return OH(n,r,t.numberOfDoubleDots)}function OH(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Q(4005,!1);r=i.segments.length}return new qa(i,!1,r-o)}function FH(t){return su(t[0])?t[0].outlets:{[pe]:t}}function TR(t,e,n){if(t??=new Oe([],{}),t.segments.length===0&&t.hasChildren())return nu(t,e,n);let i=LH(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Oe(t.segments.slice(0,i.pathIndex),{});return o.children[pe]=new Oe(t.segments.slice(i.pathIndex),t.children),nu(o,0,r)}else return i.match&&r.length===0?new Oe(t.segments,{}):i.match&&!t.hasChildren()?gw(t,e,n):i.match?nu(t,0,r):gw(t,e,n)}function nu(t,e,n){if(n.length===0)return new Oe(t.segments,{});{let i=FH(n),r={};if(Object.keys(i).some(o=>o!==pe)&&t.children[pe]&&t.numberOfChildren===1&&t.children[pe].segments.length===0){let o=nu(t.children[pe],e,n);return new Oe(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=TR(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Oe(t.segments,r)}}function LH(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(su(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!cR(c,l,s))return o;i+=2}else{if(!cR(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function gw(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(su(o)){let c=VH(o.outlets);return new Oe(i,c)}if(r===0&&lp(n[0])){let c=t.segments[e];i.push(new ss(c.path,aR(n[0]))),r++;continue}let s=su(o)?o.outlets[pe]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&lp(a)?(i.push(new ss(s,aR(a))),r+=2):(i.push(new ss(s,{})),r++)}return new Oe(i,{})}function VH(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=gw(new Oe([],{}),0,i))}),e}function aR(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function cR(t,e,n){return t==n.path&&ki(e,n.parameters)}var iu="imperative",Tt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Tt||{}),Nn=class{constructor(e,n){this.id=e,this.url=n}},Ya=class extends Nn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Tt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ni=class extends Nn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(kn||{}),dp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(dp||{}),Xr=class extends Nn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jr=class extends Nn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Tt.NavigationSkipped}},au=class extends Nn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hp=class extends Nn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yw=class extends Nn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vw=class extends Nn{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_w=class extends Nn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ww=class extends Nn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bw=class{constructor(e){this.route=e,this.type=Tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ew=class{constructor(e){this.route=e,this.type=Tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Iw=class{constructor(e){this.snapshot=e,this.type=Tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dw=class{constructor(e){this.snapshot=e,this.type=Tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cw=class{constructor(e){this.snapshot=e,this.type=Tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tw=class{constructor(e){this.snapshot=e,this.type=Tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fp=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=Tt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},cu=class{},lu=class{constructor(e){this.url=e}};var Aw=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new mu,this.attachRef=null}},mu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Aw,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Sw(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=Sw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=xw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return xw(e,this._root).map(n=>n.value)}};function Sw(t,e){if(t===e.value)return e;for(let n of e.children){let i=Sw(t,n);if(i)return i}return null}function xw(t,e){if(t===e.value)return[e];for(let n of e.children){let i=xw(t,n);if(i.length)return i.unshift(e),i}return[]}var bn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function za(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var mp=class extends pp{constructor(e,n){super(e),this.snapshot=n,jw(this,e)}toString(){return this.snapshot.toString()}};function AR(t){let e=jH(t),n=new bt([new ss("",{})]),i=new bt({}),r=new bt({}),o=new bt({}),s=new bt(""),a=new cs(n,i,o,s,r,pe,t,e.root);return a.snapshot=e.root,new mp(new bn(a,[]),e)}function jH(t){let e={},n={},i={},r="",o=new uu([],e,i,r,n,pe,t,null,{});return new gp("",new bn(o,[]))}var cs=class{constructor(e,n,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Y(l=>l[fu]))??G(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>Wa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>Wa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vw(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),r?.data),t._resolvedData)}:i={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},r&&xR(r)&&(i.resolve[fu]=r.title),i}var uu=class{get title(){return this.data?.[fu]}constructor(e,n,i,r,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},gp=class extends pp{constructor(e,n){super(n),this.url=e,jw(this,n)}toString(){return SR(this._root)}};function jw(t,e){e.value._routerState=t,e.children.forEach(n=>jw(t,n))}function SR(t){let e=t.children.length>0?` { ${t.children.map(SR).join(", ")} } `:"";return`${t.value}${e}`}function uw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ki(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ki(e.params,n.params)||t.paramsSubject.next(n.params),pH(e.url,n.url)||t.urlSubject.next(n.url),ki(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rw(t,e){let n=ki(t.params,e.params)&&vH(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||Rw(t.parent,e.parent))}function xR(t){return typeof t.title=="string"||t.title===null}var Bw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.parentContexts=j(mu),this.location=j(Pn),this.changeDetector=j(ei),this.environmentInjector=j(Xt),this.inputBinder=j(bp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Mw(i,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ke({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wn]});let t=e;return t})(),Mw=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===cs?this.route:e===mu?this.childContexts:this.parent.get(e,n)}},bp=new O(""),lR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=Bo([r.queryParams,r.params,r.data]).pipe(Ue(([s,a,c],l)=>(c=L(L(L({},s),a),c),l===0?G(c):Promise.resolve(c)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=Ix(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function BH(t,e,n){let i=du(t,e._root,n?n._root:void 0);return new mp(i,e)}function du(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=UH(t,e,n);return new bn(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>du(t,a)),s}}let i=$H(e.value),r=e.children.map(o=>du(t,o));return new bn(i,r)}}function UH(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return du(t,i,r);return du(t,i)})}function $H(t){return new cs(new bt(t.url),new bt(t.params),new bt(t.queryParams),new bt(t.fragment),new bt(t.data),t.outlet,t.component,t)}var RR="ngNavigationCancelingError";function MR(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Ka(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=PR(!1,kn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function PR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[RR]=!0,n.cancellationCode=e,n}function HH(t){return kR(t)&&Ka(t.url)}function kR(t){return!!t&&t[RR]}var zH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Te({type:e,selectors:[["ng-component"]],standalone:!0,features:[Wr],decls:1,vars:0,template:function(r,o){r&1&&F(0,"router-outlet")},dependencies:[Bw],encapsulation:2});let t=e;return t})();function qH(t,e){return t.providers&&!t._injector&&(t._injector=Vf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Uw(t){let e=t.children&&t.children.map(Uw),n=e?De(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pe&&(n.component=zH),n}function Oi(t){return t.outlet||pe}function GH(t,e){let n=t.filter(i=>Oi(i)===e);return n.push(...t.filter(i=>Oi(i)!==e)),n}function gu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var WH=(t,e,n,i)=>Y(r=>(new Pw(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Pw=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),uw(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=za(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=za(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=za(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=za(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Tw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Dw(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(uw(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=gu(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},yp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ga=class{constructor(e,n){this.component=e,this.route=n}};function KH(t,e,n){let i=t._root,r=e?e._root:null;return eu(i,r,n,[i.value])}function YH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Za(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!UA(t)?t:e.get(t):i}function eu(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=za(e);return t.children.forEach(s=>{QH(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ru(a,n.getContext(s),r)),r}function QH(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=ZH(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new yp(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?eu(t,e,a?a.children:null,i,r):eu(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ga(a.outlet.component,s))}else s&&ru(e,a,r),r.canActivateChecks.push(new yp(i)),o.component?eu(t,null,a?a.children:null,i,r):eu(t,null,n,i,r);return r}function ZH(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!as(t.url,e.url);case"pathParamsOrQueryParamsChange":return!as(t.url,e.url)||!ki(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rw(t,e)||!ki(t.queryParams,e.queryParams);case"paramsChange":default:return!Rw(t,e)}}function ru(t,e,n){let i=za(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?ru(s,e.children.getContext(o),n):ru(s,null,n):ru(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ga(e.outlet.component,r)):n.canDeactivateChecks.push(new Ga(null,r)):n.canDeactivateChecks.push(new Ga(null,r))}function yu(t){return typeof t=="function"}function XH(t){return typeof t=="boolean"}function JH(t){return t&&yu(t.canLoad)}function ez(t){return t&&yu(t.canActivate)}function tz(t){return t&&yu(t.canActivateChild)}function nz(t){return t&&yu(t.canDeactivate)}function iz(t){return t&&yu(t.canMatch)}function NR(t){return t instanceof er||t?.name==="EmptyError"}var op=Symbol("INITIAL_VALUE");function Qa(){return Ue(t=>Bo(t.map(e=>e.pipe(Et(1),ln(op)))).pipe(Y(e=>{for(let n of e)if(n!==!0){if(n===op)return op;if(n===!1||n instanceof Zr)return n}return!0}),Me(e=>e!==op),Et(1)))}function rz(t,e){return it(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?G(De(L({},n),{guardsResult:!0})):oz(s,i,r,t).pipe(it(a=>a&&XH(a)?sz(i,o,t,e):G(a)),Y(a=>De(L({},n),{guardsResult:a})))})}function oz(t,e,n,i){return me(t).pipe(it(r=>dz(r.component,r.route,n,e,i)),An(r=>r!==!0,!0))}function sz(t,e,n,i){return me(e).pipe(tr(r=>Mr(cz(r.route.parent,i),az(r.route,i),uz(t,r.path,n),lz(t,r.route,n))),An(r=>r!==!0,!0))}function az(t,e){return t!==null&&e&&e(new Cw(t)),G(!0)}function cz(t,e){return t!==null&&e&&e(new Iw(t)),G(!0)}function lz(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return G(!0);let r=i.map(o=>Pr(()=>{let s=gu(e)??n,a=Za(o,s),c=ez(a)?a.canActivate(e,t):Ti(s,()=>a(e,t));return eo(c).pipe(An())}));return G(r).pipe(Qa())}function uz(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>YH(s)).filter(s=>s!==null).map(s=>Pr(()=>{let a=s.guards.map(c=>{let l=gu(s.node)??n,u=Za(c,l),f=tz(u)?u.canActivateChild(i,t):Ti(l,()=>u(i,t));return eo(f).pipe(An())});return G(a).pipe(Qa())}));return G(o).pipe(Qa())}function dz(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let c=gu(e)??r,l=Za(a,c),u=nz(l)?l.canDeactivate(t,e,n,i):Ti(c,()=>l(t,e,n,i));return eo(u).pipe(An())});return G(s).pipe(Qa())}function hz(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return G(!0);let o=r.map(s=>{let a=Za(s,t),c=JH(a)?a.canLoad(e,n):Ti(t,()=>a(e,n));return eo(c)});return G(o).pipe(Qa(),OR(i))}function OR(t){return ky(et(e=>{if(Ka(e))throw MR(t,e)}),Y(e=>e===!0))}function fz(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return G(!0);let o=r.map(s=>{let a=Za(s,t),c=iz(a)?a.canMatch(e,n):Ti(t,()=>a(e,n));return eo(c)});return G(o).pipe(Qa(),OR(i))}var hu=class{constructor(e){this.segmentGroup=e||null}},vp=class extends Error{constructor(e){super(),this.urlTree=e}};function Ha(t){return ga(new hu(t))}function pz(t){return ga(new Q(4e3,!1))}function mz(t){return ga(PR(!1,kn.GuardRejected))}var kw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return G(i);if(r.numberOfChildren>1||!r.children[pe])return pz(e.redirectTo);r=r.children[pe]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new vp(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Zr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Oe(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new Q(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Nw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gz(t,e,n,i,r){let o=$w(t,e,n);return o.matched?(i=qH(e,i),fz(i,e,n,r).pipe(Y(s=>s===!0?o:L({},Nw)))):G(o)}function $w(t,e,n){if(e.path==="**")return yz(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},Nw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||fH)(n,t,e);if(!r)return L({},Nw);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?L(L({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function yz(t){return{matched:!0,parameters:t.length>0?pR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function uR(t,e,n,i){return n.length>0&&wz(t,n,i)?{segmentGroup:new Oe(e,_z(i,new Oe(n,t.children))),slicedSegments:[]}:n.length===0&&bz(t,n,i)?{segmentGroup:new Oe(t.segments,vz(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Oe(t.segments,t.children),slicedSegments:n}}function vz(t,e,n,i){let r={};for(let o of n)if(Ep(t,e,o)&&!i[Oi(o)]){let s=new Oe([],{});r[Oi(o)]=s}return L(L({},i),r)}function _z(t,e){let n={};n[pe]=e;for(let i of t)if(i.path===""&&Oi(i)!==pe){let r=new Oe([],{});n[Oi(i)]=r}return n}function wz(t,e,n){return n.some(i=>Ep(t,e,i)&&Oi(i)!==pe)}function bz(t,e,n){return n.some(i=>Ep(t,e,i))}function Ep(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Ez(t,e,n,i){return Oi(t)!==i&&(i===pe||!Ep(e,n,t))?!1:$w(e,t,n).matched}function Iz(t,e,n){return e.length===0&&!t.children[n]}var Ow=class{};function Dz(t,e,n,i,r,o,s="emptyOnly"){return new Fw(t,e,n,i,r,s,o).recognize()}var Cz=31,Fw=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new kw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=uR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(n=>{let i=new uu([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,{},pe,this.rootComponentType,null,{}),r=new bn(i,n),o=new gp("",r),s=PH(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,pe).pipe(kr(i=>{if(i instanceof vp)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof hu?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=Vw(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(Y(o=>o instanceof bn?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return me(r).pipe(tr(o=>{let s=i.children[o],a=GH(n,o);return this.processSegmentGroup(e,a,s,o)}),$o((o,s)=>(o.push(...s),o)),Nr(null),$y(),it(o=>{if(o===null)return Ha(i);let s=FR(o);return Tz(s),G(s)}))}processSegment(e,n,i,r,o,s){return me(n).pipe(tr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,o,s).pipe(kr(c=>{if(c instanceof hu)return G(null);throw c}))),An(a=>!!a),kr(a=>{if(NR(a))return Iz(i,r,o)?G(new Ow):Ha(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,o,s,a){return Ez(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s):Ha(r):Ha(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=$w(n,r,o);if(!a)return Ha(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Cz&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,f).pipe(it(m=>this.processSegment(e,i,n,m.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let s=gz(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe(Ue(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Ue(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:f,parameters:m}=a,g=new uu(u,m,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Sz(i),Oi(i),i.component??i._loadedComponent??null,i,xz(i)),{segmentGroup:w,slicedSegments:I}=uR(n,u,f,c);if(I.length===0&&w.hasChildren())return this.processChildren(l,c,w).pipe(Y(A=>A===null?null:new bn(g,A)));if(c.length===0&&I.length===0)return G(new bn(g,[]));let E=Oi(i)===o;return this.processSegment(l,c,w,I,E?pe:o,!0).pipe(Y(A=>new bn(g,A instanceof bn?[A]:[])))}))):Ha(n)))}getChildConfig(e,n,i){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):hz(e,n,i,this.urlSerializer).pipe(it(r=>r?this.configLoader.loadChildren(e,n).pipe(et(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):mz(n))):G({routes:[],injector:e})}};function Tz(t){t.sort((e,n)=>e.value.outlet===pe?-1:n.value.outlet===pe?1:e.value.outlet.localeCompare(n.value.outlet))}function Az(t){let e=t.value.routeConfig;return e&&e.path===""}function FR(t){let e=[],n=new Set;for(let i of t){if(!Az(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=FR(i.children);e.push(new bn(i.value,r))}return e.filter(i=>!n.has(i))}function Sz(t){return t.data||{}}function xz(t){return t.resolve||{}}function Rz(t,e,n,i,r,o){return it(s=>Dz(t,e,n,i,s.extractedUrl,r,o).pipe(Y(({state:a,tree:c})=>De(L({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Mz(t,e){return it(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return G(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of LR(c))s.add(l);let a=0;return me(s).pipe(tr(c=>o.has(c)?Pz(c,i,t,e):(c.data=Vw(c,c.parent,t).resolve,G(void 0))),et(()=>a++),wa(1),it(c=>a===s.size?G(n):an))})}function LR(t){let e=t.children.map(n=>LR(n)).flat();return[t,...e]}function Pz(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!xR(r)&&(o[fu]=r.title),kz(o,t,e,i).pipe(Y(s=>(t._resolvedData=s,t.data=Vw(t,t.parent,n).resolve,null)))}function kz(t,e,n,i){let r=fw(t);if(r.length===0)return G({});let o={};return me(r).pipe(it(s=>Nz(t[s],e,n,i).pipe(An(),et(a=>{o[s]=a}))),wa(1),Uy(o),kr(s=>NR(s)?an:ga(s)))}function Nz(t,e,n,i){let r=gu(e)??i,o=Za(t,r),s=o.resolve?o.resolve(e,n):Ti(r,()=>o(e,n));return eo(s)}function dw(t){return Ue(e=>{let n=t(e);return n?me(n).pipe(Y(()=>e)):G(e)})}var VR=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===pe);return r}getResolvedTitleForRoute(i){return i.data[fu]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>j(Oz),providedIn:"root"});let t=e;return t})(),Oz=(()=>{let e=class e extends VR{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(_(iR))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vu=new O("",{providedIn:"root",factory:()=>({})}),_p=new O(""),Hw=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(Gf)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return G(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=eo(i.loadComponent()).pipe(Y(jR),et(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),Or(()=>{this.componentLoaders.delete(i)})),o=new da(r,()=>new ue).pipe(ua());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Fz(r,this.compiler,i,this.onLoadEndListener).pipe(Or(()=>{this.childrenLoaders.delete(r)})),a=new da(s,()=>new ue).pipe(ua());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Fz(t,e,n,i){return eo(t.loadChildren()).pipe(Y(jR),it(r=>r instanceof Ol||Array.isArray(r)?G(r):me(e.compileModuleAsync(r))),Y(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(_p,[],{optional:!0,self:!0}).flat()),{routes:s.map(Uw),injector:o}}))}function Lz(t){return t&&typeof t=="object"&&"default"in t}function jR(t){return Lz(t)?t.default:t}var zw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>j(Vz),providedIn:"root"});let t=e;return t})(),Vz=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BR=new O(""),UR=new O("");function jz(t,e,n){let i=t.get(UR),r=t.get(he);return t.get(Z).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),Bz(t))),{onViewTransitionCreated:c}=i;return c&&Ti(t,()=>c({transition:a,from:e,to:n})),s})}function Bz(t){return new Promise(e=>{x_(e,{injector:t})})}var qw=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ue,this.transitionAbortSubject=new ue,this.configLoader=j(Hw),this.environmentInjector=j(Xt),this.urlSerializer=j(pu),this.rootContexts=j(mu),this.location=j(Mi),this.inputBindingEnabled=j(bp,{optional:!0})!==null,this.titleStrategy=j(VR),this.options=j(vu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(zw),this.createViewTransition=j(BR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let i=o=>this.events.next(new bw(o)),r=o=>this.events.next(new Ew(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(De(L(L({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new bt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:iu,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Me(s=>s.id!==0),Y(s=>De(L({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ue(s=>{this.currentTransition=s;let a=!1,c=!1;return G(s).pipe(et(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?De(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ue(l=>{let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&f!=="reload"){let m="";return this.events.next(new Jr(l.id,this.urlSerializer.serialize(l.rawUrl),m,dp.IgnoredSameUrlNavigation)),l.resolve(null),an}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return G(l).pipe(Ue(m=>{let g=this.transitions?.getValue();return this.events.next(new Ya(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?an:Promise.resolve(m)}),Rz(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),et(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=De(L({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let g=new hp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:g,source:w,restoredState:I,extras:E}=l,A=new Ya(m,this.urlSerializer.serialize(g),w,I);this.events.next(A);let B=AR(this.rootComponentType).snapshot;return this.currentTransition=s=De(L({},l),{targetSnapshot:B,urlAfterRedirects:g,extras:De(L({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,G(s)}else{let m="";return this.events.next(new Jr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,dp.IgnoredByUrlHandlingStrategy)),l.resolve(null),an}}),et(l=>{let u=new yw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Y(l=>(this.currentTransition=s=De(L({},l),{guards:KH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),rz(this.environmentInjector,l=>this.events.next(l)),et(l=>{if(s.guardsResult=l.guardsResult,Ka(l.guardsResult))throw MR(this.urlSerializer,l.guardsResult);let u=new vw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Me(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",kn.GuardRejected),!1)),dw(l=>{if(l.guards.canActivateChecks.length)return G(l).pipe(et(u=>{let f=new _w(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),Ue(u=>{let f=!1;return G(u).pipe(Mz(this.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",kn.NoDataFromResolver)}}))}),et(u=>{let f=new ww(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),dw(l=>{let u=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(et(g=>{f.component=g}),Y(()=>{})));for(let g of f.children)m.push(...u(g));return m};return Bo(u(l.targetSnapshot.root)).pipe(Nr(null),Et(1))}),dw(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,f=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return f?me(f).pipe(Y(()=>s)):G(s)}),Y(l=>{let u=BH(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=De(L({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),et(()=>{this.events.next(new cu)}),WH(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Et(1),et({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ni(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),vi(this.transitionAbortSubject.pipe(et(l=>{throw l}))),Or(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",kn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),kr(l=>{if(c=!0,kR(l))this.events.next(new Xr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),HH(l)?this.events.next(new lu(l.url)):s.resolve(!1);else{this.events.next(new au(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return an}))}))}cancelNavigationTransition(i,r,o){let s=new Xr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Uz(t){return t!==iu}var $z=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>j(Hz),providedIn:"root"});let t=e;return t})(),Lw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Hz=(()=>{let e=class e extends Lw{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$R=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>j(zz),providedIn:"root"});let t=e;return t})(),zz=(()=>{let e=class e extends $R{constructor(){super(...arguments),this.location=j(Mi),this.urlSerializer=j(pu),this.options=j(vu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(zw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=AR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Ya)this.stateMemento=this.createStateMemento();else if(i instanceof Jr)this.rawUrlTree=r.initialUrl;else if(i instanceof hp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof cu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Xr&&(i.code===kn.GuardRejected||i.code===kn.NoDataFromResolver)?this.restoreHistory(r):i instanceof au?this.restoreHistory(r,!0):i instanceof Ni&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=L(L({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(tu||{});function HR(t,e){t.events.pipe(Me(n=>n instanceof Ni||n instanceof Xr||n instanceof au||n instanceof Jr),Y(n=>n instanceof Ni||n instanceof Jr?tu.COMPLETE:(n instanceof Xr?n.code===kn.Redirect||n.code===kn.SupersededByNewNavigation:!1)?tu.REDIRECTING:tu.FAILED),Me(n=>n!==tu.REDIRECTING),Et(1)).subscribe(()=>{e()})}function qz(t){throw t}var Gz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},On=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=j(Uf),this.stateManager=j($R),this.options=j(vu,{optional:!0})||{},this.pendingTasks=j(ts),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(qw),this.urlSerializer=j(pu),this.location=j(Mi),this.urlHandlingStrategy=j(zw),this._events=new ue,this.errorHandler=this.options.errorHandler||qz,this.navigated=!1,this.routeReuseStrategy=j($z),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(_p,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(bp,{optional:!0}),this.eventsSubscription=new qe,this.isNgZoneEnabled=j(Z)instanceof Z&&Z.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Xr&&r.code!==kn.Redirect&&r.code!==kn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ni)this.navigated=!0;else if(r instanceof lu){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Uz(o.source)};this.scheduleNavigation(a,iu,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Yz(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),iu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=L({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Uw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=L(L({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let g=o?o.snapshot:this.routerState.snapshot.root;m=IR(g)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),m=this.currentUrlTree.root}return DR(m,i,f,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Ka(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,iu,null,r)}navigate(i,r={skipLocationChange:!1}){return Kz(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=L({},Gz):r===!1?o=L({},Wz):o=r,Ka(i))return oR(this.currentUrlTree,i,o);let s=this.parseUrl(i);return oR(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((m,g)=>{c=m,l=g});let f=this.pendingTasks.add();return HR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Kz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function Yz(t){return!(t instanceof cu)&&!(t instanceof lu)}var Ip=(()=>{let e=class e{constructor(i,r,o,s,a,c){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ue,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof Ni&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(i!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:wS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,i,r):o.removeAttribute(s,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(V(On),V(cs),y_("tabindex"),V(qr),V(Ve),V(hr))},e.\u0275dir=ke({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&He("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Nt("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ge.HasDecoratorInputTransform,"preserveFragment","preserveFragment",xi],skipLocationChange:[Ge.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",xi],replaceUrl:[Ge.HasDecoratorInputTransform,"replaceUrl","replaceUrl",xi],routerLink:"routerLink"},standalone:!0,features:[Gr,wn]});let t=e;return t})();var wp=class{};var Qz=(()=>{let e=class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Me(i=>i instanceof Ni),tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Vf(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return me(o).pipe(Rr())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=G(null);let s=o.pipe(it(a=>a===null?G(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return me([s,a]).pipe(Rr())}else return s})}};e.\u0275fac=function(r){return new(r||e)(_(On),_(Gf),_(Xt),_(wp),_(Hw))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zR=new O(""),Zz=(()=>{let e=class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Ya?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ni?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Jr&&i.code===dp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof fp&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fp(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){kS()},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function Xz(t){return t.routerState.root}function _u(t,e){return{\u0275kind:t,\u0275providers:e}}function Jz(){let t=j(rt);return e=>{let n=t.get(ur);if(e!==n.components[0])return;let i=t.get(On),r=t.get(qR);t.get(Gw)===1&&i.initialNavigation(),t.get(GR,null,_e.Optional)?.setUpPreloading(),t.get(zR,null,_e.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var qR=new O("",{factory:()=>new ue}),Gw=new O("",{providedIn:"root",factory:()=>1});function eq(){return _u(2,[{provide:Gw,useValue:0},{provide:zf,multi:!0,deps:[rt],useFactory:e=>{let n=e.get(Mx,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(On),o=e.get(qR);HR(r,()=>{i(!0)}),e.get(qw).afterPreactivation=()=>(i(!0),o.closed?G(void 0):o),r.initialNavigation()}))}}])}function tq(){return _u(3,[{provide:zf,multi:!0,useFactory:()=>{let e=j(On);return()=>{e.setUpLocationChangeListener()}}},{provide:Gw,useValue:2}])}var GR=new O("");function nq(t){return _u(0,[{provide:GR,useExisting:Qz},{provide:wp,useExisting:t}])}function iq(){return _u(8,[lR,{provide:bp,useExisting:lR}])}function rq(t){let e=[{provide:BR,useValue:jz},{provide:UR,useValue:L({skipNextTransition:!!t?.skipInitialTransition},t)}];return _u(9,e)}var dR=new O("ROUTER_FORROOT_GUARD"),oq=[Mi,{provide:pu,useClass:ou},On,mu,{provide:cs,useFactory:Xz,deps:[On]},Hw,[]],wu=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[oq,[],{provide:_p,multi:!0,useValue:i},{provide:dR,useFactory:lq,deps:[[On,new Ba,new h_]]},{provide:vu,useValue:r||{}},r?.useHash?aq():cq(),sq(),r?.preloadingStrategy?nq(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?uq(r):[],r?.bindToComponentInputs?iq().\u0275providers:[],r?.enableViewTransitions?rq().\u0275providers:[],dq()]}}static forChild(i){return{ngModule:e,providers:[{provide:_p,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(_(dR,8))},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})();function sq(){return{provide:zR,useFactory:()=>{let t=j(Fx),e=j(Z),n=j(vu),i=j(qw),r=j(pu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Zz(r,i,t,e,n)}}}function aq(){return{provide:hr,useClass:kx}}function cq(){return{provide:hr,useClass:q_}}function lq(t){return"guarded"}function uq(t){return[t.initialNavigation==="disabled"?tq().\u0275providers:[],t.initialNavigation==="enabledBlocking"?eq().\u0275providers:[]]}var hR=new O("");function dq(){return[{provide:hR,useFactory:Jz},{provide:qf,multi:!0,useExisting:hR}]}var WR=(()=>{let e=class e{constructor(){this.title="front"}ngOnInit(){console.log("[app.components]")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Te({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"allScreen","content"]],template:function(r,o){r&1&&(b(0,"div",0),F(1,"router-outlet"),v())},dependencies:[Bw],styles:[".allScreen[_ngcontent-%COMP%]{width:100%;height:100%;background-color:gray}"]});let t=e;return t})();var XM=lh(bu());var hq="firebase",fq="10.9.0";Gn(hq,fq,"app");var pr=new Ci("ANGULARFIRE2_VERSION");var pq=(t,e)=>{let n=e?[e]:qC(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},fr=class{constructor(){return pq(mq)}},mq="app-check";function Yw(){}var Dp=class{zone;delegate;constructor(e,n=Vy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},Qw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yw,{},Yw,Yw)),n.pipe(et({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Xa=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Dp(Zone.current)),this.insideAngular=n.run(()=>new Dp(Zone.current,gi)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(_(Z))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function KR(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Zw(t){return t.pipe(yn(KR().outsideAngular))}function Ot(t){return gq(KR())(t)}function gq(t){return function(n){return n=n.lift(new Qw(t.ngZone)),n.pipe(Kn(t.outsideAngular),yn(t.insideAngular))}}var yq=new Map,vq={activated:!1,tokenObservers:[]},_q={initialized:!1,enabled:!1};function ti(t){return yq.get(t)||Object.assign({},vq)}function tM(){return _q}var wq="https://content-firebaseappcheck.googleapis.com/v1";var bq="exchangeDebugToken",YR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},rre=24*60*60*1e3;var e0=class{constructor(e,n,i,r,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return T(this,null,function*(){this.stop();try{this.pending=new by,this.pending.promise.catch(n=>{}),yield Eq(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new by,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Eq(t){return new Promise(e=>{setTimeout(e,t)})}var Iq={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},to=new zC("appCheck","AppCheck",Iq);function nM(t){if(!ti(t).activated)throw to.create("use-before-activation",{appName:t.name})}function iM(i,r){return T(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(g){throw to.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw to.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(g){throw to.create("fetch-parse-error",{originalErrorMessage:g?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw to.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(u[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function rM(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${wq}/projects/${n}/apps/${i}:${bq}?key=${r}`,body:{debug_token:e}}}var Dq="firebase-app-check-database",Cq=1,t0="firebase-app-check-store";var Cp=null;function Tq(){return Cp||(Cp=new Promise((t,e)=>{try{let n=indexedDB.open(Dq,Cq);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(to.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(t0,{keyPath:"compositeKey"})}}}catch(n){e(to.create("storage-open",{originalErrorMessage:n?.message}))}}),Cp)}function Aq(t,e){return Sq(xq(t),e)}function Sq(t,e){return T(this,null,function*(){let i=(yield Tq()).transaction(t0,"readwrite"),o=i.objectStore(t0).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(to.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function xq(t){return`${t.options.appId}-${t.name}`}var n0=new ph("@firebase/app-check");function Jw(t,e){return hh()?Aq(t,e).catch(n=>{n0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function oM(){return tM().enabled}function sM(){return T(this,null,function*(){let t=tM();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Rq={error:"UNKNOWN_ERROR"};function Mq(t){return HC.encodeString(JSON.stringify(t),!1)}function i0(t,e=!1){return T(this,null,function*(){let n=t.app;nM(n);let i=ti(n),r=i.token,o;if(r&&!Eu(r)&&(i.token=void 0,r=void 0),!r){let c=yield i.cachedTokenPromise;c&&(Eu(c)?r=c:yield Jw(n,void 0))}if(!e&&r&&Eu(r))return{token:r.token};let s=!1;if(oM()){i.exchangeTokenPromise||(i.exchangeTokenPromise=iM(rM(n,yield sM()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let c=yield i.exchangeTokenPromise;return yield Jw(n,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield ti(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?n0.warn(c.message):n0.error(c),o=c}let a;return r?o?Eu(r)?a={token:r.token,internalError:o}:a=ZR(o):(a={token:r.token},i.token=r,yield Jw(n,r)):a=ZR(o),s&&Oq(n,a),a})}function Pq(t){return T(this,null,function*(){let e=t.app;nM(e);let{provider:n}=ti(e);if(oM()){let i=yield sM(),{token:r}=yield iM(rM(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function kq(t,e,n,i){let{app:r}=t,o=ti(r),s={next:n,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Eu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),QR(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>QR(t))}function aM(t,e){let n=ti(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function QR(t){let{app:e}=t,n=ti(e),i=n.tokenRefresher;i||(i=Nq(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function Nq(t){let{app:e}=t;return new e0(()=>T(this,null,function*(){let n=ti(e),i;if(n.token?i=yield i0(t,!0):i=yield i0(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=ti(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},YR.RETRIAL_MIN_WAIT,YR.RETRIAL_MAX_WAIT)}function Oq(t,e){let n=ti(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Eu(t){return t.expireTimeMillis-Date.now()>0}function ZR(t){return{token:Mq(Rq),error:t}}var r0=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=ti(this.app);for(let n of e)aM(this.app,n.next);return Promise.resolve()}};function Fq(t,e){return new r0(t,e)}function Lq(t){return{getToken:e=>i0(t,e),getLimitedUseToken:()=>Pq(t),addTokenListener:e=>kq(t,"INTERNAL",e),removeTokenListener:e=>aM(t.app,e)}}var Vq="@firebase/app-check",jq="0.8.2";var Bq="app-check",XR="app-check-internal";function Uq(){Fo(new qn(Bq,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Fq(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(XR).initialize()})),Fo(new qn(XR,t=>{let e=t.getProvider("app-check").getImmediate();return Lq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Gn(Vq,jq)}Uq();var $q=["localhost","0.0.0.0","127.0.0.1"],gre=typeof window<"u"&&$q.includes(window.location.hostname);var Hq="firebase",zq="10.9.0";wt.registerVersion(Hq,zq,"app-compat");var qq=["ngOnDestroy"],lM=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{if(t[o])return i?.spy?.get&&i.spy.get(o,t[o]),t[o];if(qq.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(u=>{let f=u?.(...l);return i?.spy?.apply&&i.spy.apply(o,l,f),f})})})});var Tp=class{constructor(e){return e}},no=new O("angularfire2.app.options"),io=new O("angularfire2.app.name");function ls(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=wt.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>wt.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;Gq("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Tp(s)}var Gq=(t,...e)=>{L_()&&typeof console<"u"&&console[t](...e)},Wq={provide:Tp,useFactory:ls,deps:[no,Z,[new Ba,io]]},uM=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:no,useValue:n},{provide:io,useValue:i}]}}constructor(n){wt.registerVersion("angularfire",pr.full,"core"),wt.registerVersion("angularfire",pr.full,"app-compat"),wt.registerVersion("angular",fx.full,n.toString())}static \u0275fac=function(i){return new(i||t)(_(ft))};static \u0275mod=oe({type:t});static \u0275inj=se({providers:[Wq]})}return t})();function Ja(t,e,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return Kq(r,s)||(cM("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Yq?" You may need to reload as Firebase is not HMR aware.":""}`),cM("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function Kq(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var Yq=typeof module<"u"&&!!module.hot,cM=(t,...e)=>{L_()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var _M="firebasestorage.googleapis.com",wM="storageBucket",Zq=2*60*1e3,Xq=10*60*1e3,Jq=1e3;var tt=class t extends fh{constructor(e,n,i=0){super(s0(e),`Firebase Storage: ${n} (${s0(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return s0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ze=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ze||{});function s0(t){return"storage/"+t}function p0(){let t="An unknown error occurred, please check the error payload for server response.";return new tt(Ze.UNKNOWN,t)}function eG(t){return new tt(Ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function tG(t){return new tt(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nG(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(Ze.UNAUTHENTICATED,t)}function iG(){return new tt(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rG(t){return new tt(Ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function bM(){return new tt(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EM(){return new tt(Ze.CANCELED,"User canceled the upload/download.")}function oG(t){return new tt(Ze.INVALID_URL,"Invalid URL '"+t+"'.")}function sG(t){return new tt(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aG(){return new tt(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wM+"' property when initializing the app?")}function IM(){return new tt(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cG(){return new tt(Ze.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function lG(){return new tt(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uG(t){return new tt(Ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function us(t){return new tt(Ze.INVALID_ARGUMENT,t)}function DM(){return new tt(Ze.APP_DELETED,"The Firebase app was deleted.")}function m0(t){return new tt(Ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Du(t,e){return new tt(Ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Iu(t){throw new tt(Ze.INTERNAL_ERROR,"Internal error: "+t)}var en=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw sG(e)}static makeFromUrl(e,n){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function l(R){R.path_=decodeURIComponent(R.path)}let u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${u}/b/${r}/o${m}`,"i"),w={bucket:1,path:3},I=n===_M?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",A=new RegExp(`^https?://${I}/${r}/${E}`,"i"),M=[{regex:a,indices:c,postModify:o},{regex:g,indices:w,postModify:l},{regex:A,indices:{bucket:1,path:2},postModify:l}];for(let R=0;R<M.length;R++){let q=M[R],ee=q.regex.exec(e);if(ee){let Ie=ee[q.indices.bucket],Je=ee[q.indices.path];Je||(Je=""),i=new t(Ie,Je),q.postModify(i);break}}if(i==null)throw oG(e);return i}},c0=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function dG(t,e,n){let i=1,r=null,o=null,s=!1,a=0;function c(){return a===2}let l=!1;function u(...E){l||(l=!0,e.apply(null,E))}function f(E){r=setTimeout(()=>{r=null,t(g,c())},E)}function m(){o&&clearTimeout(o)}function g(E,...A){if(l){m();return}if(E){m(),u.call(null,E,...A);return}if(c()||s){m(),u.call(null,E,...A);return}i<64&&(i*=2);let M;a===1?(a=2,M=0):M=(i+Math.random())*1e3,f(M)}let w=!1;function I(E){w||(w=!0,m(),!l&&(r!==null?(E||(a=2),clearTimeout(r),f(0)):E||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,I(!0)},n),I}function hG(t){t(!1)}function fG(t){return t!==void 0}function pG(t){return typeof t=="function"}function mG(t){return typeof t=="object"&&!Array.isArray(t)}function xp(t){return typeof t=="string"||t instanceof String}function dM(t){return g0()&&t instanceof Blob}function g0(){return typeof Blob<"u"}function l0(t,e,n,i){if(i<e)throw us(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw us(`Invalid value for '${t}'. Expected ${n} or less.`)}function ro(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function CM(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var nc=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(nc||{});function TM(t,e){let n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}var u0=class{constructor(e,n,i,r,o,s,a,c,l,u,f,m=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new tc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===nc.NO_ERROR,c=o.getStatus();if(!a||TM(c,this.additionalRetryCodes_)&&this.retry){let u=o.getErrorCode()===nc.ABORT;i(!1,new tc(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;i(!0,new tc(l,o))})},n=(i,r)=>{let o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());fG(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=p0();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(r.canceled){let c=this.appDelete_?DM():EM();s(c)}else{let c=bM();s(c)}};this.canceled_?n(!1,new tc(!1,null,!0)):this.backoffId_=dG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},tc=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function gG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _G(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wG(t,e,n,i,r,o,s=!0){let a=CM(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return vG(l,e),gG(l,n),yG(l,o),_G(l,i),new u0(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,s)}function bG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function EG(...t){let e=bG();if(e!==void 0){let n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(g0())return new Blob(t);throw new tt(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function DG(t){if(typeof atob>"u")throw uG("base-64");return atob(t)}var En={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Cu=class{constructor(e,n){this.data=e,this.contentType=n||null}};function y0(t,e){switch(t){case En.RAW:return new Cu(AM(e));case En.BASE64:case En.BASE64URL:return new Cu(SM(t,e));case En.DATA_URL:return new Cu(TG(e),AG(e))}throw p0()}function AM(t){let e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=i,s=t.charCodeAt(++n);i=65536|(o&1023)<<10|s&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function CG(t){let e;try{e=decodeURIComponent(t)}catch{throw Du(En.DATA_URL,"Malformed data URL.")}return AM(e)}function SM(t,e){switch(t){case En.BASE64:{let r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw Du(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case En.BASE64URL:{let r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw Du(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=DG(e)}catch(r){throw r.message.includes("polyfill")?r:Du(t,"Invalid character found")}let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}var Sp=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Du(En.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=n[1]||null;i!=null&&(this.base64=SG(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function TG(t){let e=new Sp(t);return e.base64?SM(En.BASE64,e.rest):CG(e.rest)}function AG(t){return new Sp(t).contentType}function SG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var ic=class t{constructor(e,n){let i=0,r="";dM(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(dM(this.data_)){let i=this.data_,r=IG(i,e,n);return r===null?null:new t(r)}else{let i=new Uint8Array(this.data_.buffer,e,n-e);return new t(i,!0)}}static getBlob(...e){if(g0()){let n=e.map(i=>i instanceof t?i.data_:i);return new t(EG.apply(null,n))}else{let n=e.map(s=>xp(s)?y0(En.RAW,s).data:s.data_),i=0;n.forEach(s=>{i+=s.byteLength});let r=new Uint8Array(i),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new t(r,!0)}}uploadData(){return this.data_}};function v0(t){let e;try{e=JSON.parse(t)}catch{return null}return mG(e)?e:null}function xG(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function RG(t,e){let n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function xM(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function MG(t,e){return e}var Ft=class{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||MG}},Ap=null;function PG(t){return!xp(t)||t.length<2?t:xM(t)}function Rp(){if(Ap)return Ap;let t=[];t.push(new Ft("bucket")),t.push(new Ft("generation")),t.push(new Ft("metageneration")),t.push(new Ft("name","fullPath",!0));function e(o,s){return PG(s)}let n=new Ft("name");n.xform=e,t.push(n);function i(o,s){return s!==void 0?Number(s):s}let r=new Ft("size");return r.xform=i,t.push(r),t.push(new Ft("timeCreated")),t.push(new Ft("updated")),t.push(new Ft("md5Hash",null,!0)),t.push(new Ft("cacheControl",null,!0)),t.push(new Ft("contentDisposition",null,!0)),t.push(new Ft("contentEncoding",null,!0)),t.push(new Ft("contentLanguage",null,!0)),t.push(new Ft("contentType",null,!0)),t.push(new Ft("metadata","customMetadata",!0)),Ap=t,Ap}function kG(t,e){function n(){let i=t.bucket,r=t.fullPath,o=new en(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function NG(t,e,n){let i={};i.type="file";let r=n.length;for(let o=0;o<r;o++){let s=n[o];i[s.local]=s.xform(i,e[s.server])}return kG(i,t),i}function RM(t,e,n){let i=v0(e);return i===null?null:NG(t,i,n)}function OG(t,e,n,i){let r=v0(e);if(r===null||!xp(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let u=t.bucket,f=t.fullPath,m="/b/"+s(u)+"/o/"+s(f),g=ro(m,n,i),w=CM({alt:"media",token:l});return g+w})[0]}function _0(t,e){let n={},i=e.length;for(let r=0;r<i;r++){let o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var hM="prefixes",fM="items";function FG(t,e,n){let i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[hM])for(let r of n[hM]){let o=r.replace(/\/$/,""),s=t._makeStorageReference(new en(e,o));i.prefixes.push(s)}if(n[fM])for(let r of n[fM]){let o=t._makeStorageReference(new en(e,r.name));i.items.push(o)}return i}function LG(t,e,n){let i=v0(n);return i===null?null:FG(t,e,i)}var ni=class{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Vi(t){if(!t)throw p0()}function Mp(t,e){function n(i,r){let o=RM(t,r,e);return Vi(o!==null),o}return n}function VG(t,e){function n(i,r){let o=LG(t,e,r);return Vi(o!==null),o}return n}function jG(t,e){function n(i,r){let o=RM(t,r,e);return Vi(o!==null),OG(o,r,t.host,t._protocol)}return n}function sc(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=iG():r=nG():n.getStatus()===402?r=tG(t.bucket):n.getStatus()===403?r=rG(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function Pp(t){let e=sc(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=eG(t.path)),o.serverResponse=r.serverResponse,o}return n}function MM(t,e,n){let i=e.fullServerUrl(),r=ro(i,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new ni(r,o,Mp(t,n),s);return a.errorHandler=Pp(e),a}function BG(t,e,n,i,r){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);let s=e.bucketOnlyServerUrl(),a=ro(s,t.host,t._protocol),c="GET",l=t.maxOperationRetryTime,u=new ni(a,c,VG(t,e.bucket),l);return u.urlParams=o,u.errorHandler=sc(e),u}function UG(t,e,n){let i=e.fullServerUrl(),r=ro(i,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new ni(r,o,jG(t,n),s);return a.errorHandler=Pp(e),a}function $G(t,e,n,i){let r=e.fullServerUrl(),o=ro(r,t.host,t._protocol),s="PATCH",a=_0(n,i),c={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,u=new ni(o,s,Mp(t,i),l);return u.headers=c,u.body=a,u.errorHandler=Pp(e),u}function HG(t,e){let n=e.fullServerUrl(),i=ro(n,t.host,t._protocol),r="DELETE",o=t.maxOperationRetryTime;function s(c,l){}let a=new ni(i,r,s,o);return a.successCodes=[200,204],a.errorHandler=Pp(e),a}function zG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function PM(t,e,n){let i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=zG(null,e)),i}function qG(t,e,n,i,r){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let M="";for(let R=0;R<2;R++)M=M+Math.random().toString().slice(2);return M}let c=a();s["Content-Type"]="multipart/related; boundary="+c;let l=PM(e,i,r),u=_0(l,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,m=`\r
--`+c+"--",g=ic.getBlob(f,i,m);if(g===null)throw IM();let w={name:l.fullPath},I=ro(o,t.host,t._protocol),E="POST",A=t.maxUploadRetryTime,B=new ni(I,E,Mp(t,n),A);return B.urlParams=w,B.headers=s,B.body=g.uploadData(),B.errorHandler=sc(e),B}var rc=class{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}};function w0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Vi(!1)}return Vi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function GG(t,e,n,i,r){let o=e.bucketOnlyServerUrl(),s=PM(e,i,r),a={name:s.fullPath},c=ro(o,t.host,t._protocol),l="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=_0(s,n),m=t.maxUploadRetryTime;function g(I){w0(I);let E;try{E=I.getResponseHeader("X-Goog-Upload-URL")}catch{Vi(!1)}return Vi(xp(E)),E}let w=new ni(c,l,g,m);return w.urlParams=a,w.headers=u,w.body=f,w.errorHandler=sc(e),w}function WG(t,e,n,i){let r={"X-Goog-Upload-Command":"query"};function o(l){let u=w0(l,["active","final"]),f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Vi(!1)}f||Vi(!1);let m=Number(f);return Vi(!isNaN(m)),new rc(m,i.size(),u==="final")}let s="POST",a=t.maxUploadRetryTime,c=new ni(n,s,o,a);return c.headers=r,c.errorHandler=sc(e),c}var pM=256*1024;function KG(t,e,n,i,r,o,s,a){let c=new rc(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw cG();let l=c.total-c.current,u=l;r>0&&(u=Math.min(u,r));let f=c.current,m=f+u,g="";u===0?g="finalize":l===u?g="upload, finalize":g="upload";let w={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${c.current}`},I=i.slice(f,m);if(I===null)throw IM();function E(R,q){let ee=w0(R,["active","final"]),Ie=c.current+u,Je=i.size(),di;return ee==="final"?di=Mp(e,o)(R,q):di=null,new rc(Ie,Je,ee==="final",di)}let A="POST",B=e.maxUploadRetryTime,M=new ni(n,A,E,B);return M.headers=w,M.body=I.uploadData(),M.progressCallback=a||null,M.errorHandler=sc(t),M}var kM={STATE_CHANGED:"state_changed"},$t={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function a0(t){switch(t){case"running":case"pausing":case"canceling":return $t.RUNNING;case"paused":return $t.PAUSED;case"success":return $t.SUCCESS;case"canceled":return $t.CANCELED;case"error":return $t.ERROR;default:return $t.ERROR}}var d0=class{constructor(e,n,i){if(pG(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{let o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function ec(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var mM=null,h0=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Iu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Iu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Iu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Iu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Iu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},f0=class extends h0{initXhr(){this.xhr_.responseType="text"}};function Li(){return mM?mM():new f0}var Tu=class{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=Rp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ze.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(TM(r.status,[]))if(o)r=bM();else{this.sleepTime=Math.max(this.sleepTime*2,Jq),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ze.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let i=GG(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Li,e,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,i)=>{let r=WG(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,Li,n,i);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=pM*this._chunkMultiplier,n=new rc(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=KG(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let a=this._ref.storage._makeRequest(s,Li,r,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){pM*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let i=MM(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Li,e,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let i=qG(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Li,e,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=EM(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=a0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){let o=new d0(n||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(a0(this._state)){case $t.SUCCESS:ec(this._resolve.bind(null,this.snapshot))();break;case $t.CANCELED:case $t.ERROR:let n=this._reject;ec(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(a0(this._state)){case $t.RUNNING:case $t.PAUSED:e.next&&ec(e.next.bind(e,this.snapshot))();break;case $t.SUCCESS:e.complete&&ec(e.complete.bind(e))();break;case $t.CANCELED:case $t.ERROR:e.error&&ec(e.error.bind(e,this._error))();break;default:e.error&&ec(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var oc=class t{constructor(e,n){this._service=e,n instanceof en?this._location=n:this._location=en.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new en(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xM(this._location.path)}get storage(){return this._service}get parent(){let e=xG(this._location.path);if(e===null)return null;let n=new en(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw m0(e)}};function YG(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Tu(t,new ic(e),n)}function QG(t){let e={prefixes:[],items:[]};return NM(t,e).then(()=>e)}function NM(t,e,n){return T(this,null,function*(){let r=yield OM(t,{pageToken:n});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&(yield NM(t,e,r.nextPageToken))})}function OM(t,e){e!=null&&typeof e.maxResults=="number"&&l0("options.maxResults",1,1e3,e.maxResults);let n=e||{},i=BG(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,Li)}function ZG(t){t._throwIfRoot("getMetadata");let e=MM(t.storage,t._location,Rp());return t.storage.makeRequestWithTokens(e,Li)}function XG(t,e){t._throwIfRoot("updateMetadata");let n=$G(t.storage,t._location,e,Rp());return t.storage.makeRequestWithTokens(n,Li)}function JG(t){t._throwIfRoot("getDownloadURL");let e=UG(t.storage,t._location,Rp());return t.storage.makeRequestWithTokens(e,Li).then(n=>{if(n===null)throw lG();return n})}function e6(t){t._throwIfRoot("deleteObject");let e=HG(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Li)}function FM(t,e){let n=RG(t._location.path,e),i=new en(t._location.bucket,n);return new oc(t.storage,i)}function t6(t){return/^[A-Za-z]+:\/\//.test(t)}function n6(t,e){return new oc(t,e)}function LM(t,e){if(t instanceof Au){let n=t;if(n._bucket==null)throw aG();let i=new oc(n,n._bucket);return e!=null?LM(i,e):i}else return e!==void 0?FM(t,e):t}function i6(t,e){if(e&&t6(e)){if(t instanceof Au)return n6(t,e);throw us("To use ref(service, url), the first argument must be a Storage instance.")}else return LM(t,e)}function gM(t,e){let n=e?.[wM];return n==null?null:en.makeFromBucketSpec(n,t)}function r6(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:dh(r,t.app.options.projectId))}var Au=class{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=_M,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Zq,this._maxUploadRetryTime=Xq,this._requests=new Set,r!=null?this._bucket=en.makeFromBucketSpec(r,this._host):this._bucket=gM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=en.makeFromBucketSpec(this._url,e):this._bucket=gM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){l0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){l0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return T(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return T(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oc(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new c0(DM());{let s=wG(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return T(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()})}},yM="@firebase/storage",vM="0.12.2";var o6="storage";function VM(t,e,n){return t=Re(t),YG(t,e,n)}function jM(t){return t=Re(t),ZG(t)}function BM(t,e){return t=Re(t),XG(t,e)}function UM(t,e){return t=Re(t),OM(t,e)}function $M(t){return t=Re(t),QG(t)}function HM(t){return t=Re(t),JG(t)}function zM(t){return t=Re(t),e6(t)}function b0(t,e){return t=Re(t),i6(t,e)}function qM(t,e){return FM(t,e)}function GM(t,e,n,i={}){r6(t,e,n,i)}function s6(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Au(n,i,r,e,mh)}function a6(){Fo(new qn(o6,s6,"PUBLIC").setMultipleInstances(!0)),Gn(yM,vM,""),Gn(yM,vM,"esm2017")}a6();var ac=class{constructor(e,n,i){this._delegate=e,this.task=n,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var kp=class{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ac(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(i=>{if(e)return e(new ac(i,this,this._ref))},n)}on(e,n,i,r){let o;return n&&(typeof n=="function"?o=s=>n(new ac(s,this,this._ref)):o={next:n.next?s=>n.next(new ac(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,i||void 0,r||void 0)}},Np=class{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new ds(e,this._service))}get items(){return this._delegate.items.map(e=>new ds(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var ds=class t{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let n=qM(this._delegate,e);return new t(n,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new kp(VM(this._delegate,e,n),this)}putString(e,n=En.RAW,i){this._throwIfRoot("putString");let r=y0(n,e),o=Object.assign({},i);return o.contentType==null&&r.contentType!=null&&(o.contentType=r.contentType),new kp(new Tu(this._delegate,new ic(r.data,!0),o),this)}listAll(){return $M(this._delegate).then(e=>new Np(e,this.storage))}list(e){return UM(this._delegate,e||void 0).then(n=>new Np(n,this.storage))}getMetadata(){return jM(this._delegate)}updateMetadata(e){return BM(this._delegate,e)}getDownloadURL(){return HM(this._delegate)}delete(){return this._throwIfRoot("delete"),zM(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw m0(e)}};var Op=class{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(WM(e))throw us("ref() expected a child path but got a URL, use refFromURL instead.");return new ds(b0(this._delegate,e),this)}refFromURL(e){if(!WM(e))throw us("refFromURL() expected a full URL but got a child path, use ref() instead.");try{en.makeFromUrl(e,this._delegate.host)}catch{throw us("refFromUrl() expected a valid full URL but got an invalid one.")}return new ds(b0(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,i={}){GM(this._delegate,e,n,i)}};function WM(t){return/^[A-Za-z]+:\/\//.test(t)}var c6="@firebase/storage-compat",l6="0.3.5";var u6="storage-compat";function d6(t,{instanceIdentifier:e}){let n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("storage").getImmediate({identifier:e});return new Op(n,i)}function h6(t){let e={TaskState:$t,TaskEvent:kM,StringFormat:En,Storage:Op,Reference:ds};t.INTERNAL.registerComponent(new qn(u6,d6,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(c6,l6)}h6(wt);function f6(t){return new ne(e=>{let n=s=>e.next(s),i=s=>e.error(s),r=()=>e.complete();n(t.snapshot);let o=t.on("state_changed",n);return t.then(s=>{n(s),r()},s=>{n(t.snapshot),i(s)}),function(){o()}}).pipe(va(0))}function KM(t){let e=f6(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Y(n=>n.bytesTransferred/n.totalBytes*100))}}function Fp(t){return{getDownloadURL:()=>G(void 0).pipe(Zw,Ue(()=>t.getDownloadURL()),Ot),getMetadata:()=>G(void 0).pipe(Zw,Ue(()=>t.getMetadata()),Ot),delete:()=>me(t.delete()),child:e=>Fp(t.child(e)),updateMetadata:e=>me(t.updateMetadata(e)),put:(e,n)=>{let i=t.put(e,n);return KM(i)},putString:(e,n,i)=>{let r=t.putString(e,n,i);return KM(r)},list:e=>me(t.list(e)),listAll:()=>me(t.listAll())}}var p6=new O("angularfire2.storageBucket"),m6=new O("angularfire2.storage.maxUploadRetryTime"),g6=new O("angularfire2.storage.maxOperationRetryTime"),y6=new O("angularfire2.storage.use-emulator"),E0=(()=>{class t{storage;constructor(n,i,r,o,s,a,c,l,u,f){let m=ls(n,s,i);this.storage=Ja(`${m.name}.storage.${r}`,"AngularFireStorage",m.name,()=>{let g=s.runOutsideAngular(()=>m.storage(r||void 0)),w=u;return w&&g.useEmulator(...w),c&&g.setMaxUploadRetryTime(c),l&&g.setMaxOperationRetryTime(l),g},[c,l])}ref(n){return Fp(this.storage.ref(n))}refFromURL(n){return Fp(this.storage.refFromURL(n))}upload(n,i,r){let o=this.storage.ref(n);return Fp(o).put(i,r)}static \u0275fac=function(i){return new(i||t)(_(no),_(io,8),_(p6,8),_(ft),_(Z),_(Xa),_(m6,8),_(g6,8),_(y6,8),_(fr,8))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var v6=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=oe({type:t});static \u0275inj=se({})}return t})(),YM=(()=>{class t{constructor(){wt.registerVersion("angularfire",pr.full,"gcs-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=oe({type:t});static \u0275inj=se({providers:[E0],imports:[v6]})}return t})();var QM="auth",Lp=(()=>{let e=class e{constructor(i){this.http=i,console.log("El servicio de autenticaci\xF3n est\xE1 corriendo.")}token(){return console.log("Archivo Autenticacion Service, token(): ",sessionStorage.getItem("token")),sessionStorage.getItem("token")}setToken(i){sessionStorage.setItem("token",i)}removeToken(){sessionStorage.removeItem("token"),console.log("Token removido, desde archivo autentication service",sessionStorage.getItem("token"))}iniciarSesion(){window.sessionStorage.setItem(QM,"solecita")}cerrarSesion(){window.sessionStorage.clear()}getToken(){return sessionStorage.getItem(QM)}};e.\u0275fac=function(r){return new(r||e)(_(os))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function w6(t,e){t&1&&(b(0,"div")(1,"button",21),x(2,"MODO EDICI\xD3N"),v()())}function b6(t,e){if(t&1){let n=Ai();b(0,"div")(1,"button",22),He("click",function(r){dn(n);let o=Qe();return hn(o.logout(r))}),x(2,"TERMINAR EDICI\xD3N"),v()()}}var cc=(()=>{let e=class e{constructor(i,r,o){this.storage=i,this.router=r,this.autenticacionService=o,this.loginActive=!0,this.registerActive=!1,this.portfolioActive=!1,this.pageNotFoundActive=!1,this.storage.ref("/b/front-ad0dc.appspot.com/o/chefacebook.jpg").getDownloadURL().subscribe(a=>{this.imageUrl=a})}ngOnInit(){switch(console.log("[NAVBAR]"),console.log("CHE: islogged:",this.isLogged),console.log(this.imageUrl),this.rutaActiva=this.router.url,console.log(this.rutaActiva),console.log("Ruta activa: ",this.router.url),this.router.url){case"/portfolio":{this.portfolioActive=!0,this.registerActive=!1,this.loginActive=!1;break}case"/login":{this.loginActive=!0,this.registerActive=!1,this.portfolioActive=!1,this.pageNotFoundActive=!1;break}case"/register":{this.registerActive=!0,this.loginActive=!1;break}default:{this.pageNotFoundActive=!0,this.portfolioActive=!1,this.registerActive=!1,this.loginActive=!1;break}}}cerrarSesion(){this.autenticacionService.cerrarSesion(),window.location.reload()}logout(i){i.preventDefault,XM.default.fire({title:"\xBFCerrar sesi\xF3n?",text:"",icon:"warning",showCancelButton:!0,cancelButtonColor:"#747174",cancelButtonText:"Cancelar",confirmButtonColor:"#00b5ff",confirmButtonText:"Confirmar"}).then(r=>{r.isConfirmed&&(sessionStorage.removeItem("token"),this.autenticacionService.removeToken(),console.log("Token removido, notifico desde navbar ",sessionStorage.getItem("token")),this.router.navigate(["/login"]))})}};e.\u0275fac=function(r){return new(r||e)(V(E0),V(On),V(Lp))},e.\u0275cmp=Te({type:e,selectors:[["app-navbar"]],inputs:{isLogged:"isLogged",personas:"personas"},decls:29,vars:2,consts:[[1,"divgrid"],[1,"columna"],["href","https://argentinaprograma.inti.gob.ar","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Argentina Programa..."],["src","./../../../assets/media/logoArgProg.png","alt","INTI...",1,"logoInti"],["id","nvtext",1,"columna","d-flex","justify-content-center","align-items-center"],[1,"ttit"],[1,"columna","d-flex","flex-direction-column","justify-content-center","align-items-center"],["href","https://github.com/HCanestraro","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to GitHub..."],["src","./../../../assets/media/logo-github.svg","alt","GitHub...",1,"logos","m-1","shadow","rounded","p-1"],["href","https://instagram.com/@canestraro-che","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Instagram..."],["src","./../../../assets/media/cheinstagram.png","alt","Instagram...",1,"logos"],["href","https://www.twitter.com/@canestraro-che","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to X (ex-Twitter)..."],["src","./../../../assets/media/chetwitter.png","alt","Twitter...",1,"logos"],["href","https://ar.linkedin.com/in/hernan-canestraro-44448435","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to GitHub..."],["src","./../../../assets/media/chelinkedin.png","alt","Linkedin...",1,"logos"],["href","https://sites.google.com/view/HCanestraro","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Google Sites..."],["src","./../../../assets/media/chegooglesites.jpeg","alt","Google Sites...",1,"logos"],["href","https://www.youtube.com/@HCanestraro","target","_blank","data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Youtube..."],["src","./../../../assets/media/cheyoutube.png","alt","Youtube...",1,"logos"],[1,"colunma","d-flex","justify-content-center","align-items-center"],[4,"ngIf"],["data-bs-toggle","tooltip","data-bs-placement","bottom","title","Abrir sesi\xF3n...","routerLink","/portfolio",1,"btn","btn-info","btn-md","fw-bold","shadow-lg","buttonx"],["data-bs-toggle","tooltip","data-bs-placement","bottom","title","Cerrar sesi\xF3n...",1,"btn","btn-dark","rounded","text-white","shadow-lg","buttonx",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"a",2),F(3,"img",3),v()(),b(4,"div",4)(5,"h1",5),x(6,"Integrator Project"),v()(),b(7,"div",6)(8,"div")(9,"a",7),F(10,"img",8),v()(),b(11,"div")(12,"a",9),F(13,"img",10),v()(),b(14,"div")(15,"a",11),F(16,"img",12),v()(),b(17,"div")(18,"a",13),F(19,"img",14),v()(),b(20,"div")(21,"a",15),F(22,"img",16),v()(),b(23,"div")(24,"a",17),F(25,"img",18),v()()(),b(26,"div",19),Ne(27,w6,3,0,"div",20)(28,b6,3,0,"div",20),v()()),r&2&&(W(27),ie("ngIf",o.portfolioActive===!1),W(),ie("ngIf",o.portfolioActive===!0))},dependencies:[Yr,Ip],styles:[".divgrid[_ngcontent-%COMP%]{border:2px solid blue;display:grid;grid-template-columns:25% 25% 25% 25%;border-radius:5px}.gridSocial[_ngcontent-%COMP%]{display:grid;grid-template-columns:25% 25% 25% 25% 25%}.columna[_ngcontent-%COMP%]{border:1px solid #ddd}.buttonx[_ngcontent-%COMP%]{font-size:x-large}.buttonx[_ngcontent-%COMP%]:after{border-color:#00f}.imgCover[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]});let t=e;return t})();function Su(t,e=0){return E6(t)?Number(t):e}function E6(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function lc(t){return Array.isArray(t)?t:[t]}function lt(t){return t==null?"":typeof t=="string"?t:`${t}px`}function mr(t){return t instanceof Ve?t.nativeElement:t}var D0;try{D0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{D0=!1}var At=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?W_(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||D0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(_(ft))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xu;function I6(){if(xu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xu=!0}))}finally{xu=xu||!1}return xu}function uc(t){return I6()?t:!!t.capture}var hs;function e1(){if(hs==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return hs=!1,hs;if("scrollBehavior"in document.documentElement.style)hs=!0;else{let t=Element.prototype.scrollTo;t?hs=!/\{\s*\[native code\]\s*\}/.test(t.toString()):hs=!1}}return hs}var I0;function D6(){if(I0==null){let t=typeof document<"u"?document.head:null;I0=!!(t&&(t.createShadowRoot||t.attachShadow))}return I0}function t1(t){if(D6()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ru(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function ii(t){return t.composedPath?t.composedPath()[0]:t.target}function Mu(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var C6=new O("cdk-dir-doc",{providedIn:"root",factory:T6});function T6(){return j(he)}var A6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function S6(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?A6.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Pu=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new Pe,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=S6(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(_(C6,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})();var P6=20,i1=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this._platform=r,this._scrolled=new ue,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=P6){return this._platform.isBrowser?new ne(r=>{this._globalSubscription||this._addGlobalListener();let o=i>0?this._scrolled.pipe(Bh(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):G()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let o=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(Me(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,i)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let o=mr(r),s=i.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return El(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(_(Z),_(At),_(he,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var k6=20,C0=(()=>{let e=class e{constructor(i,r,o){this._platform=i,this._change=new ue,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(i.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+o,right:i.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),o=i.documentElement,s=o.getBoundingClientRect(),a=-s.top||i.body.scrollTop||r.scrollY||o.scrollTop||0,c=-s.left||i.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:c}}change(i=k6){return i>0?this._change.pipe(Bh(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(_(At),_(Z),_(he,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var n1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})(),T0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({imports:[oo,n1,oo,n1]});let t=e;return t})();var ku=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},dc=class extends ku{constructor(e,n,i,r,o){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},hc=class extends ku{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},A0=class extends ku{constructor(e){super(),this.element=e instanceof Ve?e.nativeElement:e}},fc=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof dc)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof hc)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof A0)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var jp=class extends fc{constructor(e,n,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||rt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Nu=(()=>{let e=class e extends fc{constructor(i,r,o){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Pe,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=r.createComponent(s,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};e.\u0275fac=function(r){return new(r||e)(V(zr),V(Pn),V(he))},e.\u0275dir=ke({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Ge.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ct]});let t=e;return t})();var fs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})();function Bp(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var r1=e1(),S0=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=lt(-this._previousScrollPosition.left),e.style.top=lt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,i=e.style,r=n.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),r1&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),r1&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var x0=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Me(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Up=class{enable(){}disable(){}attach(){}};function R0(t,e){return e.some(n=>{let i=t.bottom<n.top,r=t.top>n.bottom,o=t.right<n.left,s=t.left>n.right;return i||r||o||s})}function o1(t,e){return e.some(n=>{let i=t.top<n.top,r=t.bottom>n.bottom,o=t.left<n.left,s=t.right>n.right;return i||r||o||s})}var M0=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();R0(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},O6=(()=>{let e=class e{constructor(i,r,o,s){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Up,this.close=a=>new x0(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new S0(this._viewportRuler,this._document),this.reposition=a=>new M0(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(_(i1),_(C0),_(Z),_(he))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ou=class{constructor(e){if(this.scrollStrategy=new Up,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let i of n)e[i]!==void 0&&(this[i]=e[i])}}};var P0=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var u1=(()=>{let e=class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(_(he))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),F6=(()=>{let e=class e extends u1{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let c=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(o)):c.next(o);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(_(he),_(Z,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),L6=(()=>{let e=class e extends u1{constructor(i,r,o){super(i),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ii(s)},this._clickListener=s=>{let a=ii(s),c=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){let f=l[u];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(a)||f.overlayElement.contains(c))break;let m=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(s)):m.next(s)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(_(he),_(At),_(Z,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pc=(()=>{let e=class e{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||Mu()){let o=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(i),Mu()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(_(he),_(At))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gr=class{constructor(e,n,i,r,o,s,a,c,l,u=!1){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new ue,this._attachments=new ue,this._detachments=new ue,this._locationChanges=qe.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new ue,this._outsidePointerEvents=new ue,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Et(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=L(L({},this._config),e),this._updateElementSize()}setDirection(e){this._config=De(L({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=lt(this._config.width),e.height=lt(this._config.height),e.minWidth=lt(this._config.minWidth),e.minHeight=lt(this._config.minHeight),e.maxWidth=lt(this._config.maxWidth),e.maxHeight=lt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){let r=lc(n||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(vi(Uo(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},s1="cdk-overlay-connected-position-bounding-box",V6=/([A-Za-z%]+)$/,k0=class{get positions(){return this._preferredPositions}constructor(e,n,i,r,o){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ue,this._resizeSubscription=qe.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(s1),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,n,a),u=this._getOverlayFit(l,n,i,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(u,l,i)){o.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:n})}if(o.length){let a=null,c=-1;for(let l of o){let u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ps(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(s1),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:a}n.left<0&&(r-=n.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(e,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return i.overlayY=="center"?o=-n.height/2:o=i.overlayY=="top"?0:-n.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,n,i,r){let o=c1(n),{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let u=0-s,f=s+o.width-i.width,m=0-a,g=a+o.height-i.height,w=this._subtractOverflows(o.width,u,f),I=this._subtractOverflows(o.height,m,g),E=w*I;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:I===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,o=i.right-n.x,s=a1(this._overlayRef.getConfig().minHeight),a=a1(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=r,l=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&l}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=c1(n),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0),u=0,f=0;return r.width<=o.width?u=l||-s:u=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?f=c||-a:f=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:f},{x:e.x+u,y:e.y+f}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!j6(this._lastScrollVisibility,i)){let r=new P0(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(n.overlayY==="top")s=e.y,o=i.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let g=Math.min(i.bottom-e.y+i.top,e.y),w=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-w/2)}let c=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,l=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,u,f,m;if(l)m=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if(c)f=e.x,u=i.right-e.x;else{let g=Math.min(i.right-e.x+i.left,e.x),w=this._lastBoundingBoxSize.width;u=g*2,f=e.x-g,u>w&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-w/2)}return{top:s,left:f,bottom:a,right:m,width:u,height:o}}_setBoundingBoxStyles(e,n){let i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=lt(i.height),r.top=lt(i.top),r.bottom=lt(i.bottom),r.width=lt(i.width),r.left=lt(i.left),r.right=lt(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=lt(o)),s&&(r.maxWidth=lt(s))}this._lastBoundingBoxSize=i,ps(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ps(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ps(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();ps(i,this._getExactOverlayY(n,e,u)),ps(i,this._getExactOverlayX(n,e,u))}else i.position="static";let a="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=lt(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=lt(s.maxWidth):o&&(i.maxWidth="")),ps(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=lt(o.y);return r}_getExactOverlayX(e,n,i){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=lt(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:o1(e,i),isOriginOutsideView:R0(e,i),isOverlayClipped:o1(n,i),isOverlayOutsideView:R0(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&lc(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Ve)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}};function ps(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function a1(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(V6);return!n||n==="px"?parseFloat(e):null}return t||null}function c1(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function j6(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var l1="cdk-global-overlay-wrapper",N0=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(l1),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,f=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",g="",w="",I="";c?I="flex-start":u==="center"?(I="center",m?w=f:g=f):m?u==="left"||u==="end"?(I="flex-end",g=f):(u==="right"||u==="start")&&(I="flex-start",w=f):u==="left"||u==="start"?(I="flex-start",g=f):(u==="right"||u==="end")&&(I="flex-end",w=f),e.position=this._cssPosition,e.marginLeft=c?"0":g,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":w,n.justifyContent=I,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(l1),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},B6=(()=>{let e=class e{constructor(i,r,o,s){this._viewportRuler=i,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new N0}flexibleConnectedTo(i){return new k0(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(_(C0),_(he),_(At),_(pc))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),U6=0,ri=(()=>{let e=class e{constructor(i,r,o,s,a,c,l,u,f,m,g,w){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=c,this._ngZone=l,this._document=u,this._directionality=f,this._location=m,this._outsideClickDispatcher=g,this._animationsModuleType=w}create(i){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new Ou(i);return a.direction=a.direction||this._directionality.value,new gr(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${U6++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(ur)),new jp(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(_(O6),_(pc),_(zr),_(B6),_(F6),_(rt),_(Z),_(he),_(Pu),_(Mi),_(L6),_(ja,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $6=new O("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(ri);return()=>t.scrollStrategies.reposition()}});function H6(t){return()=>t.scrollStrategies.reposition()}var z6={provide:$6,deps:[ri],useFactory:H6},$p=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({providers:[ri,z6],imports:[oo,fs,T0,T0]});let t=e;return t})();var q6=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var h1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({providers:[q6]});let t=e;return t})();var f1=new Set,ms,G6=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):K6}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&W6(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(_(At),_($l,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function W6(t,e){if(!f1.has(t))try{ms||(ms=document.createElement("style"),e&&(ms.nonce=e),ms.setAttribute("type","text/css"),document.head.appendChild(ms)),ms.sheet&&(ms.sheet.insertRule(`@media ${t} {body{ }}`,0),f1.add(t))}catch(n){console.error(n)}}function K6(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var m1=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new ue}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return p1(lc(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=p1(lc(i)).map(a=>this._registerQuery(a).observable),s=Bo(o);return s=Mr(s.pipe(Et(1)),s.pipe(Dl(1),va(0))),s.pipe(Y(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{c.matches=c.matches||l,c.breakpoints[u]=l}),c}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new ne(a=>{let c=l=>this._zone.run(()=>a.next(l));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(ln(r),Y(({matches:a})=>({query:i,matches:a})),vi(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)(_(G6),_(Z))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function p1(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Fu=(()=>{let e=class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return Q6(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let r=Y6(r9(i));if(r&&(g1(r)===-1||!this.isVisible(r)))return!1;let o=i.nodeName.toLowerCase(),s=g1(i);return i.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!n9(i)?!1:o==="audio"?i.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,r){return i9(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}};e.\u0275fac=function(r){return new(r||e)(_(At))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Y6(t){try{return t.frameElement}catch{return null}}function Q6(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function Z6(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function X6(t){return e9(t)&&t.type=="hidden"}function J6(t){return t9(t)&&t.hasAttribute("href")}function e9(t){return t.nodeName.toLowerCase()=="input"}function t9(t){return t.nodeName.toLowerCase()=="a"}function _1(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function g1(t){if(!_1(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function n9(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function i9(t){return X6(t)?!1:Z6(t)||J6(t)||t.hasAttribute("contenteditable")||_1(t)}function r9(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var F0=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,i,r,o=!1){this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(e),!!i}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Et(1)).subscribe(e)}},qp=(()=>{let e=class e{constructor(i,r,o){this._checker=i,this._ngZone=r,this._document=o}create(i,r=!1){return new F0(i,this._checker,this._ngZone,this._document,r)}};e.\u0275fac=function(r){return new(r||e)(_(Fu),_(Z),_(he))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function L0(t){return t.buttons===0||t.detail===0}function V0(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var o9=new O("cdk-input-modality-detector-options"),s9={ignoreKeys:[18,17,224,91,16]},w1=650,mc=uc({passive:!0,capture:!0}),a9=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new bt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ii(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<w1||(this._modality.next(L0(a)?"keyboard":"mouse"),this._mostRecentTarget=ii(a))},this._onTouchstart=a=>{if(V0(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ii(a)},this._options=L(L({},s9),s),this.modalityDetected=this._modality.pipe(Dl(1)),this.modalityChanged=this.modalityDetected.pipe(_a()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,mc),o.addEventListener("mousedown",this._onMousedown,mc),o.addEventListener("touchstart",this._onTouchstart,mc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,mc),document.removeEventListener("mousedown",this._onMousedown,mc),document.removeEventListener("touchstart",this._onTouchstart,mc))}};e.\u0275fac=function(r){return new(r||e)(_(At),_(Z),_(he),_(o9,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zp=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(zp||{}),c9=new O("cdk-focus-monitor-default-options"),Hp=uc({passive:!0,capture:!0}),Gp=(()=>{let e=class e{constructor(i,r,o,s,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ue,this._rootNodeFocusAndBlurListener=c=>{let l=ii(c);for(let u=l;u;u=u.parentElement)c.type==="focus"?this._onFocus(c,u):this._onBlur(c,u)},this._document=s,this._detectionMode=a?.detectionMode||zp.IMMEDIATE}monitor(i,r=!1){let o=mr(i);if(!this._platform.isBrowser||o.nodeType!==1)return G();let s=t1(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let c={checkChildren:r,subject:new ue,rootNode:s};return this._elementInfo.set(o,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(i){let r=mr(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=mr(i),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([c,l])=>this._originChanged(c,r,l)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===zp.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===zp.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?w1:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=ii(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Hp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Hp)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(vi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Hp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Hp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(_(Z),_(At),_(a9),_(he,8),_(c9,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gs=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(gs||{}),y1="cdk-high-contrast-black-on-white",v1="cdk-high-contrast-white-on-black",O0="cdk-high-contrast-active",j0=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=j(m1).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return gs.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return gs.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return gs.BLACK_ON_WHITE}return gs.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(O0,y1,v1),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===gs.BLACK_ON_WHITE?i.add(O0,y1):r===gs.WHITE_ON_BLACK&&i.add(O0,v1)}}};e.\u0275fac=function(r){return new(r||e)(_(At),_(he))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),b1=(()=>{let e=class e{constructor(i){i._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(r){return new(r||e)(_(j0))},e.\u0275mod=oe({type:e}),e.\u0275inj=se({imports:[h1]});let t=e;return t})();function l9(t,e){}var ys=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var H0=(()=>{let e=class e extends fc{constructor(i,r,o,s,a,c,l,u){super(),this._elementRef=i,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=a,this._ngZone=c,this._overlayRef=l,this._focusMonitor=u,this._platform=j(At),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=j(ei),this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let m=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),m},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let r=this._ariaLabelledByQueue.indexOf(i);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),r}attachTemplatePortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,r){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{i.removeEventListener("blur",o),i.removeEventListener("mousedown",o),i.removeAttribute("tabindex")};i.addEventListener("blur",o),i.addEventListener("mousedown",o)})),i.focus(r)}_focusByCssSelector(i,r){let o=this._elementRef.nativeElement.querySelector(i);o&&this._forceFocus(o,r)}_trapFocus(){let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let i=this._config.restoreFocus,r=null;if(typeof i=="string"?r=this._document.querySelector(i):typeof i=="boolean"?r=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(r=i),this._config.restoreFocus&&r&&typeof r.focus=="function"){let o=Ru(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,r=Ru();return i===r||i.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ru()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(r){return new(r||e)(V(Ve),V(qp),V(he,8),V(ys),V(Fu),V(Z),V(gr),V(Gp))},e.\u0275cmp=Te({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(r&1&&Bf(Nu,7),r&2){let s;zl(s=ql())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){r&2&&Nt("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[Ct,Wr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&Ne(0,l9,0,0,"ng-template",0)},dependencies:[Nu],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),Lu=class{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new ue,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Bp(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},u9=new O("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=j(ri);return()=>t.scrollStrategies.block()}}),d9=new O("DialogData"),h9=new O("DefaultDialogConfig");var f9=0,z0=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,r,o,s,a,c){this._overlay=i,this._injector=r,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ue,this._afterOpenedAtThisLevel=new ue,this._ariaHiddenElements=new Map,this.afterAllClosed=Pr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ln(void 0))),this._scrollStrategy=c}open(i,r){let o=this._defaultOptions||new ys;r=L(L({},o),r),r.id=r.id||`cdk-dialog-${f9++}`,r.id&&this.getDialogById(r.id);let s=this._getOverlayConfig(r),a=this._overlay.create(s),c=new Lu(a,r),l=this._attachContainer(a,c,r);return c.containerInstance=l,this._attachDialogContent(i,c,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){U0(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){U0(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),U0(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let r=new Ou({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(r.backdropClass=i.backdropClass),r}_attachContainer(i,r,o){let s=o.injector||o.viewContainerRef?.injector,a=[{provide:ys,useValue:o},{provide:Lu,useValue:r},{provide:gr,useValue:i}],c;o.container?typeof o.container=="function"?c=o.container:(c=o.container.type,a.push(...o.container.providers(o))):c=H0;let l=new dc(c,o.viewContainerRef,rt.create({parent:s||this._injector,providers:a}),o.componentFactoryResolver);return i.attach(l).instance}_attachDialogContent(i,r,o,s){if(i instanceof Rn){let a=this._createInjector(s,r,o,void 0),c={$implicit:s.data,dialogRef:r};s.templateContext&&(c=L(L({},c),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new hc(i,null,c,a))}else{let a=this._createInjector(s,r,o,this._injector),c=o.attachComponentPortal(new dc(i,s.viewContainerRef,a,s.componentFactoryResolver));r.componentRef=c,r.componentInstance=c.instance}}_createInjector(i,r,o,s){let a=i.injector||i.viewContainerRef?.injector,c=[{provide:d9,useValue:i.data},{provide:Lu,useValue:r}];return i.providers&&(typeof i.providers=="function"?c.push(...i.providers(r,i,o)):c.push(...i.providers)),i.direction&&(!a||!a.get(Pu,null,{optional:!0}))&&c.push({provide:Pu,useValue:{value:i.direction,change:G()}}),rt.create({parent:a||s,providers:c})}_removeOpenDialog(i,r){let o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let r=i.parentElement.children;for(let o=r.length-1;o>-1;o--){let s=r[o];s!==i&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(r){return new(r||e)(_(ri),_(rt),_(h9,8),_(e,12),_(pc),_(u9))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function U0(t,e){let n=t.length;for(;n--;)e(t[n])}var E1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({providers:[z0],imports:[$p,fs,b1,fs]});let t=e;return t})();function p9(){return!0}var m9=new O("mat-sanity-checks",{providedIn:"root",factory:p9}),W0=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return Mu()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(_(j0),_(m9,8),_(he))},e.\u0275mod=oe({type:e}),e.\u0275inj=se({imports:[oo,oo]});let t=e;return t})();var Fn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Fn||{}),q0=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Fn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},I1=uc({passive:!0,capture:!0}),G0=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=ii(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,I1)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,I1)))}},D1={enterDuration:225,exitDuration:150},g9=800,C1=uc({passive:!0,capture:!0}),T1=["mousedown","touchstart"],A1=["mouseup","mouseleave","touchend","touchcancel"],Vu=class Vu{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=mr(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=L(L({},D1),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||y9(e,n,r),a=e-r.left,c=n-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let f=window.getComputedStyle(u),m=f.transitionProperty,g=f.transitionDuration,w=m==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,I=new q0(this,u,i,w);u.style.transform="scale3d(1, 1, 1)",I.state=Fn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=I);let E=null;return!w&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let A=()=>this._finishRippleTransition(I),B=()=>this._destroyRipple(I);u.addEventListener("transitionend",A),u.addEventListener("transitioncancel",B),E={onTransitionEnd:A,onTransitionCancel:B}}),this._activeRipples.set(I,E),(w||!l)&&this._finishRippleTransition(I),I}fadeOutRipple(e){if(e.state===Fn.FADING_OUT||e.state===Fn.HIDDEN)return;let n=e.element,i=L(L({},D1),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=Fn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=mr(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,T1.forEach(i=>{Vu._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{A1.forEach(n=>{this._triggerElement.addEventListener(n,this,C1)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Fn.FADING_IN?this._startFadeOutTransition(e):e.state===Fn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Fn.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Fn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=L0(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+g9;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!V0(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Fn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Fn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(T1.forEach(n=>Vu._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&A1.forEach(n=>e.removeEventListener(n,this,C1)))}};Vu._eventManager=new G0;var S1=Vu;function y9(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}function v9(t,e){}var ju=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},K0="mdc-dialog--open",x1="mdc-dialog--opening",R1="mdc-dialog--closing",_9=150,w9=75,b9=(()=>{let e=class e extends H0{constructor(i,r,o,s,a,c,l,u,f){super(i,r,o,s,a,c,l,f),this._animationMode=u,this._animationStateChanged=new Pe,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?P1(this._config.enterAnimationDuration)??_9:0,this._exitAnimationDuration=this._animationsEnabled?P1(this._config.exitAnimationDuration)??w9:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(M1,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(x1,K0)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(K0),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(K0),this._animationsEnabled?(this._hostElement.style.setProperty(M1,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(R1)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(x1,R1)}_waitForAnimationToComplete(i,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let r=super.attachComponentPortal(i);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};e.\u0275fac=function(r){return new(r||e)(V(Ve),V(qp),V(he,8),V(ju),V(Fu),V(Z),V(gr),V(ja,8),V(Gp))},e.\u0275cmp=Te({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){r&2&&(jf("id",o._config.id),Nt("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),lr("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[Ct,Wr],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1),Ne(2,v9,0,0,"ng-template",2),v()())},dependencies:[Nu],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let t=e;return t})(),M1="--mat-dialog-transition-duration";function P1(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Su(t.substring(0,t.length-2)):t.endsWith("s")?Su(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Wp=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Wp||{}),gc=class{constructor(e,n,i){this._ref=e,this._containerInstance=i,this._afterOpened=new ue,this._beforeClosed=new ue,this._state=Wp.OPEN,this.disableClose=n.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Me(r=>r.state==="opened"),Et(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Me(r=>r.state==="closed"),Et(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Uo(this.backdropClick(),this.keydownEvents().pipe(Me(r=>r.keyCode===27&&!this.disableClose&&!Bp(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),E9(this,r.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Me(n=>n.state==="closing"),Et(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Wp.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Wp.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function E9(t,e,n){return t._closeInteractionType=e,t.close(n)}var I9=new O("MatMdcDialogData"),D9=new O("mat-mdc-dialog-default-options"),C9=new O("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(ri);return()=>t.scrollStrategies.block()}});var T9=0,Kp=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,r,o,s,a,c,l,u){this._overlay=i,this._defaultOptions=s,this._scrollStrategy=a,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ue,this._afterOpenedAtThisLevel=new ue,this.dialogConfigClass=ju,this.afterAllClosed=Pr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ln(void 0))),this._dialog=r.get(z0),this._dialogRefConstructor=gc,this._dialogContainerType=b9,this._dialogDataToken=I9}open(i,r){let o;r=L(L({},this._defaultOptions||new ju),r),r.id=r.id||`mat-mdc-dialog-${T9++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(i,De(L({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:ys,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(a,c,l)=>(o=new this._dialogRefConstructor(a,r,l),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=s.componentRef,o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(o);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let r=i.length;for(;r--;)i[r].close()}};e.\u0275fac=function(r){return new(r||e)(_(ri),_(rt),_(Mi,8),_(D9,8),_(C9),_(e,12),_(pc),_(ja,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var A9=(()=>{let e=class e{constructor(i,r,o){this._dialogRef=i,this._elementRef=r,this._dialog=o}ngOnInit(){this._dialogRef||(this._dialogRef=S9(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}};e.\u0275fac=function(r){return new(r||e)(V(gc,8),V(Ve),V(Kp))},e.\u0275dir=ke({type:e,standalone:!0});let t=e;return t})();var k1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ke({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0});let t=e;return t})(),N1=(()=>{let e=class e extends A9{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275dir=ke({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(r,o){r&2&&lr("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},standalone:!0,features:[Ct]});let t=e;return t})();function S9(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-mdc-dialog-container");)n=n.parentElement;return n?e.find(i=>i.id===n.id):null}var O1=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({providers:[Kp],imports:[E1,$p,fs,W0,W0]});let t=e;return t})();var L1=(()=>{let e=class e{constructor(i){this.dialogRef=i}ngOnInit(){console.log("DEBUG: MIDIALOG")}cerrarDialog(){this.dialogRef.close()}};e.\u0275fac=function(r){return new(r||e)(V(gc))},e.\u0275cmp=Te({type:e,selectors:[["app-mi-dialog"]],decls:24,vars:0,consts:[[1,"dialog-content"],[1,"dialog-title"],[1,"dialog-subtitle"],["align","center"],["mat-button","","color","primary",3,"click"]],template:function(r,o){r&1&&(b(0,"mat-dialog-content",0)(1,"h5",1),x(2,"Argentina Programa 4.0"),v(),b(3,"h6",2),x(4,"Proyecto Final"),v(),b(5,"h6"),x(6,"Luego de recorrer nueve m\xF3dulos llegamos a construir una pagina web"),v(),b(7,"h6"),x(8,"en Angular usando un frontend de Firebase con TypeScript"),v(),F(9,"br"),b(10,"h6"),x(11,"\xA1Lo hemos logrado!"),v(),F(12,"br"),b(13,"h6"),x(14,"Editor Visual Code \xA9 Microsoft."),v(),b(15,"h6"),x(16,"Firebase \xA9 Google"),v(),b(17,"h6"),x(18,"TypeScript \xA9 Microsoft."),v(),b(19,"h6"),x(20,"Im\xE1genes obtenidas de Google y Freepik.es"),v(),b(21,"mat-dialog-actions",3)(22,"button",4),He("click",function(){return o.cerrarDialog()}),x(23,"Cerrar"),v()()())},dependencies:[N1,k1],styles:[".dialog-content[_ngcontent-%COMP%]{background-image:url(https://drive.google.com/uc?export=download&id=1rX5zCl1lQPjeGbYsH8BQUI-1L1HT0nL2);background-repeat:repeat;width:auto;height:auto;color:#7fff00}.dialog-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}.dialog-subtitle[_ngcontent-%COMP%]{font-size:18px;text-align:center}button[color=primary][_ngcontent-%COMP%]{color:green}"]});let t=e;return t})();var Yp=(()=>{let e=class e{constructor(i){this.dialog=i}ngOnInit(){console.log("DEBUG: FOOTER")}abrirDialog(){this.dialog.open(L1,{width:"400px"}).afterClosed().subscribe(r=>{console.log("Dialog result: ${result}")})}};e.\u0275fac=function(r){return new(r||e)(V(Kp))},e.\u0275cmp=Te({type:e,selectors:[["app-footer"]],decls:15,vars:0,consts:[["id","footer",1,"content"],[1,"d-flex","container-fluid","align-items-center","justify-content-center"],["data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Informaci\xF3n Page...",1,"btn","btn-primary"],["href","mailto:hernancanestraro.dev@gmail.com"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"p"),x(2,'Proyecto Integrador Argentina Programa | "Yo Programo2" | Portafolio/CV Personal. | '),v(),b(3,"p"),x(4,"Backend hecho en Java con Spring framework | Frontend hecho en TypeScript con Angular framework."),v(),b(5,"p"),x(6,"2023 \xA9 HERNAN CANESTRARO"),v(),b(7,"div",1)(8,"button",2),x(9,"Info"),v()(),b(10,"a",3)(11,"p"),x(12,"Enviar un Email a: hernancanestraro.dev@gmail.com"),v()(),b(13,"p"),x(14,"Gracias por usar la aplicaci\xF3n!!!"),v()())}});let t=e;return t})();var Ln=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="http://localhost:8080/api/"}obtenerDatos(){return this.http.get("./../../assets/data/data.json")}obtenerDatosAcercaDe(){return this.http.get(this.apiUrl+"acercade")}obtenerDatosPersona(){return this.http.get(this.apiUrl+"persona")}obtenerDatosEducacion(){return this.http.get(this.apiUrl+"educacion")}obtenerDatosExperiencias(){return this.http.get(this.apiUrl+"experiencia")}obtenerDatosProyectos(){return this.http.get(this.apiUrl+"proyectos")}obtenerDatosSkills(){return this.http.get(this.apiUrl+"skills")}obtenerOneDatosAcercaDe(i){return this.http.get(this.apiUrl+"acercade/"+i)}obtenerOneDatosEducacion(i){return this.http.get(this.apiUrl+"educacion/"+i)}obtenerOneDatosExperiencia(i){return this.http.get(this.apiUrl+"experiencias/"+i)}obtenerOneDatosProyecto(i){return this.http.get(this.apiUrl+"proyectos/"+i)}obtenerOneDatosSkill(i){return this.http.get(this.apiUrl+"skills/"+i)}postAcercaDe(i){let r=JSON.stringify(i);return this.http.post(this.apiUrl+"acercade",r,{headers:this.headers})}postEducacion(i){return this.http.post(this.apiUrl+"educacion",i,{headers:this.headers})}postExperiencia(i){return this.http.post(this.apiUrl+"experiencias",i,{headers:this.headers})}postProyecto(i){return this.http.post(this.apiUrl+"proyectos",i,{headers:this.headers})}postSkill(i){return this.http.post(this.apiUrl+"skills",i,{headers:this.headers})}putAcercaDe(i,r){return this.http.put(this.apiUrl+"acercade/"+r,i,{headers:this.headers})}putExperiencia(i,r){return this.http.put(this.apiUrl+"experiencias/"+r,i,{headers:this.headers})}putEducacion(i,r){return this.http.put(this.apiUrl+"educacion/"+r,i,{headers:this.headers})}putProyecto(i,r){return this.http.put(this.apiUrl+"proyectos/"+r,i,{headers:this.headers})}putSkill(i,r){return this.http.put(this.apiUrl+"skills/"+r,i,{headers:this.headers})}deleteAcercaDe(i){return this.http.delete(this.apiUrl+"acercade/"+i,{headers:this.headers})}deleteEducacion(i){return this.http.delete(this.apiUrl+"educacion/"+i,{headers:this.headers})}deleteExperiencia(i){return this.http.delete(this.apiUrl+"experiencias/"+i,{headers:this.headers})}deleteProyecto(i){return this.http.delete(this.apiUrl+"proyectos/"+i,{headers:this.headers})}deleteSkill(i){return this.http.delete(this.apiUrl+"skills/"+i,{headers:this.headers})}holaChe(){return this.http.get("localhost:8080/che/hola")}};e.\u0275fac=function(r){return new(r||e)(_(os))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var j1=(()=>{let e=class e{constructor(i){this.portfolioService=i}ngOnInit(){console.log("Acerdade"),this.portfolioService.obtenerDatosAcercaDe().subscribe(i=>{console.log(i),this.miPortfolio=i,console.log(this.miPortfolio)})}};e.\u0275fac=function(r){return new(r||e)(V(Ln))},e.\u0275cmp=Te({type:e,selectors:[["app-acercade"]],inputs:{isLogged:"isLogged"},decls:10,vars:1,consts:[["id","acercaDeFirstCard",1,"card","card-mx","d-flex","acercaDe"],[1,"card-titles"],[1,"btn-edit"],["href","#","data-bs-toggle","tooltip","title","Editar acercade...",1,"btn-right"],[1,"fa-pen"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Acerca de"),v(),b(4,"div",2)(5,"a",3)(6,"i",4),x(7,"\u270F "),v()()(),b(8,"div"),x(9),v()()()),r&2&&(W(9),Jt(" ",o.miPortfolio.acercaDe," "))},styles:["h1[_ngcontent-%COMP%]{color:#00f}div[_ngcontent-%COMP%]   #acercade[_ngcontent-%COMP%]{border-radius:50%;border:1px solid greenyellow;margin:1px}.acercaDe[_ngcontent-%COMP%]{margin:5px;background-color:#f0f8ff;width:95%;height:100px;padding:5px;border-top:5px;border-left:5px;border-right:5px;border:2px solid red;border-radius:5px}"]});let t=e;return t})();var W1=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(V(qr),V(Ve))},e.\u0275dir=ke({type:e});let t=e;return t})(),R9=(()=>{let e=class e extends W1{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275dir=ke({type:e,features:[Ct]});let t=e;return t})(),K1=new O("");var M9={provide:K1,useExisting:Hr(()=>co),multi:!0};function P9(){let t=Ri()?Ri().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var k9=new O(""),co=(()=>{let e=class e extends W1{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!P9())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(V(qr),V(Ve),V(k9,8))},e.\u0275dir=ke({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&He("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Si([M9]),Ct]});let t=e;return t})();function so(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Y1(t){return t!=null&&typeof t.length=="number"}var im=new O(""),J0=new O(""),N9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,be=class{static min(e){return O9(e)}static max(e){return F9(e)}static required(e){return Q1(e)}static requiredTrue(e){return L9(e)}static email(e){return V9(e)}static minLength(e){return j9(e)}static maxLength(e){return B9(e)}static pattern(e){return U9(e)}static nullValidator(e){return Zp(e)}static compose(e){return nP(e)}static composeAsync(e){return iP(e)}};function O9(t){return e=>{if(so(e.value)||so(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function F9(t){return e=>{if(so(e.value)||so(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Q1(t){return so(t.value)?{required:!0}:null}function L9(t){return t.value===!0?null:{required:!0}}function V9(t){return so(t.value)||N9.test(t.value)?null:{email:!0}}function j9(t){return e=>so(e.value)||!Y1(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function B9(t){return e=>Y1(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function U9(t){if(!t)return Zp;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(so(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Zp(t){return null}function Z1(t){return t!=null}function X1(t){return ns(t)?me(t):t}function J1(t){let e={};return t.forEach(n=>{e=n!=null?L(L({},e),n):e}),Object.keys(e).length===0?null:e}function eP(t,e){return e.map(n=>n(t))}function $9(t){return!t.validate}function tP(t){return t.map(e=>$9(e)?e:n=>e.validate(n))}function nP(t){if(!t)return null;let e=t.filter(Z1);return e.length==0?null:function(n){return J1(eP(n,e))}}function eb(t){return t!=null?nP(tP(t)):null}function iP(t){if(!t)return null;let e=t.filter(Z1);return e.length==0?null:function(n){let i=eP(n,e).map(X1);return By(i).pipe(Y(J1))}}function tb(t){return t!=null?iP(tP(t)):null}function B1(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function rP(t){return t._rawValidators}function oP(t){return t._rawAsyncValidators}function Y0(t){return t?Array.isArray(t)?t:[t]:[]}function Xp(t,e){return Array.isArray(t)?t.includes(e):t===e}function U1(t,e){let n=Y0(e);return Y0(t).forEach(r=>{Xp(n,r)||n.push(r)}),n}function $1(t,e){return Y0(e).filter(n=>!Xp(t,n))}var Jp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ao=class extends Jp{get formDirective(){return null}get path(){return null}},Hu=class extends Jp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},em=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},H9={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Kae=De(L({},H9),{"[class.ng-submitted]":"isSubmitted"}),wc=(()=>{let e=class e extends em{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(V(Hu,2))},e.\u0275dir=ke({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&lr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ct]});let t=e;return t})(),lo=(()=>{let e=class e extends em{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(V(ao,10))},e.\u0275dir=ke({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&lr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ct]});let t=e;return t})();var Bu="VALID",Qp="INVALID",vc="PENDING",Uu="DISABLED";function nb(t){return(rm(t)?t.validators:t)||null}function z9(t){return Array.isArray(t)?eb(t):t||null}function ib(t,e){return(rm(e)?e.asyncValidators:t)||null}function q9(t){return Array.isArray(t)?tb(t):t||null}function rm(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function sP(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Q(1e3,"");if(!i[n])throw new Q(1001,"")}function aP(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new Q(1002,"")})}var _c=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Bu}get invalid(){return this.status===Qp}get pending(){return this.status==vc}get disabled(){return this.status===Uu}get enabled(){return this.status!==Uu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(U1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(U1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($1(e,this._rawAsyncValidators))}hasValidator(e){return Xp(this._rawValidators,e)}hasAsyncValidator(e){return Xp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vc,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Uu,this.errors=null,this._forEachChild(i=>{i.disable(De(L({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(L({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Bu,this._forEachChild(i=>{i.enable(De(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(De(L({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bu||this.status===vc)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uu:Bu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vc,this._hasOwnPendingAsyncValidator=!0;let n=X1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?Uu:this.errors?Qp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vc)?vc:this._anyControlsHaveStatus(Qp)?Qp:Bu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=z9(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=q9(this._rawAsyncValidators)}},Vn=class extends _c{constructor(e,n,i){super(nb(n),ib(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){aP(this,!0,e),Object.keys(e).forEach(i=>{sP(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Q0=class extends Vn{};var om=new O("CallSetDisabledState",{providedIn:"root",factory:()=>sm}),sm="always";function G9(t,e){return[...e.path,t]}function Z0(t,e,n=sm){rb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),K9(t,e),Q9(t,e),Y9(t,e),W9(t,e)}function H1(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),nm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function tm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function W9(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function rb(t,e){let n=rP(t);e.validator!==null?t.setValidators(B1(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=oP(t);e.asyncValidator!==null?t.setAsyncValidators(B1(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();tm(e._rawValidators,r),tm(e._rawAsyncValidators,r)}function nm(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=rP(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=oP(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return tm(e._rawValidators,i),tm(e._rawAsyncValidators,i),n}function K9(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&cP(t,e)})}function Y9(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&cP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function cP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Q9(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function lP(t,e){t==null,rb(t,e)}function Z9(t,e){return nm(t,e)}function X9(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function J9(t){return Object.getPrototypeOf(t.constructor)===R9}function uP(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function e8(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===co?n=o:J9(o)?i=o:r=o}),r||i||n||null}function t8(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var n8={provide:ao,useExisting:Hr(()=>ob)},$u=Promise.resolve(),ob=(()=>{let e=class e extends ao{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pe,this.form=new Vn({},eb(i),tb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){$u.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Z0(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){$u.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){$u.then(()=>{let r=this._findContainer(i.path),o=new Vn({});lP(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){$u.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){$u.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,uP(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(V(im,10),V(J0,10),V(om,8))},e.\u0275dir=ke({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&He("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[Ge.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Si([n8]),Ct]});let t=e;return t})();function z1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function q1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var pt=class extends _c{constructor(e=null,n,i){super(nb(n),ib(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(q1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){z1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){z1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){q1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var i8=t=>t instanceof pt;var uo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ke({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var dP=new O("");var r8={provide:ao,useExisting:Hr(()=>vs)},vs=(()=>{let e=class e extends ao{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pe,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Z0(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){H1(i.control||null,i,!1),t8(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,uP(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(H1(r||null,i),i8(o)&&(Z0(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);lP(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&Z9(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rb(this.form,this),this._oldForm&&nm(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(V(im,10),V(J0,10),V(om,8))},e.\u0275dir=ke({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&He("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[Ge.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Si([r8]),Ct,wn]});let t=e;return t})();var o8={provide:Hu,useExisting:Hr(()=>_s)},_s=(()=>{let e=class e extends Hu{set isDisabled(i){}constructor(i,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Pe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=e8(this,s)}ngOnChanges(i){this._added||this._setUpControl(),X9(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return G9(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(V(ao,13),V(im,10),V(J0,10),V(K1,10),V(dP,8))},e.\u0275dir=ke({type:e,selectors:[["","formControlName",""]],inputs:{name:[Ge.None,"formControlName","name"],isDisabled:[Ge.None,"disabled","isDisabled"],model:[Ge.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Si([o8]),Ct,wn]});let t=e;return t})();var s8=(()=>{let e=class e{constructor(){this._validator=Zp}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Zp,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ke({type:e,features:[wn]});let t=e;return t})();var a8={provide:im,useExisting:Hr(()=>zu),multi:!0};var zu=(()=>{let e=class e extends s8{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xi,this.createValidator=i=>Q1}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ar(e)))(o||e)}})(),e.\u0275dir=ke({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Nt("required",o._enabled?"":null)},inputs:{required:"required"},features:[Si([a8]),Ct]});let t=e;return t})();var hP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({});let t=e;return t})(),X0=class extends _c{constructor(e,n,i){super(nb(n),ib(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){aP(this,!1,e),e.forEach((i,r)=>{sP(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function G1(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var fP=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let o=this._reduceControls(i),s={};return G1(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Vn(o,s)}record(i,r=null){let o=this._reduceControls(i);return new Q0(o,r)}control(i,r,o){let s={};return this.useNonNullable?(G1(r)?s=r:(s.validators=r,s.asyncValidators=o),new pt(i,De(L({},s),{nonNullable:!0}))):new pt(i,r,o)}array(i,r,o){let s=i.map(a=>this._createControl(a));return new X0(s,r,o)}_reduceControls(i){let r={};return Object.keys(i).forEach(o=>{r[o]=this._createControl(i[o])}),r}_createControl(i){if(i instanceof pt)return i;if(i instanceof _c)return i;if(Array.isArray(i)){let r=i[0],o=i.length>1?i[1]:null,s=i.length>2?i[2]:null;return this.control(r,o,s)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pP=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:om,useValue:i.callSetDisabledState??sm}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({imports:[hP]});let t=e;return t})(),mP=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:dP,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:om,useValue:i.callSetDisabledState??sm}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({imports:[hP]});let t=e;return t})();var sb=lh(bu());var gP=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="http://localhost:8080/api"}getDatos(){return this.http.get(`${this.apiUrl}/datos`)}getDatosEducacion(){return console.log("[education]"),this.http.get(`${this.apiUrl}/educacion`)}};e.\u0275fac=function(r){return new(r||e)(_(os))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function l8(t,e){if(t&1){let n=Ai();b(0,"div")(1,"div",7)(2,"button",8),He("click",function(r){dn(n);let o=Qe();return hn(o.onCrear(r))}),b(3,"span"),F(4,"img",9),x(5,"AGREGAR EDUCACI\xD3N"),v()()()()}}function u8(t,e){if(t&1){let n=Ai();b(0,"div")(1,"div",31)(2,"div",32)(3,"button",33),He("click",function(){dn(n);let r=Qe(2);return hn(r.onCancelNuevoRegistro())}),b(4,"span"),F(5,"img",34),v()(),b(6,"button",33),He("click",function(r){dn(n);let o=Qe(2);return hn(o.onSaveNewNuevoRegistro(r))}),b(7,"span"),F(8,"img",35),v()()()()()}}function d8(t,e){if(t&1&&(b(0,"div",10)(1,"form",11)(2,"div",12),Ne(3,u8,9,0,"div",3),b(4,"h3",13),F(5,"img",14),b(6,"span"),x(7,"Nueva Educaci\xF3n"),v()(),b(8,"div",15)(9,"div",16)(10,"label",17),x(11,"Escuela:"),v()(),F(12,"input",18),v(),b(13,"div",15)(14,"div",16)(15,"label",19),x(16,"Titulo:"),v()(),F(17,"input",20),v(),b(18,"div",15)(19,"div",16)(20,"label",21),x(21,"Detalles:"),v()(),F(22,"input",22),v(),b(23,"div",15)(24,"div",16)(25,"label",23),x(26,"Puntaje:"),v()(),F(27,"input",24),v(),b(28,"div",15)(29,"div",16)(30,"label",25),x(31,"Inicio:"),v()(),F(32,"input",26),v(),b(33,"div",15)(34,"div",16)(35,"label",27),x(36,"Fin:"),v()(),F(37,"input",28),v(),b(38,"div",15)(39,"div",16)(40,"label",29),x(41,"URL Imagen:"),v()(),F(42,"input",30),v()()()()),t&2){let n=Qe();W(),ie("formGroup",n.form),W(2),ie("ngIf",n.modoNuevoRegistro===!0)}}function h8(t,e){if(t&1){let n=Ai();b(0,"div")(1,"div",31)(2,"div",32)(3,"button",33),He("click",function(){dn(n);let r=Qe(2);return hn(r.onCancelNuevoRegistro())}),b(4,"span"),F(5,"img",34),v()(),b(6,"button",33),He("click",function(r){dn(n);let o=Qe(2);return hn(o.onSaveNewNuevoRegistro(r))}),b(7,"span"),F(8,"img",35),v()()()()()}}function f8(t,e){if(t&1&&(b(0,"div",36)(1,"form",37)(2,"div",12),Ne(3,h8,9,0,"div",3),b(4,"h3",13),F(5,"img",14),b(6,"span"),x(7,"New education"),v()(),b(8,"div",15)(9,"div",16)(10,"label",38),x(11,"Escuela:"),v()(),F(12,"input",39),v(),b(13,"div",15)(14,"div",16)(15,"label",19),x(16,"Titulo:"),v()(),F(17,"input",20),v(),b(18,"div",15)(19,"div",16)(20,"label",21),x(21,"Detalles:"),v()(),F(22,"input",22),v(),b(23,"div",15)(24,"div",16)(25,"label",23),x(26,"Puntaje:"),v()(),F(27,"input",24),v(),b(28,"div",15)(29,"div",16)(30,"label",25),x(31,"Inicio:"),v()(),F(32,"input",26),v(),b(33,"div",15)(34,"div",16)(35,"label",27),x(36,"Fin:"),v()(),F(37,"input",28),v(),b(38,"div",15)(39,"div",16)(40,"label",29),x(41,"URL Imagen:"),v()(),F(42,"input",30),v()()()()),t&2){let n=Qe();W(),ie("formGroup",n.form),W(2),ie("ngIf",n.modoEdicion===!0)}}function p8(t,e){if(t&1&&(b(0,"div",40)(1,"div",41)(2,"div",42)(3,"div",32)(4,"button",43)(5,"span"),F(6,"img",44),v()()(),b(7,"div",32)(8,"button",45)(9,"span"),F(10,"img",46),v()()()(),b(11,"div",47),F(12,"img",48),v(),b(13,"div",49)(14,"p")(15,"b"),x(16,"\u{1F3EB} Escuela:"),v(),x(17),v(),b(18,"p")(19,"b"),x(20,"Titulo:"),v(),x(21),v(),b(22,"p")(23,"b"),x(24,"Detalles:"),v(),x(25),v(),b(26,"p")(27,"b"),x(28,"Puntaje:"),v(),x(29),v(),b(30,"p")(31,"b"),x(32,"\u{1F4C5} Inicio: "),v(),x(33),v(),b(34,"p")(35,"b"),x(36,"\u{1F4C5} Fin: "),v(),x(37),v()()()()),t&2){let n=e.$implicit,i=e.index;Nt("data-index",i),W(12),ie("src",n.imagen,Jn),W(5),Jt(" ",n.escuela,""),W(4),Jt(" ",n.titulo,""),W(4),Ut(n.detalles),W(4),Ut(n.puntaje),W(4),Ut(n.inicio),W(4),Ut(n.fin)}}var yP=(()=>{let e=class e{constructor(i,r){this.apiService=i,this.datosPortfolio=r,this.educacion=[],this.tituloModal="",this.modoEdicion=!1,this.modoNuevoRegistro=!1,this.form=new Vn({detalles:new pt(["",[be.required,be.minLength(2)]]),estado:new pt(["",[be.required,be.minLength(2)]]),institucion:new pt(["",[be.required,be.minLength(2)]]),periodo:new pt(["",[be.required,be.minLength(2)]]),titulo:new pt(["",[be.required,be.minLength(2)]])})}ngOnInit(){console.log("EDUCATION"),this.obtenerDatosEducacion(),console.log("get:",this.miPortfolio2),this.datosPortfolio.obtenerDatos().subscribe(i=>{console.log(i),this.miPortfolio=i.educacion,console.log(this.miPortfolio)})}obtenerDatosEducacion(){this.datosPortfolio.obtenerDatosEducacion().subscribe(i=>{console.log("[Educacion:data]"),this.miPortfolio=i,console.log(this.miPortfolio)})}selectItem(i){console.log(i)}onCrear(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),s[3].setValue(""),s[4].setValue(""),console.log("valueFormDetalles: ",s[0].value),console.log("valueFormEstado: ",s[1].value),console.log("valueFormInstitucion: ",s[2].value),console.log("valueFormPeriodo: ",s[3].value),console.log("valueFormTitulo: ",s[4].value),this.modoNuevoRegistro=!0}onEdit(i,r,o){this.editID=i,this.i=r,console.log("i",r),console.log("editID",this.editID),console.log("this.form.value: ",this.form.value),console.log("id: ",i),this.form.setValue({detalles:this.miPortfolio[r].detalles,estado:this.miPortfolio[r].estado,institucion:this.miPortfolio[r].institucion,periodo:this.miPortfolio[r].periodo,titulo:this.miPortfolio[r].titulo}),console.log("this.form.value: ",this.form.value),this.modoEdicion=!0}onSaveEdit(i){i.preventDefault,this.datosPortfolio.putEducacion(this.form.value,this.editID).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("id: ",this.editID),console.log("EDUCACI\xD3N method PUT Data Editada",r),this.datosPortfolio.obtenerOneDatosEducacion(this.editID).subscribe(o=>{console.log("Dato: "+JSON.stringify(o)),this.miPortfolio[this.i]=o,console.log("miPortfolio[i : ",this.miPortfolio[this.i])})}),this.modoEdicion=!1}onSaveNewNuevoRegistro(i){i.preventDefault,this.datosPortfolio.postEducacion(this.form.value).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("AcercaDe method post Data",r),this.datosPortfolio.obtenerDatosEducacion().subscribe(o=>{this.miPortfolio=o})}),this.modoNuevoRegistro=!1}onDelete(i,r){console.log("ondelete",i),this.i=i,this.modoEdicion=!1,r.preventDefault,sb.default.fire({title:`\xBFELIMINAR EDUCACI\xD3N ${this.miPortfolio[i].titulo.toUpperCase()}?`,text:"No podr\xE1 revertir los cambios.",icon:"warning",confirmButtonColor:"#d33",confirmButtonText:"Si, Eliminar.",showCancelButton:!0,cancelButtonText:"Cancelar",cancelButtonColor:"#00b5ff"}).then(o=>{o.isConfirmed&&(this.datosPortfolio.deleteEducacion(this.miPortfolio[i].id).subscribe(s=>{console.log("Borrando registro",s),this.datosPortfolio.obtenerDatosEducacion().subscribe(a=>{this.miPortfolio=a})}),sb.default.fire({title:"ITEM ELIMINADO",icon:"success",showConfirmButton:!1,timer:1e3}))})}onCancelNuevoRegistro(){this.modoNuevoRegistro=!1}onCancel(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),s[3].setValue(""),s[4].setValue(""),console.log("valueFormDetalles: ",s[0].value),console.log("valueFormEstado: ",s[1].value),console.log("valueFormInstitucion: ",s[2].value),console.log("valueFormPeriodo: ",s[3].value),console.log("valueFormTitulo: ",s[4].value),this.modoEdicion=!1}};e.\u0275fac=function(r){return new(r||e)(V(gP),V(Ln))},e.\u0275cmp=Te({type:e,selectors:[["app-educacion"]],decls:9,vars:4,consts:[["id","educacionFirstCard"],[1,"cHeader"],[1,"cTitle","column","justify-content-start"],[4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["class","d-flex",4,"ngIf"],["onclick","selectItem(miP);",4,"ngFor","ngForOf"],[1,"cAdd"],[1,"btn-agregar",3,"click"],["src","../../../assets/media/logoAdd.png","alt","Agregar Educaci\xF3n...",1,"logos","mt-1","bg-blue","rounded-circle"],[1,"d-flex","justify-content-center"],[1,"mb-4",3,"formGroup"],[1,"text-center","border","mt-5","p-3","shadow","rounded"],[1,"text-center","m-3"],["src","./../../../assets/media/logoEdu.png","alt","",1,"logos"],[1,""],[1,"text-start"],["for","escuela",1,"form-label","fw-bold"],["type","text","id","escuela","placeholder","\u{1F3EB} Escuela","formControlName","escuela","required","","autofocus","",1,"p-2","mb-2","border","rounded","border","shadow"],["for","titulo",1,"form-label"],["type","text","id","titulo","placeholder","Titulo","formControlName","titulo","required",""],["for","detalles",1,"form-label"],["type","text","id","detalles","placeholder","Detalles","formControlName","detalles","required",""],["for","puntaje",1,"form-label"],["type","text","id","puntaje","placeholder","puntaje","formControlName","puntaje","required",""],["for","inicio",1,"form-label"],["type","text","id","inicio","placeholder","inicio","formControlName","inicio","required",""],["for","fin",1,"form-label"],["type","text","id","fin","placeholder","fin","formControlName","fin","required",""],["for","imagen",1,"form-label"],["type","text","id","imagen","placeholder","imagen","formControlName","imagen"],[1,"d-flex","justify-content-end"],[1,"p-1"],[1,"btn","p-0","m-1",3,"click"],["src","./../../../assets/media/logoCancel.png","alt","Editar",1,"logos"],["src","./../../../assets/media/logoSave.png","alt","Editar",1,"logos"],[1,"d-flex"],[3,"formGroup"],["for","escuela",1,"form-label"],["type","text","id","escuela","placeholder","\u{1F3EB} Escuela","formControlName","escuela","required","","autofocus",""],["onclick","selectItem(miP);"],[1,"cCard","row","box1"],[1,"d-flex","justify-content-end","border"],["data-bs-toggle","tooltip","title",`
							Editar educaci\xF3n...`,1,"btn","p-0","m-1"],["src","../../../assets/media/logoPencil.png",1,"logos"],["click","onDelete(i, $event)","data-bs-toggle","tooltip","title","Eliminar educaci\xF3n...",1,"btn","p-0","m-1"],["src","../../../assets/media/logoDelete.png",1,"logos"],[1,"column",2,"width","25%","margin-bottom","10px"],["alt","","id","imgEducacion",3,"src"],[1,"column",2,"width","75%"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),x(4,"Educaci\xF3n"),v()(),Ne(5,l8,6,0,"div",3),v(),Ne(6,d8,43,2,"div",4)(7,f8,43,2,"div",5)(8,p8,38,8,"div",6),v()),r&2&&(W(5),ie("ngIf",o.modoNuevoRegistro===!1),W(),ie("ngIf",o.modoNuevoRegistro===!0),W(),ie("ngIf",o.modoEdicion===!0),W(),ie("ngForOf",o.miPortfolio))},dependencies:[Kr,Yr,uo,co,wc,lo,zu,vs,_s],styles:[".row[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;display:flex;flex-wrap:wrap;margin-top:calc(-1 * var(--bs-gutter-y));margin-right:calc(-.5 * var(--bs-gutter-x));margin-left:calc(1 * var(--bs-gutter-x))}"]});let t=e;return t})();var ab=lh(bu());function g8(t,e){if(t&1){let n=Ai();b(0,"div")(1,"div",7)(2,"button",8),He("click",function(r){dn(n);let o=Qe();return hn(o.onCrear(r))}),b(3,"span"),F(4,"img",9),x(5,"AGREGAR EXPERIENCIA"),v()()()()}}function y8(t,e){if(t&1){let n=Ai();b(0,"div")(1,"div",29)(2,"div",30)(3,"button",31),He("click",function(){dn(n);let r=Qe(2);return hn(r.onCancelNuevoRegistro())}),b(4,"span"),F(5,"img",32),v()(),b(6,"button",31),He("click",function(r){dn(n);let o=Qe(2);return hn(o.onSaveNewNuevoRegistro(r))}),b(7,"span"),F(8,"img",33),v()()()()()}}function v8(t,e){if(t&1&&(b(0,"div",10)(1,"form",11)(2,"div",12),Ne(3,y8,9,0,"div",3),b(4,"h3",13),F(5,"img",14),b(6,"span"),x(7,"Nueva Experiencia"),v()(),b(8,"div",15)(9,"div",16)(10,"label",17),x(11,"Ubicaci\xF3n:"),v()(),F(12,"input",18),v(),b(13,"div",15)(14,"div",16)(15,"label",19),x(16,"puesto:"),v()(),F(17,"input",20),v(),b(18,"div",15)(19,"div",16)(20,"label",21),x(21,"periodo:"),v()(),F(22,"input",22),v(),b(23,"div",15)(24,"div",16)(25,"label",23),x(26,"empresa:"),v()(),F(27,"input",24),v(),b(28,"div",15)(29,"div",16)(30,"label",25),x(31,"actividades:"),v()(),F(32,"input",26),v(),b(33,"div",15)(34,"div",16)(35,"label",27),x(36,"URL Imagen:"),v()(),F(37,"input",28),v()()()()),t&2){let n=Qe();W(),ie("formGroup",n.form),W(2),ie("ngIf",n.modoNuevoRegistro===!0)}}function _8(t,e){if(t&1){let n=Ai();b(0,"div")(1,"div",29)(2,"div",30)(3,"button",31),He("click",function(){dn(n);let r=Qe(2);return hn(r.onCancelNuevoRegistro())}),b(4,"span"),F(5,"img",32),v()(),b(6,"button",31),He("click",function(r){dn(n);let o=Qe(2);return hn(o.onSaveNewNuevoRegistro(r))}),b(7,"span"),F(8,"img",33),v()()()()()}}function w8(t,e){if(t&1&&(b(0,"div",34)(1,"form",35)(2,"div",12),Ne(3,_8,9,0,"div",3),b(4,"h3",13),F(5,"img",14),b(6,"span"),x(7,"Nueva Experiencia"),v()(),b(8,"div",15)(9,"div",16)(10,"label",36),x(11,"Experiencia:"),v()(),F(12,"input",37),v(),b(13,"div",15)(14,"div",16)(15,"label",19),x(16,"puesto:"),v()(),F(17,"input",20),v(),b(18,"div",15)(19,"div",16)(20,"label",21),x(21,"periodo:"),v()(),F(22,"input",22),v(),b(23,"div",15)(24,"div",16)(25,"label",23),x(26,"empresa:"),v()(),F(27,"input",24),v(),b(28,"div",15)(29,"div",16)(30,"label",25),x(31,"actividades:"),v()(),F(32,"input",26),v(),b(33,"div",15)(34,"div",16)(35,"label",27),x(36,"URL Imagen:"),v()(),F(37,"input",28),v()()()()),t&2){let n=Qe();W(),ie("formGroup",n.form),W(2),ie("ngIf",n.modoEdicion===!0)}}function b8(t,e){if(t&1&&(b(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",30)(4,"button",41)(5,"span"),F(6,"img",42),v()()(),b(7,"div",30)(8,"button",43)(9,"span"),F(10,"img",44),v()()()(),b(11,"div",45),F(12,"img",46),v(),b(13,"div",47)(14,"p")(15,"b"),x(16,"Ubicacion:"),v(),x(17),v(),b(18,"p")(19,"b"),x(20,"Puesto:"),v(),x(21),v(),b(22,"p")(23,"b"),x(24,"Periodo:"),v(),x(25),v(),b(26,"p")(27,"b"),x(28,"Empresa:"),v(),x(29),v(),b(30,"p")(31,"b"),x(32,"Actividades: "),v(),x(33),v()()()()),t&2){let n=e.$implicit,i=e.index;Nt("data-index",i),W(12),ie("src",n.imagen,Jn),W(5),Jt(" ",n.ubicacion,""),W(4),Jt(" ",n.puesto,""),W(4),Ut(n.periodo),W(4),Ut(n.empresa),W(4),Ut(n.actividades)}}var vP=(()=>{let e=class e{constructor(i){this.datosPortfolio=i,this.modoEdicion=!1,this.modoNuevoRegistro=!1,this.form=new Vn({ubicacion:new pt(["",[be.required,be.minLength(2)]]),puesto:new pt(["",[be.required,be.minLength(2)]]),periodo:new pt(["",[be.required,be.minLength(2)]]),empresa:new pt(["",[be.required,be.minLength(2)]]),actividades:new pt(["",[be.required,be.minLength(2)]])})}ngOnInit(){console.log("EXPERIENCIA"),this.datosPortfolio.obtenerDatosExperiencias().subscribe(i=>{console.log("Experiencias:",i),this.miPortfolio=i,console.log(this.miPortfolio)})}selectItem(i){console.log(i)}onCrear(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),s[3].setValue(""),s[4].setValue(""),console.log("valueFormDetalles: ",s[0].value),console.log("valueFormEstado: ",s[1].value),console.log("valueFormInstitucion: ",s[2].value),console.log("valueFormPeriodo: ",s[3].value),console.log("valueFormTitulo: ",s[4].value),this.modoNuevoRegistro=!0}onEdit(i,r,o){this.editID=i,this.i=r,console.log("i",r),console.log("editID",this.editID),console.log("this.form.value: ",this.form.value),console.log("id: ",i),this.form.setValue({detalles:this.miPortfolio[r].detalles,estado:this.miPortfolio[r].estado,institucion:this.miPortfolio[r].institucion,periodo:this.miPortfolio[r].periodo,titulo:this.miPortfolio[r].titulo}),console.log("this.form.value: ",this.form.value),this.modoEdicion=!0}onSaveEdit(i){i.preventDefault,this.datosPortfolio.putEducacion(this.form.value,this.editID).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("id: ",this.editID),console.log("EDUCACI\xD3N method PUT Data Editada",r),this.datosPortfolio.obtenerOneDatosEducacion(this.editID).subscribe(o=>{console.log("Dato: "+JSON.stringify(o)),this.miPortfolio[this.i]=o,console.log("miPortfolio[i : ",this.miPortfolio[this.i])})}),this.modoEdicion=!1}onSaveNewNuevoRegistro(i){i.preventDefault,this.datosPortfolio.postEducacion(this.form.value).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("AcercaDe method post Data",r),this.datosPortfolio.obtenerDatosEducacion().subscribe(o=>{this.miPortfolio=o})}),this.modoNuevoRegistro=!1}onDelete(i,r){console.log("ondelete",i),this.i=i,this.modoEdicion=!1,r.preventDefault,ab.default.fire({title:`\xBFELIMINAR EDUCACI\xD3N ${this.miPortfolio[i].titulo.toUpperCase()}?`,text:"No podr\xE1 revertir los cambios.",icon:"warning",confirmButtonColor:"#d33",confirmButtonText:"Si, Eliminar.",showCancelButton:!0,cancelButtonText:"Cancelar",cancelButtonColor:"#00b5ff"}).then(o=>{o.isConfirmed&&(this.datosPortfolio.deleteEducacion(this.miPortfolio[i].id).subscribe(s=>{console.log("Borrando registro",s),this.datosPortfolio.obtenerDatosEducacion().subscribe(a=>{this.miPortfolio=a})}),ab.default.fire({title:"ITEM ELIMINADO",icon:"success",showConfirmButton:!1,timer:1e3}))})}onCancelNuevoRegistro(){this.modoNuevoRegistro=!1}onCancel(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),s[3].setValue(""),s[4].setValue(""),s[5].setValue(""),console.log("valueFormDetalles: ",s[0].value),console.log("valueFormEstado: ",s[1].value),console.log("valueFormInstitucion: ",s[2].value),console.log("valueFormPeriodo: ",s[3].value),console.log("valueFormTitulo: ",s[4].value),console.log("valueFormImagen: ",s[5].value),this.modoEdicion=!1}};e.\u0275fac=function(r){return new(r||e)(V(Ln))},e.\u0275cmp=Te({type:e,selectors:[["app-experiencia"]],inputs:{isLogged:"isLogged"},decls:9,vars:4,consts:[["id","experienciaFirstCard"],[1,"cHeader"],[1,"cTitle","column","justify-content-start"],[4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["class","d-flex",4,"ngIf"],["click","selectItem(miP);",4,"ngFor","ngForOf"],[1,"cAdd"],[1,"btn-agregar",3,"click"],["src","../../../assets/media/logoAdd.png","alt","Agregar experiencia...",1,"logos","mt-1","bg-blue","rounded-circle"],[1,"d-flex","justify-content-center"],[1,"mb-4",3,"formGroup"],[1,"text-center","border","mt-5","p-3","shadow","rounded"],[1,"text-center","m-3"],["src","./../../../assets/media/logoEdu.png","alt","",1,"logos"],[1,""],[1,"text-start"],["for","ubicacion",1,"form-label","fw-bold"],["type","text","id","ubicacion","placeholder","Ubicaci\xF3n","formControlName","ubicacion","required","","autofocus","",1,"p-2","mb-2","border","rounded","border","shadow"],["for","puesto",1,"form-label"],["type","text","id","puesto","placeholder","puesto","formControlName","puesto","required",""],["for","periodo",1,"form-label"],["type","text","id","periodo","placeholder","periodo","formControlName","periodo","required",""],["for","empresa",1,"form-label"],["type","text","id","empresa","placeholder","empresa","formControlName","empresa","required",""],["for","actividades",1,"form-label"],["type","text","id","actividades","placeholder","actividades","formControlName","actividades","required",""],["for","imagen",1,"form-label"],["type","text","id","imagen","placeholder","imagen","formControlName","imagen"],[1,"d-flex","justify-content-end"],[1,"p-1"],[1,"btn","p-0","m-1",3,"click"],["src","./../../../assets/media/logoCancel.png","alt","Editar",1,"logos"],["src","./../../../assets/media/logoSave.png","alt","Editar",1,"logos"],[1,"d-flex"],[3,"formGroup"],["for","experiencia",1,"form-label"],["type","text","id","experiencia","placeholder","Experiencia","formControlName","experiencia","required","","autofocus",""],["click","selectItem(miP);"],[1,"cCard","row","box1"],[1,"d-flex","justify-content-end","border"],["data-bs-toggle","tooltip","title",`
							Editar experiencia...`,1,"btn","p-0","m-1"],["src","../../../assets/media/logoPencil.png",1,"logos"],["data-bs-toggle","tooltip","title",`
							Eliminar experiencia...`,1,"btn","p-0","m-1"],["src","../../../assets/media/logoDelete.png",1,"logos"],[1,"column",2,"width","25%","margin-bottom","10px"],["alt","","id","imgExperiencia",3,"src"],[1,"column",2,"width","75%"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),x(4,"Experiencia"),v()(),Ne(5,g8,6,0,"div",3),v(),Ne(6,v8,38,2,"div",4)(7,w8,38,2,"div",5)(8,b8,34,7,"div",6),v()),r&2&&(W(5),ie("ngIf",o.modoNuevoRegistro===!1),W(),ie("ngIf",o.modoNuevoRegistro===!0),W(),ie("ngIf",o.modoEdicion===!0),W(),ie("ngForOf",o.miPortfolio))},dependencies:[Kr,Yr,uo,co,wc,lo,zu,vs,_s],styles:[".row[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;display:flex;flex-wrap:wrap;margin-top:calc(-1 * var(--bs-gutter-y));margin-right:calc(-.5 * var(--bs-gutter-x));margin-left:calc(1 * var(--bs-gutter-x))}"]});let t=e;return t})();var cb=lh(bu());function I8(t,e){if(t&1&&(b(0,"li",9)(1,"div",10)(2,"div")(3,"div",11)(4,"button",12)(5,"span"),F(6,"img",13),v()()(),b(7,"div",14)(8,"button",15)(9,"span"),F(10,"img",16),v()()()(),b(11,"div")(12,"div",17),F(13,"img",18),v(),b(14,"div",19)(15,"p")(16,"b"),x(17,"Titulo:"),v(),x(18),v(),b(19,"p")(20,"b"),x(21,"Descripcion:"),v(),x(22),v()()()()()),t&2){let n=e.$implicit,i=e.index;Nt("data-index",i),W(13),ie("src",n.imagen,Jn),W(5),Jt(" ",n.titulo,""),W(4),Ut(n.descripcion)}}function D8(t,e){t&1&&(b(0,"div",20)(1,"h1",21),x(2,"A\xF1adir Proyecto"),v(),b(3,"form",22)(4,"label",23),x(5,"Titulo: "),v(),F(6,"input",24),b(7,"label",25),x(8,"Descripci\xF3n: "),v(),F(9,"input",26),b(10,"label",27),x(11,"URL de imag\xE9n: "),v(),F(12,"input",28),b(13,"button",29),x(14,"Submit"),v()()())}var _P=(()=>{let e=class e{constructor(i){this.datosPortfolio=i,this.modoEdicion=!1,this.modoNuevoRegistro=!1,this.form=new Vn({titulo:new pt(["",[be.required,be.maxLength(2)]]),descripcion:new pt(["",[be.required,be.maxLength(2)]]),imagen:new pt(["",[be.required,be.maxLength(2)]])})}ngOnInit(){console.log("PROYECTOS"),this.datosPortfolio.obtenerDatosProyectos().subscribe(i=>{console.log("Datos Personales: "+JSON.stringify(i)),this.miPortfolio=i,console.log(i)})}selectItem(i){console.log(i)}onCrear(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),console.log("valueFormTitulo: ",s[0].value),console.log("valueFormDescripcion: ",s[1].value),console.log("valueFormImagen: ",s[2].value),this.modoNuevoRegistro=!0}onEdit(i,r,o){this.editID=i,this.i=r,console.log("i",r),console.log("editID",this.editID),console.log("this.form.value: ",this.form.value),console.log("id: ",i),this.form.setValue({titulo:this.miPortfolio[r].titulo,descripcion:this.miPortfolio[r].descripcion,imagen:this.miPortfolio[r].imagen}),console.log("this.form.value: ",this.form.value),this.modoEdicion=!0}onSaveEdit(i){i.preventDefault,this.datosPortfolio.putEducacion(this.form.value,this.editID).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("id: ",this.editID),console.log("PROYECTO method PUT Data Editada",r),this.datosPortfolio.obtenerOneDatosEducacion(this.editID).subscribe(o=>{console.log("Dato: "+JSON.stringify(o)),this.miPortfolio[this.i]=o,console.log("miPortfolio[i : ",this.miPortfolio[this.i])})}),this.modoEdicion=!1}onSaveNewNuevoRegistro(i){i.preventDefault,this.datosPortfolio.postProyecto(this.form.value).subscribe(r=>{console.log("this.form.value: ",this.form.value),console.log("AcercaDe method post Data",r),this.datosPortfolio.obtenerDatosProyectos().subscribe(o=>{this.miPortfolio=o})}),this.modoNuevoRegistro=!1}onDelete(i,r){console.log("ondelete",i),this.i=i,this.modoEdicion=!1,r.preventDefault,cb.default.fire({title:`\xBFELIMINAR PROYECTO ${this.miPortfolio[i].titulo.toUpperCase()}?`,text:"No podr\xE1 revertir los cambios.",icon:"warning",confirmButtonColor:"#d33",confirmButtonText:"Si, Eliminar.",showCancelButton:!0,cancelButtonText:"Cancelar",cancelButtonColor:"#00b5ff"}).then(o=>{o.isConfirmed&&(this.datosPortfolio.deleteProyecto(this.miPortfolio[i].id).subscribe(s=>{console.log("Borrando registro",s),this.datosPortfolio.obtenerDatosProyectos().subscribe(a=>{this.miPortfolio=a})}),cb.default.fire({title:"ITEM ELIMINADO",icon:"success",showConfirmButton:!1,timer:1e3}))})}onCancelNuevoRegistro(){this.modoNuevoRegistro=!1}onCancel(i){let r=this.form.controls,o=Object.keys(r);console.log("keysForm: ",o);let s=Object.values(r);console.log("valuesForm: ",s),s[0].setValue(""),s[1].setValue(""),s[2].setValue(""),console.log("valueFormTitulo: ",s[0].value),console.log("valueFormDescripcion: ",s[1].value),console.log("valueFormImagen: ",s[2].value),this.modoEdicion=!1}};e.\u0275fac=function(r){return new(r||e)(V(Ln))},e.\u0275cmp=Te({type:e,selectors:[["app-proyectos"]],inputs:{isLogged:"isLogged"},decls:14,vars:2,consts:[["id","proyectosFirstCard"],[1,"cHeader"],[1,"cTitle","column","justify-content-start"],[1,"cAdd"],["onclick","addProyecto()",1,"btn-agregar"],["src","../../../assets/media/logoAdd.png","alt","Agregar Proyecto...",1,"logos","mt-1","bg-blue","rounded-circle"],["onclick","selectItem(miP);",4,"ngFor","ngForOf"],["id","addProyecto"],["class","d-flex",4,"ngIf[modoNuevoRegistro]"],["onclick","selectItem(miP);"],[1,"cCard","row","box1"],[1,"p-1","border",2,"margin","3px"],["data-bs-toggle","tooltip","title",`
						Editar proyecto...`,"onclick","editarProyecto()",1,"btn","p-0","m-1"],["src","../../../assets/media/logoPencil.png",1,"logos"],[1,"p-1","border"],["data-bs-toggle","tooltip","title",`
						Eliminar proyecto...`,"onclick","deleteProyecto()",1,"btn","p-0","m-1"],["src","../../../assets/media/logoDelete.png",1,"logos"],[1,"column",2,"width","25%","margin-bottom","10px","margin-left","10px"],["alt","","id","imgProyecto",3,"src"],[1,"column",2,"width","65%","margin-left","10px"],[1,"d-flex"],[1,"centertext"],["action",""],["for","titulo"],["type","text","name","titulo","id","titulo","placeholder","Titulo"],["for","descripcion"],["type","text","name","descripcion","id","descripcion"],["for","imagen"],["type","text","name","imagen","id","imagen","autocomplete","src\\assets\\media\\empty.jpg"],["type","submit"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),x(4,"Proyectos"),v()(),b(5,"div",3)(6,"button",4)(7,"span"),F(8,"img",5),x(9,"AGREGAR PROYECTO"),v()()()(),b(10,"ul"),Ne(11,I8,23,4,"li",6),v()(),b(12,"section",7),Ne(13,D8,15,0,"div",8),v()),r&2&&(W(11),ie("ngForOf",o.miPortfolio),W(2),ie("ngIf[modoNuevoRegistro]",o.True))},dependencies:[Kr,uo,lo,ob]});let t=e;return t})();function T8(t,e){if(t&1&&(b(0,"li",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11)(5,"span"),F(6,"img",12),v()()(),b(7,"div",10)(8,"button",13)(9,"span"),F(10,"img",14),v()()()(),b(11,"div",15),F(12,"img",16),v(),b(13,"div",17)(14,"p")(15,"b"),x(16,"Descripcion:"),v(),x(17),v()()()()),t&2){let n=e.$implicit;W(12),ie("src",n.imagen,Jn),W(5),Jt(" ",n.descripcion,"")}}var wP=(()=>{let e=class e{constructor(i){this.portfolioService=i}ngOnInit(){this.portfolioService.obtenerDatos().subscribe(i=>{console.log(i),this.miPortfolio=i.skills,console.log(this.miPortfolio)})}selectItem(i){this.portfolioService.obtenerOneDatosSkill(i).subscribe(r=>{console.log(i)})}};e.\u0275fac=function(r){return new(r||e)(V(Ln))},e.\u0275cmp=Te({type:e,selectors:[["app-skills"]],decls:12,vars:1,consts:[["id","skillsFirstCard"],[1,"cHeader"],[1,"cTitle","column","justify-content-start"],[1,"cAdd"],[1,"btn-agregar"],["src","https://drive.google.com/uc?export=download&id=1fjYoxt7euY7eeMicSfKYoLxuppo6kGiO","alt","Agregar skills...",1,"logos","mt-1","bg-blue","rounded-circle"],["onclick","selectItem(miP);",4,"ngFor","ngForOf"],["onclick","selectItem(miP);"],[1,"cCard","row","box1"],[1,"d-flex","justify-content-end","border"],[1,"p-1"],["data-bs-toggle","tooltip","title",`
						Editar skills...`,1,"btn","p-0","m-1"],["src","../../../assets/media/logoPencil.png",1,"logos"],["data-bs-toggle","tooltip","title",`
						Eliminar skills...`,1,"btn","p-0","m-1"],["src","../../../assets/media/logoDelete.png",1,"logos"],[1,"column",2,"width","25%","margin-bottom","10px"],["alt","","id","imgSkill",3,"src"],[1,"column","align-self-center",2,"width","75%"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),x(4,"Skills"),v()(),b(5,"div",3)(6,"button",4)(7,"span"),F(8,"img",5),x(9,"AGREGAR SKILLS"),v()()()(),b(10,"ul"),Ne(11,T8,18,2,"li",6),v()()),r&2&&(W(11),ie("ngForOf",o.miPortfolio))},dependencies:[Kr]});let t=e;return t})();var bP=(()=>{let e=class e{constructor(i){this.portfolioService=i}ngOnInit(){console.log("[CHE-BANNER]"),this.portfolioService.obtenerDatosPersona().subscribe(i=>{console.log("banner: ",i),this.miPortfolio=i,console.log("Nombres: "+this.miPortfolio.Nombresq),console.log(this.miPortfolio)})}};e.\u0275fac=function(r){return new(r||e)(V(Ln))},e.\u0275cmp=Te({type:e,selectors:[["app-banner"]],decls:45,vars:4,consts:[["id","first-card"],["id","profile-background",1,"img"],["src","./../../../assets/media/bg-ap.jpg","alt","","id","profile-image"],["id","info",2,"padding","16px"],["id","info-img"],["src","./../../../assets/media/chedata1foto.png","alt","",1,"profile-image"],[1,"btn-edit"],["href","#",1,"btn-right"],[1,"fa","fa-pen"],["id","info-data"],["id","info-company"],["id","info-contact"],["href","#"],["id","info-details"],[1,"d-flex","container","bg-black"],["alt","",1,"img-info",3,"src"],["src","../../../assets/media/chemindhub.png","alt","","width","3vw","height","3vw"],["id","info-actions"],["type","button",1,"btn","btn-primary"],["type","button",1,"btn","btn-light"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1),F(2,"img",2),v(),b(3,"div",3)(4,"div",4),F(5,"img",5),b(6,"div",6)(7,"a",7),F(8,"i",8),v()()(),b(9,"div",9)(10,"div")(11,"h1"),x(12),v(),b(13,"div",10)(14,"p"),x(15),v()(),b(16,"div",11)(17,"span"),x(18,"Buenos Aires (Argentina) "),v(),F(19,"br"),b(20,"span")(21,"a",12),x(22,"Informaci\xF3n de contacto"),v()()()(),b(23,"div")(24,"ul",13)(25,"li")(26,"a",12)(27,"div",14),F(28,"img",15),v(),b(29,"p")(30,"b"),x(31,"I.N.T.I."),v()()()(),b(32,"li")(33,"a",12)(34,"div",14),F(35,"img",16),v(),b(36,"h2"),x(37,"Argentina Programa - MINDHUB"),v()()()()()(),b(38,"div",17)(39,"button",18),x(40,"Tengo inter\xE9s en"),v(),b(41,"button",19),x(42,"A\xF1adir secci\xF3n"),v(),b(43,"button",19),x(44,"M\xE1s"),v()()()()),r&2&&(W(12),P_("",o.miPortfolio.nombres," ",o.miPortfolio.apellido,""),W(3),Ut(o.miPortfolio.ocupacion),W(13),ie("src",o.miPortfolio.institutionImage,Jn))},styles:[".mat-card[_ngcontent-%COMP%]{border-radius:32px;border:3px solid blue}.mat-card#first-card[_ngcontent-%COMP%]{padding:0}div#profile-background[_ngcontent-%COMP%]{display:flex}div#profile-background[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:32px}div#info-actions[_ngcontent-%COMP%]{display:flex}div#info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}div#info-img[_ngcontent-%COMP%]{width:30%}div#info-data[_ngcontent-%COMP%]{display:flex}div#info-company[_ngcontent-%COMP%]{font-size:medium}div#info-contact[_ngcontent-%COMP%]{font-size:large}.profile-image[_ngcontent-%COMP%]{background-color:#000;border-radius:50%;width:152px;height:152px;margin-top:-110px;z-index:3}.btn-edit[_ngcontent-%COMP%], .btn-right[_ngcontent-%COMP%]{width:32px}@media (max-width: 320px){div#info-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{bottom:auto}.profile-image[_ngcontent-%COMP%]{border-radius:50%;width:52px;height:52px;margin-top:-110px;z-index:3}.img-info[_ngcontent-%COMP%]{width:35%;height:35%}}@media (max-width: 768px){.profile-image[_ngcontent-%COMP%]{border-radius:50%;width:52px;height:52px;margin-top:-110px;z-index:3}.img-info[_ngcontent-%COMP%]{width:35%;height:35%}}"]});let t=e;return t})();var EP=(()=>{let e=class e{ngOnInit(){console.log("[Portfolio-l11]")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Te({type:e,selectors:[["app-portfolio"]],decls:8,vars:0,template:function(r,o){r&1&&F(0,"app-navbar")(1,"app-banner")(2,"app-acercade")(3,"app-educacion")(4,"app-experiencia")(5,"app-skills")(6,"app-proyectos")(7,"app-footer")},dependencies:[cc,Yp,j1,yP,vP,_P,wP,bP]});let t=e;return t})();var IP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Te({type:e,selectors:[["app-page-not-found"]],decls:4,vars:0,template:function(r,o){r&1&&(b(0,"h1"),x(1,"Error 404"),v(),b(2,"p"),x(3,"page-not-found works!"),v())}});let t=e;return t})();function x8(t,e){t&1&&(b(0,"p",15),x(1," The name of user is required... "),v())}function R8(t,e){t&1&&(b(0,"p",15),x(1," The format of the name be valid. "),v())}function M8(t,e){if(t&1&&(b(0,"div"),Ne(1,x8,2,0,"p",14)(2,R8,2,0,"p",14),v()),t&2){let n=Qe();W(),ie("ngIf",n.username==null?null:n.username.hasError("required")),W(),ie("ngIf",n.username==null?null:n.username.hasError("nombreUsuario"))}}function P8(t,e){t&1&&F(0,"p",15)}function k8(t,e){t&1&&(b(0,"p",15),x(1," The password must long 8 characters minimal. "),v())}function N8(t,e){if(t&1&&(b(0,"div"),Ne(1,P8,1,0,"p",14),x(2," The password is required. "),Ne(3,k8,2,0,"p",14),v()),t&2){let n=Qe();W(),ie("ngIf",n.password==null?null:n.password.hasError("required")),W(2),ie("ngIf",n.password==null||n.password.errors==null?null:n.password.errors.minlength)}}function O8(t,e){t&1&&(b(0,"p"),x(1,"Enviando datos..."),v())}function F8(t,e){if(t&1&&(b(0,"p"),x(1),v()),t&2){let n=Qe(2);W(),Ut(n.respta.msj)}}function L8(t,e){if(t&1&&(b(0,"div",16),Ne(1,O8,2,0,"p",7)(2,F8,2,1,"p",7),v()),t&2){let n=Qe();ie("ngClass",n.respta.salioBien?"alert alert-success":"alert alert-danger"),W(),ie("ngIf",n.respta.msj==""),W(),ie("ngIf",n.respta.msj!="")}}var DP=(t,e)=>({"is-invalid":t,"is-valid":e}),CP=(()=>{let e=class e{constructor(i,r,o){this.formBuilder=i,this.autenticacionService=r,this.ruta=o,this.respta={salioBien:!1,msj:""},this.mostrarMsj=!1,this.loginForm=this.formBuilder.group({username:["",[be.required,be.minLength(2)]],password:["",[be.required,be.minLength(8)]]})}ngOnInit(){console.log("[ln29] Login")}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}ingresar(){this.loginForm.valid&&(this.loginForm.value.username==="sole"&&this.loginForm.value.password==="12345678"?(this.mostrarMsj=!0,this.autenticacionService.iniciarSesion(),this.respta.salioBien=!0,this.respta.msj="\xA1Buena! Ya iniciaste sesi\xF3n!",this.ruta.navigate(["/portfolio"])):this.loginForm.value.username===""||this.loginForm.value.password===""?(this.mostrarMsj=!0,this.respta.msj="Se necesita usuario y contrase\xF1a para ingresar"):(this.mostrarMsj=!0,this.respta.msj="Mmm... Usuario o contrase\xF1a inv\xE1lidos"))}loginWithGoogle(){}};e.\u0275fac=function(r){return new(r||e)(V(fP),V(Lp),V(On))},e.\u0275cmp=Te({type:e,selectors:[["app-login"]],decls:23,vars:12,consts:[[1,"container-fluid","imagen-fondo","d-flex","justify-content-center","border","loginBorder"],[1,"row","justify-content-center","col-10",2,"height","30vw","border","2px solid gray"],["name","loginForm","id","loginForm",1,"shadow","col-sm-6","p-4","m-auto",3,"formGroup","ngSubmit"],[1,"text-center","text-info","shadow","border","cc"],[1,"mb-3","mt-3"],["for","exampleInputnombreUsuario1",1,"form-label"],["type","text","formControlName","nombreUsuario","id","exampleInputnombreUsuario1","aria-describedby","nombreUsuarioHelp","placeholder","Enter the name of user...","tooltip","Enter the name of current user...",1,"form-control",3,"ngClass"],[4,"ngIf"],[1,"mb-5"],["for","exampleInputPassword1",1,"form-label"],["type","password","formControlName","password","tooltip","Enter your password...","id","exampleInputPassword1","placeholder","Enter your password...",1,"form-control",3,"ngClass"],["role","alert",3,"ngClass",4,"ngIf"],["onclick","loginWithGoogle();",1,"btn","btn-blue"],["type","submit","routerLink","/portfolio",1,"btn","btn-skyblue","btn-sm","w-50","fw-bold","border"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["role","alert",3,"ngClass"]],template:function(r,o){r&1&&(F(0,"app-navbar"),b(1,"div",0)(2,"div",1)(3,"form",2),He("ngSubmit",function(){return o.ingresar()}),b(4,"h2",3)(5,"i"),x(6,"MY PORTFOLIO"),v()(),b(7,"div",4)(8,"label",5),x(9," User Name: "),v(),F(10,"input",6),Ne(11,M8,3,2,"div",7),v(),b(12,"div",8)(13,"label",9),x(14," Password: "),v(),F(15,"input",10),Ne(16,N8,4,2,"div",7),v(),Ne(17,L8,3,3,"div",11),b(18,"button",12),x(19,"Login with Google Acount"),v(),b(20,"button",13),x(21,"INIT SESSION"),v()()()(),F(22,"app-footer")),r&2&&(W(3),ie("formGroup",o.loginForm),W(7),ie("ngClass",k_(6,DP,(o.username==null?null:o.username.errors)&&(o.username==null?null:o.username.touched),!(o.username!=null&&o.username.errors)&&(o.username==null?null:o.username.touched))),W(),ie("ngIf",(o.username==null?null:o.username.errors)&&(o.username==null?null:o.username.touched)),W(4),ie("ngClass",k_(9,DP,(o.password==null?null:o.password.errors)&&(o.password==null?null:o.password.touched),!(o.password!=null&&o.password.errors)&&(o.password==null?null:o.password.touched))),W(),ie("ngIf",(o.password==null?null:o.password.errors)&&(o.password==null?null:o.password.touched)),W(),ie("ngIf",o.mostrarMsj))},dependencies:[Nx,Yr,Ip,uo,co,wc,lo,vs,_s,cc,Yp],styles:[".loginBorder[_ngcontent-%COMP%]{background-color:#f0f8ff;border:2px solid rgb(160,15,15);border-radius:5px;top:5px;padding-top:5px}.cc[_ngcontent-%COMP%]{text-align:center}"]});let t=e;return t})();var V8=[{path:"login",component:CP},{path:"portfolio",component:EP},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",component:IP},{path:"navbar",component:cc}],TP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=se({imports:[wu.forRoot(V8),wu]});let t=e;return t})();var lb=new O("angularfire2.auth.use-emulator"),ub=new O("angularfire2.auth.settings"),db=new O("angularfire2.auth.tenant-id"),hb=new O("angularfire2.auth.langugage-code"),fb=new O("angularfire2.auth.use-device-language"),pb=new O("angularfire.auth.persistence"),mb=(t,e,n,i,r,o,s,a)=>Ja(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(let[l,u]of Object.entries(s))c.settings[l]=u;return a&&c.setPersistence(a),c},[n,i,r,o,s,a]),gb=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,c,l,u,f,m,g){let w=new ue,I=G(void 0).pipe(yn(s.outsideAngular),Ue(()=>o.runOutsideAngular(()=>import("./chunk-LGMS2ISB.js"))),Y(()=>ls(n,o,i)),Y(E=>mb(E,o,a,l,u,f,c,m)),Il({bufferSize:1,refCount:!1}));if(is(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=G(null);else{I.pipe(An()).subscribe();let E=I.pipe(Ue(M=>M.getRedirectResult().then(R=>R,()=>null)),Ot,Il({bufferSize:1,refCount:!1})),A=I.pipe(Ue(M=>new ne(R=>({unsubscribe:o.runOutsideAngular(()=>M.onAuthStateChanged(q=>R.next(q),q=>R.error(q),()=>R.complete()))})))),B=I.pipe(Ue(M=>new ne(R=>({unsubscribe:o.runOutsideAngular(()=>M.onIdTokenChanged(q=>R.next(q),q=>R.error(q),()=>R.complete()))}))));this.authState=E.pipe($h(A),Kn(s.outsideAngular),yn(s.insideAngular)),this.user=E.pipe($h(B),Kn(s.outsideAngular),yn(s.insideAngular)),this.idToken=this.user.pipe(Ue(M=>M?me(M.getIdToken()):G(null))),this.idTokenResult=this.user.pipe(Ue(M=>M?me(M.getIdTokenResult()):G(null))),this.credential=Uo(E,w,this.authState.pipe(Me(M=>!M))).pipe(Y(M=>M?.user?M:null),Kn(s.outsideAngular),yn(s.insideAngular))}return lM(this,I,o,{spy:{apply:(E,A,B)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&B.then(M=>w.next(M))}}})}static \u0275fac=function(i){return new(i||t)(_(no),_(io,8),_(ft),_(Z),_(Xa),_(lb,8),_(ub,8),_(db,8),_(hb,8),_(fb,8),_(pb,8),_(fr,8))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),AP=(()=>{class t{constructor(){wt.registerVersion("angularfire",pr.full,"auth-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=oe({type:t});static \u0275inj=se({providers:[gb]})}return t})();var B8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},si={},H,Vb=Vb||{},ce=B8||self;function bm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function U8(t){return Object.prototype.hasOwnProperty.call(t,yb)&&t[yb]||(t[yb]=++$8)}var yb="closure_uid_"+(1e9*Math.random()>>>0),$8=0;function H8(t,e,n){return t.call.apply(t.bind,arguments)}function z8(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=H8:Ht=z8,Ht.apply(null,arguments)}function cm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function ho(){this.s=this.s,this.o=this.o}var q8=0;ho.prototype.s=!1;ho.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),q8!=0)&&U8(this)};ho.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var BP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function jb(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function SP(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(bm(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let s=0;s<o;s++)t[r+s]=i[s]}else t.push(i)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var G8=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function Qu(t){return/^[\s\xa0]*$/.test(t)}function Em(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function ji(t){return Em().indexOf(t)!=-1}function Bb(t){return Bb[" "](t),t}Bb[" "]=function(){};function W8(t,e){var n=OW;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var K8=ji("Opera"),Dc=ji("Trident")||ji("MSIE"),UP=ji("Edge"),Eb=UP||Dc,$P=ji("Gecko")&&!(Em().toLowerCase().indexOf("webkit")!=-1&&!ji("Edge"))&&!(ji("Trident")||ji("MSIE"))&&!ji("Edge"),Y8=Em().toLowerCase().indexOf("webkit")!=-1&&!ji("Edge");function HP(){var t=ce.document;return t?t.documentMode:void 0}var Ib;e:{if(lm="",um=function(){var t=Em();if($P)return/rv:([^\);]+)(\)|;)/.exec(t);if(UP)return/Edge\/([\d\.]+)/.exec(t);if(Dc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Y8)return/WebKit\/(\S+)/.exec(t);if(K8)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),um&&(lm=um?um[1]:""),Dc&&(dm=HP(),dm!=null&&dm>parseFloat(lm))){Ib=String(dm);break e}Ib=lm}var lm,um,dm,Db;ce.document&&Dc?(vb=HP(),Db=vb||parseInt(Ib,10)||void 0):Db=void 0;var vb,Q8=Db;function Zu(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($P){e:{try{Bb(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Z8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Zu.$.h.call(this)}}xt(Zu,zt);var Z8={2:"touch",3:"pen",4:"mouse"};Zu.prototype.h=function(){Zu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var od="closure_listenable_"+(1e6*Math.random()|0),X8=0;function J8(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++X8,this.fa=this.ia=!1}function Im(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ub(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function eW(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function zP(t){let e={};for(let n in t)e[n]=t[n];return e}var xP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qP(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<xP.length;o++)n=xP[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Dm(t){this.src=t,this.g={},this.h=0}Dm.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Tb(t,e,i,r);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new J8(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function Cb(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=BP(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Im(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Tb(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var $b="closure_lm_"+(1e6*Math.random()|0),_b={};function GP(t,e,n,i,r){if(i&&i.once)return KP(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)GP(t,e[o],n,i,r);return null}return n=qb(n),t&&t[od]?t.O(e,n,rd(i)?!!i.capture:!!i,r):WP(t,e,n,!1,i,r)}function WP(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=rd(r)?!!r.capture:!!r,a=zb(t);if(a||(t[$b]=a=new Dm(t)),n=a.add(e,n,i,s,o),n.proxy)return n;if(i=tW(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)G8||(r=s),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(QP(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function tW(){function t(n){return e.call(t.src,t.listener,n)}let e=nW;return t}function KP(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)KP(t,e[o],n,i,r);return null}return n=qb(n),t&&t[od]?t.P(e,n,rd(i)?!!i.capture:!!i,r):WP(t,e,n,!0,i,r)}function YP(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)YP(t,e[o],n,i,r);else i=rd(i)?!!i.capture:!!i,n=qb(n),t&&t[od]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Tb(o,n,i,r),-1<n&&(Im(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=zb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Tb(e,n,i,r)),(n=-1<t?e[t]:null)&&Hb(n))}function Hb(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[od])Cb(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(QP(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=zb(e))?(Cb(n,t),n.h==0&&(n.src=null,e[$b]=null)):Im(t)}}}function QP(t){return t in _b?_b[t]:_b[t]="on"+t}function nW(t,e){if(t.fa)t=!0;else{e=new Zu(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Hb(t),t=n.call(i,e)}return t}function zb(t){return t=t[$b],t instanceof Dm?t:null}var wb="__closure_events_fn_"+(1e9*Math.random()>>>0);function qb(t){return typeof t=="function"?t:(t[wb]||(t[wb]=function(e){return t.handleEvent(e)}),t[wb])}function St(){ho.call(this),this.i=new Dm(this),this.S=this,this.J=null}xt(St,ho);St.prototype[od]=!0;St.prototype.removeEventListener=function(t,e,n,i){YP(this,t,e,n,i)};function Vt(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var r=e;e=new zt(i,t),qP(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=hm(s,i,!0,e)&&r}if(s=e.g=t,r=hm(s,i,!0,e)&&r,r=hm(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)s=e.g=n[o],r=hm(s,i,!1,e)&&r}St.prototype.N=function(){if(St.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Im(n[i]);delete t.g[e],t.h--}}this.J=null};St.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};St.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function hm(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Cb(t.i,s),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var Gb=ce.JSON.stringify,Ab=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function iW(){var t=Wb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Sb=class{constructor(){this.h=this.g=null}add(e,n){let i=ZP.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},ZP=new Ab(()=>new xb,t=>t.reset()),xb=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function rW(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function oW(t){ce.setTimeout(()=>{throw t},0)}var Xu,Ju=!1,Wb=new Sb,XP=()=>{let t=ce.Promise.resolve(void 0);Xu=()=>{t.then(sW)}},sW=()=>{for(var t;t=iW();){try{t.h.call(t.g)}catch(n){oW(n)}var e=ZP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ju=!1};function Cm(t,e){St.call(this),this.h=t||1,this.g=e||ce,this.j=Ht(this.qb,this),this.l=Date.now()}xt(Cm,St);H=Cm.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vt(this,"tick"),this.ga&&(Kb(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Kb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Cm.$.N.call(this),Kb(this),delete this.g};function Yb(t,e,n){if(typeof t=="function")n&&(t=Ht(t,n));else if(t&&typeof t.handleEvent=="function")t=Ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function JP(t){t.g=Yb(()=>{t.g=null,t.i&&(t.i=!1,JP(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Rb=class extends ho{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JP(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ed(t){ho.call(this),this.h=t,this.g={}}xt(ed,ho);var RP=[];function ek(t,e,n,i){Array.isArray(n)||(n&&(RP[0]=n.toString()),n=RP);for(var r=0;r<n.length;r++){var o=GP(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function tk(t){Ub(t.g,function(e,n){this.g.hasOwnProperty(n)&&Hb(e)},t),t.g={}}ed.prototype.N=function(){ed.$.N.call(this),tk(this)};ed.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tm(){this.g=!0}Tm.prototype.Ea=function(){this.g=!1};function aW(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");s=2<=f.length&&f[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+s})}function cW(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+s})}function Ec(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+uW(t,n)+(i?" "+i:"")})}function lW(t,e){t.info(function(){return"TIMEOUT: "+e})}Tm.prototype.info=function(){};function uW(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return Gb(n)}catch{return e}}var Is={},MP=null;function Am(){return MP=MP||new St}Is.Ta="serverreachability";function nk(t){zt.call(this,Is.Ta,t)}xt(nk,zt);function td(t){let e=Am();Vt(e,new nk(e))}Is.STAT_EVENT="statevent";function ik(t,e){zt.call(this,Is.STAT_EVENT,t),this.stat=e}xt(ik,zt);function tn(t){let e=Am();Vt(e,new ik(e,t))}Is.Ua="timingevent";function rk(t,e){zt.call(this,Is.Ua,t),this.size=e}xt(rk,zt);function sd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Sm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ok={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qb(){}Qb.prototype.h=null;function PP(t){return t.h||(t.h=t.i())}function sk(){}var ad={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zb(){zt.call(this,"d")}xt(Zb,zt);function Xb(){zt.call(this,"c")}xt(Xb,zt);var Mb;function xm(){}xt(xm,Qb);xm.prototype.g=function(){return new XMLHttpRequest};xm.prototype.i=function(){return{}};Mb=new xm;function cd(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new ed(this),this.P=dW,t=Eb?125:void 0,this.V=new Cm(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ak}function ak(){this.i=null,this.g="",this.h=!1}var dW=45e3,ck={},Pb={};H=cd.prototype;H.setTimeout=function(t){this.P=t};function kb(t,e,n){t.L=1,t.A=Mm(vr(e)),t.u=n,t.S=!0,lk(t,null)}function lk(t,e){t.G=Date.now(),ld(t),t.B=vr(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),yk(n.i,"t",i),t.o=0,n=t.l.J,t.h=new ak,t.g=Vk(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Rb(Ht(t.Pa,t,t.g),t.O)),ek(t.U,t.g,"readystatechange",t.nb),e=t.I?zP(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),td(),aW(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;let e=this.M;e&&Bi(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{let u=Bi(this.g);var e=this.g.Ia();let f=this.g.da();if(!(3>u)&&(u!=3||Eb||this.g&&(this.h.h||this.g.ja()||FP(this.g)))){this.J||u!=4||e==7||(e==8||0>=f?td(3):td(2)),Rm(this);var n=this.g.da();this.ca=n;t:if(uk(this)){var i=FP(this.g);t="";var r=i.length,o=Bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ws(this),Yu(this);var s="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,cW(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qu(a)){var l=a;break t}}l=null}if(n=l)Ec(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nb(this,n);else{this.i=!1,this.s=3,tn(12),ws(this),Yu(this);break e}}this.S?(dk(this,u,s),Eb&&this.i&&u==3&&(ek(this.U,this.V,"tick",this.mb),this.V.start())):(Ec(this.j,this.m,s,null),Nb(this,s)),u==4&&ws(this),this.i&&!this.J&&(u==4?Nk(this.l,this):(this.i=!1,ld(this)))}else PW(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),ws(this),Yu(this)}}}catch{}finally{}};function uk(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function dk(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=hW(t,n),r==Pb){e==4&&(t.s=4,tn(14),i=!1),Ec(t.j,t.m,null,"[Incomplete Response]");break}else if(r==ck){t.s=4,tn(15),Ec(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Ec(t.j,t.m,r,null),Nb(t,r);uk(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,tn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),rE(e),e.M=!0,tn(11))):(Ec(t.j,t.m,n,"[Invalid Chunked Response]"),ws(t),Yu(t))}H.mb=function(){if(this.g){var t=Bi(this.g),e=this.g.ja();this.o<e.length&&(Rm(this),dk(this,t,e),this.i&&t!=4&&ld(this))}};function hW(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?Pb:(n=Number(e.substring(n,i)),isNaN(n)?ck:(i+=1,i+n>e.length?Pb:(e=e.slice(i,i+n),t.o=i+n,e)))}H.cancel=function(){this.J=!0,ws(this)};function ld(t){t.Y=Date.now()+t.P,hk(t,t.P)}function hk(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=sd(Ht(t.lb,t),e)}function Rm(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(lW(this.j,this.B),this.L!=2&&(td(),tn(17)),ws(this),this.s=2,Yu(this)):hk(this,this.Y-t)};function Yu(t){t.l.H==0||t.J||Nk(t.l,t)}function ws(t){Rm(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Kb(t.V),tk(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Nb(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ob(n.i,t))){if(!t.K&&Ob(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ym(n),Nm(n);else break e;iE(n),tn(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=sd(Ht(n.ib,n),6e3));if(1>=wk(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else bs(n,11)}else if((t.K||n.g==t)&&ym(n),!Qu(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));let m=l[5];m!=null&&typeof m=="number"&&0<m&&(i=1.5*m,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let g=t.g;if(g){let w=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=i.i;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Jb(o,o.h),o.h=null))}if(i.F){let I=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(i.Da=I,Ke(i.I,i.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var s=t;if(i.wa=Lk(i,i.J?i.pa:null,i.Y),s.K){bk(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.C&&(Rm(a),ld(a)),i.g=s}else Pk(i);0<n.j.length&&Om(n)}else l[0]!="stop"&&l[0]!="close"||bs(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?bs(n,7):nE(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}td(4)}catch{}}function fW(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(bm(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function pW(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(bm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function fk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(bm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=pW(t),i=fW(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var pk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mW(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Es(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Es){this.h=t.h,mm(this,t.j),this.s=t.s,this.g=t.g,gm(this,t.m),this.l=t.l;var e=t.i,n=new nd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),kP(this,n),this.o=t.o}else t&&(e=String(t).match(pk))?(this.h=!1,mm(this,e[1]||"",!0),this.s=Wu(e[2]||""),this.g=Wu(e[3]||"",!0),gm(this,e[4]),this.l=Wu(e[5]||"",!0),kP(this,e[6]||"",!0),this.o=Wu(e[7]||"")):(this.h=!1,this.i=new nd(null,this.h))}Es.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ku(e,NP,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ku(e,NP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ku(n,n.charAt(0)=="/"?vW:yW,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ku(n,wW)),t.join("")};function vr(t){return new Es(t)}function mm(t,e,n){t.j=n?Wu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function gm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function kP(t,e,n){e instanceof nd?(t.i=e,bW(t.i,t.h)):(n||(e=Ku(e,_W)),t.i=new nd(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function Mm(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Wu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ku(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,gW),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gW(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var NP=/[#\/\?@]/g,yW=/[#\?:]/g,vW=/[#\?]/g,_W=/[#\?@]/g,wW=/#/g;function nd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fo(t){t.g||(t.g=new Map,t.h=0,t.i&&mW(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=nd.prototype;H.add=function(t,e){fo(this),this.i=null,t=Cc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function mk(t,e){fo(t),e=Cc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function gk(t,e){return fo(t),e=Cc(t,e),t.g.has(e)}H.forEach=function(t,e){fo(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};H.ta=function(){fo(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};H.Z=function(t){fo(this);let e=[];if(typeof t=="string")gk(this,t)&&(e=e.concat(this.g.get(Cc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return fo(this),this.i=null,t=Cc(this,t),gk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function yk(t,e,n){mk(t,e),0<n.length&&(t.i=null,t.g.set(Cc(t,e),jb(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),t.push(r)}}return this.i=t.join("&")};function Cc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function bW(t,e){e&&!t.j&&(fo(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(mk(this,i),yk(this,r,n))},t)),t.j=e}var EW=class{constructor(t,e){this.g=t,this.map=e}};function vk(t){this.l=t||IW,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var IW=10;function _k(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function wk(t){return t.h?1:t.g?t.g.size:0}function Ob(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Jb(t,e){t.g?t.g.add(e):t.h=e}function bk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}vk.prototype.cancel=function(){if(this.i=Ek(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Ek(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return jb(t.i)}var DW=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function CW(){this.g=new DW}function TW(t,e,n){let i=n||"";try{fk(t,function(r,o){let s=r;rd(r)&&(s=Gb(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function AW(t,e){let n=new Tm;if(ce.Image){let i=new Image;i.onload=cm(fm,n,i,"TestLoadImage: loaded",!0,e),i.onerror=cm(fm,n,i,"TestLoadImage: error",!1,e),i.onabort=cm(fm,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=cm(fm,n,i,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function fm(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function ud(t){this.l=t.ec||null,this.j=t.ob||!1}xt(ud,Qb);ud.prototype.g=function(){return new Pm(this.l,this.j)};ud.prototype.i=function(t){return function(){return t}}({});function Pm(t,e){St.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=eE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(Pm,St);var eE=0;H=Pm.prototype;H.open=function(t,e){if(this.readyState!=eE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,id(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dd(this)),this.readyState=eE};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,id(this)),this.g&&(this.readyState=3,id(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ik(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Ik(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?dd(this):id(this),this.readyState==3&&Ik(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,dd(this))};H.Ya=function(t){this.g&&(this.response=t,dd(this))};H.ka=function(){this.g&&dd(this)};function dd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,id(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function id(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Pm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var SW=ce.JSON.parse;function ot(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dk,this.L=this.M=!1}xt(ot,St);var Dk="",xW=/^https?$/i,RW=["POST","PUT"];H=ot.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Mb.g(),this.C=this.u?PP(this.u):PP(Mb),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){OP(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=ce.FormData&&t instanceof ce.FormData,!(0<=BP(RW,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ak(this),0<this.B&&((this.L=MW(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=Yb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){OP(this,o)}};function MW(t){return Dc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof Vb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))};function OP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ck(t),km(t)}function Ck(t){t.F||(t.F=!0,Vt(t,"complete"),Vt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vt(this,"complete"),Vt(this,"abort"),km(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),km(this,!0)),ot.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?Tk(this):this.kb())};H.kb=function(){Tk(this)};function Tk(t){if(t.h&&typeof Vb<"u"&&(!t.C[1]||Bi(t)!=4||t.da()!=2)){if(t.v&&Bi(t)==4)Yb(t.La,0,t);else if(Vt(t,"readystatechange"),Bi(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=s===0){var r=String(t.I).match(pk)[1]||null;!r&&ce.self&&ce.self.location&&(r=ce.self.location.protocol.slice(0,-1)),i=!xW.test(r?r.toLowerCase():"")}n=i}if(n)Vt(t,"complete"),Vt(t,"success");else{t.m=6;try{var o=2<Bi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",Ck(t)}}finally{km(t)}}}}function km(t,e){if(t.g){Ak(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Vt(t,"ready");try{n.onreadystatechange=i}catch{}}}function Ak(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function Bi(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<Bi(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),SW(e)}};function FP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Dk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function PW(t){let e={};t=(t.g&&2<=Bi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Qu(t[i]))continue;var n=rW(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}eW(e,function(i){return i.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Sk(t){let e="";return Ub(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function tE(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Sk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function qu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xk(t){this.Ga=0,this.j=[],this.l=new Tm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qu("baseRetryDelayMs",5e3,t),this.hb=qu("retryDelaySeedMs",1e4,t),this.eb=qu("forwardChannelMaxRetries",2,t),this.xa=qu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new vk(t&&t.concurrentRequestLimit),this.Ja=new CW,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=xk.prototype;H.ra=8;H.H=1;function nE(t){if(Rk(t),t.H==3){var e=t.W++,n=vr(t.I);if(Ke(n,"SID",t.K),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),hd(t,n),e=new cd(t,t.l,e),e.L=2,e.A=Mm(vr(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=Vk(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ld(e)}Fk(t)}function Nm(t){t.g&&(rE(t),t.g.cancel(),t.g=null)}function Rk(t){Nm(t),t.u&&(ce.clearTimeout(t.u),t.u=null),ym(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Om(t){if(!_k(t.i)&&!t.m){t.m=!0;var e=t.Na;Xu||XP(),Ju||(Xu(),Ju=!0),Wb.add(e,t),t.C=0}}function kW(t,e){return wk(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=sd(Ht(t.Na,t,e),Ok(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new cd(this,this.l,t),o=this.s;if(this.U&&(o?(o=zP(o),qP(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Mk(this,r,e),n=vr(this.I),Ke(n,"RID",t),Ke(n,"CVER",22),this.F&&Ke(n,"X-HTTP-Session-Id",this.F),hd(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Sk(o)))+"&"+e:this.o&&tE(n,this.o,o)),Jb(this.i,r),this.bb&&Ke(n,"TYPE","init"),this.P?(Ke(n,"$req",e),Ke(n,"SID","null"),r.aa=!0,kb(r,n,null)):kb(r,n,e),this.H=2}}else this.H==3&&(t?LP(this,t):this.j.length==0||_k(this.i)||LP(this))};function LP(t,e){var n;e?n=e.m:n=t.W++;let i=vr(t.I);Ke(i,"SID",t.K),Ke(i,"RID",n),Ke(i,"AID",t.V),hd(t,i),t.o&&t.s&&tE(i,t.o,t.s),n=new cd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Mk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Jb(t.i,n),kb(n,i,e)}function hd(t,e){t.na&&Ub(t.na,function(n,i){Ke(e,i,n)}),t.h&&fk({},function(n,i){Ke(e,i,n)})}function Mk(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Ht(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=r[c].g,u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{TW(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function Pk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xu||XP(),Ju||(Xu(),Ju=!0),Wb.add(e,t),t.A=0}}function iE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=sd(Ht(t.Ma,t),Ok(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,kk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=sd(Ht(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tn(10),Nm(this),kk(this))};function rE(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function kk(t){t.g=new cd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=vr(t.wa);Ke(e,"RID","rpc"),Ke(e,"SID",t.K),Ke(e,"AID",t.V),Ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ke(e,"TO",t.qa),Ke(e,"TYPE","xmlhttp"),hd(t,e),t.o&&t.s&&tE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Mm(vr(e)),n.u=null,n.S=!0,lk(n,t)}H.ib=function(){this.v!=null&&(this.v=null,Nm(this),iE(this),tn(19))};function ym(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function Nk(t,e){var n=null;if(t.g==e){ym(t),rE(t),t.g=null;var i=2}else if(Ob(t.i,e))n=e.F,bk(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=Am(),Vt(i,new rk(i,n)),Om(t)}else Pk(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&kW(t,e)||i==2&&iE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:bs(t,5);break;case 4:bs(t,10);break;case 3:bs(t,6);break;default:bs(t,2)}}}function Ok(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function bs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Ht(t.pb,t);n||(n=new Es("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||mm(n,"https"),Mm(n)),AW(n.toString(),i)}else tn(2);t.H=0,t.h&&t.h.za(e),Fk(t),Rk(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tn(2)):(this.l.info("Failed to ping google.com"),tn(1))};function Fk(t){if(t.H=0,t.ma=[],t.h){let e=Ek(t.i);(e.length!=0||t.j.length!=0)&&(SP(t.ma,e),SP(t.ma,t.j),t.i.i.length=0,jb(t.j),t.j.length=0),t.h.ya()}}function Lk(t,e,n){var i=n instanceof Es?vr(n):new Es(n);if(i.g!="")e&&(i.g=e+"."+i.g),gm(i,i.m);else{var r=ce.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Es(null);i&&mm(o,i),e&&(o.g=e),r&&gm(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Ke(i,n,e),Ke(i,"VER",t.ra),hd(t,i),i}function Vk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ot(new ud({ob:n})):new ot(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function jk(){}H=jk.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function vm(){if(Dc&&!(10<=Number(Q8)))throw Error("Environmental error: no available transport.")}vm.prototype.g=function(t,e){return new In(t,e)};function In(t,e){St.call(this),this.g=new xk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Tc(this)}xt(In,St);In.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Lk(t,null,t.Y),Om(t)};In.prototype.close=function(){nE(this.g)};In.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Gb(t),t=n);e.j.push(new EW(e.fb++,t)),e.H==3&&Om(e)};In.prototype.N=function(){this.g.h=null,delete this.j,nE(this.g),delete this.g,In.$.N.call(this)};function Bk(t){Zb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xt(Bk,Zb);function Uk(){Xb.call(this),this.status=1}xt(Uk,Xb);function Tc(t){this.g=t}xt(Tc,jk);Tc.prototype.Ba=function(){Vt(this.g,"a")};Tc.prototype.Aa=function(t){Vt(this.g,new Bk(t))};Tc.prototype.za=function(t){Vt(this.g,new Uk)};Tc.prototype.ya=function(){Vt(this.g,"b")};function NW(){this.blockSize=-1}function oi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xt(oi,NW);oi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bb(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}oi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)bb(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){bb(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){bb(this,i),r=0;break}}this.h=r,this.i+=e};oi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function je(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var OW={};function oE(t){return-128<=t&&128>t?W8(t,function(e){return new je([e|0],0>e?-1:0)}):new je([t|0],0>t?-1:0)}function Ui(t){if(isNaN(t)||!isFinite(t))return Ic;if(0>t)return Lt(Ui(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Fb;return new je(e,0)}function $k(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Lt($k(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ui(Math.pow(e,8)),i=Ic,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),s=parseInt(t.substring(r,r+o),e);8>o?(o=Ui(Math.pow(e,o)),i=i.R(o).add(Ui(s))):(i=i.R(n),i=i.add(Ui(s)))}return i}var Fb=4294967296,Ic=oE(0),Lb=oE(1),VP=oE(16777216);H=je.prototype;H.ea=function(){if(jn(this))return-Lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Fb+i)*e,e*=Fb}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(yr(this))return"0";if(jn(this))return"-"+Lt(this).toString(t);for(var e=Ui(Math.pow(t,6)),n=this,i="";;){var r=wm(n,e).g;n=_m(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,yr(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function yr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function jn(t){return t.h==-1}H.X=function(t){return t=_m(this,t),jn(t)?-1:yr(t)?0:1};function Lt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new je(n,~t.h).add(Lb)}H.abs=function(){return jn(this)?Lt(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new je(n,n[n.length-1]&-2147483648?-1:0)};function _m(t,e){return t.add(Lt(e))}H.R=function(t){if(yr(this)||yr(t))return Ic;if(jn(this))return jn(t)?Lt(this).R(Lt(t)):Lt(Lt(this).R(t));if(jn(t))return Lt(this.R(Lt(t)));if(0>this.X(VP)&&0>t.X(VP))return Ui(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=s*c,pm(n,2*i+2*r),n[2*i+2*r+1]+=o*c,pm(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,pm(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,pm(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new je(n,0)};function pm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Gu(t,e){this.g=t,this.h=e}function wm(t,e){if(yr(e))throw Error("division by zero");if(yr(t))return new Gu(Ic,Ic);if(jn(t))return e=wm(Lt(t),e),new Gu(Lt(e.g),Lt(e.h));if(jn(e))return e=wm(t,Lt(e)),new Gu(Lt(e.g),e.h);if(30<t.g.length){if(jn(t)||jn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Lb,i=e;0>=i.X(t);)n=jP(n),i=jP(i);var r=bc(n,1),o=bc(i,1);for(i=bc(i,2),n=bc(n,2);!yr(i);){var s=o.add(i);0>=s.X(t)&&(r=r.add(n),o=s),i=bc(i,1),n=bc(n,1)}return e=_m(t,r.R(e)),new Gu(r,e)}for(r=Ic;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=Ui(n),s=o.R(e);jn(s)||0<s.X(t);)n-=i,o=Ui(n),s=o.R(e);yr(o)&&(o=Lb),r=r.add(o),t=_m(t,s)}return new Gu(r,t)}H.gb=function(t){return wm(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new je(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new je(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new je(n,this.h^t.h)};function jP(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new je(n,t.h)}function bc(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new je(r,t.h)}vm.prototype.createWebChannel=vm.prototype.g;In.prototype.send=In.prototype.u;In.prototype.open=In.prototype.m;In.prototype.close=In.prototype.close;Sm.NO_ERROR=0;Sm.TIMEOUT=8;Sm.HTTP_ERROR=6;ok.COMPLETE="complete";sk.EventType=ad;ad.OPEN="a";ad.CLOSE="b";ad.ERROR="c";ad.MESSAGE="d";St.prototype.listen=St.prototype.O;ot.prototype.listenOnce=ot.prototype.P;ot.prototype.getLastError=ot.prototype.Sa;ot.prototype.getLastErrorCode=ot.prototype.Ia;ot.prototype.getStatus=ot.prototype.da;ot.prototype.getResponseJson=ot.prototype.Wa;ot.prototype.getResponseText=ot.prototype.ja;ot.prototype.send=ot.prototype.ha;ot.prototype.setWithCredentials=ot.prototype.Oa;oi.prototype.digest=oi.prototype.l;oi.prototype.reset=oi.prototype.reset;oi.prototype.update=oi.prototype.j;je.prototype.add=je.prototype.add;je.prototype.multiply=je.prototype.R;je.prototype.modulo=je.prototype.gb;je.prototype.compare=je.prototype.X;je.prototype.toNumber=je.prototype.ea;je.prototype.toString=je.prototype.toString;je.prototype.getBits=je.prototype.D;je.fromNumber=Ui;je.fromString=$k;var Hk=si.createWebChannelTransport=function(){return new vm},zk=si.getStatEventTarget=function(){return Am()},Fm=si.ErrorCode=Sm,qk=si.EventType=ok,Gk=si.Event=Is,sE=si.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ice=si.FetchXmlHttpFactory=ud,fd=si.WebChannel=sk,Wk=si.XhrIo=ot,Kk=si.Md5=oi,Ds=si.Integer=je;var Yk="@firebase/firestore";var yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");var il="10.9.0";var wo=new ph("@firebase/firestore");function Mc(){return wo.logLevel}function YN(t){wo.setLogLevel(t)}function k(t,...e){if(wo.logLevel<=mi.DEBUG){let n=e.map(lD);wo.debug(`Firestore (${il}): ${t}`,...n)}}function ut(t,...e){if(wo.logLevel<=mi.ERROR){let n=e.map(lD);wo.error(`Firestore (${il}): ${t}`,...n)}}function Un(t,...e){if(wo.logLevel<=mi.WARN){let n=e.map(lD);wo.warn(`Firestore (${il}): ${t}`,...n)}}function lD(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t="Unexpected state"){let e=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: `+t;throw ut(e),new Error(e)}function X(t,e){t||z()}function QN(t,e){t||z()}function $(t,e){return t}var C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},P=class extends fh{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Wm=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}},hE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},fE=class{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),o=new vt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vt,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>T(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(X(typeof i.accessToken=="string"),new Wm(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return X(e===null||typeof e=="string"),new yt(e)}},pE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},mE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new pE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},gE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,k("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(X(typeof n.token=="string"),this.R=n.token,new gE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function FW(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Km=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=FW(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function de(t,e){return t<e?-1:t>e?1:0}function Bc(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function ZN(t){return t+"\0"}var nt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new P(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new P(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new P(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new nt(0,0))}static max(){return new t(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ym=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&z(),i===void 0?i=e.length-n:i>e.length-n&&z(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Se=class t extends Ym{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new P(C.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},LW=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dt=class t extends Ym{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return LW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new P(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new P(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new P(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new P(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var U=class t{constructor(e){this.path=e}static fromPath(e){return new t(Se.fromString(e))}static fromName(e){return new t(Se.fromString(e).popFirst(5))}static empty(){return new t(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Se(e.slice()))}};var Uc=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};function vE(t){return t.fields.find(e=>e.kind===2)}function Ts(t){return t.fields.filter(e=>e.kind!==2)}Uc.UNKNOWN_ID=-1;var Lc=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var Cd=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,$n.min())}};function XN(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=J.fromTimestamp(i===1e9?new nt(n+1,0):new nt(n,i));return new $n(r,U.empty(),e)}function JN(t){return new $n(t.readTime,t.key,-1)}var $n=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(J.min(),U.empty(),-1)}static max(){return new t(J.max(),U.empty(),-1)}};function uD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}var eO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ro(t){return T(this,null,function*(){if(t.code!==C.FAILED_PRECONDITION||t.message!==eO)throw t;k("LocalStore","Unexpectedly lost primary lease")})}var D=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},c=>i(c))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var Zm=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new vt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ps(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=dD(i.target.error);this.V.reject(new Ps(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new Ps(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(k("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new wE(n)}},br=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(vl())===12.2&&ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return k("SimpleDb","Removing database:",e),As(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!hh())return!1;if(t.C())return!0;let e=vl(),n=t.S(e),i=0<n&&n<10,r=t.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return T(this,null,function*(){return this.db||(k("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;n(s)},r.onblocked=()=>{i(new Ps(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?i(new P(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new P(C.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new Ps(e,s))},r.onupgradeneeded=o=>{k("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,r.transaction,o.oldVersion,this.version).next(()=>{k("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return T(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=Zm.open(this.db,e,o?"readonly":"readwrite",i),c=r(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),D.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&s<3;if(k("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},_E=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return As(this.k.delete())}},Ps=class extends P{constructor(e,n){super(C.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Mo(t){return t.name==="IndexedDbTransactionError"}var wE=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(k("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(k("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),As(i)}add(e){return k("SimpleDb","ADD",this.store.name,e,e),As(this.store.add(e))}get(e){return As(this.store.get(e)).next(n=>(n===void 0&&(n=null),k("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return k("SimpleDb","DELETE",this.store.name,e),As(this.store.delete(e))}count(){return k("SimpleDb","COUNT",this.store.name),As(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new D((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(i),s=[];return this.G(o,(a,c)=>{s.push(c)}).next(()=>s)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new D((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,n){k("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new D((i,r)=>{n.onerror=o=>{let s=dD(o.target.error);r(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,n){let i=[];return new D((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let c=new _E(a),l=n(a.primaryKey,a.value,c);if(l instanceof D){let u=l.catch(f=>(c.done(),D.reject(f)));i.push(u)}c.isDone?r():c.$===null?a.continue():a.continue(c.$)}}).next(()=>D.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function As(t){return new D((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=dD(i.target.error);n(r)}})}var Qk=!1;function dD(t){let e=br.S(vl());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new P("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qk||(Qk=!0,setTimeout(()=>{throw i},0)),i}}return t}var bE=class{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){k("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>T(this,null,function*(){this.task=null;try{k("IndexBackfiller",`Documents written: ${yield this.X.te()}`)}catch(n){Mo(n)?k("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield Ro(n)}yield this.ee(6e4)}))}},EE=class{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){return T(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))})}ne(e,n){let i=new Set,r=n,o=!0;return D.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!i.has(s))return k("IndexBackfiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>n-r)}re(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(k("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let i=e;return n.changes.forEach((r,o)=>{let s=JN(o);uD(s,i)>0&&(i=s)}),new $n(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}};var Dn=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Wd(t){return t==null}function Td(t){return t===0&&1/t==-1/0}function tO(t){return typeof t=="number"&&Number.isInteger(t)&&!Td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function nn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Zk(e)),e=VW(t.get(n),e);return Zk(e)}function VW(t,e){let n=e,i=t.length;for(let r=0;r<i;r++){let o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Zk(t){return t+""}function $i(t){let e=t.length;if(X(e>=2),e===2)return X(t.charAt(0)===""&&t.charAt(1)===""),Se.emptyPath();let n=e-2,i=[],r="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&z(),t.charAt(s+1)){case"":let a=t.substring(o,s),c;r.length===0?c=a:(r+=a,c=r,r=""),i.push(c);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:z()}o=s+2}return new Se(i)}var Xk=["userId","batchId"];function Um(t,e){return[t,nn(e)]}function nO(t,e,n){return[t,nn(e),n]}var jW={},BW=["prefixPath","collectionGroup","readTime","documentId"],UW=["prefixPath","collectionGroup","documentId"],$W=["collectionGroup","readTime","prefixPath","documentId"],HW=["canonicalId","targetId"],zW=["targetId","path"],qW=["path","targetId"],GW=["collectionId","parent"],WW=["indexId","uid"],KW=["uid","sequenceNumber"],YW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],QW=["indexId","uid","orderedDocumentKey"],ZW=["userId","collectionPath","documentId"],XW=["userId","collectionPath","largestBatchId"],JW=["userId","collectionGroup","largestBatchId"],iO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],e7=[...iO,"documentOverlays"],rO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oO=rO,t7=[...oO,"indexConfiguration","indexState","indexEntries"];var Ad=class extends Qm{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}};function Mt(t,e){let n=$(t);return br.M(n.ae,e)}function Jk(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sO(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ye=class t{constructor(e,n){this.comparator=e,this.root=n||zi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}},Fc=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zi=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();let e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}};zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1;zi.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,n,i,r,o){return this}insert(e,n,i){return new zi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ze=class t{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xm(this.data.getIterator())}getIteratorFrom(e){return new Xm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Xm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Ac(t){return t.hasNext()?t.getNext():void 0}var Cn=class t{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ze(dt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bc(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Jm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function aO(){return typeof atob<"u"}var Rt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Jm("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Rt.EMPTY_BYTE_STRING=new Rt("");var n7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(X(!!t),typeof t=="string"){let e=0,n=n7.exec(t);if(X(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Eo(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}function Hg(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hD(t){let e=t.mapValue.fields.__previous_value__;return Hg(e)?hD(e):e}function Sd(t){let e=bo(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}var IE=class{constructor(e,n,i,r,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Io=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$m={nullValue:"NULL_VALUE"};function ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hg(t)?4:cO(t)?9007199254740991:10:z()}function Wi(t,e){if(t===e)return!0;let n=ks(t);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sd(t).isEqual(Sd(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=bo(r.timestampValue),a=bo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Eo(r.bytesValue).isEqual(Eo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return st(r.geoPointValue.latitude)===st(o.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return st(r.integerValue)===st(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=st(r.doubleValue),a=st(o.doubleValue);return s===a?Td(s)===Td(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Bc(t.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(Jk(s)!==Jk(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Wi(s[c],a[c])))return!1;return!0}(t,e);default:return z()}}function xd(t,e){return(t.values||[]).find(n=>Wi(n,e))!==void 0}function Do(t,e){if(t===e)return 0;let n=ks(t),i=ks(e);if(n!==i)return de(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=st(o.integerValue||o.doubleValue),c=st(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return eN(t.timestampValue,e.timestampValue);case 4:return eN(Sd(t),Sd(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Eo(o),c=Eo(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=de(a[l],c[l]);if(u!==0)return u}return de(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=de(st(o.latitude),st(s.latitude));return a!==0?a:de(st(o.longitude),st(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=Do(a[l],c[l]);if(u)return u}return de(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===vo.mapValue&&s===vo.mapValue)return 0;if(o===vo.mapValue)return 1;if(s===vo.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){let m=de(c[f],u[f]);if(m!==0)return m;let g=Do(a[c[f]],l[u[f]]);if(g!==0)return g}return de(c.length,u.length)}(t.mapValue,e.mapValue);default:throw z()}}function eN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);let n=bo(t),i=bo(e),r=de(n.seconds,i.seconds);return r!==0?r:de(n.nanos,i.nanos)}function $c(t){return DE(t)}function DE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=bo(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return U.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=DE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${DE(n.fields[s])}`;return r+"}"}(t.mapValue):z()}function Ns(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function CE(t){return!!t&&"integerValue"in t}function Rd(t){return!!t&&"arrayValue"in t}function tN(t){return!!t&&"nullValue"in t}function nN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hm(t){return!!t&&"mapValue"in t}function wd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return zs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=wd(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function i7(t){return"nullValue"in t?$m:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ns(Io.empty(),U.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:z()}function r7(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ns(Io.empty(),U.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?vo:z()}function iN(t,e){let n=Do(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function rN(t,e){let n=Do(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Gt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Hm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wd(n)}setAll(e){let n=dt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=wd(s):r.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());Hm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Hm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){zs(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(wd(this.value))}};function lO(t){let e=[];return zs(t.fields,(n,i)=>{let r=new dt([n]);if(Hm(i)){let o=lO(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new Cn(e)}var _t=class t{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),Gt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,J.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ki=class{constructor(e,n){this.position=e,this.inclusive=n}};function oN(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=U.comparator(U.fromName(s.referenceValue),n.key):i=Do(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function sN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wi(t.position[n],e.position[n]))return!1;return!0}var Os=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function o7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var eg=class{},Ee=class t extends eg{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new SE(e,n,i):n==="array-contains"?new ME(e,i):n==="in"?new tg(e,i):n==="not-in"?new PE(e,i):n==="array-contains-any"?new kE(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new xE(e,i):new RE(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Do(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Be=class t extends eg{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return Hc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function Hc(t){return t.op==="and"}function TE(t){return t.op==="or"}function fD(t){return uO(t)&&Hc(t)}function uO(t){for(let e of t.filters)if(e instanceof Be)return!1;return!0}function AE(t){if(t instanceof Ee)return t.field.canonicalString()+t.op.toString()+$c(t.value);if(fD(t))return t.filters.map(e=>AE(e)).join(",");{let e=t.filters.map(n=>AE(n)).join(",");return`${t.op}(${e})`}}function dO(t,e){return t instanceof Ee?function(i,r){return r instanceof Ee&&i.op===r.op&&i.field.isEqual(r.field)&&Wi(i.value,r.value)}(t,e):t instanceof Be?function(i,r){return r instanceof Be&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&dO(s,r.filters[a]),!0):!1}(t,e):void z()}function hO(t,e){let n=t.filters.concat(e);return Be.create(n,t.op)}function fO(t){return t instanceof Ee?function(n){return`${n.field.canonicalString()} ${n.op} ${$c(n.value)}`}(t):t instanceof Be?function(n){return n.op.toString()+" {"+n.getFilters().map(fO).join(" ,")+"}"}(t):"Filter"}var SE=class extends Ee{constructor(e,n,i){super(e,n,i),this.key=U.fromName(i.referenceValue)}matches(e){let n=U.comparator(e.key,this.key);return this.matchesComparison(n)}},xE=class extends Ee{constructor(e,n){super(e,"in",n),this.keys=pO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},RE=class extends Ee{constructor(e,n){super(e,"not-in",n),this.keys=pO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function pO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>U.fromName(i.referenceValue))}var ME=class extends Ee{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Rd(n)&&xd(n.arrayValue,this.value)}},tg=class extends Ee{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&xd(this.value.arrayValue,n)}},PE=class extends Ee{constructor(e,n){super(e,"not-in",n)}matches(e){if(xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!xd(this.value.arrayValue,n)}},kE=class extends Ee{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Rd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>xd(this.value.arrayValue,i))}};var NE=class{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function OE(t,e=null,n=[],i=[],r=null,o=null,s=null){return new NE(t,e,n,i,r,o,s)}function Fs(t){let e=$(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>AE(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Wd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$c(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$c(i)).join(",")),e.ce=n}return e.ce}function Kd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sN(t.startAt,e.startAt)&&sN(t.endAt,e.endAt)}function ng(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ig(t,e){return t.filters.filter(n=>n instanceof Ee&&n.field.isEqual(e))}function aN(t,e,n){let i=$m,r=!0;for(let o of ig(t,e)){let s=$m,a=!0;switch(o.op){case"<":case"<=":s=i7(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=$m}iN({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];iN({value:i,inclusive:r},{value:s,inclusive:n.inclusive})<0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}function cN(t,e,n){let i=vo,r=!0;for(let o of ig(t,e)){let s=vo,a=!0;switch(o.op){case">=":case">":s=r7(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=vo}rN({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];rN({value:i,inclusive:r},{value:s,inclusive:n.inclusive})>0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}var ai=class{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function mO(t,e,n,i,r,o,s,a){return new ai(t,e,n,i,r,o,s,a)}function rl(t){return new ai(t)}function lN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pD(t){return t.collectionGroup!==null}function Vc(t){let e=$(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ze(dt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Os(o,i))}),n.has(dt.keyField().canonicalString())||e.le.push(new Os(dt.keyField(),i))}return e.le}function rn(t){let e=$(t);return e.he||(e.he=s7(e,Vc(t))),e.he}function s7(t,e){if(t.limitType==="F")return OE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Os(r.field,o)});let n=t.endAt?new Ki(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ki(t.startAt.position,t.startAt.inclusive):null;return OE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function FE(t,e){let n=t.filters.concat([e]);return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rg(t,e,n){return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yd(t,e){return Kd(rn(t),rn(e))&&t.limitType===e.limitType}function gO(t){return`${Fs(rn(t))}|lt:${t.limitType}`}function Pc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>fO(r)).join(", ")}]`),Wd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$c(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$c(r)).join(",")),`Target(${i})`}(rn(t))}; limitType=${t.limitType})`}function Qd(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):U.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of Vc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let l=oN(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,Vc(i),r)||i.endAt&&!function(s,a,c){let l=oN(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,Vc(i),r))}(t,e)}function yO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vO(t){return(e,n)=>{let i=!1;for(let r of Vc(t)){let o=a7(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function a7(t,e,n){let i=t.field.isKeyField()?U.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Do(c,l):z()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return z()}}var Yi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return sO(this.inner)}size(){return this.innerSize}};var c7=new Ye(U.comparator);function fn(){return c7}var _O=new Ye(U.comparator);function vd(...t){let e=_O;for(let n of t)e=e.insert(n.key,n);return e}function wO(t){let e=_O;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Hi(){return bd()}function bO(){return bd()}function bd(){return new Yi(t=>t.toString(),(t,e)=>t.isEqual(e))}var l7=new Ye(U.comparator),u7=new ze(U.comparator);function fe(...t){let e=u7;for(let n of t)e=e.add(n);return e}var d7=new ze(de);function mD(){return d7}function EO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function IO(t){return{integerValue:""+t}}function DO(t,e){return tO(e)?IO(e):EO(t,e)}var zc=class{constructor(){this._=void 0}};function h7(t,e,n){return t instanceof Co?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Hg(o)&&(o=hD(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Er?TO(t,e):t instanceof Ir?AO(t,e):function(r,o){let s=CO(r,o),a=uN(s)+uN(r.Ie);return CE(s)&&CE(r.Ie)?IO(a):EO(r.serializer,a)}(t,e)}function f7(t,e,n){return t instanceof Er?TO(t,e):t instanceof Ir?AO(t,e):n}function CO(t,e){return t instanceof To?function(i){return CE(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Co=class extends zc{},Er=class extends zc{constructor(e){super(),this.elements=e}};function TO(t,e){let n=SO(e);for(let i of t.elements)n.some(r=>Wi(r,i))||n.push(i);return{arrayValue:{values:n}}}var Ir=class extends zc{constructor(e){super(),this.elements=e}};function AO(t,e){let n=SO(e);for(let i of t.elements)n=n.filter(r=>!Wi(r,i));return{arrayValue:{values:n}}}var To=class extends zc{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function uN(t){return st(t.integerValue||t.doubleValue)}function SO(t){return Rd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ls=class{constructor(e,n){this.field=e,this.transform=n}};function p7(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Er&&r instanceof Er||i instanceof Ir&&r instanceof Ir?Bc(i.elements,r.elements,Wi):i instanceof To&&r instanceof To?Wi(i.Ie,r.Ie):i instanceof Co&&r instanceof Co}(t.transform,e.transform)}var LE=class{constructor(e,n){this.version=e,this.transformResults=n}},at=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function zm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var qc=class{};function xO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new So(t.key,at.none()):new Ao(t.key,t.data,at.none());{let n=t.data,i=Gt.empty(),r=new ze(dt.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new ci(t.key,i,new Cn(r.toArray()),at.none())}}function m7(t,e,n){t instanceof Ao?function(r,o,s){let a=r.value.clone(),c=hN(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ci?function(r,o,s){if(!zm(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=hN(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(RO(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ed(t,e,n,i){return t instanceof Ao?function(o,s,a,c){if(!zm(o.precondition,s))return a;let l=o.value.clone(),u=fN(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof ci?function(o,s,a,c){if(!zm(o.precondition,s))return a;let l=fN(o.fieldTransforms,c,s),u=s.data;return u.setAll(RO(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(o,s,a){return zm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function g7(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=CO(i.transform,r||null);o!=null&&(n===null&&(n=Gt.empty()),n.set(i.field,o))}return n||null}function dN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Bc(i,r,(o,s)=>p7(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ao=class extends qc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ci=class extends qc{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function RO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function hN(t,e,n){let i=new Map;X(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,f7(s,a,n[r]))}return i}function fN(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,h7(o,s,e))}return i}var So=class extends qc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Md=class extends qc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Pd=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&m7(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ed(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Ed(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=bO();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;let c=xO(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Bc(this.mutations,e.mutations,(n,i)=>dN(n,i))&&Bc(this.baseMutations,e.baseMutations,(n,i)=>dN(n,i))}},VE=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){X(e.mutations.length===i.length);let r=function(){return l7}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var kd=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var jE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var mt,Ae;function MO(t){switch(t){default:return z();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function PO(t){if(t===void 0)return ut("GRPC error has no .code"),C.UNKNOWN;switch(t){case mt.OK:return C.OK;case mt.CANCELLED:return C.CANCELLED;case mt.UNKNOWN:return C.UNKNOWN;case mt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case mt.INTERNAL:return C.INTERNAL;case mt.UNAVAILABLE:return C.UNAVAILABLE;case mt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case mt.NOT_FOUND:return C.NOT_FOUND;case mt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case mt.ABORTED:return C.ABORTED;case mt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case mt.DATA_LOSS:return C.DATA_LOSS;default:return z()}}(Ae=mt||(mt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";var pN=null;function kO(){return new TextEncoder}var y7=new Ds([4294967295,4294967295],0);function mN(t){let e=kO().encode(t),n=new Kk;return n.update(e),new Uint8Array(n.digest())}function gN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ds([n,i],0),new Ds([r,o],0)]}var BE=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ms(`Invalid padding: ${n}`);if(i<0)throw new Ms(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ms(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ms(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ds.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Ds.fromNumber(i)));return r.compare(y7)===1&&(r=new Ds([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=mN(e),[i,r]=gN(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=mN(e),[i,r]=gN(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},Ms=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Nd=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Od.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(J.min(),r,new Ye(de),fn(),fe())}},Od=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,fe(),fe(),fe())}};var jc=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},og=class{constructor(e,n){this.targetId=e,this.fe=n}},sg=class{constructor(e,n,i=Rt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},ag=class{constructor(){this.ge=0,this.pe=vN(),this.ye=Rt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=fe(),n=fe(),i=fe();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:z()}}),new Od(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=vN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,X(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},UE=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=fn(),this.Qe=yN(),this.Ke=new Ye(de)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(ng(o))if(i===0){let s=new U(o.path);this.We(n,s,_t.newNoDocument(s,J.min()))}else X(i===1);else{let s=this.Ze(n);if(s!==i){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}pN?.tt(function(u,f,m,g,w){var I,E,A,B,M,R;let q={localCacheCount:u,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},ee=f.unchangedNames;return ee&&(q.bloomFilter={applied:w===0,hashCount:(I=ee?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(B=(A=(E=ee?.bits)===null||E===void 0?void 0:E.bitmap)===null||A===void 0?void 0:A.length)!==null&&B!==void 0?B:0,padding:(R=(M=ee?.bits)===null||M===void 0?void 0:M.padding)!==null&&R!==void 0?R:0,mightContain:Ie=>{var Je;return(Je=g?.mightContain(Ie))!==null&&Je!==void 0&&Je}}),q}(s,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,a;try{s=Eo(i).toUint8Array()}catch(c){if(c instanceof Jm)return Un("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new BE(s,r,o)}catch(c){return Un(c instanceof Ms?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Be.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&ng(a.target)){let c=new U(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,_t.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let i=fe();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let r=new Nd(e,n,this.Ke,this.qe,i);return this.qe=fn(),this.Qe=yN(),this.Ke=new Ye(de),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new ag,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ze(de),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||k("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new ag),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function yN(){return new Ye(U.comparator)}function vN(){return new Ye(U.comparator)}var v7={asc:"ASCENDING",desc:"DESCENDING"},_7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w7={and:"AND",or:"OR"},$E=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function HE(t,e){return t.useProto3Json||Wd(e)?e:{value:e}}function Gc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function b7(t,e){return Gc(t,e.toTimestamp())}function ht(t){return X(!!t),J.fromTimestamp(function(n){let i=bo(n);return new nt(i.seconds,i.nanos)}(t))}function gD(t,e){return zE(t,e).canonicalString()}function zE(t,e){let n=function(r){return new Se(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OO(t){let e=Se.fromString(t);return X(qO(e)),e}function Fd(t,e){return gD(t.databaseId,e.path)}function qi(t,e){let n=OO(e);if(n.get(1)!==t.databaseId.projectId)throw new P(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new P(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(VO(n))}function FO(t,e){return gD(t.databaseId,e)}function LO(t){let e=OO(t);return e.length===4?Se.emptyPath():VO(e)}function qE(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VO(t){return X(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _N(t,e,n){return{name:Fd(t,e),fields:n.value.mapValue.fields}}function jO(t,e,n){let i=qi(t,e.name),r=ht(e.updateTime),o=e.createTime?ht(e.createTime):J.min(),s=new Gt({mapValue:{fields:e.fields}}),a=_t.newFoundDocument(i,r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function E7(t,e){return"found"in e?function(i,r){X(!!r.found),r.found.name,r.found.updateTime;let o=qi(i,r.found.name),s=ht(r.found.updateTime),a=r.found.createTime?ht(r.found.createTime):J.min(),c=new Gt({mapValue:{fields:r.found.fields}});return _t.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(i,r){X(!!r.missing),X(!!r.readTime);let o=qi(i,r.missing),s=ht(r.readTime);return _t.newNoDocument(o,s)}(t,e):z()}function I7(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(X(u===void 0||typeof u=="string"),Rt.fromBase64String(u||"")):(X(u===void 0||u instanceof Uint8Array),Rt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?C.UNKNOWN:PO(l.code);return new P(u,l.message||"")}(s);n=new sg(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=qi(t,i.document.name),o=ht(i.document.updateTime),s=i.document.createTime?ht(i.document.createTime):J.min(),a=new Gt({mapValue:{fields:i.document.fields}}),c=_t.newFoundDocument(r,o,s,a),l=i.targetIds||[],u=i.removedTargetIds||[];n=new jc(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=qi(t,i.document),o=i.readTime?ht(i.readTime):J.min(),s=_t.newNoDocument(r,o),a=i.removedTargetIds||[];n=new jc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=qi(t,i.document),o=i.removedTargetIds||[];n=new jc([],o,r,null)}else{if(!("filter"in e))return z();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new jE(r,o),a=i.targetId;n=new og(a,s)}}return n}function Ld(t,e){let n;if(e instanceof Ao)n={update:_N(t,e.key,e.value)};else if(e instanceof So)n={delete:Fd(t,e.key)};else if(e instanceof ci)n={update:_N(t,e.key,e.data),updateMask:x7(e.fieldMask)};else{if(!(e instanceof Md))return z();n={verify:Fd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Co)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Er)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ir)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof To)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw z()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:b7(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z()}(t,e.precondition)),n}function GE(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?at.updateTime(ht(o.updateTime)):o.exists!==void 0?at.exists(o.exists):at.none()}(e.currentDocument):at.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;if("setToServerValue"in a)X(a.setToServerValue==="REQUEST_TIME"),c=new Co;else if("appendMissingElements"in a){let u=a.appendMissingElements.values||[];c=new Er(u)}else if("removeAllFromArray"in a){let u=a.removeAllFromArray.values||[];c=new Ir(u)}else"increment"in a?c=new To(s,a.increment):z();let l=dt.fromServerFormat(a.fieldPath);return new Ls(l,c)}(t,r)):[];if(e.update){e.update.name;let r=qi(t,e.update.name),o=new Gt({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let l=c.fieldPaths||[];return new Cn(l.map(u=>dt.fromServerFormat(u)))}(e.updateMask);return new ci(r,o,s,n,i)}return new Ao(r,o,n,i)}if(e.delete){let r=qi(t,e.delete);return new So(r,n)}if(e.verify){let r=qi(t,e.verify);return new Md(r,n)}return z()}function D7(t,e){return t&&t.length>0?(X(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?ht(r.updateTime):ht(o);return s.isEqual(J.min())&&(s=ht(o)),new LE(s,r.transformResults||[])}(n,e))):[]}function BO(t,e){return{documents:[FO(t,e.path)]}}function UO(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=FO(t,r);let o=function(l){if(l.length!==0)return zO(Be.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(u=>function(m){return{field:kc(m.field),direction:T7(m.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=HE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:r}}function $O(t){let e=LO(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){X(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(f){let m=HO(f);return m instanceof Be&&fD(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(m=>function(w){return new Os(Nc(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Wd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){let m=!!f.before,g=f.values||[];return new Ki(g,m)}(n.startAt));let l=null;return n.endAt&&(l=function(f){let m=!f.before,g=f.values||[];return new Ki(g,m)}(n.endAt)),mO(e,r,s,o,a,"F",c,l)}function C7(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Nc(n.unaryFilter.field);return Ee.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Nc(n.unaryFilter.field);return Ee.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Nc(n.unaryFilter.field);return Ee.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Nc(n.unaryFilter.field);return Ee.create(s,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(n){return Ee.create(Nc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Be.create(n.compositeFilter.filters.map(i=>HO(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(t):z()}function T7(t){return v7[t]}function A7(t){return _7[t]}function S7(t){return w7[t]}function kc(t){return{fieldPath:t.canonicalString()}}function Nc(t){return dt.fromServerFormat(t.fieldPath)}function zO(t){return t instanceof Ee?function(n){if(n.op==="=="){if(nN(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NAN"}};if(tN(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nN(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NOT_NAN"}};if(tN(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kc(n.field),op:A7(n.op),value:n.value}}}(t):t instanceof Be?function(n){let i=n.getFilters().map(r=>zO(r));return i.length===1?i[0]:{compositeFilter:{op:S7(n.op),filters:i}}}(t):z()}function x7(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Wc=class t{constructor(e,n,i,r,o=J.min(),s=J.min(),a=Rt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var cg=class{constructor(e){this.ct=e}};function R7(t,e){let n;if(e.document)n=jO(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=U.fromSegments(e.noDocument.path),r=js(e.noDocument.readTime);n=_t.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return z();{let i=U.fromSegments(e.unknownDocument.path),r=js(e.unknownDocument.version);n=_t.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(r){let o=new nt(r[0],r[1]);return J.fromTimestamp(o)}(e.readTime)),n}function wN(t,e){let n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(o,s){return{name:Fd(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Gc(o,s.version.toTimestamp()),createTime:Gc(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Vs(e.version)};else{if(!e.isUnknownDocument())return z();i.unknownDocument={path:n.path.toArray(),version:Vs(e.version)}}return i}function lg(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Vs(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function js(t){let e=new nt(t.seconds,t.nanoseconds);return J.fromTimestamp(e)}function Ss(t,e){let n=(e.baseMutations||[]).map(o=>GE(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let i=e.mutations.map(o=>GE(t.ct,o)),r=nt.fromMillis(e.localWriteTimeMs);return new Pd(e.batchId,r,n,i)}function _d(t){let e=js(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?js(t.lastLimboFreeSnapshotVersion):J.min(),i;return i=function(o){return o.documents!==void 0}(t.query)?function(o){return X(o.documents.length===1),rn(rl(LO(o.documents[0])))}(t.query):function(o){return rn($O(o))}(t.query),new Wc(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Rt.fromBase64String(t.resumeToken))}function GO(t,e){let n=Vs(e.snapshotVersion),i=Vs(e.lastLimboFreeSnapshotVersion),r;r=ng(e.target)?BO(t.ct,e.target):UO(t.ct,e.target).ut;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fs(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function yD(t){let e=$O({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rg(e,e.limit,"L"):e}function aE(t,e){return new kd(e.largestBatchId,GE(t.ct,e.overlayMutation))}function bN(t,e){let n=e.path.lastSegment();return[t,nn(e.path.popLast()),n]}function EN(t,e,n,i){return{indexId:t,uid:e,sequenceNumber:n,readTime:Vs(i.readTime),documentKey:nn(i.documentKey.path),largestBatchId:i.largestBatchId}}var WE=class{getBundleMetadata(e,n){return IN(e).get(n).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:js(o.createTime),version:o.version}}(i)})}saveBundleMetadata(e,n){return IN(e).put(function(r){return{bundleId:r.id,createTime:Vs(ht(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return DN(e).get(n).next(i=>{if(i)return function(o){return{name:o.name,query:yD(o.bundledQuery),readTime:js(o.readTime)}}(i)})}saveNamedQuery(e,n){return DN(e).put(function(r){return{name:r.name,readTime:Vs(ht(r.readTime)),bundledQuery:r.bundledQuery}}(n))}};function IN(t){return Mt(t,"bundles")}function DN(t){return Mt(t,"namedQueries")}var ug=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let i=n.uid||"";return new t(e,i)}getOverlay(e,n){return pd(e).get(bN(this.userId,n)).next(i=>i?aE(this.serializer,i):null)}getOverlays(e,n){let i=Hi();return D.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){let r=[];return i.forEach((o,s)=>{let a=new kd(n,s);r.push(this.ht(e,a))}),D.waitFor(r)}removeOverlaysForBatchId(e,n,i){let r=new Set;n.forEach(s=>r.add(nn(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(pd(e).H("collectionPathOverlayIndex",a))}),D.waitFor(o)}getOverlaysForCollection(e,n,i){let r=Hi(),o=nn(n),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return pd(e).W("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let l=aE(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(e,n,i,r){let o=Hi(),s,a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return pd(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{let f=aE(this.serializer,l);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):u.done()}).next(()=>o)}ht(e,n){return pd(e).put(function(r,o,s){let[a,c,l]=bN(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ld(r.ct,s.mutation)}}(this.serializer,this.userId,n))}};function pd(t){return Mt(t,"documentOverlays")}var _r=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(st(e.integerValue));else if("doubleValue"in e){let i=st(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Td(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Eo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?cO(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):z()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),U.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};_r.bt=new _r;function M7(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function CN(t){let e=64-function(i){let r=0;for(let o=0;o<8;++o){let s=M7(255&i[o]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}var KE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Ct(i.value),i=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Mt(i.value),i=n.next();this.xt()}Ot(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{let r=n.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{let r=n.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(e){let n=this.Bt(e),i=CN(n);this.kt(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}qt(e){let n=this.Bt(e),i=CN(n);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},YE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},QE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},xs=class{constructor(){this.Gt=new KE,this.zt=new YE(this.Gt),this.jt=new QE(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var Rs=class t{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new t(this.indexId,this.documentKey,this.arrayValue,i)}};function po(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=TN(t.arrayValue,e.arrayValue),n!==0?n:(n=TN(t.directionalValue,e.directionalValue),n!==0?n:U.comparator(t.documentKey,e.documentKey)))}function TN(t,e){for(let n=0;n<t.length&&n<e.length;++n){let i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}var dg=class{constructor(e){this.Yt=new ze((n,i)=>dt.comparator(n.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let i=n;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}get en(){return this.Yt.size>1}tn(e){if(X(e.collectionGroup===this.collectionId),this.en)return!1;let n=vE(e);if(n!==void 0&&!this.nn(n))return!1;let i=Ts(e),r=new Set,o=0,s=0;for(;o<i.length&&this.nn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let c=i[o];if(!this.rn(a,c)||!this.sn(this.Zt[s++],c))return!1}++o}for(;o<i.length;++o){let a=i[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new ze(dt.comparator),n=[];for(let i of this.Xt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new Lc(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),n.push(new Lc(i.field,0))}for(let i of this.Zt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),n.push(new Lc(i.field,i.dir==="asc"?0:1)));return new Uc(Uc.UNKNOWN_ID,this.collectionId,n,Cd.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function WO(t){var e,n;if(X(t instanceof Ee||t instanceof Be),t instanceof Ee){if(t instanceof tg){let r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Ee.create(t.field,"==",o)))||[];return Be.create(r,"or")}return t}let i=t.filters.map(r=>WO(r));return Be.create(i,t.op)}function P7(t){if(t.getFilters().length===0)return[];let e=JE(WO(t));return X(KO(e)),ZE(e)||XE(e)?[e]:e.getFilters()}function ZE(t){return t instanceof Ee}function XE(t){return t instanceof Be&&fD(t)}function KO(t){return ZE(t)||XE(t)||function(n){if(n instanceof Be&&TE(n)){for(let i of n.getFilters())if(!ZE(i)&&!XE(i))return!1;return!0}return!1}(t)}function JE(t){if(X(t instanceof Ee||t instanceof Be),t instanceof Ee)return t;if(t.filters.length===1)return JE(t.filters[0]);let e=t.filters.map(i=>JE(i)),n=Be.create(e,t.op);return n=hg(n),KO(n)?n:(X(n instanceof Be),X(Hc(n)),X(n.filters.length>1),n.filters.reduce((i,r)=>vD(i,r)))}function vD(t,e){let n;return X(t instanceof Ee||t instanceof Be),X(e instanceof Ee||e instanceof Be),n=t instanceof Ee?e instanceof Ee?function(r,o){return Be.create([r,o],"and")}(t,e):AN(t,e):e instanceof Ee?AN(e,t):function(r,o){if(X(r.filters.length>0&&o.filters.length>0),Hc(r)&&Hc(o))return hO(r,o.getFilters());let s=TE(r)?r:o,a=TE(r)?o:r,c=s.filters.map(l=>vD(l,a));return Be.create(c,"or")}(t,e),hg(n)}function AN(t,e){if(Hc(e))return hO(e,t.getFilters());{let n=e.filters.map(i=>vD(t,i));return Be.create(n,"or")}}function hg(t){if(X(t instanceof Ee||t instanceof Be),t instanceof Ee)return t;let e=t.getFilters();if(e.length===1)return hg(e[0]);if(uO(t))return t;let n=e.map(r=>hg(r)),i=[];return n.forEach(r=>{r instanceof Ee?i.push(r):r instanceof Be&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:Be.create(i,t.op)}var eI=class{constructor(){this._n=new Vd}addToCollectionParentIndex(e,n){return this._n.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}deleteAllFieldIndexes(e){return D.resolve()}createTargetIndexes(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve($n.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve($n.min())}updateCollectionGroup(e,n,i){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}},Vd=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ze(Se.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ze(Se.comparator)).toArray()}};var Lm=new Uint8Array(0),tI=class{constructor(e,n){this.databaseId=n,this.an=new Vd,this.un=new Yi(i=>Fs(i),(i,r)=>Kd(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let o={collectionId:i,parent:nn(r)};return SN(e).put(o)}return D.resolve()}getCollectionParents(e,n){let i=[],r=IDBKeyRange.bound([n,""],[ZN(n),""],!1,!0);return SN(e).W(r).next(o=>{for(let s of o){if(s.collectionId!==n)break;i.push($i(s.parent))}return i})}addFieldIndex(e,n){let i=md(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete r.indexId;let o=i.add(r);if(n.indexState){let s=xc(e);return o.next(a=>{s.put(EN(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let i=md(e),r=xc(e),o=Sc(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=md(e),i=Sc(e),r=xc(e);return n.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,n){return D.forEach(this.cn(n),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let o=new dg(i).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let i=Sc(e),r=!0,o=new Map;return D.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=fe(),a=[];return D.forEach(o,(c,l)=>{k("IndexedDbIndexManager",`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(R=>`${R.fieldPath}:${R.kind}`).join(",")}`}(c)} to execute ${Fs(n)}`);let u=function(M,R){let q=vE(R);if(q===void 0)return null;for(let ee of ig(M,q.fieldPath))switch(ee.op){case"array-contains-any":return ee.value.arrayValue.values||[];case"array-contains":return[ee.value]}return null}(l,c),f=function(M,R){let q=new Map;for(let ee of Ts(R))for(let Ie of ig(M,ee.fieldPath))switch(Ie.op){case"==":case"in":q.set(ee.fieldPath.canonicalString(),Ie.value);break;case"not-in":case"!=":return q.set(ee.fieldPath.canonicalString(),Ie.value),Array.from(q.values())}return null}(l,c),m=function(M,R){let q=[],ee=!0;for(let Ie of Ts(R)){let Je=Ie.kind===0?aN(M,Ie.fieldPath,M.startAt):cN(M,Ie.fieldPath,M.startAt);q.push(Je.value),ee&&(ee=Je.inclusive)}return new Ki(q,ee)}(l,c),g=function(M,R){let q=[],ee=!0;for(let Ie of Ts(R)){let Je=Ie.kind===0?cN(M,Ie.fieldPath,M.endAt):aN(M,Ie.fieldPath,M.endAt);q.push(Je.value),ee&&(ee=Je.inclusive)}return new Ki(q,ee)}(l,c),w=this.hn(c,l,m),I=this.hn(c,l,g),E=this.Pn(c,l,f),A=this.In(c.indexId,u,w,m.inclusive,I,g.inclusive,E);return D.forEach(A,B=>i.j(B,n.limit).next(M=>{M.forEach(R=>{let q=U.fromSegments(R.documentKey);s.has(q)||(s=s.add(q),a.push(q))})}))}).next(()=>a)}return D.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=P7(Be.create(e.filters,"and")).map(i=>OE(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,i,r,o,s,a){let c=(n!=null?n.length:1)*Math.max(i.length,o.length),l=c/(n!=null?n.length:1),u=[];for(let f=0;f<c;++f){let m=n?this.Tn(n[f/l]):Lm,g=this.En(e,m,i[f%l],r),w=this.dn(e,m,o[f%l],s),I=a.map(E=>this.En(e,m,E,!0));u.push(...this.createRange(g,w,I))}return u}En(e,n,i,r){let o=new Rs(e,U.empty(),n,i);return r?o:o.Jt()}dn(e,n,i,r){let o=new Rs(e,U.empty(),n,i);return r?o.Jt():o}ln(e,n){let i=new dg(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(let a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let i=2,r=this.cn(n);return D.forEach(r,o=>this.ln(e,o).next(s=>{s?i!==0&&s.fields.length<function(c){let l=new ze(dt.comparator),u=!1;for(let f of c.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?u=!0:l=l.add(m.field));for(let f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>function(s){return s.limit!==null}(n)&&r.length>1&&i===2?1:i)}An(e,n){let i=new xs;for(let r of Ts(e)){let o=n.data.field(r.fieldPath);if(o==null)return null;let s=i.Ht(r.kind);_r.bt.Pt(o,s)}return i.Wt()}Tn(e){let n=new xs;return _r.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let i=new xs;return _r.bt.Pt(Ns(this.databaseId,n),i.Ht(function(o){let s=Ts(o);return s.length===0?0:s[s.length-1].kind}(e))),i.Wt()}Pn(e,n,i){if(i===null)return[];let r=[];r.push(new xs);let o=0;for(let s of Ts(e)){let a=i[o++];for(let c of r)if(this.Vn(n,s.fieldPath)&&Rd(a))r=this.mn(r,s,a);else{let l=c.Ht(s.kind);_r.bt.Pt(a,l)}}return this.fn(r)}hn(e,n,i){return this.Pn(e,n,i.position)}fn(e){let n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Wt();return n}mn(e,n,i){let r=[...e],o=[];for(let s of i.arrayValue.values||[])for(let a of r){let c=new xs;c.seed(a.Wt()),_r.bt.Pt(s,c.Ht(n.kind)),o.push(c)}return o}Vn(e,n){return!!e.filters.find(i=>i instanceof Ee&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){let i=md(e),r=xc(e);return(n?i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.W()).next(o=>{let s=[];return D.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(u,f){let m=f?new Cd(f.sequenceNumber,new $n(js(f.readTime),new U($i(f.documentKey)),f.largestBatchId)):Cd.empty(),g=u.fields.map(([w,I])=>new Lc(dt.fromServerFormat(w),I));return new Uc(u.indexId,u.collectionGroup,g,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{let o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:de(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){let r=md(e),o=xc(e);return this.gn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>D.forEach(a,c=>o.put(EN(c.indexId,this.uid,s,i)))))}updateIndexEntries(e,n){let i=new Map;return D.forEach(n,(r,o)=>{let s=i.get(r.collectionGroup);return(s?D.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),D.forEach(a,c=>this.pn(e,r,c).next(l=>{let u=this.yn(o,c);return l.isEqual(u)?D.resolve():this.wn(e,o,c,l,u)}))))})}Sn(e,n,i,r){return Sc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(i,n.key),documentKey:n.key.path.toArray()})}bn(e,n,i,r){return Sc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(i,n.key),n.key.path.toArray()])}pn(e,n,i){let r=Sc(e),o=new ze(po);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Rn(i,n)])},(s,a)=>{o=o.add(new Rs(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let i=new ze(po),r=this.An(n,e);if(r==null)return i;let o=vE(n);if(o!=null){let s=e.data.field(o.fieldPath);if(Rd(s))for(let a of s.arrayValue.values||[])i=i.add(new Rs(n.indexId,e.key,this.Tn(a),r))}else i=i.add(new Rs(n.indexId,e.key,Lm,r));return i}wn(e,n,i,r,o){k("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(c,l,u,f,m){let g=c.getIterator(),w=l.getIterator(),I=Ac(g),E=Ac(w);for(;I||E;){let A=!1,B=!1;if(I&&E){let M=u(I,E);M<0?B=!0:M>0&&(A=!0)}else I!=null?B=!0:A=!0;A?(f(E),E=Ac(w)):B?(m(I),I=Ac(g)):(I=Ac(g),E=Ac(w))}}(r,o,po,a=>{s.push(this.Sn(e,n,i,a))},a=>{s.push(this.bn(e,n,i,a))}),D.waitFor(s)}gn(e){let n=1;return xc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((s,a)=>po(s,a)).filter((s,a,c)=>!a||po(s,c[a-1])!==0);let r=[];r.push(e);for(let s of i){let a=po(s,e),c=po(s,n);if(a===0)r[0]=e.Jt();else if(a>0&&c<0)r.push(s),r.push(s.Jt());else if(c>0)break}r.push(n);let o=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Lm,[]],c=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Lm,[]];o.push(IDBKeyRange.bound(a,c))}return o}Dn(e,n){return po(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(xN)}getMinOffset(e,n){return D.mapArray(this.cn(n),i=>this.ln(e,i).next(r=>r||z())).next(xN)}};function SN(t){return Mt(t,"collectionParents")}function Sc(t){return Mt(t,"indexEntries")}function md(t){return Mt(t,"indexConfiguration")}function xc(t){return Mt(t,"indexState")}function xN(t){X(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){let r=t[i].indexState.offset;uD(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new $n(e.readTime,e.documentKey,n)}var RN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bn=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function YO(t,e,n){let i=t.store("mutations"),r=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=i.Y({range:s},(u,f,m)=>(a++,m.delete()));o.push(c.next(()=>{X(a===1)}));let l=[];for(let u of n.mutations){let f=nO(e,u.key.path,n.batchId);o.push(r.delete(f)),l.push(u.key)}return D.waitFor(o).next(()=>l)}function fg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw z();e=t.noDocument}return JSON.stringify(e).length}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);var pg=class t{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Cn={}}static lt(e,n,i,r){X(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,i,r)}checkEmpty(e){let n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mo(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,i,r){let o=Oc(e),s=mo(e);return s.add({}).next(a=>{X(typeof a=="number");let c=new Pd(a,n,i,r),l=function(g,w,I){let E=I.baseMutations.map(B=>Ld(g.ct,B)),A=I.mutations.map(B=>Ld(g.ct,B));return{userId:w,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:E,mutations:A}}(this.serializer,this.userId,c),u=[],f=new ze((m,g)=>de(m.canonicalString(),g.canonicalString()));for(let m of r){let g=nO(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),u.push(s.put(l)),u.push(o.put(g,jW))}return f.forEach(m=>{u.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),D.waitFor(u).next(()=>c)})}lookupMutationBatch(e,n){return mo(e).get(n).next(i=>i?(X(i.userId===this.userId),Ss(this.serializer,i)):null)}vn(e,n){return this.Cn[n]?D.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){let r=i.keys();return this.Cn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return mo(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(X(a.batchId>=i),o=Ss(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return mo(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mo(e).W("userMutationsIndex",n).next(i=>i.map(r=>Ss(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){let i=Um(this.userId,n.path),r=IDBKeyRange.lowerBound(i),o=[];return Oc(e).Y({range:r},(s,a,c)=>{let[l,u,f]=s,m=$i(u);if(l===this.userId&&n.path.isEqual(m))return mo(e).get(f).next(g=>{if(!g)throw z();X(g.userId===this.userId),o.push(Ss(this.serializer,g))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ze(de),r=[];return n.forEach(o=>{let s=Um(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Oc(e).Y({range:a},(l,u,f)=>{let[m,g,w]=l,I=$i(g);m===this.userId&&o.path.isEqual(I)?i=i.add(w):f.done()});r.push(c)}),D.waitFor(r).next(()=>this.Fn(e,i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=Um(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new ze(de);return Oc(e).Y({range:s},(c,l,u)=>{let[f,m,g]=c,w=$i(m);f===this.userId&&i.isPrefixOf(w)?w.length===r&&(a=a.add(g)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let i=[],r=[];return n.forEach(o=>{r.push(mo(e).get(o).next(s=>{if(s===null)throw z();X(s.userId===this.userId),i.push(Ss(this.serializer,s))}))}),D.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return YO(e.ae,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),D.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return D.resolve();let i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return Oc(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){let c=$i(o[1]);r.push(c)}else a.done()}).next(()=>{X(r.length===0)})})}containsKey(e,n){return QO(e,this.userId,n)}xn(e){return ZO(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function QO(t,e,n){let i=Um(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Oc(t).Y({range:o,J:!0},(a,c,l)=>{let[u,f,m]=a;u===e&&f===r&&(s=!0),l.done()}).next(()=>s)}function mo(t){return Mt(t,"mutations")}function Oc(t){return Mt(t,"documentMutations")}function ZO(t){return Mt(t,"mutationQueues")}var Kc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var nI=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let i=new Kc(n.highestTargetId);return n.highestTargetId=i.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>J.fromTimestamp(new nt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.kn(e,r)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.Qn(n,i),this.kn(e,i))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Rc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(i=>(X(i.targetCount>0),i.targetCount-=1,this.kn(e,i)))}removeTargets(e,n,i){let r=0,o=[];return Rc(e).Y((s,a)=>{let c=_d(a);c.sequenceNumber<=n&&i.get(c.targetId)===null&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>D.waitFor(o)).next(()=>r)}forEachTarget(e,n){return Rc(e).Y((i,r)=>{let o=_d(r);n(o)})}Bn(e){return MN(e).get("targetGlobalKey").next(n=>(X(n!==null),n))}kn(e,n){return MN(e).put("targetGlobalKey",n)}qn(e,n){return Rc(e).put(GO(this.serializer,n))}Qn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let i=Fs(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return Rc(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{let l=_d(a);Kd(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,i){let r=[],o=go(e);return n.forEach(s=>{let a=nn(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),D.waitFor(r)}removeMatchingKeys(e,n,i){let r=go(e);return D.forEach(n,o=>{let s=nn(o.path);return D.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,n){let i=go(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){let i=IDBKeyRange.bound([n],[n+1],!1,!0),r=go(e),o=fe();return r.Y({range:i,J:!0},(s,a,c)=>{let l=$i(s[1]),u=new U(l);o=o.add(u)}).next(()=>o)}containsKey(e,n){let i=nn(n.path),r=IDBKeyRange.bound([i],[ZN(i)],!1,!0),o=0;return go(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return Rc(e).get(n).next(i=>i?_d(i):null)}};function Rc(t){return Mt(t,"targets")}function MN(t){return Mt(t,"targetGlobal")}function go(t){return Mt(t,"targetDocuments")}function PN([t,e],[n,i]){let r=de(t,n);return r===0?de(e,i):r}var iI=class{constructor(e){this.Kn=e,this.buffer=new ze(PN),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let i=this.buffer.last();PN(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}},rI=class{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){k("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>T(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?k("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Ro(n)}yield this.zn(3e5)}))}},oI=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return D.resolve(Dn._e);let i=new iI(n);return this.jn.forEachTarget(e,r=>i.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(e,r=>i.Wn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(k("LruGarbageCollector","Garbage collection skipped; disabled"),D.resolve(RN)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RN):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let i,r,o,s,a,c,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(k("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(l=Date.now(),Mc()<=mi.DEBUG&&k("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),D.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}};function k7(t,e){return new oI(t,e)}var sI=class{constructor(e,n){this.db=e,this.garbageCollector=k7(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Zn(e){let n=0;return this.Jn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(i,r)=>n(r))}addReference(e,n,i){return Vm(e,i)}removeReference(e,n,i){return Vm(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return Vm(e,n)}er(e,n){return function(r,o){let s=!1;return ZO(r).Z(a=>QO(r,a,o).next(c=>(c&&(s=!0),D.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.Xn(e,(s,a)=>{if(a<=n){let c=this.er(e,s).next(l=>{if(!l)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,J.min()),go(e).delete(function(f){return[0,nn(f.path)]}(s))))});r.push(c)}}).next(()=>D.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,n){let i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return Vm(e,n)}Xn(e,n){let i=go(e),r,o=Dn._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{s===0?(o!==Dn._e&&n(new U($i(r)),o),o=l,r=c):o=Dn._e}).next(()=>{o!==Dn._e&&n(new U($i(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Vm(t,e){return go(t).put(function(i,r){return{targetId:0,path:nn(i.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}var mg=class{constructor(){this.changes=new Yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?D.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var aI=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return Cs(e).put(i)}removeEntry(e,n,i){return Cs(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],lg(s),a[a.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.tr(e,i)))}getEntry(e,n){let i=_t.newInvalidDocument(n);return Cs(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(gd(n))},(r,o)=>{i=this.nr(n,o)}).next(()=>i)}rr(e,n){let i={size:0,document:_t.newInvalidDocument(n)};return Cs(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(gd(n))},(r,o)=>{i={document:this.nr(n,o),size:fg(o)}}).next(()=>i)}getEntries(e,n){let i=fn();return this.ir(e,n,(r,o)=>{let s=this.nr(r,o);i=i.insert(r,s)}).next(()=>i)}sr(e,n){let i=fn(),r=new Ye(U.comparator);return this.ir(e,n,(o,s)=>{let a=this.nr(o,s);i=i.insert(o,a),r=r.insert(o,fg(s))}).next(()=>({documents:i,_r:r}))}ir(e,n,i){if(n.isEmpty())return D.resolve();let r=new ze(ON);n.forEach(c=>r=r.add(c));let o=IDBKeyRange.bound(gd(r.first()),gd(r.last())),s=r.getIterator(),a=s.getNext();return Cs(e).Y({index:"documentKeyIndex",range:o},(c,l,u)=>{let f=U.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&ON(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?u.U(gd(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,i,r,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),lg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cs(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let u=fn();for(let f of l){let m=this.nr(U.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Qd(n,m)||r.has(m.key))&&(u=u.insert(m.key,m))}return u})}getAllFromCollectionGroup(e,n,i,r){let o=fn(),s=NN(n,i),a=NN(n,$n.max());return Cs(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{let f=this.nr(U.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new cI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return kN(e).get("remoteDocumentGlobalKey").next(n=>(X(!!n),n))}tr(e,n){return kN(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let i=R7(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(J.min())))return i}return _t.newInvalidDocument(e)}};function XO(t){return new aI(t)}var cI=class extends mg{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Yi(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let n=[],i=0,r=new ze((o,s)=>de(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=wN(this.ar.serializer,s);r=r.add(o.path.popLast());let l=fg(c);i+=l-a.size,n.push(this.ar.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){let c=wN(this.ar.serializer,s.convertToNoDocument(J.min()));n.push(this.ar.addEntry(e,o,c))}}),r.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,i)),D.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(i=>(this.ur.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:i,_r:r})=>(r.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:i.get(o).readTime})}),i))}};function kN(t){return Mt(t,"remoteDocumentGlobal")}function Cs(t){return Mt(t,"remoteDocumentsV14")}function gd(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function NN(t,e){let n=e.documentKey.path.toArray();return[t,lg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ON(t,e){let n=t.path.toArray(),i=e.path.toArray(),r=0;for(let o=0;o<n.length-2&&o<i.length-2;++o)if(r=de(n[o],i[o]),r)return r;return r=de(n.length,i.length),r||(r=de(n[n.length-2],i[i.length-2]),r||de(n[n.length-1],i[i.length-1]))}var lI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var gg=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ed(i.mutation,r,Cn.empty(),nt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,fe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=fe()){let r=Hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=vd();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=Hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,fe()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=fn(),s=bd(),a=function(){return bd()}();return n.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof ci)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),Ed(u.mutation,l,u.mutation.getFieldMask(),nt.now())):s.set(l.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var f;return a.set(l,new lI(u,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let i=bd(),r=new Ye((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=i.get(c)||Cn.empty();u=a.applyToLocalView(l,u),i.set(c,u);let f=(r.get(a.batchId)||fe()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,f=bO();u.forEach(m=>{if(!o.has(m)){let g=xO(n.get(m),i.get(m));g!==null&&f.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return D.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return U.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):D.resolve(Hi()),a=-1,c=o;return s.next(l=>D.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?D.resolve():this.remoteDocumentCache.getEntry(e,u).next(m=>{c=c.insert(u,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,fe())).next(u=>({batchId:a,changes:wO(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(i=>{let r=vd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=vd();return this.indexManager.getCollectionParents(e,o).next(a=>D.forEach(a,c=>{let l=function(f,m){return new ai(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,_t.newInvalidDocument(u)))});let a=vd();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&Ed(u.mutation,l,Cn.empty(),nt.now()),Qd(n,l)&&(a=a.insert(c,l))}),a})}};var uI=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return D.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ht(r.createTime)}}(n)),D.resolve()}getNamedQuery(e,n){return D.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:yD(r.bundledQuery),readTime:ht(r.readTime)}}(n)),D.resolve()}};var dI=class{constructor(){this.overlays=new Ye(U.comparator),this.hr=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Hi();return D.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),D.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),D.resolve()}getOverlaysForCollection(e,n,i){let r=Hi(),o=n.length+1,s=new U(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return D.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Ye((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let u=o.get(l.largestBatchId);u===null&&(u=Hi(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Hi(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return D.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new kd(n,i));let o=this.hr.get(n);o===void 0&&(o=fe(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var jd=class{constructor(){this.Pr=new ze(gt.Ir),this.Tr=new ze(gt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new gt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new gt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new U(new Se([])),i=new gt(n,e),r=new gt(n,e+1),o=[];return this.Tr.forEachInRange([i,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new U(new Se([])),i=new gt(n,e),r=new gt(n,e+1),o=fe();return this.Tr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new gt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},gt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return U.comparator(e.key,n.key)||de(e.pr,n.pr)}static Er(e,n){return de(e.pr,n.pr)||U.comparator(e.key,n.key)}};var hI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ze(gt.Ir)}checkEmpty(e){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Pd(o,n,i,r);this.mutationQueue.push(s);for(let a of r)this.wr=this.wr.add(new gt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(s)}lookupMutationBatch(e,n){return D.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return D.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new gt(n,0),r=new gt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],s=>{let a=this.Sr(s.pr);o.push(a)}),D.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ze(de);return n.forEach(r=>{let o=new gt(r,0),s=new gt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{i=i.add(a.pr)})}),D.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;U.isDocumentKey(o)||(o=o.child(""));let s=new gt(new U(o),0),a=new ze(de);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},s),D.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){X(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return D.forEach(n.mutations,r=>{let o=new gt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new gt(n,0),r=this.wr.firstAfterOrEqual(i);return D.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,D.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var fI=class{constructor(e){this.vr=e,this.docs=function(){return new Ye(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return D.resolve(i?i.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let i=fn();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():_t.newInvalidDocument(r))}),D.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=fn(),s=n.path,a=new U(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||uD(JN(u),i)<=0||(r.has(u.key)||Qd(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return D.resolve(o)}getAllFromCollectionGroup(e,n,i,r){z()}Fr(e,n){return D.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new pI(this)}getSize(e){return D.resolve(this.size)}},pI=class extends mg{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),D.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var mI=class{constructor(e){this.persistence=e,this.Mr=new Yi(n=>Fs(n),Kd),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Or=0,this.Nr=new jd,this.targetCount=0,this.Lr=Kc.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),D.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Kc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.qn(n),D.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),D.waitFor(o).next(()=>r)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return D.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),D.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),D.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),D.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return D.resolve(i)}containsKey(e,n){return D.resolve(this.Nr.containsKey(n))}};var yg=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new Dn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new mI(this),this.indexManager=new eI,this.remoteDocumentCache=function(r){return new fI(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new cg(n),this.$r=new uI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new hI(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){k("MemoryPersistence","Starting transaction:",e);let r=new gI(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return D.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},gI=class extends Qm{constructor(e){super(),this.currentSequenceNumber=e}},vg=class t{constructor(e){this.persistence=e,this.zr=new jd,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw z()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),D.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),D.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Jr,i=>{let r=U.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,J.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return D.or([()=>D.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var yI=class{constructor(e){this.serializer=e}N(e,n,i,r){let o=new Zm("createOrUpgrade",n);i<1&&r>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xk,{unique:!0}),c.createObjectStore("documentMutations")}(e),FN(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=D.resolve();return i<3&&r>=3&&(i!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),FN(e)),s=s.next(()=>function(c){let l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:J.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xk,{unique:!0});let f=l.store("mutations"),m=u.map(g=>f.put(g));return D.waitFor(m)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(s=s.next(()=>this.Xr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),i<7&&r>=7&&(s=s.next(()=>this.ti(o))),i<8&&r>=8&&(s=s.next(()=>this.ni(e,o))),i<9&&r>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(s=s.next(()=>this.ri(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:ZW});l.createIndex("collectionPathOverlayIndex",XW,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",JW,{unique:!1})})(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:BW});l.createIndex("documentKeyIndex",UW),l.createIndex("collectionGroupIndex",$W)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:WW}).createIndex("sequenceNumberIndex",KW,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:YW}).createIndex("documentKeyIndex",QW,{unique:!1})}(e))),s}ei(e){let n=0;return e.store("remoteDocuments").Y((i,r)=>{n+=fg(r)}).next(()=>{let i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Xr(e){let n=e.store("mutationQueues"),i=e.store("mutations");return n.W().next(r=>D.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>D.forEach(a,c=>{X(c.userId===o.userId);let l=Ss(this.serializer,c);return YO(e,o.userId,l).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return i.Y((s,a)=>{let c=new Se(s),l=function(f){return[0,nn(f)]}(c);o.push(n.get(l).next(u=>u?D.resolve():(f=>n.put({targetId:0,path:nn(f),sequenceNumber:r.highestListenSequenceNumber}))(c)))}).next(()=>D.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:GW});let i=n.store("collectionParents"),r=new Vd,o=s=>{if(r.add(s)){let a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:nn(c)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{let c=new Se(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,c],l)=>{let u=$i(a);return o(u.popLast())}))}ri(e){let n=e.store("targets");return n.Y((i,r)=>{let o=_d(r),s=GO(this.serializer,o);return n.put(s)})}ii(e,n){let i=n.store("remoteDocuments"),r=[];return i.Y((o,s)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new U(Se.fromString(f.document.name).popFirst(5)):f.noDocument?U.fromSegments(f.noDocument.path):f.unknownDocument?U.fromSegments(f.unknownDocument.path):z()}(s).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(l))}).next(()=>D.waitFor(r))}si(e,n){let i=n.store("mutations"),r=XO(this.serializer),o=new yg(vg.Hr,this.serializer.ct);return i.W().next(s=>{let a=new Map;return s.forEach(c=>{var l;let u=(l=a.get(c.userId))!==null&&l!==void 0?l:fe();Ss(this.serializer,c).keys().forEach(f=>u=u.add(f)),a.set(c.userId,u)}),D.forEach(a,(c,l)=>{let u=new yt(l),f=ug.lt(this.serializer,u),m=o.getIndexManager(u),g=pg.lt(u,this.serializer,m,o.referenceDelegate);return new gg(r,g,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Ad(n,Dn._e),c).next()})})}};function FN(t){t.createObjectStore("targetDocuments",{keyPath:zW}).createIndex("documentTargetsIndex",qW,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",HW,{unique:!0}),t.createObjectStore("targetGlobal")}var cE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vI=class t{constructor(e,n,i,r,o,s,a,c,l,u,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.oi=o,this.window=s,this.document=a,this._i=l,this.ai=u,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=m=>Promise.resolve(),!t.D())throw new P(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sI(this,r),this.Ti=n+"main",this.serializer=new cg(c),this.Ei=new br(this.Ti,this.ui,new yI(this.serializer)),this.Qr=new nI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=XO(this.serializer),this.$r=new WE,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&ut("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new P(C.FAILED_PRECONDITION,cE);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Dn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>T(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(n=>T(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>T(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Mo(e))return k("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return k("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return yd(e).get("owner").next(n=>D.resolve(this.Si(n)))}bi(e){return jm(e).delete(this.clientId)}Di(){return T(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let i=Mt(n,"clientMetadata");return i.W().next(r=>{let o=this.vi(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return D.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?D.resolve(!0):yd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new P(C.FAILED_PRECONDITION,cE);return!1}}return!(!this.networkEnabled||!this.inForeground)||jm(e).W().next(i=>this.vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&k("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return T(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Ad(e,Dn._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(i=>this.Ci(i.updateTimeMs,n)&&!this.Mi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>jm(e).W().next(n=>this.vi(n,18e5).map(i=>i.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return pg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tI(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ug.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,i){k("IndexedDbPersistence","Starting transaction:",e);let r=n==="readonly"?"readonly":"readwrite",o=function(c){return c===15?t7:c===14?oO:c===13?rO:c===12?e7:c===11?iO:void z()}(this.ui),s;return this.Ei.runTransaction(e,r,o,a=>(s=new Ad(a,this.kr?this.kr.next():Dn._e),n==="readwrite-primary"?this.gi(s).next(c=>!!c||this.pi(s)).next(c=>{if(!c)throw ut(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new P(C.FAILED_PRECONDITION,eO);return i(s)}).next(c=>this.wi(s).next(()=>c)):this.ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return yd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new P(C.FAILED_PRECONDITION,cE)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yd(e).put("owner",n)}static D(){return br.D()}yi(e){let n=yd(e);return n.get("owner").next(i=>this.Si(i)?(k("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):D.resolve())}Ci(e,n){let i=Date.now();return!(e<i-n)&&(!(e>i)||(ut(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;Ey()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let i=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return k("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ut("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){ut("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function yd(t){return Mt(t,"owner")}function jm(t){return Mt(t,"clientMetadata")}function _D(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var _I=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=fe(),r=fe();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var wI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var _g=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Ey()?8:br.v(vl())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new wI;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Mc()<=mi.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",Pc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),D.resolve()):(Mc()<=mi.DEBUG&&k("QueryEngine","Query:",Pc(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Mc()<=mi.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",Pc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rn(n))):D.resolve())}ji(e,n){if(lN(n))return D.resolve(null);let i=rn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=rg(n,null,"F"),i=rn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=fe(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,s,c.readTime)?this.ji(e,rg(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,i,r){return lN(n)||r.isEqual(J.min())?D.resolve(null):this.zi.getDocuments(e,i).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,i,r)?D.resolve(null):(Mc()<=mi.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pc(n)),this.es(e,s,n,XN(r,-1)).next(a=>a))})}Zi(e,n){let i=new ze(vO(e));return n.forEach((r,o)=>{Qd(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return Mc()<=mi.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",Pc(n)),this.zi.getDocumentsMatchingQuery(e,n,$n.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var bI=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Ye(de),this.rs=new Yi(o=>Fs(o),Kd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gg(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function JO(t,e,n,i){return new bI(t,e,n,i)}function eF(t,e){return T(this,null,function*(){let n=$(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=fe();for(let l of r){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(i,c).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})})}function N7(t,e){let n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let f=l.batch,m=f.keys(),g=D.resolve();return m.forEach(w=>{g=g.next(()=>u.getEntry(c,w)).next(I=>{let E=l.docVersions.get(w);X(E!==null),I.version.compareTo(E)<0&&(f.applyToRemoteDocument(I,l),I.isValidDocument()&&(I.setReadTime(l.commitVersion),u.addEntry(I)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function tF(t){let e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function O7(t,e){let n=$(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((u,f)=>{let m=r.get(f);if(!m)return;a.push(n.Qr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,u.addedDocuments,f)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Rt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,i)),r=r.insert(f,g),function(I,E,A){return I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(m,g,u)&&a.push(n.Qr.updateTargetData(o,g))});let c=fn(),l=fe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(nF(o,s,e.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!i.isEqual(J.min())){let u=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return D.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ns=r,o))}function nF(t,e,n){let i=fe(),r=fe();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=fn();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(J.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):k("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:s,ls:r}})}function F7(t,e){let n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Yc(t,e){let n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,D.resolve(r)):n.Qr.allocateTargetId(i).next(s=>(r=new Wc(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function Qc(t,e,n){return T(this,null,function*(){let i=$(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Mo(s))throw s;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function wg(t,e,n){let i=$(t),r=J.min(),o=fe();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let f=$(c),m=f.rs.get(u);return m!==void 0?D.resolve(f.ns.get(m)):f.Qr.getTargetData(l,u)}(i,s,rn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ts.getDocumentsMatchingQuery(s,e,n?r:J.min(),n?o:fe())).next(a=>(oF(i,yO(e),a),{documents:a,hs:o})))}function iF(t,e){let n=$(t),i=$(n.Qr),r=n.ns.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function rF(t,e){let n=$(t),i=n.ss.get(e)||J.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.os.getAllFromCollectionGroup(r,e,XN(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(oF(n,e,r),r))}function oF(t,e,n){let i=t.ss.get(e)||J.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}function L7(t,e,n,i){return T(this,null,function*(){let r=$(t),o=fe(),s=fn();for(let l of n){let u=e.Ps(l.metadata.name);l.document&&(o=o.add(u));let f=e.Is(l);f.setReadTime(e.Ts(l.metadata.readTime)),s=s.insert(u,f)}let a=r.os.newChangeBuffer({trackRemovals:!0}),c=yield Yc(r,function(u){return rn(rl(Se.fromString(`__bundle__/docs/${u}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>nF(l,a,s).next(u=>(a.apply(l),u)).next(u=>r.Qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.Qr.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,u.cs,u.ls)).next(()=>u.cs)))})}function V7(i,r){return T(this,arguments,function*(t,e,n=fe()){let o=yield Yc(t,rn(yD(e.bundledQuery))),s=$(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=ht(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.$r.saveNamedQuery(a,e);let l=o.withResumeToken(Rt.EMPTY_BYTE_STRING,c);return s.ns=s.ns.insert(l.targetId,l),s.Qr.updateTargetData(a,l).next(()=>s.Qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Qr.addMatchingKeys(a,n,o.targetId)).next(()=>s.$r.saveNamedQuery(a,e))})})}function LN(t,e){return`firestore_clients_${t}_${e}`}function VN(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function lE(t,e){return`firestore_targets_${t}_${e}`}var bg=class t{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static Es(e,n,i){let r=JSON.parse(i),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new P(r.error.code,r.error.message))),s?new t(e,n,r.state,o):(ut("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Id=class t{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static Es(e,n){let i=JSON.parse(n),r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new P(i.error.code,i.error.message))),o?new t(e,i.state,r):(ut("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Eg=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=mD();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=tO(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(ut("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},EI=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(ut("SharedClientState",`Failed to parse online state: ${e}`),null)}},Bd=class{constructor(){this.activeTargetIds=mD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Dd=class{constructor(e,n,i,r,o){this.window=e,this.oi=n,this.persistenceKey=i,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Ye(de),this.started=!1,this.ys=[];let s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=LN(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Bd),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return T(this,null,function*(){let e=yield this.syncEngine.Bi();for(let i of e){if(i===this.Vs)continue;let r=this.getItem(LN(this.persistenceKey,i));if(r){let o=Eg.Es(i,r);o&&(this.ps=this.ps.insert(o.clientId,o))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let i=this.xs(n);i&&this.Os(i)}for(let i of this.ys)this.gs(i);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,i){this.Ls(e,n,i),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(lE(this.persistenceKey,e));if(i){let r=Id.Es(e,i);r&&(n=r.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lE(this.persistenceKey,e))}updateQueryState(e,n,i){this.qs(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return k("SharedClientState","READ",e,n),n}setItem(e,n){k("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){k("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(k("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>T(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let i=this.$s(n.key);return this.Us(i,null)}{let i=this.Ws(n.key,n.newValue);if(i)return this.Us(i.clientId,i)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let i=this.Gs(n.key,n.newValue);if(i)return this.zs(i)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let i=this.js(n.key,n.newValue);if(i)return this.Hs(i)}}else if(n.key===this.vs){if(n.newValue!==null){let i=this.xs(n.newValue);if(i)return this.Os(i)}}else if(n.key===this.Ss){let i=function(o){let s=Dn._e;if(o!=null)try{let a=JSON.parse(o);X(typeof a=="number"),s=a}catch(a){ut("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);i!==Dn._e&&this.sequenceNumberHandler(i)}else if(n.key===this.Fs){let i=this.Js(n.newValue);yield Promise.all(i.map(r=>this.syncEngine.Ys(r)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,i){let r=new bg(this.currentUser,e,n,i),o=VN(this.persistenceKey,this.currentUser,e);this.setItem(o,r.ds())}Bs(e){let n=VN(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,i){let r=lE(this.persistenceKey,e),o=new Id(e,n,i);this.setItem(r,o.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let i=this.$s(e);return Eg.Es(i,n)}Gs(e,n){let i=this.Ds.exec(e),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return bg.Es(new yt(o),r,n)}js(e,n){let i=this.Cs.exec(e),r=Number(i[1]);return Id.Es(r,n)}xs(e){return EI.Es(e)}Js(e){return JSON.parse(e)}zs(e){return T(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);k("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let i=n?this.ps.insert(e,n):this.ps.remove(e),r=this.Ns(this.ps),o=this.Ns(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.eo(s,a).then(()=>{this.ps=i})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=mD();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}},Ig=class{constructor(){this.no=new Bd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Bd,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var II=class{io(e){}shutdown(){}};var Dg=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Bm=null;function uE(){return Bm===null?Bm=function(){return 268435456+Math.round(2147483648*Math.random())}():Bm++,"0x"+Bm.toString(16)}var j7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var DI=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var qt="WebChannelConnection",CI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(n,i,r,o,s){let a=uE(),c=this.bo(n,i.toUriEncodedString());k("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,o,s),this.Co(n,c,l,r).then(u=>(k("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Un("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}vo(n,i,r,o,s,a){return this.So(n,i,r,o,s)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}bo(n,i){let r=j7[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let o=uE();return new Promise((s,a)=>{let c=new Wk;c.setWithCredentials(!0),c.listenOnce(qk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Fm.NO_ERROR:let u=c.getResponseJson();k(qt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Fm.TIMEOUT:k(qt,`RPC '${e}' ${o} timed out`),a(new P(C.DEADLINE_EXCEEDED,"Request time out"));break;case Fm.HTTP_ERROR:let f=c.getStatus();if(k(qt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let w=function(E){let A=E.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(A)>=0?A:C.UNKNOWN}(g.status);a(new P(w,g.message))}else a(new P(C.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new P(C.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{k(qt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(r);k(qt,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",l,i,15)})}Fo(e,n,i){let r=uE(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hk(),a=zk(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let u=o.join("");k(qt,`Creating RPC '${e}' stream ${r}: ${u}`,c);let f=s.createWebChannel(u,c),m=!1,g=!1,w=new DI({lo:E=>{g?k(qt,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(m||(k(qt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),k(qt,`RPC '${e}' stream ${r} sending:`,E),f.send(E))},ho:()=>f.close()}),I=(E,A,B)=>{E.listen(A,M=>{try{B(M)}catch(R){setTimeout(()=>{throw R},0)}})};return I(f,fd.EventType.OPEN,()=>{g||k(qt,`RPC '${e}' stream ${r} transport opened.`)}),I(f,fd.EventType.CLOSE,()=>{g||(g=!0,k(qt,`RPC '${e}' stream ${r} transport closed`),w.Vo())}),I(f,fd.EventType.ERROR,E=>{g||(g=!0,Un(qt,`RPC '${e}' stream ${r} transport errored:`,E),w.Vo(new P(C.UNAVAILABLE,"The operation could not be completed")))}),I(f,fd.EventType.MESSAGE,E=>{var A;if(!g){let B=E.data[0];X(!!B);let M=B,R=M.error||((A=M[0])===null||A===void 0?void 0:A.error);if(R){k(qt,`RPC '${e}' stream ${r} received error:`,R);let q=R.status,ee=function(di){let Zs=mt[di];if(Zs!==void 0)return PO(Zs)}(q),Ie=R.message;ee===void 0&&(ee=C.INTERNAL,Ie="Unknown error status: "+q+" with message "+R.message),g=!0,w.Vo(new P(ee,Ie)),f.close()}else k(qt,`RPC '${e}' stream ${r} received:`,B),w.mo(B)}}),I(a,Gk.STAT_EVENT,E=>{E.stat===sE.PROXY?k(qt,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===sE.NOPROXY&&k(qt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}};function sF(){return typeof window<"u"?window:null}function qm(){return typeof document<"u"?document:null}function Zd(t){return new $E(t,!0)}var Ud=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&k("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Cg=class{constructor(e,n,i,r,o,s,a,c){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Ud(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return T(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return T(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return T(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(ut(n.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new P(C.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>T(this,null,function*(){this.state=0,this.start()}))}__(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},TI=class extends Cg{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=I7(this.serializer,e),i=function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?ht(s.readTime):J.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=qE(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=ng(c)?{documents:BO(o,c)}:{query:UO(o,c).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=NO(o,s.resumeToken);let l=HE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=Gc(o,s.snapshotVersion.toTimestamp());let l=HE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=C7(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=qE(this.serializer),n.removeTarget=e,this.t_(n)}},AI=class extends Cg{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(X(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=D7(e.writeResults,e.commitTime),i=ht(e.commitTime);return this.listener.T_(i,n)}return X(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=qE(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Ld(this.serializer,i))};this.t_(n)}};var SI=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new P(C.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,zE(n,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new P(C.UNKNOWN,o.toString())})}vo(e,n,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,zE(n,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new P(C.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var xI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ut(n),this.g_=!1):k("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var RI=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{i.enqueueAndForget(()=>T(this,null,function*(){Po(this)&&(k("RemoteStore","Restarting streams for network reachability change."),yield function(c){return T(this,null,function*(){let l=$(c);l.v_.add(4),yield ol(l),l.x_.set("Unknown"),l.v_.delete(4),yield Xd(l)})}(this))}))}),this.x_=new xI(i,r)}};function Xd(t){return T(this,null,function*(){if(Po(t))for(let e of t.F_)yield e(!0)})}function ol(t){return T(this,null,function*(){for(let e of t.F_)yield e(!1)})}function zg(t,e){let n=$(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),ED(n)?bD(n):al(n).Jo()&&wD(n,e))}function Zc(t,e){let n=$(t),i=al(n);n.C_.delete(e),i.Jo()&&aF(n,e),n.C_.size===0&&(i.Jo()?i.Xo():Po(n)&&n.x_.set("Unknown"))}function wD(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(t).c_(e)}function aF(t,e){t.O_.Oe(e),al(t).l_(e)}function bD(t){t.O_=new UE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),al(t).start(),t.x_.p_()}function ED(t){return Po(t)&&!al(t).Ho()&&t.C_.size>0}function Po(t){return $(t).v_.size===0}function cF(t){t.O_=void 0}function B7(t){return T(this,null,function*(){t.C_.forEach((e,n)=>{wD(t,e)})})}function U7(t,e){return T(this,null,function*(){cF(t),ED(t)?(t.x_.S_(e),bD(t)):t.x_.set("Unknown")})}function $7(t,e,n){return T(this,null,function*(){if(t.x_.set("Online"),e instanceof sg&&e.state===2&&e.cause)try{yield function(r,o){return T(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.C_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.C_.delete(a),r.O_.removeTarget(a))})}(t,e)}catch(i){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Tg(t,i)}else if(e instanceof jc?t.O_.$e(e):e instanceof og?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(J.min()))try{let i=yield tF(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let a=o.O_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.C_.get(l);u&&o.C_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.C_.get(c);if(!u)return;o.C_.set(c,u.withResumeToken(Rt.EMPTY_BYTE_STRING,u.snapshotVersion)),aF(o,c);let f=new Wc(u.target,c,l,u.sequenceNumber);wD(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){k("RemoteStore","Failed to raise snapshot:",i),yield Tg(t,i)}})}function Tg(t,e,n){return T(this,null,function*(){if(!Mo(e))throw e;t.v_.add(1),yield ol(t),t.x_.set("Offline"),n||(n=()=>tF(t.localStore)),t.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){k("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Xd(t)}))})}function lF(t,e){return e().catch(n=>Tg(t,n,e))}function sl(t){return T(this,null,function*(){let e=$(t),n=xo(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;H7(e);)try{let r=yield F7(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,z7(e,r)}catch(r){yield Tg(e,r)}uF(e)&&dF(e)})}function H7(t){return Po(t)&&t.D_.length<10}function z7(t,e){t.D_.push(e);let n=xo(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function uF(t){return Po(t)&&!xo(t).Ho()&&t.D_.length>0}function dF(t){xo(t).start()}function q7(t){return T(this,null,function*(){xo(t).d_()})}function G7(t){return T(this,null,function*(){let e=xo(t);for(let n of t.D_)e.I_(n.mutations)})}function W7(t,e,n){return T(this,null,function*(){let i=t.D_.shift(),r=VE.from(i,e,n);yield lF(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield sl(t)})}function K7(t,e){return T(this,null,function*(){e&&xo(t).P_&&(yield function(i,r){return T(this,null,function*(){if(function(s){return MO(s)&&s!==C.ABORTED}(r.code)){let o=i.D_.shift();xo(i).Zo(),yield lF(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield sl(i)}})}(t,e)),uF(t)&&dF(t)})}function jN(t,e){return T(this,null,function*(){let n=$(t);n.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");let i=Po(n);n.v_.add(3),yield ol(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Xd(n)})}function MI(t,e){return T(this,null,function*(){let n=$(t);e?(n.v_.delete(2),yield Xd(n)):e||(n.v_.add(2),yield ol(n),n.x_.set("Unknown"))})}function al(t){return t.N_||(t.N_=function(n,i,r){let o=$(n);return o.R_(),new TI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:B7.bind(null,t),To:U7.bind(null,t),u_:$7.bind(null,t)}),t.F_.push(e=>T(this,null,function*(){e?(t.N_.Zo(),ED(t)?bD(t):t.x_.set("Unknown")):(yield t.N_.stop(),cF(t))}))),t.N_}function xo(t){return t.L_||(t.L_=function(n,i,r){let o=$(n);return o.R_(),new AI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:q7.bind(null,t),To:K7.bind(null,t),E_:G7.bind(null,t),T_:W7.bind(null,t)}),t.F_.push(e=>T(this,null,function*(){e?(t.L_.Zo(),yield sl(t)):(yield t.L_.stop(),t.D_.length>0&&(k("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var PI=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new P(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function cl(t,e){if(ut("AsyncQueue",`${e}: ${t}`),Mo(t))return new P(C.UNAVAILABLE,`${e}: ${t}`);throw t}var Ag=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||U.comparator(n.key,i.key):(n,i)=>U.comparator(n.key,i.key),this.keyedMap=vd(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Sg=class{constructor(){this.B_=new Ye(U.comparator)}track(e){let n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):z():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}},Xc=class t{constructor(e,n,i,r,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Ag.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var kI=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},NI=class{constructor(){this.queries=new Yi(e=>gO(e),Yd),this.onlineState="Unknown",this.W_=new Set}};function ID(t,e){return T(this,null,function*(){let n=$(t),i=3,r=e.query,o=n.queries.get(r);o?!o.K_()&&e.U_()&&(i=2):(o=new kI,i=e.U_()?0:1);try{switch(i){case 0:o.q_=yield n.onListen(r,!0);break;case 1:o.q_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(s){let a=cl(s,`Initialization of query '${Pc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&CD(n)})}function DD(t,e){return T(this,null,function*(){let n=$(t),i=e.query,r=3,o=n.queries.get(i);if(o){let s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),o.Q_.length===0?r=e.U_()?0:1:!o.K_()&&e.U_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function Y7(t,e){let n=$(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let a of s.Q_)a.z_(r)&&(i=!0);s.q_=r}}i&&CD(n)}function Q7(t,e,n){let i=$(t),r=i.queries.get(e);if(r)for(let o of r.Q_)o.onError(n);i.queries.delete(e)}function CD(t){t.W_.forEach(e=>{e.next()})}var OI,BN;(BN=OI||(OI={})).j_="default",BN.Cache="cache";var $d=class{constructor(e,n,i){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=i||{}}z_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Xc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let i=n!=="Offline";return(!this.options.ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==OI.Cache}};var FI=class{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}};var xg=class{constructor(e){this.serializer=e}Ps(e){return qi(this.serializer,e)}Is(e){return e.metadata.exists?jO(this.serializer,e.document,!1):_t.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ht(e)}},LI=class{constructor(e,n,i){this.ia=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hF(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;let i=Se.fromString(e.na.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){let n=new Map,i=new xg(this.serializer);for(let r of e)if(r.metadata.queries){let o=i.Ps(r.metadata.name);for(let s of r.metadata.queries){let a=(n.get(s)||fe()).add(o);n.set(s,a)}}return n}complete(){return T(this,null,function*(){let e=yield L7(this.localStore,new xg(this.serializer),this.documents,this.ia.id),n=this.oa(this.documents);for(let i of this.queries)yield V7(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}})}};function hF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Rg=class{constructor(e){this.key=e}},Mg=class{constructor(e){this.key=e}},Pg=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=fe(),this.mutatedKeys=fe(),this.ha=vO(e),this.Pa=new Ag(this.ha)}get Ia(){return this.ua}Ta(e,n){let i=n?n.Ea:new Sg,r=n?n.Pa:this.Pa,o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,f)=>{let m=r.get(u),g=Qd(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),E=!1;m&&g?m.data.isEqual(g.data)?w!==I&&(i.track({type:3,doc:g}),E=!0):this.da(m,g)||(i.track({type:2,doc:g}),E=!0,(c&&this.ha(g,c)>0||l&&this.ha(g,l)<0)&&(a=!0)):!m&&g?(i.track({type:0,doc:g}),E=!0):m&&!g&&(i.track({type:1,doc:m}),E=!0,(c||l)&&(a=!0)),E&&(g?(s=s.add(g),o=I?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{Pa:s,Ea:i,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let s=e.Ea.k_();s.sort((u,f)=>function(g,w){let I=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return I(g)-I(w)}(u.type,f.type)||this.ha(u.doc,f.doc)),this.Aa(i),r=r!=null&&r;let a=n&&!r?this.Ra():[],c=this.la.size===0&&this.current&&!r?1:0,l=c!==this.ca;return this.ca=c,s.length!==0||l?{snapshot:new Xc(this.query,e.Pa,o,s,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Sg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=fe(),this.Pa.forEach(i=>{this.ma(i.key)&&(this.la=this.la.add(i.key))});let n=[];return e.forEach(i=>{this.la.has(i)||n.push(new Mg(i))}),this.la.forEach(i=>{e.has(i)||n.push(new Rg(i))}),n}fa(e){this.ua=e.hs,this.la=fe();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Xc.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},VI=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},jI=class{constructor(e){this.key=e,this.pa=!1}},BI=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Yi(a=>gO(a),Yd),this.Sa=new Map,this.ba=new Set,this.Da=new Ye(U.comparator),this.Ca=new Map,this.va=new jd,this.Fa={},this.Ma=new Map,this.xa=Kc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function Z7(t,e,n=!0){return T(this,null,function*(){let i=qg(t),r,o=i.wa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ga()):r=yield fF(i,e,n,!0),r})}function X7(t,e){return T(this,null,function*(){let n=qg(t);yield fF(n,e,!0,!1)})}function fF(t,e,n,i){return T(this,null,function*(){let r=yield Yc(t.localStore,rn(e)),o=r.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return i&&(a=yield TD(t,e,o,s==="current",r.resumeToken)),t.isPrimaryClient&&n&&zg(t.remoteStore,r),a})}function TD(t,e,n,i,r){return T(this,null,function*(){t.Na=(f,m,g)=>function(I,E,A,B){return T(this,null,function*(){let M=E.view.Ta(A);M.Xi&&(M=yield wg(I.localStore,E.query,!1).then(({documents:Ie})=>E.view.Ta(Ie,M)));let R=B&&B.targetChanges.get(E.targetId),q=B&&B.targetMismatches.get(E.targetId)!=null,ee=E.view.applyChanges(M,I.isPrimaryClient,R,q);return UI(I,E.targetId,ee.Va),ee.snapshot})}(t,f,m,g);let o=yield wg(t.localStore,e,!0),s=new Pg(e,o.hs),a=s.Ta(o.documents),c=Od.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=s.applyChanges(a,t.isPrimaryClient,c);UI(t,n,l.Va);let u=new VI(e,n,s);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),l.snapshot})}function J7(t,e,n){return T(this,null,function*(){let i=$(t),r=i.wa.get(e),o=i.Sa.get(r.targetId);if(o.length>1)return i.Sa.set(r.targetId,o.filter(s=>!Yd(s,e))),void i.wa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Qc(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Zc(i.remoteStore,r.targetId),Jc(i,r.targetId)}).catch(Ro))):(Jc(i,r.targetId),yield Qc(i.localStore,r.targetId,!0))})}function eK(t,e){return T(this,null,function*(){let n=$(t),i=n.wa.get(e),r=n.Sa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Zc(n.remoteStore,i.targetId))})}function tK(t,e,n){return T(this,null,function*(){let i=RD(t);try{let r=yield function(s,a){let c=$(s),l=nt.now(),u=a.reduce((g,w)=>g.add(w.key),fe()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=fn(),I=fe();return c.os.getEntries(g,u).next(E=>{w=E,w.forEach((A,B)=>{B.isValidDocument()||(I=I.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,w)).next(E=>{f=E;let A=[];for(let B of a){let M=g7(B,f.get(B.key).overlayedDocument);M!=null&&A.push(new ci(B.key,M,lO(M.value.mapValue),at.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,A,a)}).next(E=>{m=E;let A=E.applyToLocalDocumentSet(f,I);return c.documentOverlayCache.saveOverlays(g,E.batchId,A)})}).then(()=>({batchId:m.batchId,changes:wO(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Fa[s.currentUser.toKey()];l||(l=new Ye(de)),l=l.insert(a,c),s.Fa[s.currentUser.toKey()]=l}(i,r.batchId,n),yield Tr(i,r.changes),yield sl(i.remoteStore)}catch(r){let o=cl(r,"Failed to persist write");n.reject(o)}})}function pF(t,e){return T(this,null,function*(){let n=$(t);try{let i=yield O7(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.Ca.get(o);s&&(X(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.pa=!0:r.modifiedDocuments.size>0?X(s.pa):r.removedDocuments.size>0&&(X(s.pa),s.pa=!1))}),yield Tr(n,i,e)}catch(i){yield Ro(i)}})}function UN(t,e,n){let i=$(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.wa.forEach((o,s)=>{let a=s.view.G_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=$(s);c.onlineState=a;let l=!1;c.queries.forEach((u,f)=>{for(let m of f.Q_)m.G_(a)&&(l=!0)}),l&&CD(c)}(i.eventManager,e),r.length&&i.ya.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function nK(t,e,n){return T(this,null,function*(){let i=$(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Ca.get(e),o=r&&r.key;if(o){let s=new Ye(U.comparator);s=s.insert(o,_t.newNoDocument(o,J.min()));let a=fe().add(o),c=new Nd(J.min(),new Map,new Ye(de),s,a);yield pF(i,c),i.Da=i.Da.remove(o),i.Ca.delete(e),xD(i)}else yield Qc(i.localStore,e,!1).then(()=>Jc(i,e,n)).catch(Ro)})}function iK(t,e){return T(this,null,function*(){let n=$(t),i=e.batch.batchId;try{let r=yield N7(n.localStore,e);SD(n,i,null),AD(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Tr(n,r)}catch(r){yield Ro(r)}})}function rK(t,e,n){return T(this,null,function*(){let i=$(t);try{let r=yield function(s,a){let c=$(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(X(f!==null),u=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);SD(i,e,n),AD(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Tr(i,r)}catch(r){yield Ro(r)}})}function oK(t,e){return T(this,null,function*(){let n=$(t);Po(n.remoteStore)||k("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(s){let a=$(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(i===-1)return void e.resolve();let r=n.Ma.get(i)||[];r.push(e),n.Ma.set(i,r)}catch(i){let r=cl(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function AD(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function SD(t,e,n){let i=$(t),r=i.Fa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Fa[i.currentUser.toKey()]=r}}function Jc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Sa.get(e))t.wa.delete(i),n&&t.ya.La(i,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(i=>{t.va.containsKey(i)||mF(t,i)})}function mF(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(Zc(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),xD(t))}function UI(t,e,n){for(let i of n)i instanceof Rg?(t.va.addReference(i.key,e),sK(t,i)):i instanceof Mg?(k("SyncEngine","Document no longer in limbo: "+i.key),t.va.removeReference(i.key,e),t.va.containsKey(i.key)||mF(t,i.key)):z()}function sK(t,e){let n=e.key,i=n.path.canonicalString();t.Da.get(n)||t.ba.has(i)||(k("SyncEngine","New document in limbo: "+n),t.ba.add(i),xD(t))}function xD(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new U(Se.fromString(e)),i=t.xa.next();t.Ca.set(i,new jI(n)),t.Da=t.Da.insert(n,i),zg(t.remoteStore,new Wc(rn(rl(n.path)),i,"TargetPurposeLimboResolution",Dn._e))}}function Tr(t,e,n){return T(this,null,function*(){let i=$(t),r=[],o=[],s=[];i.wa.isEmpty()||(i.wa.forEach((a,c)=>{s.push(i.Na(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=_I.Ki(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.ya.u_(r),yield function(c,l){return T(this,null,function*(){let u=$(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>D.forEach(l,m=>D.forEach(m.qi,g=>u.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>D.forEach(m.Qi,g=>u.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Mo(f))throw f;k("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let m=f.targetId;if(!f.fromCache){let g=u.ns.get(m),w=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(w);u.ns=u.ns.insert(m,I)}}})}(i.localStore,o))})}function aK(t,e){return T(this,null,function*(){let n=$(t);if(!n.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());let i=yield eF(n.localStore,e);n.currentUser=e,function(o,s){o.Ma.forEach(a=>{a.forEach(c=>{c.reject(new P(C.CANCELLED,s))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Tr(n,i.us)}})}function cK(t,e){let n=$(t),i=n.Ca.get(e);if(i&&i.pa)return fe().add(i.key);{let r=fe(),o=n.Sa.get(e);if(!o)return r;for(let s of o){let a=n.wa.get(s);r=r.unionWith(a.view.Ia)}return r}}function lK(t,e){return T(this,null,function*(){let n=$(t),i=yield wg(n.localStore,e.query,!0),r=e.view.fa(i);return n.isPrimaryClient&&UI(n,e.targetId,r.Va),r})}function uK(t,e){return T(this,null,function*(){let n=$(t);return rF(n.localStore,e).then(i=>Tr(n,i))})}function dK(t,e,n,i){return T(this,null,function*(){let r=$(t),o=yield function(a,c){let l=$(a),u=$(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>u.vn(f,c).next(m=>m?l.localDocuments.getDocuments(f,m):D.resolve(null)))}(r.localStore,e);o!==null?(n==="pending"?yield sl(r.remoteStore):n==="acknowledged"||n==="rejected"?(SD(r,e,i||null),AD(r,e),function(a,c){$($(a).mutationQueue).Mn(c)}(r.localStore,e)):z(),yield Tr(r,o)):k("SyncEngine","Cannot apply mutation batch with id: "+e)})}function hK(t,e){return T(this,null,function*(){let n=$(t);if(qg(n),RD(n),e===!0&&n.Oa!==!0){let i=n.sharedClientState.getAllActiveQueryTargets(),r=yield $N(n,i.toArray());n.Oa=!0,yield MI(n.remoteStore,!0);for(let o of r)zg(n.remoteStore,o)}else if(e===!1&&n.Oa!==!1){let i=[],r=Promise.resolve();n.Sa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Jc(n,s),Qc(n.localStore,s,!0))),Zc(n.remoteStore,s)}),yield r,yield $N(n,i),function(s){let a=$(s);a.Ca.forEach((c,l)=>{Zc(a.remoteStore,l)}),a.va.mr(),a.Ca=new Map,a.Da=new Ye(U.comparator)}(n),n.Oa=!1,yield MI(n.remoteStore,!1)}})}function $N(t,e,n){return T(this,null,function*(){let i=$(t),r=[],o=[];for(let s of e){let a,c=i.Sa.get(s);if(c&&c.length!==0){a=yield Yc(i.localStore,rn(c[0]));for(let l of c){let u=i.wa.get(l),f=yield lK(i,u);f.snapshot&&o.push(f.snapshot)}}else{let l=yield iF(i.localStore,s);a=yield Yc(i.localStore,l),yield TD(i,gF(l),s,!1,a.resumeToken)}r.push(a)}return i.ya.u_(o),r})}function gF(t){return mO(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function fK(t){return function(n){return $($(n).persistence).Bi()}($(t).localStore)}function pK(t,e,n,i){return T(this,null,function*(){let r=$(t);if(r.Oa)return void k("SyncEngine","Ignoring unexpected query state notification.");let o=r.Sa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield rF(r.localStore,yO(o[0])),a=Nd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Rt.EMPTY_BYTE_STRING);yield Tr(r,s,a);break}case"rejected":yield Qc(r.localStore,e,!0),Jc(r,e,i);break;default:z()}})}function mK(t,e,n){return T(this,null,function*(){let i=qg(t);if(i.Oa){for(let r of e){if(i.Sa.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){k("SyncEngine","Adding an already active target "+r);continue}let o=yield iF(i.localStore,r),s=yield Yc(i.localStore,o);yield TD(i,gF(o),s.targetId,!1,s.resumeToken),zg(i.remoteStore,s)}for(let r of n)i.Sa.has(r)&&(yield Qc(i.localStore,r,!1).then(()=>{Zc(i.remoteStore,r),Jc(i,r)}).catch(Ro))}})}function qg(t){let e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nK.bind(null,e),e.ya.u_=Y7.bind(null,e.eventManager),e.ya.La=Q7.bind(null,e.eventManager),e}function RD(t){let e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rK.bind(null,e),e}function gK(t,e,n){let i=$(t);(function(o,s,a){return T(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(g,w){let I=$(g),E=ht(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",A=>I.$r.getBundleMetadata(A,w.id)).then(A=>!!A&&A.createTime.compareTo(E)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(hF(c));let l=new LI(c,o.localStore,s.serializer),u=yield s.Ba();for(;u;){let m=yield l.sa(u);m&&a._updateProgress(m),u=yield s.Ba()}let f=yield l.complete();return yield Tr(o,f.aa,void 0),yield function(g,w){let I=$(g);return I.persistence.runTransaction("Save bundle","readwrite",E=>I.$r.saveBundleMetadata(E,w))}(o.localStore,c),a._completeWith(f.progress),Promise.resolve(f._a)}catch(c){return Un("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var Hd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return T(this,null,function*(){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return JO(this.persistence,new _g,e.initialUser,this.serializer)}createPersistence(e){return new yg(vg.Hr,this.serializer)}createSharedClientState(e){return new Ig}terminate(){return T(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var kg=class t extends Hd{constructor(e,n,i){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return T(this,null,function*(){yield wy(t.prototype,this,"initialize").call(this,e),yield this.ka.initialize(this,e),yield RD(this.ka.syncEngine),yield sl(this.ka.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return JO(this.persistence,new _g,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let i=this.persistence.referenceDelegate.garbageCollector;return new rI(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let i=new EE(n,this.persistence);return new bE(e.asyncQueue,i)}createPersistence(e){let n=_D(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new vI(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,sF(),qm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ig}},$I=class t extends kg{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return T(this,null,function*(){yield wy(t.prototype,this,"initialize").call(this,e);let n=this.ka.syncEngine;this.sharedClientState instanceof Dd&&(this.sharedClientState.syncEngine={Zs:dK.bind(null,n),Xs:pK.bind(null,n),eo:mK.bind(null,n),Bi:fK.bind(null,n),Ys:uK.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(i=>T(this,null,function*(){yield hK(this.ka.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=sF();if(!Dd.D(n))throw new P(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=_D(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dd(n,e.asyncQueue,i,e.clientId,e.initialUser)}},zd=class{initialize(e,n){return T(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>UN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=aK.bind(null,this.syncEngine),yield MI(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new NI}()}createDatastore(e){let n=Zd(e.databaseInfo.databaseId),i=function(o){return new CI(o)}(e.databaseInfo);return function(o,s,a,c){return new SI(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,a){return new RI(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>UN(this.syncEngine,n,0),function(){return Dg.D()?new Dg:new II}())}createSyncEngine(e,n){return function(r,o,s,a,c,l,u){let f=new BI(r,o,s,a,c,l);return u&&(f.Oa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return T(this,null,function*(){var e;yield function(i){return T(this,null,function*(){let r=$(i);k("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield ol(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function HN(t,e=10240){let n=0;return{read(){return T(this,null,function*(){if(n<t.byteLength){let r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})},cancel(){return T(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var el=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var HI=class{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new vt,this.buffer=new Uint8Array,this.$a=function(){return new TextDecoder("utf-8")}(),this.Ua().then(i=>{i&&i.ra()?this.metadata.resolve(i.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.na)}`))},i=>this.metadata.reject(i))}close(){return this.Ka.cancel()}getMetadata(){return T(this,null,function*(){return this.metadata.promise})}Ba(){return T(this,null,function*(){return yield this.getMetadata(),this.Ua()})}Ua(){return T(this,null,function*(){let e=yield this.Wa();if(e===null)return null;let n=this.$a.decode(e),i=Number(n);isNaN(i)&&this.Ga(`length string (${n}) is not valid number`);let r=yield this.za(i);return new FI(JSON.parse(r),e.length+i)})}ja(){return this.buffer.findIndex(e=>e===123)}Wa(){return T(this,null,function*(){for(;this.ja()<0&&!(yield this.Ha()););if(this.buffer.length===0)return null;let e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}za(e){return T(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ha())&&this.Ga("Reached the end of bundle when more is expected.");let n=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){return T(this,null,function*(){let e=yield this.Ka.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var zI=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return T(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new P(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(r,o){return T(this,null,function*(){let s=$(r),a={documents:o.map(f=>Fd(s.serializer,f))},c=yield s.vo("BatchGetDocuments",s.serializer.databaseId,Se.emptyPath(),a,o.length),l=new Map;c.forEach(f=>{let m=E7(s.serializer,f);l.set(m.key.toString(),m)});let u=[];return o.forEach(f=>{let m=l.get(f.toString());X(!!m),u.push(m)}),u})}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new So(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return T(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{let r=U.fromPath(i);this.mutations.push(new Md(r,this.precondition(r)))}),yield function(i,r){return T(this,null,function*(){let o=$(i),s={writes:r.map(a=>Ld(o.serializer,a))};yield o.So("Commit",o.serializer.databaseId,Se.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw z();n=J.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new P(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(J.min())?at.exists(!1):at.updateTime(n):at.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(J.min()))throw new P(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return at.updateTime(n)}return at.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var qI=class{constructor(e,n,i,r,o){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=o,this.Ja=i.maxAttempts,this.jo=new Ud(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo(()=>T(this,null,function*(){let e=new zI(this.datastore),n=this.Xa(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.eu(r)}))}).catch(i=>{this.eu(i)})}))}Xa(e){try{let n=this.updateFunction(e);return!Wd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!MO(n)}return!1}};var GI=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=yt.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>T(this,null,function*(){k("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(k("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=cl(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Gm(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>T(this,null,function*(){i.isEqual(r)||(yield eF(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function WI(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield MD(t);k("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>jN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>jN(e.remoteStore,r)),t._onlineComponents=e})}function yF(t){return t.name==="FirebaseError"?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function MD(t){return T(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){k("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!yF(n))throw n;Un("Error using user provided cache. Falling back to memory cache: "+n),yield Gm(t,new Hd)}}else k("FirestoreClient","Using default OfflineComponentProvider"),yield Gm(t,new Hd);return t._offlineComponents})}function Gg(t){return T(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(k("FirestoreClient","Using user provided OnlineComponentProvider"),yield WI(t,t._uninitializedComponentsProvider._online)):(k("FirestoreClient","Using default OnlineComponentProvider"),yield WI(t,new zd))),t._onlineComponents})}function vF(t){return MD(t).then(e=>e.persistence)}function PD(t){return MD(t).then(e=>e.localStore)}function _F(t){return Gg(t).then(e=>e.remoteStore)}function kD(t){return Gg(t).then(e=>e.syncEngine)}function yK(t){return Gg(t).then(e=>e.datastore)}function tl(t){return T(this,null,function*(){let e=yield Gg(t),n=e.eventManager;return n.onListen=Z7.bind(null,e.syncEngine),n.onUnlisten=J7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=X7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eK.bind(null,e.syncEngine),n})}function vK(t){return t.asyncQueue.enqueue(()=>T(this,null,function*(){let e=yield vF(t),n=yield _F(t);return e.setNetworkEnabled(!0),function(r){let o=$(r);return o.v_.delete(0),Xd(o)}(n)}))}function _K(t){return t.asyncQueue.enqueue(()=>T(this,null,function*(){let e=yield vF(t),n=yield _F(t);return e.setNetworkEnabled(!1),function(r){return T(this,null,function*(){let o=$(r);o.v_.add(0),yield ol(o),o.x_.set("Offline")})}(n)}))}function wK(t,e){let n=new vt;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(r,o,s){return T(this,null,function*(){try{let a=yield function(l,u){let f=$(l);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,u))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new P(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=cl(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield PD(t),e,n)})),n.promise}function wF(t,e,n={}){let i=new vt;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(o,s,a,c,l){let u=new el({next:m=>{s.enqueueAndForget(()=>DD(o,f));let g=m.docs.has(a);!g&&m.fromCache?l.reject(new P(C.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?l.reject(new P(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new $d(rl(a.path),u,{includeMetadataChanges:!0,ta:!0});return ID(o,f)}(yield tl(t),t.asyncQueue,e,n,i)})),i.promise}function bK(t,e){let n=new vt;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(r,o,s){return T(this,null,function*(){try{let a=yield wg(r,o,!0),c=new Pg(o,a.hs),l=c.Ta(a.documents),u=c.applyChanges(l,!1);s.resolve(u.snapshot)}catch(a){let c=cl(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield PD(t),e,n)})),n.promise}function bF(t,e,n={}){let i=new vt;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(o,s,a,c,l){let u=new el({next:m=>{s.enqueueAndForget(()=>DD(o,f)),m.fromCache&&c.source==="server"?l.reject(new P(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new $d(a,u,{includeMetadataChanges:!0,ta:!0});return ID(o,f)}(yield tl(t),t.asyncQueue,e,n,i)})),i.promise}function EK(t,e){let n=new el(e);return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(r,o){$(r).W_.add(o),o.next()}(yield tl(t),n)})),()=>{n.Qa(),t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(r,o){$(r).W_.delete(o)}(yield tl(t),n)}))}}function IK(t,e,n,i){let r=function(s,a){let c;return c=typeof s=="string"?kO().encode(s):s,function(u,f){return new HI(u,f)}(function(u,f){if(u instanceof Uint8Array)return HN(u,f);if(u instanceof ArrayBuffer)return HN(new Uint8Array(u),f);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,Zd(e));t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){gK(yield kD(t),r,i)}))}function DK(t,e){return t.asyncQueue.enqueue(()=>T(this,null,function*(){return function(i,r){let o=$(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,r))}(yield PD(t),e)}))}function EF(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var zN=new Map;function ND(t,e,n){if(!n)throw new P(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OD(t,e,n,i){if(e===!0&&i===!0)throw new P(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qN(t){if(!U.isDocumentKey(t))throw new P(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GN(t){if(U.isDocumentKey(t))throw new P(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function xe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new P(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Wg(t);throw new P(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function IF(t,e){if(e<=0)throw new P(C.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Ng=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new P(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new P(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EF((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new P(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new P(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new P(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Bs=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ng({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new P(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new P(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ng(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new dE;switch(i.type){case"firstParty":return new mE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new P(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=zN.get(n);i&&(k("ComponentProvider","Removing Datastore"),zN.delete(n),i.terminate())}(this),Promise.resolve()}};function DF(t,e,n,i={}){var r;let o=(t=xe(t,Bs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Un("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=yt.MOCK_USER;else{a=dh(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new P(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new yt(l)}t._authCredentials=new hE(new Wm(a,c))}}var jt=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},We=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Gi=class t extends jt{constructor(e,n,i){super(e,n,rl(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new U(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function FD(t,e,...n){if(t=Re(t),ND("collection","path",e),t instanceof Bs){let i=Se.fromString(e,...n);return GN(i),new Gi(t,null,i)}{if(!(t instanceof We||t instanceof Gi))throw new P(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Se.fromString(e,...n));return GN(i),new Gi(t.firestore,null,i)}}function CF(t,e){if(t=xe(t,Bs),ND("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new P(C.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new jt(t,null,function(i){return new ai(Se.emptyPath(),i)}(e))}function Jd(t,e,...n){if(t=Re(t),arguments.length===1&&(e=Km.newId()),ND("doc","path",e),t instanceof Bs){let i=Se.fromString(e,...n);return qN(i),new We(t,null,new U(i))}{if(!(t instanceof We||t instanceof Gi))throw new P(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Se.fromString(e,...n));return qN(i),new We(t.firestore,t instanceof Gi?t.converter:null,new U(i))}}function LD(t,e){return t=Re(t),e=Re(e),(t instanceof We||t instanceof Gi)&&(e instanceof We||e instanceof Gi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function VD(t,e){return t=Re(t),e=Re(e),t instanceof jt&&e instanceof jt&&t.firestore===e.firestore&&Yd(t._query,e._query)&&t.converter===e.converter}var KI=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Ud(this,"async_queue_retry"),this.cu=()=>{let n=qm();n&&k("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=qm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new vt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return T(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Mo(e))throw e;k("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(i=>{this.ou=i,this._u=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw ut("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this._u=!1,i))));return this.nu=n,n}enqueueAfterDelay(e,n,i){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let r=PI.createAndSchedule(this,e,n,i,o=>this.Iu(o));return this.su.push(r),r}lu(){this.ou&&z()}verifyOperationInProgress(){}Tu(){return T(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};function YI(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var QI=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new vt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var TF=-1,Xe=class extends Bs{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new KI}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||AF(this),this._firestoreClient.terminate()}};function It(t){return t._firestoreClient||AF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function AF(t){var e,n,i;let r=t._freezeSettings(),o=function(a,c,l,u){return new IE(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,EF(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new GI(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function SF(t,e){LF(t=xe(t,Xe));let n=It(t);if(n._uninitializedComponentsProvider)throw new P(C.FAILED_PRECONDITION,"SDK cache is already specified.");Un("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=t._freezeSettings(),r=new zd;return RF(n,r,new kg(r,i.cacheSizeBytes,e?.forceOwnership))}function xF(t){LF(t=xe(t,Xe));let e=It(t);if(e._uninitializedComponentsProvider)throw new P(C.FAILED_PRECONDITION,"SDK cache is already specified.");Un("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),i=new zd;return RF(e,i,new $I(i,n.cacheSizeBytes))}function RF(t,e,n){let i=new vt;return t.asyncQueue.enqueue(()=>T(this,null,function*(){try{yield Gm(t,n),yield WI(t,e),i.resolve()}catch(r){let o=r;if(!yF(o))throw o;Un("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function MF(t){if(t._initialized&&!t._terminated)throw new P(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new vt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{yield function(i){return T(this,null,function*(){if(!br.D())return Promise.resolve();let r=i+"main";yield br.delete(r)})}(_D(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function PF(t){return function(n){let i=new vt;return n.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return oK(yield kD(n),i)})),i.promise}(It(t=xe(t,Xe)))}function kF(t){return vK(It(t=xe(t,Xe)))}function NF(t){return _K(It(t=xe(t,Xe)))}function OF(t,e){let n=It(t=xe(t,Xe)),i=new QI;return IK(n,t._databaseId,e,i),i}function FF(t,e){return DK(It(t=xe(t,Xe)),e).then(n=>n?new jt(t,null,n.query):null)}function LF(t){if(t._initialized||t._terminated)throw new P(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Qi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Rt.fromBase64String(e))}catch(n){throw new P(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var li=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new P(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Dr=class{constructor(e){this._methodName=e}};var Us=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new P(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new P(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}};var CK=/^__.*__$/,ZI=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ao(e,this.data,n,this.fieldTransforms)}},Og=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function VF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}var Fg=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.mu({path:i,gu:!1});return r.pu(e),r}yu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.mu({path:i,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Lg(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(VF(this.Vu)&&CK.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},XI=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Zd(e)}Cu(e,n,i,r=!1){return new Fg({Vu:e,methodName:n,Du:i,path:dt.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function qs(t){let e=t._freezeSettings(),n=Zd(t._databaseId);return new XI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kg(t,e,n,i,r,o={}){let s=t.Cu(o.merge||o.mergeFields?2:0,e,n,r);UD("Data must be an object, but it was:",s,i);let a=UF(i,s),c,l;if(o.merge)c=new Cn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let f of o.mergeFields){let m=iD(e,f,n);if(!s.contains(m))throw new P(C.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);HF(u,m)||u.push(m)}c=new Cn(u),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new ZI(new Gt(a),c,l)}var qd=class t extends Dr{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function jF(t,e,n){return new Fg({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var JI=class t extends Dr{_toFieldTransform(e){return new Ls(e.path,new Co)}isEqual(e){return e instanceof t}},eD=class t extends Dr{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){let n=jF(this,e,!0),i=this.vu.map(o=>Gs(o,n)),r=new Er(i);return new Ls(e.path,r)}isEqual(e){return e instanceof t&&Iy(this.vu,e.vu)}},tD=class t extends Dr{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){let n=jF(this,e,!0),i=this.vu.map(o=>Gs(o,n)),r=new Ir(i);return new Ls(e.path,r)}isEqual(e){return e instanceof t&&Iy(this.vu,e.vu)}},nD=class t extends Dr{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){let n=new To(e.serializer,DO(e.serializer,this.Fu));return new Ls(e.path,n)}isEqual(e){return e instanceof t&&this.Fu===e.Fu}};function jD(t,e,n,i){let r=t.Cu(1,e,n);UD("Data must be an object, but it was:",r,i);let o=[],s=Gt.empty();zs(i,(c,l)=>{let u=$D(e,c,n);l=Re(l);let f=r.yu(u);if(l instanceof qd)o.push(u);else{let m=Gs(l,f);m!=null&&(o.push(u),s.set(u,m))}});let a=new Cn(o);return new Og(s,a,r.fieldTransforms)}function BD(t,e,n,i,r,o){let s=t.Cu(1,e,n),a=[iD(e,i,n)],c=[r];if(o.length%2!=0)throw new P(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(iD(e,o[m])),c.push(o[m+1]);let l=[],u=Gt.empty();for(let m=a.length-1;m>=0;--m)if(!HF(l,a[m])){let g=a[m],w=c[m];w=Re(w);let I=s.yu(g);if(w instanceof qd)l.push(g);else{let E=Gs(w,I);E!=null&&(l.push(g),u.set(g,E))}}let f=new Cn(l);return new Og(u,f,s.fieldTransforms)}function BF(t,e,n,i=!1){return Gs(n,t.Cu(i?4:3,e))}function Gs(t,e){if($F(t=Re(t)))return UD("Unsupported field value:",e,t),UF(t,e);if(t instanceof Dr)return function(i,r){if(!VF(r.Vu))throw r.Su(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Su(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=Gs(a,r.wu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Re(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return DO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=nt.fromDate(i);return{timestampValue:Gc(r.serializer,o)}}if(i instanceof nt){let o=new nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gc(r.serializer,o)}}if(i instanceof Us)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qi)return{bytesValue:NO(r.serializer,i._byteString)};if(i instanceof We){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gD(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Su(`Unsupported field value: ${Wg(i)}`)}(t,e)}function UF(t,e){let n={};return sO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(t,(i,r)=>{let o=Gs(r,e.fu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function $F(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Us||t instanceof Qi||t instanceof We||t instanceof Dr)}function UD(t,e,n){if(!$F(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Wg(n);throw i==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+i)}}function iD(t,e,n){if((e=Re(e))instanceof li)return e._internalPath;if(typeof e=="string")return $D(t,e);throw Lg("Field path arguments must be of type string or ",t,!1,void 0,n)}var TK=new RegExp("[~\\*/\\[\\]]");function $D(t,e,n){if(e.search(TK)>=0)throw Lg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new li(...e.split("."))._internalPath}catch{throw Lg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lg(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new P(C.INVALID_ARGUMENT,a+t+c)}function HF(t,e){return t.some(n=>n.isEqual(e))}var $s=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new rD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},rD=class extends $s{data(){return super.data()}};function Yg(t,e){return typeof e=="string"?$D(t,e):e instanceof li?e._internalPath:e._delegate._internalPath}function zF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new P(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gd=class{},Hs=class extends Gd{};function Ar(t,e,...n){let i=[];e instanceof Gd&&i.push(e),i=i.concat(n),function(o){let s=o.filter(c=>c instanceof oD).length,a=o.filter(c=>c instanceof Vg).length;if(s>1||s>0&&a>0)throw new P(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var Vg=class t extends Hs{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return e2(e._query,n),new jt(e.firestore,e.converter,FE(e._query,n))}_parse(e){let n=qs(e.firestore);return function(o,s,a,c,l,u,f){let m;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new P(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){KN(f,u);let g=[];for(let w of f)g.push(WN(c,o,w));m={arrayValue:{values:g}}}else m=WN(c,o,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||KN(f,u),m=BF(a,s,f,u==="in"||u==="not-in");return Ee.create(l,u,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function qF(t,e,n){let i=e,r=Yg("where",t);return Vg._create(r,i,n)}var oD=class t extends Gd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Be.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)e2(s,c),s=FE(s,c)}(e._query,n),new jt(e.firestore,e.converter,FE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var sD=class t extends Hs{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,o,s){if(r.startAt!==null)throw new P(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new P(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Os(o,s)}(e._query,this._field,this._direction);return new jt(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new ai(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function GF(t,e="asc"){let n=e,i=Yg("orderBy",t);return sD._create(i,n)}var jg=class t extends Hs{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new jt(e.firestore,e.converter,rg(e._query,this._limit,this._limitType))}};function WF(t){return IF("limit",t),jg._create("limit",t,"F")}function KF(t){return IF("limitToLast",t),jg._create("limitToLast",t,"L")}var Bg=class t extends Hs{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=JF(e,this.type,this._docOrFields,this._inclusive);return new jt(e.firestore,e.converter,function(r,o){return new ai(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,n))}};function YF(...t){return Bg._create("startAt",t,!0)}function QF(...t){return Bg._create("startAfter",t,!1)}var Ug=class t extends Hs{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=JF(e,this.type,this._docOrFields,this._inclusive);return new jt(e.firestore,e.converter,function(r,o){return new ai(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(e._query,n))}};function ZF(...t){return Ug._create("endBefore",t,!1)}function XF(...t){return Ug._create("endAt",t,!0)}function JF(t,e,n,i){if(n[0]=Re(n[0]),n[0]instanceof $s)return function(o,s,a,c,l){if(!c)throw new P(C.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let u=[];for(let f of Vc(o))if(f.field.isKeyField())u.push(Ns(s,c.key));else{let m=c.data.field(f.field);if(Hg(m))throw new P(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let g=f.field.canonicalString();throw new P(C.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}u.push(m)}return new Ki(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{let r=qs(t.firestore);return function(s,a,c,l,u,f){let m=s.explicitOrderBy;if(u.length>m.length)throw new P(C.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let g=[];for(let w=0;w<u.length;w++){let I=u[w];if(m[w].field.isKeyField()){if(typeof I!="string")throw new P(C.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof I}`);if(!pD(s)&&I.indexOf("/")!==-1)throw new P(C.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${I}' contains a slash.`);let E=s.path.child(Se.fromString(I));if(!U.isDocumentKey(E))throw new P(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);let A=new U(E);g.push(Ns(a,A))}else{let E=BF(c,l,I);g.push(E)}}return new Ki(g,f)}(t._query,t.firestore._databaseId,r,e,n,i)}}function WN(t,e,n){if(typeof(n=Re(n))=="string"){if(n==="")throw new P(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pD(e)&&n.indexOf("/")!==-1)throw new P(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Se.fromString(n));if(!U.isDocumentKey(i))throw new P(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ns(t,new U(i))}if(n instanceof We)return Ns(t,n._key);throw new P(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wg(n)}.`)}function KN(t,e){if(!Array.isArray(t)||t.length===0)throw new P(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e2(t,e){let n=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new P(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new P(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var nl=class{convertValue(e,n="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return zs(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new Us(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=hD(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){let n=bo(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Se.fromString(e);X(qO(i));let r=new Io(i.get(1),i.get(3)),o=new U(i.popFirst(5));return r.isEqual(n)||ut(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Qg(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var aD=class extends nl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}};var wr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Hn=class extends $s{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new _o(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(Yg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},_o=class extends Hn{data(e={}){return super.data(e)}},ui=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new wr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new _o(this._firestore,this._userDataWriter,i.key,i,new wr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new P(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new _o(r._firestore,r._userDataWriter,a.doc.key,a.doc,new wr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new _o(r._firestore,r._userDataWriter,a.doc.key,a.doc,new wr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:AK(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function AK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}function HD(t,e){return t instanceof Hn&&e instanceof Hn?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ui&&e instanceof ui&&t._firestore===e._firestore&&VD(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function t2(t){t=xe(t,We);let e=xe(t.firestore,Xe);return wF(It(e),t._key).then(n=>WD(e,t,n))}var Cr=class extends nl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}};function n2(t){t=xe(t,We);let e=xe(t.firestore,Xe),n=It(e),i=new Cr(e);return wK(n,t._key).then(r=>new Hn(e,i,t._key,r,new wr(r!==null&&r.hasLocalMutations,!0),t.converter))}function i2(t){t=xe(t,We);let e=xe(t.firestore,Xe);return wF(It(e),t._key,{source:"server"}).then(n=>WD(e,t,n))}function r2(t){t=xe(t,jt);let e=xe(t.firestore,Xe),n=It(e),i=new Cr(e);return zF(t._query),bF(n,t._query).then(r=>new ui(e,i,t,r))}function o2(t){t=xe(t,jt);let e=xe(t.firestore,Xe),n=It(e),i=new Cr(e);return bK(n,t._query).then(r=>new ui(e,i,t,r))}function s2(t){t=xe(t,jt);let e=xe(t.firestore,Xe),n=It(e),i=new Cr(e);return bF(n,t._query,{source:"server"}).then(r=>new ui(e,i,t,r))}function zD(t,e,n){t=xe(t,We);let i=xe(t.firestore,Xe),r=Qg(t.converter,e,n);return ll(i,[Kg(qs(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,at.none())])}function qD(t,e,n,...i){t=xe(t,We);let r=xe(t.firestore,Xe),o=qs(r),s;return s=typeof(e=Re(e))=="string"||e instanceof li?BD(o,"updateDoc",t._key,e,n,i):jD(o,"updateDoc",t._key,e),ll(r,[s.toMutation(t._key,at.exists(!0))])}function a2(t){return ll(xe(t.firestore,Xe),[new So(t._key,at.none())])}function c2(t,e){let n=xe(t.firestore,Xe),i=Jd(t),r=Qg(t.converter,e);return ll(n,[Kg(qs(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,at.exists(!1))]).then(()=>i)}function GD(t,...e){var n,i,r;t=Re(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||YI(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(YI(e[s])){let f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[s+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let c,l,u;if(t instanceof We)l=xe(t.firestore,Xe),u=rl(t._key.path),c={next:f=>{e[s]&&e[s](WD(l,t,f))},error:e[s+1],complete:e[s+2]};else{let f=xe(t,jt);l=xe(f.firestore,Xe),u=f._query;let m=new Cr(l);c={next:g=>{e[s]&&e[s](new ui(l,m,f,g))},error:e[s+1],complete:e[s+2]},zF(t._query)}return function(m,g,w,I){let E=new el(I),A=new $d(g,E,w);return m.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return ID(yield tl(m),A)})),()=>{E.Qa(),m.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return DD(yield tl(m),A)}))}}(It(l),u,a,c)}function l2(t,e){return EK(It(t=xe(t,Xe)),YI(e)?e:{next:e})}function ll(t,e){return function(i,r){let o=new vt;return i.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return tK(yield kD(i),r,o)})),o.promise}(It(t),e)}function WD(t,e,n){let i=n.docs.get(e._key),r=new Cr(t);return new Hn(t,r,e._key,i,new wr(n.hasPendingWrites,n.fromCache),e.converter)}var SK={maxAttempts:5};var $g=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qs(e)}set(e,n,i){this._verifyNotCommitted();let r=yo(e,this._firestore),o=Qg(r.converter,n,i),s=Kg(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(s.toMutation(r._key,at.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let o=yo(e,this._firestore),s;return s=typeof(n=Re(n))=="string"||n instanceof li?BD(this._dataReader,"WriteBatch.update",o._key,n,i,r):jD(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,at.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=yo(e,this._firestore);return this._mutations=this._mutations.concat(new So(n._key,at.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new P(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function yo(t,e){if((t=Re(t)).firestore!==e)throw new P(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var cD=class extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=qs(n)}get(n){let i=yo(n,this._firestore),r=new aD(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||o.length!==1)return z();let s=o[0];if(s.isFoundDocument())return new $s(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new $s(this._firestore,r,i._key,null,i.converter);throw z()})}set(n,i,r){let o=yo(n,this._firestore),s=Qg(o.converter,i,r),a=Kg(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(n,i,r,...o){let s=yo(n,this._firestore),a;return a=typeof(i=Re(i))=="string"||i instanceof li?BD(this._dataReader,"Transaction.update",s._key,i,r,o):jD(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(n){let i=yo(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=yo(e,this._firestore),i=new Cr(this._firestore);return super.get(e).then(r=>new Hn(this._firestore,i,n._key,r._document,new wr(!1,!1),n.converter))}};function u2(t,e,n){t=xe(t,Xe);let i=Object.assign(Object.assign({},SK),n);return function(o){if(o.maxAttempts<1)throw new P(C.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){let c=new vt;return o.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){let l=yield yK(o);new qI(o.asyncQueue,l,a,s,c).Ya()})),c.promise}(It(t),r=>e(new cD(t,r)),i)}function d2(){return new qd("deleteField")}function h2(){return new JI("serverTimestamp")}function f2(...t){return new eD("arrayUnion",t)}function p2(...t){return new tD("arrayRemove",t)}function m2(t){return new nD("increment",t)}(function(e,n=!0){(function(r){il=r})(mh),Fo(new qn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Xe(new fE(i.getProvider("auth-internal")),new yE(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new P(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(l.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Gn(Yk,"4.5.0",e),Gn(Yk,"4.5.0","esm2017")})();var xK="@firebase/firestore-compat",RK="0.3.27";function JD(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new P("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function g2(){if(typeof Uint8Array>"u")throw new P("unimplemented","Uint8Arrays are not available in this environment.")}function y2(){if(!aO())throw new P("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Zg=class t{constructor(e){this._delegate=e}static fromBase64String(e){return y2(),new t(Qi.fromBase64String(e))}static fromUint8Array(e){return g2(),new t(Qi.fromUint8Array(e))}toBase64(){return y2(),this._delegate.toBase64()}toUint8Array(){return g2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function KD(t){return MK(t,["next","error","complete"])}function MK(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}var YD=class{enableIndexedDbPersistence(e,n){return SF(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return xF(e._delegate)}clearIndexedDbPersistence(e){return MF(e._delegate)}},Xg=class{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Io||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Un("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){DF(this._delegate,e,n,i)}enableNetwork(){return kF(this._delegate)}disableNetwork(){return NF(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,OD("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return PF(this._delegate)}onSnapshotsInSync(e){return l2(this._delegate,e)}get app(){if(!this._appCompat)throw new P("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new hl(this,FD(this._delegate,e))}catch(n){throw on(n,"collection()","Firestore.collection()")}}doc(e){try{return new Zi(this,Jd(this._delegate,e))}catch(n){throw on(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qs(this,CF(this._delegate,e))}catch(n){throw on(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return u2(this._delegate,n=>e(new Jg(this,n)))}batch(){return It(this._delegate),new ey(new $g(this._delegate,e=>ll(this._delegate,e)))}loadBundle(e){return OF(this._delegate,e)}namedQuery(e){return FF(this._delegate,e).then(n=>n?new Qs(this,n):null)}},ul=class extends nl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zg(new Qi(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return Zi.forKey(n,this.firestore,null)}};function PK(t){YN(t)}var Jg=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ul(e)}get(e){let n=Ws(e);return this._delegate.get(n).then(i=>new Ks(this._firestore,new Hn(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){let r=Ws(e);return i?(JD("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=Ws(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=Ws(e);return this._delegate.delete(n),this}},ey=class{constructor(e){this._delegate=e}set(e,n,i){let r=Ws(e);return i?(JD("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=Ws(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=Ws(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},dl=class t{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){let i=new _o(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ys(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let i=t.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(n);return o||(o=new t(e,new ul(e),n),r.set(n,o)),o}};dl.INSTANCES=new WeakMap;var Zi=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ul(e)}static forPath(e,n,i){if(e.length%2!==0)throw new P("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new We(n._delegate,i,new U(e)))}static forKey(e,n,i){return new t(n,new We(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new hl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new hl(this.firestore,FD(this._delegate,e))}catch(n){throw on(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Re(e),e instanceof We?LD(this._delegate,e):!1}set(e,n){n=JD("DocumentReference.set",n);try{return n?zD(this._delegate,e,n):zD(this._delegate,e)}catch(i){throw on(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?qD(this._delegate,e):qD(this._delegate,e,n,...i)}catch(r){throw on(r,"updateDoc()","DocumentReference.update()")}}delete(){return a2(this._delegate)}onSnapshot(...e){let n=v2(e),i=_2(e,r=>new Ks(this.firestore,new Hn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return GD(this._delegate,n,i)}get(e){let n;return e?.source==="cache"?n=n2(this._delegate):e?.source==="server"?n=i2(this._delegate):n=t2(this._delegate),n.then(i=>new Ks(this.firestore,new Hn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(dl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function on(t,e,n){return t.message=t.message.replace(e,n),t}function v2(t){for(let e of t)if(typeof e=="object"&&!KD(e))return e;return{}}function _2(t,e){var n,i;let r;return KD(t[0])?r=t[0]:KD(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:o=>{r.next&&r.next(e(o))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Ks=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Zi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return HD(this._delegate,e._delegate)}},Ys=class extends Ks{data(e){let n=this._delegate.data(e);return this._delegate._converter||QN(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Qs=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ul(e)}where(e,n,i){try{return new t(this.firestore,Ar(this._delegate,qF(e,n,i)))}catch(r){throw on(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,Ar(this._delegate,GF(e,n)))}catch(i){throw on(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,Ar(this._delegate,WF(e)))}catch(n){throw on(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,Ar(this._delegate,KF(e)))}catch(n){throw on(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,Ar(this._delegate,YF(...e)))}catch(n){throw on(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,Ar(this._delegate,QF(...e)))}catch(n){throw on(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,Ar(this._delegate,ZF(...e)))}catch(n){throw on(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,Ar(this._delegate,XF(...e)))}catch(n){throw on(n,"endAt()","Query.endAt()")}}isEqual(e){return VD(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=o2(this._delegate):e?.source==="server"?n=s2(this._delegate):n=r2(this._delegate),n.then(i=>new eh(this.firestore,new ui(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let n=v2(e),i=_2(e,r=>new eh(this.firestore,new ui(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return GD(this._delegate,n,i)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(dl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},QD=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Ys(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},eh=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Qs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ys(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new QD(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new Ys(this._firestore,i))})}isEqual(e){return HD(this._delegate,e._delegate)}},hl=class t extends Qs{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Zi(this.firestore,e):null}doc(e){try{return e===void 0?new Zi(this.firestore,Jd(this._delegate)):new Zi(this.firestore,Jd(this._delegate,e))}catch(n){throw on(n,"doc()","CollectionReference.doc()")}}add(e){return c2(this._delegate,e).then(n=>new Zi(this.firestore,n))}isEqual(e){return LD(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(dl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ws(t){return xe(t,We)}var ZD=class t{constructor(...e){this._delegate=new li(...e)}static documentId(){return new t(dt.keyField().canonicalString())}isEqual(e){return e=Re(e),e instanceof li?this._delegate._internalPath.isEqual(e._internalPath):!1}};var XD=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=h2();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=d2();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=f2(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=p2(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=m2(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var kK={Firestore:Xg,GeoPoint:Us,Timestamp:nt,Blob:Zg,Transaction:Jg,WriteBatch:ey,DocumentReference:Zi,DocumentSnapshot:Ks,Query:Qs,QueryDocumentSnapshot:Ys,QuerySnapshot:eh,CollectionReference:hl,FieldPath:ZD,FieldValue:XD,setLogLevel:PK,CACHE_SIZE_UNLIMITED:TF};function NK(t,e){t.INTERNAL.registerComponent(new qn("firestore-compat",n=>{let i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},kK)))}function OK(t){NK(t,(e,n)=>new Xg(e,n,new YD)),t.registerVersion(xK,RK)}OK(wt);function FK(t,e=gi){return new ne(n=>{let i;return e!=null?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}function w2(t,e){return FK(t,e)}function LK(t,e){return w2(t,e).pipe(ln(void 0),ba(),Y(n=>{let[i,r]=n;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function nC(t,e){return w2(t,e).pipe(Y(n=>({payload:n,type:"query"})))}var ty=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let i=this.ref.collection(e),{ref:r,query:o}=C2(i,n);return new iy(r,o,this.afs)}snapshotChanges(){return LK(this.ref,this.afs.schedulers.outsideAngular).pipe(Ot)}valueChanges(e={}){return this.snapshotChanges().pipe(Y(({payload:n})=>e.idField?De(L({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return me(this.ref.get(e)).pipe(Ot)}};function ny(t,e){return nC(t,e).pipe(ln(void 0),ba(),Y(n=>{let[i,r]=n,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{let l=o.find(f=>f.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function b2(t,e,n){return ny(t,n).pipe($o((i,r)=>VK(i,r.map(o=>o.payload),e),[]),_a(),Y(i=>i.map(r=>({type:r.type,payload:r}))))}function VK(t,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(t=jK(t,i))}),t}function eC(t,e,n,...i){let r=t.slice();return r.splice(e,n,...i),r}function jK(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return eC(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return eC(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return eC(t,e.oldIndex,1);break}return t}function E2(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var iy=class{ref;query;afs;constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=ny(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(Y(i=>i.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(ln(void 0),ba(),Me(([i,r])=>r.length>0||!i),Y(([,i])=>i),Ot)}auditTrail(e){return this.stateChanges(e).pipe($o((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=E2(e);return b2(this.query,n,this.afs.schedulers.outsideAngular).pipe(Ot)}valueChanges(e={}){return nC(this.query,this.afs.schedulers.outsideAngular).pipe(Y(n=>n.payload.docs.map(i=>e.idField?De(L({},i.data()),{[e.idField]:i.id}):i.data())),Ot)}get(e){return me(this.query.get(e)).pipe(Ot)}add(e){return this.ref.add(e)}doc(e){return new ty(this.ref.doc(e),this.afs)}},tC=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?ny(this.query,this.afs.schedulers.outsideAngular).pipe(Ot):ny(this.query,this.afs.schedulers.outsideAngular).pipe(Y(n=>n.filter(i=>e.indexOf(i.type)>-1)),Me(n=>n.length>0),Ot)}auditTrail(e){return this.stateChanges(e).pipe($o((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=E2(e);return b2(this.query,n,this.afs.schedulers.outsideAngular).pipe(Ot)}valueChanges(e={}){return nC(this.query,this.afs.schedulers.outsideAngular).pipe(Y(i=>i.payload.docs.map(r=>e.idField?L({[e.idField]:r.id},r.data()):r.data())),Ot)}get(e){return me(this.query.get(e)).pipe(Ot)}},I2=new O("angularfire2.enableFirestorePersistence"),D2=new O("angularfire2.firestore.persistenceSettings"),BK=new O("angularfire2.firestore.settings"),UK=new O("angularfire2.firestore.use-emulator");function C2(t,e=n=>n){return{query:e(t),ref:t}}var $K=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,i,r,o,s,a,c,l,u,f,m,g,w,I,E,A,B){this.schedulers=c;let M=ls(n,a,i),R=u;f&&mb(M,a,m,w,I,E,g,A),[this.firestore,this.persistenceEnabled$]=Ja(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{let q=a.runOutsideAngular(()=>M.firestore());if(o&&q.settings(o),R&&q.useEmulator(...R),r&&!is(s)){let ee=()=>{try{return me(q.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(Ie){return typeof console<"u"&&console.warn(Ie),G(!1)}};return[q,a.runOutsideAngular(ee)]}else return[q,G(!1)]},[o,R,r])}collection(n,i){let r;typeof n=="string"?r=this.firestore.collection(n):r=n;let{ref:o,query:s}=C2(r,i),a=this.schedulers.ngZone.run(()=>o);return new iy(a,s,this)}collectionGroup(n,i){let r=i||(s=>s),o=this.firestore.collectionGroup(n);return new tC(r(o),this)}doc(n){let i;typeof n=="string"?i=this.firestore.doc(n):i=n;let r=this.schedulers.ngZone.run(()=>i);return new ty(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||t)(_(no),_(io,8),_(I2,8),_(BK,8),_(ft),_(Z),_(Xa),_(D2,8),_(UK,8),_(gb,8),_(lb,8),_(ub,8),_(db,8),_(hb,8),_(fb,8),_(pb,8),_(fr,8))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),T2=(()=>{class t{constructor(){wt.registerVersion("angularfire",pr.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:I2,useValue:!0},{provide:D2,useValue:n}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=oe({type:t});static \u0275inj=se({providers:[$K]})}return t})();var A2={production:!1,firebaseConfig:{apiKey:"AIzaSyBH_g3d8yMuuJOfZqttgwQWfbEbyj_9kz8",authDomain:"front-ad0dc.firebaseapp.com",projectId:"front-ad0dc",storageBucket:"front-ad0dc.appspot.com",messagingSenderId:"782994755810",appId:"1:782994755810:web:b002b5319a822a5379cebb",measurementId:"G-MLKW7W7WXG"}};var HK=[O1],S2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=oe({type:e,bootstrap:[WR]}),e.\u0275inj=se({imports:[nR,TP,wu.forRoot([]),mP,uM.initializeApp(A2.firebaseConfig),Wx,pP,HK,T2,YM,AP]});let t=e;return t})();tR().bootstrapModule(S2).catch(t=>console.error(t));
