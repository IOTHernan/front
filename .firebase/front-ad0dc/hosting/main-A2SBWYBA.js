import{A as Ns,B as xd,C as Tt,D as Ct,a as J,b as Ve,c as pm,d as A,e as zI,f as _d,g as HI,h as GI,i as WI,j as gm,k as mm,l as wd,m as Zc,n as ym,o as Ed,p as bd,q as KI,r as vm,s as Ae,t as Zn,u as gr,v as Id,w as Co,x as Cd,y as Dd,z as QI}from"./chunk-CFLFAD7G.js";var YI=null;var _m=1,wm=Symbol("SIGNAL");function Tn(t){let e=YI;return YI=t,e}var ZI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rk(t){if(!(Im(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===_m)){if(!t.producerMustRecompute(t)&&!Em(t)){t.dirty=!1,t.lastCleanEpoch=_m;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=_m}}function XI(t){return t&&(t.nextProducerIndex=0),Tn(t)}function JI(t,e){if(Tn(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Im(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)bm(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Em(t){Td(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(rk(n),r!==n.version))return!0}return!1}function eC(t){if(Td(t),Im(t))for(let e=0;e<t.producerNode.length;e++)bm(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function bm(t,e){if(ik(t),Td(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)bm(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Td(i),i.producerIndexOfThis[r]=e}}function Im(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Td(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ik(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ok(){throw new Error}var sk=ok;function tC(t){sk=t}function de(t){return typeof t=="function"}function ks(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Sd=ks(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Do(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ut=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(de(r))try{r()}catch(o){e=o instanceof Sd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{nC(o)}catch(s){e=e??[],s instanceof Sd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Sd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)nC(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Do(n,e)}remove(e){let{_finalizers:n}=this;n&&Do(n,e),e instanceof t&&e._removeParent(this)}};ut.EMPTY=(()=>{let t=new ut;return t.closed=!0,t})();var Cm=ut.EMPTY;function Ad(t){return t instanceof ut||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function nC(t){de(t)?t():t.unsubscribe()}var Xn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Os={setTimeout(t,e,...n){let{delegate:r}=Os;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Os;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Md(t){Os.setTimeout(()=>{let{onUnhandledError:e}=Xn;if(e)e(t);else throw t})}function Xc(){}var rC=Dm("C",void 0,void 0);function iC(t){return Dm("E",void 0,t)}function oC(t){return Dm("N",t,void 0)}function Dm(t,e,n){return{kind:t,value:e,error:n}}var xo=null;function Fs(t){if(Xn.useDeprecatedSynchronousErrorHandling){let e=!xo;if(e&&(xo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=xo;if(xo=null,n)throw r}}else t()}function sC(t){Xn.useDeprecatedSynchronousErrorHandling&&xo&&(xo.errorThrown=!0,xo.error=t)}var To=class extends ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ad(e)&&e.add(this)):this.destination=uk}static create(e,n,r){return new Zr(e,n,r)}next(e){this.isStopped?Tm(oC(e),this):this._next(e)}error(e){this.isStopped?Tm(iC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tm(rC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ak=Function.prototype.bind;function xm(t,e){return ak.call(t,e)}var Sm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Pd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Pd(r)}else Pd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Pd(n)}}},Zr=class extends To{constructor(e,n,r){super();let i;if(de(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Xn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xm(e.next,o),error:e.error&&xm(e.error,o),complete:e.complete&&xm(e.complete,o)}):i=e}this.destination=new Sm(i)}};function Pd(t){Xn.useDeprecatedSynchronousErrorHandling?sC(t):Md(t)}function ck(t){throw t}function Tm(t,e){let{onStoppedNotification:n}=Xn;n&&Os.setTimeout(()=>n(t,e))}var uk={closed:!0,next:Xc,error:ck,complete:Xc};var Vs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rn(t){return t}function Am(...t){return Mm(t)}function Mm(t){return t.length===0?rn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var he=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=dk(n)?n:new Zr(n,r,i);return Fs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=aC(r),new r((i,o)=>{let s=new Zr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vs](){return this}pipe(...n){return Mm(n)(this)}toPromise(n){return n=aC(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function aC(t){var e;return(e=t??Xn.Promise)!==null&&e!==void 0?e:Promise}function lk(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}function dk(t){return t&&t instanceof To||lk(t)&&Ad(t)}function Pm(t){return de(t?.lift)}function me(t){return e=>{if(Pm(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new Rm(t,e,n,r,i)}var Rm=class extends To{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ls(){return me((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var js=class extends he{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ut;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ut.EMPTY)}return e}refCount(){return Ls()(this)}};var cC=ks(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var mt=(()=>{class t extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Rd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new cC}next(n){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Cm:(this.currentObservers=null,o.push(n),new ut(()=>{this.currentObservers=null,Do(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new he;return n.source=this,n}}return t.create=(e,n)=>new Rd(e,n),t})(),Rd=class extends mt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Cm}};var Lt=class extends mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Jc={now(){return(Jc.delegate||Date).now()},delegate:void 0};var Nd=class extends mt{constructor(e=1/0,n=1/0,r=Jc){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var kd=class extends ut{constructor(e,n){super()}schedule(e,n=0){return this}};var eu={setInterval(t,e,...n){let{delegate:r}=eu;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=eu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Us=class extends kd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return eu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&eu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Do(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Bs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Bs.now=Jc.now;var $s=class extends Bs{constructor(e,n=Bs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Di=new $s(Us),Nm=Di;var Od=class extends Us{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Fd=class extends $s{};var km=new Fd(Od);var gn=new he(t=>t.complete());function Vd(t){return t&&de(t.schedule)}function Om(t){return t[t.length-1]}function Ld(t){return de(Om(t))?t.pop():void 0}function mr(t){return Vd(Om(t))?t.pop():void 0}function uC(t,e){return typeof Om(t)=="number"?t.pop():e}var jd=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ud(t){return de(t?.then)}function Bd(t){return de(t[Vs])}function $d(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function qd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function hk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zd=hk();function Hd(t){return de(t?.[zd])}function Gd(t){return HI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield _d(n.read());if(i)return yield _d(void 0);yield yield _d(r)}}finally{n.releaseLock()}})}function Wd(t){return de(t?.getReader)}function We(t){if(t instanceof he)return t;if(t!=null){if(Bd(t))return fk(t);if(jd(t))return pk(t);if(Ud(t))return gk(t);if($d(t))return lC(t);if(Hd(t))return mk(t);if(Wd(t))return yk(t)}throw qd(t)}function fk(t){return new he(e=>{let n=t[Vs]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function pk(t){return new he(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function gk(t){return new he(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Md)})}function mk(t){return new he(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function lC(t){return new he(e=>{vk(t,e).catch(n=>e.error(n))})}function yk(t){return lC(Gd(t))}function vk(t,e){var n,r,i,o;return zI(this,void 0,void 0,function*(){try{for(n=GI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function mn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function yn(t,e=0){return me((n,r)=>{n.subscribe(ye(r,i=>mn(r,t,()=>r.next(i),e),()=>mn(r,t,()=>r.complete(),e),i=>mn(r,t,()=>r.error(i),e)))})}function kn(t,e=0){return me((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dC(t,e){return We(t).pipe(kn(e),yn(e))}function hC(t,e){return We(t).pipe(kn(e),yn(e))}function fC(t,e){return new he(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function pC(t,e){return new he(n=>{let r;return mn(n,e,()=>{r=t[zd](),mn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}function Kd(t,e){if(!t)throw new Error("Iterable cannot be null");return new he(n=>{mn(n,e,()=>{let r=t[Symbol.asyncIterator]();mn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gC(t,e){return Kd(Gd(t),e)}function mC(t,e){if(t!=null){if(Bd(t))return dC(t,e);if(jd(t))return fC(t,e);if(Ud(t))return hC(t,e);if($d(t))return Kd(t,e);if(Hd(t))return pC(t,e);if(Wd(t))return gC(t,e)}throw qd(t)}function Ee(t,e){return e?mC(t,e):We(t)}function re(...t){let e=mr(t);return Ee(t,e)}function qs(t,e){let n=de(t)?t:()=>t,r=i=>i.error(n());return new he(e?i=>e.schedule(r,0,i):r)}function Fm(t){return!!t&&(t instanceof he||de(t.lift)&&de(t.subscribe))}var Xr=ks(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function yC(t){return t instanceof Date&&!isNaN(t)}function se(t,e){return me((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:_k}=Array;function wk(t,e){return _k(e)?t(...e):t(e)}function Qd(t){return se(e=>wk(t,e))}var{isArray:Ek}=Array,{getPrototypeOf:bk,prototype:Ik,keys:Ck}=Object;function Yd(t){if(t.length===1){let e=t[0];if(Ek(e))return{args:e,keys:null};if(Dk(e)){let n=Ck(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Dk(t){return t&&typeof t=="object"&&bk(t)===Ik}function Zd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function tu(...t){let e=mr(t),n=Ld(t),{args:r,keys:i}=Yd(t);if(r.length===0)return Ee([],e);let o=new he(xk(r,e,i?s=>Zd(i,s):rn));return n?o.pipe(Qd(n)):o}function xk(t,e,n=rn){return r=>{vC(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)vC(e,()=>{let l=Ee(t[c],e),d=!1;l.subscribe(ye(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function vC(t,e,n){t?mn(n,t,e):e()}function _C(t,e,n,r,i,o,s,a){let c=[],l=0,d=0,f=!1,g=()=>{f&&!c.length&&!l&&e.complete()},y=P=>l<r?b(P):c.push(P),b=P=>{o&&e.next(P),l++;let C=!1;We(n(P,d++)).subscribe(ye(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{C=!0},void 0,()=>{if(C)try{for(l--;c.length&&l<r;){let O=c.shift();s?mn(e,s,()=>b(O)):b(O)}g()}catch(O){e.error(O)}}))};return t.subscribe(ye(e,y,()=>{f=!0,g()})),()=>{a?.()}}function yt(t,e,n=1/0){return de(e)?yt((r,i)=>se((o,s)=>e(r,o,i,s))(We(t(r,i))),n):(typeof e=="number"&&(n=e),me((r,i)=>_C(r,i,t,n)))}function xi(t=1/0){return yt(rn,t)}function wC(){return xi(1)}function zs(...t){return wC()(Ee(t,mr(t)))}function Xd(t){return new he(e=>{We(t()).subscribe(e)})}function Vm(...t){let e=Ld(t),{args:n,keys:r}=Yd(t),i=new he(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let f=!1;We(n[d]).subscribe(ye(o,g=>{f||(f=!0,l--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?Zd(r,a):a),o.complete())}))}});return e?i.pipe(Qd(e)):i}function nu(t=0,e,n=Nm){let r=-1;return e!=null&&(Vd(e)?n=e:r=e),new he(i=>{let o=yC(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Lm(...t){let e=mr(t),n=uC(t,1/0),r=t;return r.length?r.length===1?We(r[0]):xi(n)(Ee(r,e)):gn}function Dt(t,e){return me((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ti(t){return me((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=We(t(s,Ti(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function EC(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ye(s,d=>{let f=l++;c=a?t(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Jr(t,e){return de(e)?yt(t,e,1):yt(t,1)}function jm(t,e=Di){return me((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+t,d=e.now();if(d<l){i=this.schedule(void 0,l-d),r.add(i);return}a()}n.subscribe(ye(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Si(t){return me((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ei(t){return t<=0?()=>gn:me((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Um(t){return se(()=>t)}function Bm(t,e=rn){return t=t??Tk,me((n,r)=>{let i,o=!0;n.subscribe(ye(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Tk(t,e){return t===e}function Jd(t=Sk){return me((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Sk(){return new Xr}function Ai(t){return me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function On(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Dt((i,o)=>t(i,o,r)):rn,ei(1),n?Si(e):Jd(()=>new Xr))}function Hs(t){return t<=0?()=>gn:me((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $m(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Dt((i,o)=>t(i,o,r)):rn,Hs(1),n?Si(e):Jd(()=>new Xr))}function ru(){return me((t,e)=>{let n,r=!1;t.subscribe(ye(e,i=>{let o=n;n=i,r&&e.next([o,i]),r=!0}))})}function So(t,e){return me(EC(t,e,arguments.length>=2,!0))}function bC(t={}){let{connector:e=()=>new mt,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,d=!1,f=!1,g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=c=void 0,d=f=!1},b=()=>{let P=s;y(),P?.unsubscribe()};return me((P,C)=>{l++,!f&&!d&&g();let O=c=c??e();C.add(()=>{l--,l===0&&!f&&!d&&(a=qm(b,i))}),O.subscribe(C),!s&&l>0&&(s=new Zr({next:$=>O.next($),error:$=>{f=!0,g(),a=qm(y,n,$),O.error($)},complete:()=>{d=!0,g(),a=qm(y,r),O.complete()}}),We(P).subscribe(s))})(o)}}function qm(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Zr({next:()=>{r.unsubscribe(),t()}});return We(e(...n)).subscribe(r)}function eh(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,bC({connector:()=>new Nd(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ao(...t){let e=mr(t);return me((n,r)=>{(e?zs(t,n,e):zs(t,n)).subscribe(r)})}function $e(t,e){return me((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,c=>{i?.unsubscribe();let l=0,d=o++;We(t(c,d)).subscribe(i=ye(r,f=>r.next(e?e(c,f,d,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function th(t,e){return de(e)?$e(()=>t,e):$e(()=>t)}function zm(t){return me((e,n)=>{We(t).subscribe(ye(n,()=>n.complete(),Xc)),!n.closed&&e.subscribe(n)})}function nt(t,e,n){let r=de(t)||e||n?{next:t,error:e,complete:n}:t;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):rn}var cD="https://g.co/ng/security#xss",ie=class extends Error{constructor(e,n){super(kh(e,n)),this.code=e}};function kh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var sy=class extends mt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Hm(o),i&&(i=Hm(i)),s&&(s=Hm(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ut&&e.add(a),a}};function Hm(t){return e=>{setTimeout(t,void 0,e)}}var Xe=sy;var Ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ie||{});function sn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(sn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function IC(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var uD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(uD||{}),_r=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_r||{});function mu(t){return{toString:t}.toString()}var an=globalThis;var Xs={},Vn=[];function qe(t){for(let e in t)if(t[e]===qe)return e;throw Error("Could not find renamed property on target object.")}function Ak(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var Mk=qe({\u0275cmp:qe}),Pk=qe({\u0275dir:qe}),Rk=qe({\u0275pipe:qe}),Nk=qe({\u0275mod:qe}),hh=qe({\u0275fac:qe}),iu=qe({__NG_ELEMENT_ID__:qe}),CC=qe({__NG_ENV_ID__:qe}),St=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(St||{});function lD(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ay(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];kk(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function dD(t){return t===3||t===4||t===6}function kk(t){return t.charCodeAt(0)===64}function su(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?DC(t,n,i,null,e[++r]):DC(t,n,i,null,null))}}return t}function DC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var hD="ng-template";function Ok(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&lD(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function fD(t){return t.type===4&&t.value!==hD}function Fk(t,e,n){let r=t.type===4&&!n?hD:t.value;return e===r}function Vk(t,e,n){let r=4,i=t.attrs||[],o=Uk(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Jn(r)&&!Jn(c))return!1;if(s&&Jn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Fk(t,c,n)||c===""&&e.length===1){if(Jn(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!Ok(t.attrs,l,n)){if(Jn(r))return!1;s=!0}continue}let d=r&8?"class":c,f=Lk(d,i,fD(t),n);if(f===-1){if(Jn(r))return!1;s=!0;continue}if(l!==""){let g;f>o?g="":g=i[f+1].toLowerCase();let y=r&8?g:null;if(y&&lD(y,l,0)!==-1||r&2&&l!==g){if(Jn(r))return!1;s=!0}}}}return Jn(r)||s}function Jn(t){return(t&1)===0}function Lk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Bk(e,t)}function jk(t,e,n=!1){for(let r=0;r<e.length;r++)if(Vk(t,e[r],n))return!0;return!1}function Uk(t){for(let e=0;e<t.length;e++){let n=t[e];if(dD(n))return e}return t.length}function Bk(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xC(t,e){return t?":not("+e.trim()+")":e}function $k(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Jn(s)&&(e+=xC(o,i),i=""),r=s,o=o||!Jn(r);n++}return i!==""&&(e+=xC(o,i)),e}function qk(t){return t.map($k).join(",")}function zk(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Jn(i))break;i=o}r++}return{attrs:e,classes:n}}function le(t){return mu(()=>{let e=vD(t),n=Ve(J({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===uD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_r.Emulated,styles:t.styles||Vn,_:null,schemas:t.schemas||null,tView:null,id:""});_D(n);let r=t.dependencies;return n.directiveDefs=SC(r,!1),n.pipeDefs=SC(r,!0),n.id=Wk(n),n})}function Hk(t){return Ri(t)||pD(t)}function Gk(t){return t!==null}function ke(t){return mu(()=>({type:t.type,bootstrap:t.bootstrap||Vn,declarations:t.declarations||Vn,imports:t.imports||Vn,exports:t.exports||Vn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function TC(t,e){if(t==null)return Xs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=St.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==St.None?[r,a]:r,e[o]=s):n[o]=r}return n}function jt(t){return mu(()=>{let e=vD(t);return _D(e),e})}function Ri(t){return t[Mk]||null}function pD(t){return t[Pk]||null}function gD(t){return t[Rk]||null}function mD(t){let e=Ri(t)||pD(t)||gD(t);return e!==null?e.standalone:!1}function yD(t,e){let n=t[Nk]||null;if(!n&&e===!0)throw new Error(`Type ${sn(t)} does not have '\u0275mod' property.`);return n}function vD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Vn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:TC(t.inputs,e),outputs:TC(t.outputs),debugInfo:null}}function _D(t){t.features?.forEach(e=>e(t))}function SC(t,e){if(!t)return null;let n=e?gD:Hk;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Gk)}function Wk(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var ii=0,Se=1,ue=2,Qt=3,er=4,nr=5,fh=6,au=7,tr=8,Js=9,ti=10,lt=11,cu=12,AC=13,ua=14,wr=15,Oh=16,Gs=17,ea=18,Fh=19,wD=20,Pi=21,Gm=22,Ro=23,Er=25,ED=1;var No=7,ph=8,gh=9,Ln=10,Gy=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Gy||{});function Mo(t){return Array.isArray(t)&&typeof t[ED]=="object"}function oi(t){return Array.isArray(t)&&t[ED]===!0}function Wy(t){return(t.flags&4)!==0}function Vh(t){return t.componentOffset>-1}function Lh(t){return(t.flags&1)===1}function Ni(t){return!!t.template}function Kk(t){return(t[ue]&512)!==0}var bD="svg",Qk="math",Yk=!1;function Zk(){return Yk}function br(t){for(;Array.isArray(t);)t=t[ii];return t}function ID(t,e){return br(e[t])}function jn(t,e){return br(e[t.index])}function CD(t,e){return t.data[e]}function Xk(t,e){return t[e]}function Fi(t,e){let n=e[t];return Mo(n)?n:n[ii]}function Ky(t){return(t[ue]&128)===128}function Jk(t){return oi(t[Qt])}function ta(t,e){return e==null?null:t[e]}function DD(t){t[Gs]=0}function eO(t){t[ue]&1024||(t[ue]|=1024,Ky(t)&&uu(t))}function tO(t,e){for(;t>0;)e=e[ua],t--;return e}function Qy(t){return!!(t[ue]&9216||t[Ro]?.dirty)}function cy(t){Qy(t)?uu(t):t[ue]&64&&(Zk()?(t[ue]|=1024,uu(t)):t[ti].changeDetectionScheduler?.notify())}function uu(t){t[ti].changeDetectionScheduler?.notify();let e=lu(t);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!Ky(e)));)e=lu(e)}function xD(t,e){if((t[ue]&256)===256)throw new ie(911,!1);t[Pi]===null&&(t[Pi]=[]),t[Pi].push(e)}function nO(t,e){if(t[Pi]===null)return;let n=t[Pi].indexOf(e);n!==-1&&t[Pi].splice(n,1)}function lu(t){let e=t[Qt];return oi(e)?e[Qt]:e}var be={lFrame:kD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rO(){return be.lFrame.elementDepthCount}function iO(){be.lFrame.elementDepthCount++}function oO(){be.lFrame.elementDepthCount--}function TD(){return be.bindingsEnabled}function sO(){return be.skipHydrationRootTNode!==null}function aO(t){return be.skipHydrationRootTNode===t}function cO(){be.skipHydrationRootTNode=null}function Le(){return be.lFrame.lView}function Yt(){return be.lFrame.tView}function Ce(t){return be.lFrame.contextLView=t,t[tr]}function De(t){return be.lFrame.contextLView=null,t}function un(){let t=SD();for(;t!==null&&t.type===64;)t=t.parent;return t}function SD(){return be.lFrame.currentTNode}function uO(){let t=be.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function jo(t,e){let n=be.lFrame;n.currentTNode=t,n.isParent=e}function Yy(){return be.lFrame.isParent}function AD(){be.lFrame.isParent=!1}function lO(){return be.lFrame.contextLView}function dO(){return be.lFrame.bindingIndex}function hO(t){return be.lFrame.bindingIndex=t}function jh(){return be.lFrame.bindingIndex++}function MD(t){let e=be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fO(){return be.lFrame.inI18n}function pO(t,e){let n=be.lFrame;n.bindingIndex=n.bindingRootIndex=t,uy(e)}function gO(){return be.lFrame.currentDirectiveIndex}function uy(t){be.lFrame.currentDirectiveIndex=t}function mO(t){let e=be.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function PD(t){be.lFrame.currentQueryIndex=t}function yO(t){let e=t[Se];return e.type===2?e.declTNode:e.type===1?t[nr]:null}function RD(t,e,n){if(n&Ie.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Ie.Host);)if(i=yO(o),i===null||(o=o[ua],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=be.lFrame=ND();return r.currentTNode=e,r.lView=t,!0}function Zy(t){let e=ND(),n=t[Se];be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ND(){let t=be.lFrame,e=t===null?null:t.child;return e===null?kD(t):e}function kD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function OD(){let t=be.lFrame;return be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var FD=OD;function Xy(){let t=OD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vO(t){return(be.lFrame.contextLView=tO(t,be.lFrame.contextLView))[tr]}function Uo(){return be.lFrame.selectedIndex}function ko(t){be.lFrame.selectedIndex=t}function yu(){let t=be.lFrame;return CD(t.tView,t.selectedIndex)}function At(){be.lFrame.currentNamespace=bD}function _O(){return be.lFrame.currentNamespace}var VD=!0;function Uh(){return VD}function Bh(t){VD=t}function wO(){return $h(un(),Le())}function $h(t,e){return new Cr(jn(t,e))}var Cr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=wO;let t=e;return t})();function Jy(t,e){t.forEach(n=>Array.isArray(n)?Jy(n,e):e(n))}function LD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function EO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function bO(t,e,n){let r=vu(t,e);return r>=0?t[r|1]=n:(r=~r,EO(t,r,e,n)),r}function Wm(t,e){let n=vu(t,e);if(n>=0)return t[n|1]}function vu(t,e){return IO(t,e,1)}function IO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function jD(t){return(t.flags&128)===128}var ly;function UD(t){ly=t}function CO(){if(ly!==void 0)return ly;if(typeof document<"u")return document;throw new ie(210,!1)}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Oe(t){return{providers:t.providers||[],imports:t.imports||[]}}function qh(t){return MC(t,$D)||MC(t,qD)}function BD(t){return qh(t)!==null}function MC(t,e){return t.hasOwnProperty(e)?t[e]:null}function DO(t){let e=t&&(t[$D]||t[qD]);return e||null}function PC(t){return t&&(t.hasOwnProperty(RC)||t.hasOwnProperty(xO))?t[RC]:null}var $D=qe({\u0275prov:qe}),RC=qe({\u0275inj:qe}),qD=qe({ngInjectableDef:qe}),xO=qe({ngInjectorDef:qe}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},zh=new H("",{providedIn:"root",factory:()=>TO}),TO="ng",ev=new H(""),vt=new H("",{providedIn:"platform",factory:()=>"unknown"});var tv=new H("",{providedIn:"root",factory:()=>CO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var SO=qe({__forward_ref__:qe});function Bo(t){return t.__forward_ref__=Bo,t.toString=function(){return sn(this())},t}function on(t){return zD(t)?t():t}function zD(t){return typeof t=="function"&&t.hasOwnProperty(SO)&&t.__forward_ref__===Bo}function HD(t){return t&&!!t.\u0275providers}function na(t){return typeof t=="string"?t:t==null?"":String(t)}function AO(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():na(t)}function MO(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ie(-200,t)}function nv(t,e){throw new ie(-201,!1)}var dy;function GD(){return dy}function Fn(t){let e=dy;return dy=t,e}function WD(t,e,n){let r=qh(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Ie.Optional)return null;if(e!==void 0)return e;nv(t,"Injector")}var PO={},du=PO,hy="__NG_DI_FLAG__",yh="ngTempTokenPath",RO="ngTokenPath",NO=/\n/gm,kO="\u0275",NC="__source",Ys;function OO(){return Ys}function Mi(t){let e=Ys;return Ys=t,e}function FO(t,e=Ie.Default){if(Ys===void 0)throw new ie(-203,!1);return Ys===null?WD(t,void 0,e):Ys.get(t,e&Ie.Optional?null:void 0,e)}function F(t,e=Ie.Default){return(GD()||FO)(on(t),e)}function K(t,e=Ie.Default){return F(t,Hh(e))}function Hh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fy(t){let e=[];for(let n=0;n<t.length;n++){let r=on(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ie(900,!1);let i,o=Ie.Default;for(let s=0;s<r.length;s++){let a=r[s],c=VO(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(F(i,o))}else e.push(F(r))}return e}function KD(t,e){return t[hy]=e,t.prototype[hy]=e,t}function VO(t){return t[hy]}function LO(t,e,n,r){let i=t[yh];throw e[NC]&&i.unshift(e[NC]),t.message=jO(`
`+t.message,i,n,r),t[RO]=i,t[yh]=null,t}function jO(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==kO?t.slice(2):t;let i=sn(e);if(Array.isArray(e))i=e.map(sn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):sn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(NO,`
  `)}`}var UO="h",BO="b";var $O=()=>null;function rv(t,e,n=!1){return $O(t,e,n)}var nh="__parameters__";function qO(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function QD(t,e,n){return mu(()=>{let r=qO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,d){let f=c.hasOwnProperty(nh)?c[nh]:Object.defineProperty(c,nh,{value:[]})[nh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var vn=KD(QD("Optional"),8);var iv=KD(QD("SkipSelf"),4);function ra(t,e){let n=t.hasOwnProperty(hh);return n?t[hh]:null}var ia=new H(""),YD=new H("",-1),ZD=new H(""),vh=class{get(e,n=du){if(n===du){let r=new Error(`NullInjectorError: No provider for ${sn(e)}!`);throw r.name="NullInjectorError",r}return n}};function Gh(t){return{\u0275providers:t}}function zO(...t){return{\u0275providers:XD(!0,t),\u0275fromNgModule:!0}}function XD(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Jy(e,s=>{let a=s;py(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&JD(i,o),n}function JD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ov(i,o=>{e(o,r)})}}function py(t,e,n,r){if(t=on(t),!t)return!1;let i=null,o=PC(t),s=!o&&Ri(t);if(!o&&!s){let c=t.ngModule;if(o=PC(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)py(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Jy(o.imports,d=>{py(d,e,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&JD(l,e)}if(!a){let l=ra(i)||(()=>new i);e({provide:i,useFactory:l,deps:Vn},i),e({provide:ZD,useValue:i,multi:!0},i),e({provide:ia,useValue:()=>F(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;ov(c,d=>{e(d,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ov(t,e){for(let n of t)HD(n)&&(n=n.\u0275providers),Array.isArray(n)?ov(n,e):e(n)}var HO=qe({provide:String,useValue:qe});function ex(t){return t!==null&&typeof t=="object"&&HO in t}function GO(t){return!!(t&&t.useExisting)}function WO(t){return!!(t&&t.useFactory)}function oa(t){return typeof t=="function"}function KO(t){return!!t.useClass}var Wh=new H(""),ah={},QO={},Km;function sv(){return Km===void 0&&(Km=new vh),Km}var cn=class{},hu=class extends cn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,my(e,s=>this.processProvider(s)),this.records.set(YD,Ws(void 0,this)),i.has("environment")&&this.records.set(cn,Ws(void 0,this));let o=this.records.get(Wh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ZD,Vn,Ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Mi(this),r=Fn(void 0),i;try{return e()}finally{Mi(n),Fn(r)}}get(e,n=du,r=Ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(CC))return e[CC](this);r=Hh(r);let i,o=Mi(this),s=Fn(void 0);try{if(!(r&Ie.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=eF(e)&&qh(e);l&&this.injectableDefInScope(l)?c=Ws(gy(e),ah):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Ie.Self?sv():this.parent;return n=r&Ie.Optional&&n===du?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[yh]=a[yh]||[]).unshift(sn(e)),o)throw a;return LO(a,e,"R3InjectorError",this.source)}else throw a}finally{Fn(s),Mi(o)}}resolveInjectorInitializers(){let e=Mi(this),n=Fn(void 0),r;try{let i=this.get(ia,Vn,Ie.Self);for(let o of i)o()}finally{Mi(e),Fn(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(sn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(e){e=on(e);let n=oa(e)?e:on(e&&e.provide),r=ZO(e);if(!oa(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ws(void 0,ah,!0),i.factory=()=>fy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ah&&(n.value=QO,n.value=n.factory()),typeof n.value=="object"&&n.value&&JO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=on(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function gy(t){let e=qh(t),n=e!==null?e.factory:ra(t);if(n!==null)return n;if(t instanceof H)throw new ie(204,!1);if(t instanceof Function)return YO(t);throw new ie(204,!1)}function YO(t){if(t.length>0)throw new ie(204,!1);let n=DO(t);return n!==null?()=>n.factory(t):()=>new t}function ZO(t){if(ex(t))return Ws(void 0,t.useValue);{let e=tx(t);return Ws(e,ah)}}function tx(t,e,n){let r;if(oa(t)){let i=on(t);return ra(i)||gy(i)}else if(ex(t))r=()=>on(t.useValue);else if(WO(t))r=()=>t.useFactory(...fy(t.deps||[]));else if(GO(t))r=()=>F(on(t.useExisting));else{let i=on(t&&(t.useClass||t.provide));if(XO(t))r=()=>new i(...fy(t.deps));else return ra(i)||gy(i)}return r}function Ws(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function XO(t){return!!t.deps}function JO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function eF(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function my(t,e){for(let n of t)Array.isArray(n)?my(n,e):n&&HD(n)?my(n.\u0275providers,e):e(n)}function Dr(t,e){t instanceof hu&&t.assertNotDestroyed();let n,r=Mi(t),i=Fn(void 0);try{return e()}finally{Mi(r),Fn(i)}}function tF(t){if(!GD()&&!OO())throw new ie(-203,!1)}function nF(t){let e=an.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function rF(t){return typeof t=="function"}var yy=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function nx(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function xr(){return rx}function rx(t){return t.type.prototype.ngOnChanges&&(t.setInput=oF),iF}xr.ngInherit=!0;function iF(){let t=ox(this),e=t?.current;if(e){let n=t.previous;if(n===Xs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function oF(t,e,n,r,i){let o=this.declaredInputs[r],s=ox(t)||sF(t,{previous:Xs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new yy(l&&l.currentValue,n,c===Xs),nx(t,e,i,n)}var ix="__ngSimpleChanges__";function ox(t){return t[ix]||null}function sF(t,e){return t[ix]=e}var kC=null;var yr=function(t,e,n){kC?.(t,e,n)};function aF(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=rx(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Kh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function ch(t,e,n){sx(t,e,3,n)}function uh(t,e,n,r){(t[ue]&3)===n&&sx(t,e,n,r)}function Qm(t,e){let n=t[ue];(n&3)===e&&(n&=16383,n+=1,t[ue]=n)}function sx(t,e,n,r){let i=r!==void 0?t[Gs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Gs]+=65536),(a<o||o==-1)&&(cF(t,n,e,c),t[Gs]=(t[Gs]&4294901760)+c+2),c++}function OC(t,e){yr(4,t,e);let n=Tn(null);try{e.call(t)}finally{Tn(n),yr(5,t,e)}}function cF(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ue]>>14<t[Gs]>>16&&(t[ue]&3)===e&&(t[ue]+=16384,OC(a,o)):OC(a,o)}var Zs=-1,Oo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function uF(t){return t instanceof Oo}function lF(t){return(t.flags&8)!==0}function dF(t){return(t.flags&16)!==0}function ax(t){return t!==Zs}function _h(t){return t&32767}function hF(t){return t>>16}function wh(t,e){let n=hF(t),r=e;for(;n>0;)r=r[ua],n--;return r}var vy=!0;function FC(t){let e=vy;return vy=t,e}var fF=256,cx=fF-1,ux=5,pF=0,vr={};function gF(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(iu)&&(r=n[iu]),r==null&&(r=n[iu]=pF++);let i=r&cx,o=1<<i;e.data[t+(i>>ux)]|=o}function Eh(t,e){let n=lx(t,e);if(n!==-1)return n;let r=e[Se];r.firstCreatePass&&(t.injectorIndex=e.length,Ym(r.data,t),Ym(e,null),Ym(r.blueprint,null));let i=av(t,e),o=t.injectorIndex;if(ax(i)){let s=_h(i),a=wh(i,e),c=a[Se].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Ym(t,e){t.push(0,0,0,0,0,0,0,0,e)}function lx(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function av(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=gx(i),r===null)return Zs;if(n++,i=i[ua],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zs}function _y(t,e,n){gF(t,e,n)}function mF(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(dD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function dx(t,e,n){if(n&Ie.Optional||t!==void 0)return t;nv(e,"NodeInjector")}function hx(t,e,n,r){if(n&Ie.Optional&&r===void 0&&(r=null),!(n&(Ie.Self|Ie.Host))){let i=t[Js],o=Fn(void 0);try{return i?i.get(e,r,n&Ie.Optional):WD(e,r,n&Ie.Optional)}finally{Fn(o)}}return dx(r,e,n)}function fx(t,e,n,r=Ie.Default,i){if(t!==null){if(e[ue]&2048&&!(r&Ie.Self)){let s=EF(t,e,n,r,vr);if(s!==vr)return s}let o=px(t,e,n,r,vr);if(o!==vr)return o}return hx(e,n,r,i)}function px(t,e,n,r,i){let o=_F(n);if(typeof o=="function"){if(!RD(e,t,r))return r&Ie.Host?dx(i,n,r):hx(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Ie.Optional))nv(n);else return s}finally{FD()}}else if(typeof o=="number"){let s=null,a=lx(t,e),c=Zs,l=r&Ie.Host?e[wr][nr]:null;for((a===-1||r&Ie.SkipSelf)&&(c=a===-1?av(t,e):e[a+8],c===Zs||!LC(r,!1)?a=-1:(s=e[Se],a=_h(c),e=wh(c,e)));a!==-1;){let d=e[Se];if(VC(o,a,d.data)){let f=yF(a,e,n,s,r,l);if(f!==vr)return f}c=e[a+8],c!==Zs&&LC(r,e[Se].data[a+8]===l)&&VC(o,a,e)?(s=d,a=_h(c),e=wh(c,e)):a=-1}}return i}function yF(t,e,n,r,i,o){let s=e[Se],a=s.data[t+8],c=r==null?Vh(a)&&vy:r!=s&&(a.type&3)!==0,l=i&Ie.Host&&o===a,d=vF(a,s,n,c,l);return d!==null?sa(e,s,d,a):vr}function vF(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,d=o>>20,f=r?a:a+d,g=i?a+d:l;for(let y=f;y<g;y++){let b=s[y];if(y<c&&n===b||y>=c&&b.type===n)return y}if(i){let y=s[c];if(y&&Ni(y)&&y.type===n)return c}return null}function sa(t,e,n,r){let i=t[n],o=e.data;if(uF(i)){let s=i;s.resolving&&MO(AO(o[n]));let a=FC(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Fn(s.injectImpl):null,d=RD(t,r,Ie.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&aF(n,o[n],e)}finally{l!==null&&Fn(l),FC(a),s.resolving=!1,FD()}}return i}function _F(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(iu)?t[iu]:void 0;return typeof e=="number"?e>=0?e&cx:wF:e}function VC(t,e,n){let r=1<<t;return!!(n[e+(t>>ux)]&r)}function LC(t,e){return!(t&Ie.Self)&&!(t&Ie.Host&&e)}var Po=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return fx(this._tNode,this._lView,e,Hh(r),n)}};function wF(){return new Po(un(),Le())}function la(t){return mu(()=>{let e=t.prototype.constructor,n=e[hh]||wy(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[hh]||wy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function wy(t){return zD(t)?()=>{let e=wy(on(t));return e&&e()}:ra(t)}function EF(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!(s[ue]&512);){let a=px(o,s,n,r|Ie.Self,vr);if(a!==vr)return a;let c=o.parent;if(!c){let l=s[wD];if(l){let d=l.get(n,vr,r);if(d!==vr)return d}c=gx(s),s=s[ua]}o=c}return i}function gx(t){let e=t[Se],n=e.type;return n===2?e.declTNode:n===1?t[nr]:null}function cv(t){return mF(un(),t)}function jC(t,e=null,n=null,r){let i=mx(t,e,n,r);return i.resolveInjectorInitializers(),i}function mx(t,e=null,n=null,r,i=new Set){let o=[n||Vn,zO(t)];return r=r||(typeof t=="object"?void 0:sn(t)),new hu(o,e||sv(),r||null,i)}var Ut=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return jC({name:""},i,r,"");{let o=r.name??"";return jC({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=du,e.NULL=new vh,e.\u0275prov=G({token:e,providedIn:"any",factory:()=>F(YD)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),bF="ngOriginalError";function Zm(t){return t[bF]}var Ir=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zm(e);for(;n&&Zm(n);)n=Zm(n);return n||null}},yx=new H("",{providedIn:"root",factory:()=>K(Ir).handleError.bind(void 0)});var vx=!1,IF=new H("",{providedIn:"root",factory:()=>vx});var rh;function CF(){if(rh===void 0&&(rh=null,an.trustedTypes))try{rh=an.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rh}function UC(t){return CF()?.createScriptURL(t)||t}var bh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cD})`}};function _u(t){return t instanceof bh?t.changingThisBreaksApplicationSecurity:t}function uv(t,e){let n=DF(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${cD})`)}return n===e}function DF(t){return t instanceof bh&&t.getTypeName()||null}var xF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _x(t){return t=String(t),t.match(xF)?t:"unsafe:"+t}var Qh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Qh||{});function rt(t){let e=Ex();return e?e.sanitize(Qh.URL,t)||"":uv(t,"URL")?_u(t):_x(na(t))}function TF(t){let e=Ex();if(e)return UC(e.sanitize(Qh.RESOURCE_URL,t)||"");if(uv(t,"ResourceURL"))return UC(_u(t));throw new ie(904,!1)}function SF(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?TF:rt}function wx(t,e,n){return SF(e,n)(t)}function Ex(){let t=Le();return t&&t[ti].sanitizer}var AF=/^>|^->|<!--|-->|--!>|<!-$/g,MF=/(<|>)/g,PF="\u200B$1\u200B";function RF(t){return t.replace(AF,e=>e.replace(MF,PF))}var bx=new Map,NF=0;function kF(){return NF++}function OF(t){bx.set(t[Fh],t)}function FF(t){bx.delete(t[Fh])}var BC="__ngContext__";function ki(t,e){Mo(e)?(t[BC]=e[Fh],OF(e)):t[BC]=e}function Ix(t){return t instanceof Function?t():t}function VF(t){return(t??K(Ut)).get(vt)==="browser"}var ni=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ni||{}),LF;function lv(t,e){return LF(t,e)}function Ks(t,e,n,r,i){if(r!=null){let o,s=!1;oi(r)?o=r:Mo(r)&&(s=!0,r=r[ii]);let a=br(r);t===0&&n!==null?i==null?Sx(e,n,a):Ih(e,n,a,i||null,!0):t===1&&n!==null?Ih(e,n,a,i||null,!0):t===2?nV(e,a,s):t===3&&e.destroyNode(a),o!=null&&iV(e,t,o,n,i)}}function jF(t,e){return t.createText(e)}function UF(t,e,n){t.setValue(e,n)}function BF(t,e){return t.createComment(RF(e))}function Cx(t,e,n){return t.createElement(e,n)}function $F(t,e){Dx(t,e),e[ii]=null,e[nr]=null}function qF(t,e,n,r,i,o){r[ii]=i,r[nr]=e,Zh(t,r,n,1,i,o)}function Dx(t,e){Zh(t,e,e[lt],2,null,null)}function zF(t){let e=t[cu];if(!e)return Xm(t[Se],t);for(;e;){let n=null;if(Mo(e))n=e[cu];else{let r=e[Ln];r&&(n=r)}if(!n){for(;e&&!e[er]&&e!==t;)Mo(e)&&Xm(e[Se],e),e=e[Qt];e===null&&(e=t),Mo(e)&&Xm(e[Se],e),n=e&&e[er]}e=n}}function HF(t,e,n,r){let i=Ln+r,o=n.length;r>0&&(n[i-1][er]=e),r<o-Ln?(e[er]=n[i],LD(n,Ln+r,e)):(n.push(e),e[er]=null),e[Qt]=n;let s=e[Oh];s!==null&&n!==s&&GF(s,e);let a=e[ea];a!==null&&a.insertView(t),cy(e),e[ue]|=128}function GF(t,e){let n=t[gh],i=e[Qt][Qt][wr];e[wr]!==i&&(t[ue]|=Gy.HasTransplantedViews),n===null?t[gh]=[e]:n.push(e)}function xx(t,e){let n=t[gh],r=n.indexOf(e);n.splice(r,1)}function Ey(t,e){if(t.length<=Ln)return;let n=Ln+e,r=t[n];if(r){let i=r[Oh];i!==null&&i!==t&&xx(i,r),e>0&&(t[n-1][er]=r[er]);let o=mh(t,Ln+e);$F(r[Se],r);let s=o[ea];s!==null&&s.detachView(o[Se]),r[Qt]=null,r[er]=null,r[ue]&=-129}return r}function Tx(t,e){if(!(e[ue]&256)){let n=e[lt];n.destroyNode&&Zh(t,e,n,3,null,null),zF(e)}}function Xm(t,e){if(!(e[ue]&256)){e[ue]&=-129,e[ue]|=256,e[Ro]&&eC(e[Ro]),KF(t,e),WF(t,e),e[Se].type===1&&e[lt].destroy();let n=e[Oh];if(n!==null&&oi(e[Qt])){n!==e[Qt]&&xx(n,e);let r=e[ea];r!==null&&r.detachView(t)}FF(e)}}function WF(t,e){let n=t.cleanup,r=e[au];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[au]=null);let i=e[Pi];if(i!==null){e[Pi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function KF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Oo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];yr(4,a,c);try{c.call(a)}finally{yr(5,a,c)}}else{yr(4,i,o);try{o.call(i)}finally{yr(5,i,o)}}}}}function QF(t,e,n){return YF(t,e.parent,n)}function YF(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[ii];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===_r.None||o===_r.Emulated)return null}return jn(r,n)}}function Ih(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Sx(t,e,n){t.appendChild(e,n)}function $C(t,e,n,r,i){r!==null?Ih(t,e,n,r,i):Sx(t,e,n)}function ZF(t,e,n,r){t.removeChild(e,n,r)}function dv(t,e){return t.parentNode(e)}function XF(t,e){return t.nextSibling(e)}function JF(t,e,n){return tV(t,e,n)}function eV(t,e,n){return t.type&40?jn(t,n):null}var tV=eV,qC;function Yh(t,e,n,r){let i=QF(t,r,e),o=e[lt],s=r.parent||e[nr],a=JF(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)$C(o,i,n[c],a,!1);else $C(o,i,n,a,!1);qC!==void 0&&qC(o,r,e,n,i)}function lh(t,e){if(e!==null){let n=e.type;if(n&3)return jn(e,t);if(n&4)return by(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return lh(t,r);{let i=t[e.index];return oi(i)?by(-1,i):br(i)}}else{if(n&32)return lv(e,t)()||br(t[e.index]);{let r=Ax(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=lu(t[wr]);return lh(i,r)}else return lh(t,e.next)}}}return null}function Ax(t,e){if(e!==null){let r=t[wr][nr],i=e.projection;return r.projection[i]}return null}function by(t,e){let n=Ln+t+1;if(n<e.length){let r=e[n],i=r[Se].firstChild;if(i!==null)return lh(r,i)}return e[No]}function nV(t,e,n){let r=dv(t,e);r&&ZF(t,r,e,n)}function hv(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&ki(br(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)hv(t,e,n.child,r,i,o,!1),Ks(e,t,i,a,o);else if(c&32){let l=lv(n,r),d;for(;d=l();)Ks(e,t,i,d,o);Ks(e,t,i,a,o)}else c&16?rV(t,e,r,n,i,o):Ks(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Zh(t,e,n,r,i,o){hv(n,r,t.firstChild,e,i,o,!1)}function rV(t,e,n,r,i,o){let s=n[wr],c=s[nr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Ks(e,t,i,d,o)}else{let l=c,d=s[Qt];jD(r)&&(l.flags|=128),hv(t,e,l,d,i,o,!0)}}function iV(t,e,n,r,i){let o=n[No],s=br(n);o!==s&&Ks(e,t,r,o,i);for(let a=Ln;a<n.length;a++){let c=n[a];Zh(c[Se],c,t,e,r,o)}}function oV(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ni.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ni.Important),t.setStyle(n,r,i,o))}}function sV(t,e,n){t.setAttribute(e,"style",n)}function Mx(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Px(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&ay(t,e,r),i!==null&&Mx(t,e,i),o!==null&&sV(t,e,o)}var Tr={};function U(t=1){Rx(Yt(),Le(),Uo()+t,!1)}function Rx(t,e,n,r){if(!r)if((e[ue]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ch(e,o,n)}else{let o=t.preOrderHooks;o!==null&&uh(e,o,0,n)}ko(n)}function q(t,e=Ie.Default){let n=Le();if(n===null)return F(t,e);let r=un();return fx(r,n,on(t),e)}function Nx(){let t="invalid";throw new Error(t)}function kx(t,e,n,r,i,o){let s=Tn(null);try{let a=null;i&St.SignalBased&&(a=e[r][wm]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&St.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):nx(e,a,r,o)}finally{Tn(s)}}function aV(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ko(~i);else{let o=i,s=n[++r],a=n[++r];pO(s,o);let c=e[o];a(2,c)}}}finally{ko(-1)}}function Xh(t,e,n,r,i,o,s,a,c,l,d){let f=e.blueprint.slice();return f[ii]=i,f[ue]=r|4|128|8|64,(l!==null||t&&t[ue]&2048)&&(f[ue]|=2048),DD(f),f[Qt]=f[ua]=t,f[tr]=n,f[ti]=s||t&&t[ti],f[lt]=a||t&&t[lt],f[Js]=c||t&&t[Js]||null,f[nr]=o,f[Fh]=kF(),f[fh]=d,f[wD]=l,f[wr]=e.type==2?t[wr]:f,f}function wu(t,e,n,r,i){let o=t.data[e];if(o===null)o=cV(t,e,n,r,i),fO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=uO();o.injectorIndex=s===null?-1:s.injectorIndex}return jo(o,!0),o}function cV(t,e,n,r,i){let o=SD(),s=Yy(),a=s?o:o&&o.parent,c=t.data[e]=fV(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Ox(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Fx(t,e,n,r,i){let o=Uo(),s=r&2;try{ko(-1),s&&e.length>Er&&Rx(t,e,Er,!1),yr(s?2:0,i),n(r,i)}finally{ko(o),yr(s?3:1,i)}}function fv(t,e,n){if(Wy(e)){let r=Tn(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Tn(r)}}}function pv(t,e,n){TD()&&(_V(t,e,n,jn(n,e)),(n.flags&64)===64&&jx(t,e,n))}function gv(t,e,n=jn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Vx(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=mv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function mv(t,e,n,r,i,o,s,a,c,l,d){let f=Er+r,g=f+i,y=uV(f,g),b=typeof l=="function"?l():l;return y[Se]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:d}}function uV(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Tr);return n}function lV(t,e,n,r){let o=r.get(IF,vx)||n===_r.ShadowDom,s=t.selectRootElement(e,o);return dV(s),s}function dV(t){hV(t)}var hV=()=>null;function fV(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return sO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zC(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=St.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?HC(r,n,l,a,c):HC(r,n,l,a)}return r}function HC(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function pV(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let d=r;d<i;d++){let f=o[d],g=n?n.get(f):null,y=g?g.inputs:null,b=g?g.outputs:null;c=zC(0,f.inputs,d,c,y),l=zC(1,f.outputs,d,l,b);let P=c!==null&&s!==null&&!fD(e)?AV(c,d,s):null;a.push(P)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function gV(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function yv(t,e,n,r,i,o,s,a){let c=jn(e,n),l=e.inputs,d;!a&&l!=null&&(d=l[r])?(_v(t,n,d,r,i),Vh(e)&&mV(n,e.index)):e.type&3?(r=gV(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function mV(t,e){let n=Fi(e,t);n[ue]&16||(n[ue]|=64)}function vv(t,e,n,r){if(TD()){let i=r===null?null:{"":-1},o=EV(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Lx(t,e,n,s,i,a),i&&bV(n,r,i)}n.mergedAttrs=su(n.mergedAttrs,n.attrs)}function Lx(t,e,n,r,i,o){for(let l=0;l<r.length;l++)_y(Eh(n,e),t,r[l].type);CV(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let d=r[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=Ox(t,e,r.length,null);for(let l=0;l<r.length;l++){let d=r[l];n.mergedAttrs=su(n.mergedAttrs,d.hostAttrs),DV(t,n,e,c,d),IV(c,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}pV(t,n,o)}function yV(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;vV(s)!=a&&s.push(a),s.push(n,r,o)}}function vV(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function _V(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Vh(n)&&xV(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Eh(n,e),ki(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=sa(e,t,a,n);if(ki(l,e),s!==null&&SV(e,a-i,l,c,n,s),Ni(c)){let d=Fi(n.index,e);d[tr]=sa(e,t,a,n)}}}function jx(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=gO();try{ko(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];uy(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&wV(c,l)}}finally{ko(-1),uy(s)}}function wV(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function EV(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(jk(e,s.selectors,!1))if(r||(r=[]),Ni(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Iy(t,e,c)}else r.unshift(s),Iy(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Iy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bV(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ie(-301,!1);r.push(e[i],o)}}}function IV(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ni(e)&&(n[""]=t)}}function CV(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function DV(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ra(i.type,!0)),s=new Oo(o,Ni(i),q);t.blueprint[r]=s,n[r]=s,yV(t,e,r,Ox(t,n,i.hostVars,Tr),i)}function xV(t,e,n){let r=jn(e,t),i=Vx(n),o=t[ti].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Jh(t,Xh(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Ux(t,e,n,r,i,o){let s=jn(t,e);TV(e[lt],s,o,t.value,n,r,i)}function TV(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?na(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function SV(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],d=s[a++],f=s[a++];kx(r,n,c,l,d,f)}}function AV(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Bx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function $x(t,e){let n=t.contentQueries;if(n!==null){let r=Tn(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];PD(o),a.contentQueries(2,e[s],s)}}}finally{Tn(r)}}}function Jh(t,e){return t[cu]?t[AC][er]=e:t[cu]=e,t[AC]=e,e}function Cy(t,e,n){PD(0);let r=Tn(null);try{e(t,n)}finally{Tn(r)}}function MV(t){return t[au]||(t[au]=[])}function PV(t){return t.cleanup||(t.cleanup=[])}function qx(t,e){let n=t[Js],r=n?n.get(Ir,null):null;r&&r.handleError(e)}function _v(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],d=t.data[s];kx(d,l,r,a,c,i)}}function zx(t,e,n){let r=ID(e,t);UF(t[lt],r,n)}function RV(t,e){let n=Fi(e,t),r=n[Se];NV(r,n);let i=n[ii];i!==null&&n[fh]===null&&(n[fh]=rv(i,n[Js])),wv(r,n,n[tr])}function NV(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function wv(t,e,n){Zy(e);try{let r=t.viewQuery;r!==null&&Cy(1,r,n);let i=t.template;i!==null&&Fx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ea]?.finishViewCreation(t),t.staticContentQueries&&$x(t,e),t.staticViewQueries&&Cy(2,t.viewQuery,n);let o=t.components;o!==null&&kV(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ue]&=-5,Xy()}}function kV(t,e){for(let n=0;n<e.length;n++)RV(t,e[n])}function OV(t,e,n,r){let i=e.tView,s=t[ue]&4096?4096:16,a=Xh(t,i,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Oh]=c;let l=t[ea];return l!==null&&(a[ea]=l.createEmbeddedView(i)),wv(i,a,n),a}function GC(t,e){return!e||e.firstChild===null||jD(t)}function FV(t,e,n,r=!0){let i=e[Se];if(HF(i,e,t,n),r){let s=by(n,t),a=e[lt],c=dv(a,t[No]);c!==null&&qF(i,t[nr],a,e,c,s)}let o=e[fh];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ch(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(br(o)),oi(o)&&VV(o,r);let s=n.type;if(s&8)Ch(t,e,n.child,r);else if(s&32){let a=lv(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Ax(e,n);if(Array.isArray(a))r.push(...a);else{let c=lu(e[wr]);Ch(c[Se],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function VV(t,e){for(let n=Ln;n<t.length;n++){let r=t[n],i=r[Se].firstChild;i!==null&&Ch(r[Se],r,i,e)}t[No]!==t[ii]&&e.push(t[No])}var Hx=[];function LV(t){return t[Ro]??jV(t)}function jV(t){let e=Hx.pop()??Object.create(BV);return e.lView=t,e}function UV(t){t.lView[Ro]!==t&&(t.lView=null,Hx.push(t))}var BV=Ve(J({},ZI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{uu(t.lView)},consumerOnSignalRead(){this.lView[Ro]=this}});function Gx(t){return Kx(t[cu])}function Wx(t){return Kx(t[er])}function Kx(t){for(;t!==null&&!oi(t);)t=t[er];return t}var Qx=100;function Yx(t,e=!0,n=0){let r=t[ti],i=r.rendererFactory,o=!1;o||i.begin?.();try{$V(t,n)}catch(s){throw e&&qx(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function $V(t,e){Dy(t,e);let n=0;for(;Qy(t);){if(n===Qx)throw new ie(103,!1);n++,Dy(t,1)}}function qV(t,e,n,r){let i=e[ue];if((i&256)===256)return;let o=!1;!o&&e[ti].inlineEffectRunner?.flush(),Zy(e);let s=null,a=null;!o&&zV(t)&&(a=LV(e),s=XI(a));try{DD(e),hO(t.bindingStartIndex),n!==null&&Fx(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let f=t.preOrderCheckHooks;f!==null&&ch(e,f,null)}else{let f=t.preOrderHooks;f!==null&&uh(e,f,0,null),Qm(e,0)}if(HV(e),Zx(e,0),t.contentQueries!==null&&$x(t,e),!o)if(c){let f=t.contentCheckHooks;f!==null&&ch(e,f)}else{let f=t.contentHooks;f!==null&&uh(e,f,1),Qm(e,1)}aV(t,e);let l=t.components;l!==null&&Jx(e,l,0);let d=t.viewQuery;if(d!==null&&Cy(2,d,r),!o)if(c){let f=t.viewCheckHooks;f!==null&&ch(e,f)}else{let f=t.viewHooks;f!==null&&uh(e,f,2),Qm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Gm]){for(let f of e[Gm])f();e[Gm]=null}o||(e[ue]&=-73)}catch(c){throw uu(e),c}finally{a!==null&&(JI(a,s),UV(a)),Xy()}}function zV(t){return t.type!==2}function Zx(t,e){for(let n=Gx(t);n!==null;n=Wx(n))for(let r=Ln;r<n.length;r++){let i=n[r];Xx(i,e)}}function HV(t){for(let e=Gx(t);e!==null;e=Wx(e)){if(!(e[ue]&Gy.HasTransplantedViews))continue;let n=e[gh];for(let r=0;r<n.length;r++){let i=n[r],o=i[Qt];eO(i)}}}function GV(t,e,n){let r=Fi(e,t);Xx(r,n)}function Xx(t,e){Ky(t)&&Dy(t,e)}function Dy(t,e){let r=t[Se],i=t[ue],o=t[Ro],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Em(o)),o&&(o.dirty=!1),t[ue]&=-9217,s)qV(r,t,r.template,t[tr]);else if(i&8192){Zx(t,1);let a=r.components;a!==null&&Jx(t,a,1)}}function Jx(t,e,n){for(let r=0;r<e.length;r++)GV(t,e[r],n)}function Ev(t){for(t[ti].changeDetectionScheduler?.notify();t;){t[ue]|=64;let e=lu(t);if(Kk(t)&&!e)return t;t=e}return null}var Fo=class{get rootNodes(){let e=this._lView,n=e[Se];return Ch(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tr]}set context(e){this._lView[tr]=e}get destroyed(){return(this._lView[ue]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qt];if(oi(e)){let n=e[ph],r=n?n.indexOf(this):-1;r>-1&&(Ey(e,r),mh(n,r))}this._attachedToViewContainer=!1}Tx(this._lView[Se],this._lView)}onDestroy(e){xD(this._lView,e)}markForCheck(){Ev(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-129}reattach(){cy(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,Yx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Dx(this._lView[Se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=e,cy(this._lView)}},ef=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QV;let t=e;return t})(),WV=ef,KV=class extends WV{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=OV(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Fo(i)}};function QV(){return eT(un(),Le())}function eT(t,e){return t.type&4?new KV(e,t,$h(t,e)):null}var nQ=new RegExp(`^(\\d+)*(${BO}|${UO})*(.*)`);var YV=()=>null;function WC(t,e){return YV(t,e)}var xy=class{},Ty=class{},Dh=class{};function ZV(t){let e=Error(`No component factory found for ${sn(t)}.`);return e[XV]=t,e}var XV="ngComponent";var Sy=class{resolveComponentFactory(e){throw ZV(e)}},tf=(()=>{let e=class e{};e.NULL=new Sy;let t=e;return t})(),fu=class{},$o=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>JV();let t=e;return t})();function JV(){let t=Le(),e=un(),n=Fi(e.index,t);return(Mo(n)?n:t)[lt]}var eL=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Jm={};function tL(t){return typeof t=="function"&&t[wm]!==void 0}var KC=new Set;function nf(t){KC.has(t)||(KC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function tT(t){return tL(t)&&typeof t.set=="function"}function nT(t){return rL(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function nL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function rL(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Ay=class{constructor(){}supports(e){return nT(e)}create(e){return new My(e)}},iL=(t,e)=>e,My=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||iL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<QC(r,i,o)?n:r,a=QC(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,d=c-i;if(l!=d){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,b=y+g;d<=b&&b<l&&(o[g]=y+1)}let f=s.previousIndex;o[f]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!nT(e))throw new ie(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,nL(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Py(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new xh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new xh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Py=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ry=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},xh=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ry,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function QC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function YC(){return new bv([new Ay])}var bv=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||YC()),deps:[[e,new iv,new vn]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new ie(901,!1)}};e.\u0275prov=G({token:e,providedIn:"root",factory:YC});let t=e;return t})();var Vi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oL;let t=e;return t})();function oL(t){return sL(un(),Le(),(t&16)===16)}function sL(t,e,n){if(Vh(t)&&!n){let r=Fi(t.index,e);return new Fo(r,r)}else if(t.type&47){let r=e[wr];return new Fo(r,e)}return null}var rT=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aL,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ny=class extends rT{constructor(e){super(),this._lView=e}onDestroy(e){return xD(this._lView,e),()=>nO(this._lView,e)}};function aL(){return new Ny(Le())}function ZC(...t){}function cL(){let t=typeof an.requestAnimationFrame=="function",e=an[t?"requestAnimationFrame":"setTimeout"],n=an[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var pe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=cL().nativeRequestAnimationFrame,dL(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ie(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,uL,ZC,ZC);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},uL={};function Iv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lL(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(an,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ky(t),t.isCheckStableRunning=!0,Iv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ky(t))}function dL(t){let e=()=>{lL(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(hL(a))return n.invokeTask(i,o,s,a);try{return XC(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),JC(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return XC(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),JC(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,ky(t),Iv(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function ky(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function XC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function JC(t){t._nesting--,Iv(t)}var Oy=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function hL(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function fL(t="zone.js",e){return t==="noop"?new Oy:t==="zone.js"?new pe(e):t}var Qs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Qs||{}),pL={destroy(){}};function Cv(t,e){!e&&tF(Cv);let n=e?.injector??K(Ut);if(!VF(n))return pL;nf("NgAfterNextRender");let r=n.get(Dv),i=r.handler??=new Vy,o=e?.phase??Qs.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(rT).onDestroy(s),c=new Fy(n,o,()=>{s(),t()});return i.register(c),{destroy:s}}var Fy=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(pe),this.errorHandler=e.get(Ir,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Vy=class{constructor(){this.executingCallbacks=!1,this.buckets={[Qs.EarlyRead]:new Set,[Qs.Write]:new Set,[Qs.MixedReadWrite]:new Set,[Qs.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Dv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Th(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=IC(i,a);else if(o==2){let c=a,l=e[++s];r=IC(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Sh=class extends tf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ri(e);return new aa(n,this.ngModule)}};function eD(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function gL(t){let e=t.toLowerCase();return e==="svg"?bD:e==="math"?Qk:null}var Ly=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hh(r);let i=this.injector.get(e,Jm,r);return i!==Jm||n===Jm?i:this.parentInjector.get(e,n,r)}},aa=class extends Dh{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=eD(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return eD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=qk(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let o=i instanceof cn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Ly(e,o):e,a=s.get(fu,null);if(a===null)throw new ie(407,!1);let c=s.get(eL,null),l=s.get(Dv,null),d=s.get(xy,null),f={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},g=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=r?lV(g,r,this.componentDef.encapsulation,s):Cx(g,y,gL(y)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let C=null;b!==null&&(C=rv(b,s,!0));let O=mv(0,null,null,1,0,null,null,null,null,null,null),$=Xh(null,O,null,P,null,null,f,g,s,null,C);Zy($);let V,B;try{let X=this.componentDef,Z,E=null;X.findHostDirectiveDefs?(Z=[],E=new Map,X.findHostDirectiveDefs(X,Z,E),Z.push(X)):Z=[X];let v=mL($,b),_=yL(v,b,X,Z,$,f,g);B=CD(O,Er),b&&wL(g,X,b,r),n!==void 0&&EL(B,this.ngContentSelectors,n),V=_L(_,X,Z,E,$,[bL]),wv(O,$,null)}finally{Xy()}return new jy(this.componentType,V,$h(B,$),$,B)}},jy=class extends Ty{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;_v(o[Se],o,i,e,n),this.previousInputValues.set(e,n);let s=Fi(this._tNode.index,o);Ev(s)}}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mL(t,e){let n=t[Se],r=Er;return t[r]=e,wu(n,r,2,"#host",null)}function yL(t,e,n,r,i,o,s){let a=i[Se];vL(r,t,e,s);let c=null;e!==null&&(c=rv(e,i[Js]));let l=o.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=Xh(i,Vx(n),null,d,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Iy(a,t,r.length-1),Jh(i,f),i[t.index]=f}function vL(t,e,n,r){for(let i of t)e.mergedAttrs=su(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Th(e,e.mergedAttrs,!0),n!==null&&Px(r,n,e))}function _L(t,e,n,r,i,o){let s=un(),a=i[Se],c=jn(s,i);Lx(a,i,s,n,null,r);for(let d=0;d<n.length;d++){let f=s.directiveStart+d,g=sa(i,a,f,s);ki(g,i)}jx(a,i,s),c&&ki(c,i);let l=sa(i,a,s.directiveStart+s.componentOffset,s);if(t[tr]=i[tr]=l,o!==null)for(let d of o)d(l,e);return fv(a,s,i),l}function wL(t,e,n,r){if(r)ay(t,n,["ng-version","17.2.3"]);else{let{attrs:i,classes:o}=zk(e.selectors[0]);i&&ay(t,n,i),o&&o.length>0&&Mx(t,n,o.join(" "))}}function EL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function bL(){let t=un();Kh(Le()[Se],t)}var da=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IL;let t=e;return t})();function IL(){let t=un();return DL(t,Le())}var CL=da,iT=class extends CL{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return $h(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){let e=av(this._hostTNode,this._hostLView);if(ax(e)){let n=wh(e,this._hostLView),r=_h(e),i=n[Se].data[r+8];return new Po(i,n)}else return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=tD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ln}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=WC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,GC(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!rF(e),a;if(s)a=n;else{let b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let c=s?e:new aa(Ri(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let P=(s?l:this.parentInjector).get(cn,null);P&&(o=P)}let d=Ri(c.componentType??{}),f=WC(this._lContainer,d?.id??null),g=f?.firstChild??null,y=c.create(l,i,g,o);return this.insertImpl(y.hostView,a,GC(this._hostTNode,f)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Jk(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Qt],l=new iT(c,c[nr],c[Qt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return FV(s,i,o,r),e.attachToViewContainerRef(),LD(ey(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=tD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ey(this._lContainer,n);r&&(mh(ey(this._lContainer),n),Tx(r[Se],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ey(this._lContainer,n);return r&&mh(ey(this._lContainer),n)!=null?new Fo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function tD(t){return t[ph]}function ey(t){return t[ph]||(t[ph]=[])}function DL(t,e){let n,r=e[t.index];return oi(r)?n=r:(n=Bx(r,e,null,t),e[t.index]=n,Jh(e,n)),TL(n,e,t,r),new iT(n,t,e)}function xL(t,e){let n=t[lt],r=n.createComment(""),i=jn(e,t),o=dv(n,i);return Ih(n,o,r,XF(n,i),!1),r}var TL=ML,SL=()=>!1;function AL(t,e,n){return SL(t,e,n)}function ML(t,e,n,r){if(t[No])return;let i;n.type&8?i=br(r):i=xL(e,n),t[No]=i}function PL(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(OL))}return o}return Ah.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,d=i.styleUrls;i.styleUrls.forEach((f,g)=>{a.push(""),s.push(r(f).then(y=>{a[l+g]=y,d.splice(d.indexOf(f),1),d.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>FL(o));e.push(c)}),NL(),Promise.all(e).then(()=>{})}var Ah=new Map,RL=new Set;function NL(){let t=Ah;return Ah=new Map,t}function kL(){return Ah.size===0}function OL(t){return typeof t=="string"?t:t.text()}function FL(t){RL.delete(t)}function VL(t){return Object.getPrototypeOf(t.prototype).constructor}function si(t){let e=VL(t.type),n=!0,r=[t];for(;e;){let i;if(Ni(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ie(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ih(t.inputs),s.inputTransforms=ih(t.inputTransforms),s.declaredInputs=ih(t.declaredInputs),s.outputs=ih(t.outputs);let a=i.hostBindings;a&&$L(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&UL(t,c),l&&BL(t,l),LL(t,i),Ak(t.outputs,i.outputs),Ni(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===si&&(n=!1)}}e=Object.getPrototypeOf(e)}jL(r)}function LL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function jL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=su(i.hostAttrs,n=su(n,i.hostAttrs))}}function ih(t){return t===Xs?{}:t===Vn?[]:t}function UL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function BL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function $L(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function xv(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Oi=class{},pu=class{};var Mh=class extends Oi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sh(this);let i=yD(e);this._bootstrapComponents=Ix(i.bootstrap),this._r3Injector=mx(e,n,[{provide:Oi,useValue:this},{provide:tf,useValue:this.componentFactoryResolver},...r],sn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ph=class extends pu{constructor(e){super(),this.moduleType=e}create(e){return new Mh(this.moduleType,e,[])}};function qL(t,e,n){return new Mh(t,e,n)}var Uy=class extends Oi{constructor(e){super(),this.componentFactoryResolver=new Sh(this),this.instance=null;let n=new hu([...e.providers,{provide:Oi,useValue:this},{provide:tf,useValue:this.componentFactoryResolver}],e.parent||sv(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rf(t,e,n=null){return new Uy({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var qo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Lt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function zL(t,e,n,r){let i=Vo(t,e,n);return Vo(t,e+1,r)||i}function HL(t,e,n,r,i,o,s,a,c){let l=e.consts,d=wu(e,t,4,s||null,ta(l,a));vv(e,n,d,ta(l,c)),Kh(e,d);let f=d.tView=mv(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function ve(t,e,n,r,i,o,s,a){let c=Le(),l=Yt(),d=t+Er,f=l.firstCreatePass?HL(d,l,c,e,n,r,i,o,s):l.data[d];jo(f,!1);let g=GL(l,c,f,t);Uh()&&Yh(l,c,g,f),ki(g,c);let y=Bx(g,c,g,f);return c[d]=y,Jh(c,y),AL(y,f,c),Lh(f)&&pv(l,c,f),s!=null&&gv(c,f,a),ve}var GL=WL;function WL(t,e,n,r){return Bh(!0),e[lt].createComment("")}function je(t,e,n,r){let i=Le(),o=jh();if(Vo(i,o,e)){let s=Yt(),a=yu();Ux(a,i,t,e,n,r)}return je}function oT(t,e,n,r){return Vo(t,jh(),n)?e+na(n)+r:Tr}function sT(t,e,n,r,i,o){let s=dO(),a=zL(t,s,n,i);return MD(2),a?e+na(n)+r+na(i)+o:Tr}function of(t,e,n,r,i,o,s,a){let c=Le(),l=sT(c,e,n,r,i,o);if(l!==Tr){let d=yu();Ux(d,c,t,l,s,a)}return of}function oh(t,e){return t<<17|e<<2}function Lo(t){return t>>17&32767}function KL(t){return(t&2)==2}function QL(t,e){return t&131071|e<<17}function By(t){return t|2}function ca(t){return(t&131068)>>2}function ty(t,e){return t&-131069|e<<2}function YL(t){return(t&1)===1}function $y(t){return t|1}function ZL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Lo(s),c=ca(s);t[r]=n;let l=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||vu(f,d)>0)&&(l=!0)}else d=n;if(i)if(c!==0){let g=Lo(t[a+1]);t[r+1]=oh(g,a),g!==0&&(t[g+1]=ty(t[g+1],r)),t[a+1]=QL(t[a+1],r)}else t[r+1]=oh(a,0),a!==0&&(t[a+1]=ty(t[a+1],r)),a=r;else t[r+1]=oh(c,0),a===0?a=r:t[c+1]=ty(t[c+1],r),c=r;l&&(t[r+1]=By(t[r+1])),nD(t,d,r,!0),nD(t,d,r,!1),XL(e,d,t,r,o),s=oh(a,c),o?e.classBindings=s:e.styleBindings=s}function XL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&vu(o,e)>=0&&(n[r+1]=$y(n[r+1]))}function nD(t,e,n,r){let i=t[n+1],o=e===null,s=r?Lo(i):ca(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];JL(c,e)&&(a=!0,t[s+1]=r?$y(l):By(l)),s=r?Lo(l):ca(l)}a&&(t[n+1]=r?By(i):$y(i))}function JL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?vu(t,e)>=0:!1}function ce(t,e,n){let r=Le(),i=jh();if(Vo(r,i,e)){let o=Yt(),s=yu();yv(o,s,r,t,e,r[lt],n,!1)}return ce}function rD(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";_v(t,n,o[s],s,r)}function sf(t,e){return e2(t,e,null,!0),sf}function e2(t,e,n,r){let i=Le(),o=Yt(),s=MD(2);if(o.firstUpdatePass&&n2(o,t,s,r),e!==Tr&&Vo(i,s,e)){let a=o.data[Uo()];a2(o,a,i,i[lt],t,i[s+1]=c2(e,n),r,s)}}function t2(t,e){return e>=t.expandoStartIndex}function n2(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Uo()],s=t2(t,n);u2(o,r)&&e===null&&!s&&(e=!1),e=r2(i,o,e,r),ZL(i,o,e,n,s,r)}}function r2(t,e,n,r){let i=mO(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ny(null,t,e,n,r),n=gu(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ny(i,t,e,n,r),o===null){let c=i2(t,e,r);c!==void 0&&Array.isArray(c)&&(c=ny(null,t,e,c[1],r),c=gu(c,e.attrs,r),o2(t,e,r,c))}else o=s2(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function i2(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ca(r)!==0)return t[Lo(r)]}function o2(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Lo(i)]=r}function s2(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=gu(r,s,n)}return gu(r,e.attrs,n)}function ny(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=gu(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function gu(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),bO(t,s,n?!0:e[++o]))}return t===void 0?null:t}function a2(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],d=YL(l)?iD(c,e,n,i,ca(l),s):void 0;if(!Rh(d)){Rh(o)||KL(l)&&(o=iD(c,null,n,i,a,s));let f=ID(Uo(),n);oV(r,s,f,i,o)}}function iD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),d=l?c[1]:c,f=d===null,g=n[i+1];g===Tr&&(g=f?Vn:void 0);let y=f?Wm(g,r):d===r?g:void 0;if(l&&!Rh(y)&&(y=Wm(c,r)),Rh(y)&&(a=y,s))return a;let b=t[i+1];i=s?Lo(b):ca(b)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Wm(c,r))}return a}function Rh(t){return t!==void 0}function c2(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=sn(_u(t)))),t}function u2(t,e){return(t.flags&(e?8:16))!==0}function l2(t,e,n,r,i,o){let s=e.consts,a=ta(s,i),c=wu(e,t,2,r,a);return vv(e,n,c,ta(s,o)),c.attrs!==null&&Th(c,c.attrs,!1),c.mergedAttrs!==null&&Th(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function S(t,e,n,r){let i=Le(),o=Yt(),s=Er+t,a=i[lt],c=o.firstCreatePass?l2(s,o,i,e,n,r):o.data[s],l=d2(o,i,c,a,e,t);i[s]=l;let d=Lh(c);return jo(c,!0),Px(a,l,c),(c.flags&32)!==32&&Uh()&&Yh(o,i,l,c),rO()===0&&ki(l,i),iO(),d&&(pv(o,i,c),fv(o,c,i)),r!==null&&gv(i,c),S}function T(){let t=un();Yy()?AD():(t=t.parent,jo(t,!1));let e=t;aO(e)&&cO(),oO();let n=Yt();return n.firstCreatePass&&(Kh(n,t),Wy(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&lF(e)&&rD(n,e,Le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&dF(e)&&rD(n,e,Le(),e.stylesWithoutHost,!1),T}function te(t,e,n,r){return S(t,e,n,r),T(),te}var d2=(t,e,n,r,i,o)=>(Bh(!0),Cx(r,i,_O()));function h2(t,e,n,r,i){let o=e.consts,s=ta(o,r),a=wu(e,t,8,"ng-container",s);s!==null&&Th(a,s,!0);let c=ta(o,i);return vv(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function ha(t,e,n){let r=Le(),i=Yt(),o=t+Er,s=i.firstCreatePass?h2(o,i,r,e,n):i.data[o];jo(s,!0);let a=f2(i,r,s,t);return r[o]=a,Uh()&&Yh(i,r,a,s),ki(a,r),Lh(s)&&(pv(i,r,s),fv(i,s,r)),n!=null&&gv(r,s),ha}function fa(){let t=un(),e=Yt();return Yy()?AD():(t=t.parent,jo(t,!1)),e.firstCreatePass&&(Kh(e,t),Wy(t)&&e.queries.elementEnd(t)),fa}var f2=(t,e,n,r)=>(Bh(!0),BF(e[lt],""));function dt(){return Le()}var Nh="en-US";var p2=Nh;function g2(t){typeof t=="string"&&(p2=t.toLowerCase().replace(/_/g,"-"))}function xe(t,e,n,r){let i=Le(),o=Yt(),s=un();return aT(o,i,i[lt],s,t,e,r),xe}function m2(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[au],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function aT(t,e,n,r,i,o,s){let a=Lh(r),l=t.firstCreatePass&&PV(t),d=e[tr],f=MV(e),g=!0;if(r.type&3||s){let P=jn(r,e),C=s?s(P):P,O=f.length,$=s?B=>s(br(B[r.index])):r.index,V=null;if(!s&&a&&(V=m2(t,e,i,r.index)),V!==null){let B=V.__ngLastListenerFn__||V;B.__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,g=!1}else{o=sD(r,e,d,o,!1);let B=n.listen(C,i,o);f.push(o,B),l&&l.push(i,$,O,O+1)}}else o=sD(r,e,d,o,!1);let y=r.outputs,b;if(g&&y!==null&&(b=y[i])){let P=b.length;if(P)for(let C=0;C<P;C+=2){let O=b[C],$=b[C+1],X=e[O][$].subscribe(o),Z=f.length;if(f.push(o,X),l){let E=typeof X=="function"?Z+1:-(Z+1);l.push(i,r.index,Z,E)}}}}function oD(t,e,n,r){try{return yr(6,e,n),n(r)!==!1}catch(i){return qx(t,i),!1}finally{yr(7,e,n)}}function sD(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Fi(t.index,e):e;Ev(a);let c=oD(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=oD(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function ne(t=1){return vO(t)}function _n(t,e,n){return it(t,"",e,"",n),_n}function it(t,e,n,r,i){let o=Le(),s=oT(o,e,n,r);if(s!==Tr){let a=Yt(),c=yu();yv(a,c,o,t,s,o[lt],i,!1)}return it}function Li(t){let e=lO();return Xk(e,Er+t)}function z(t,e=""){let n=Le(),r=Yt(),i=t+Er,o=r.firstCreatePass?wu(r,i,1,e,null):r.data[i],s=y2(r,n,o,e,t);n[i]=s,Uh()&&Yh(r,n,s,o),jo(o,!1)}var y2=(t,e,n,r,i)=>(Bh(!0),jF(e[lt],r));function wn(t){return En("",t,""),wn}function En(t,e,n){let r=Le(),i=oT(r,t,e,n);return i!==Tr&&zx(r,Uo(),i),En}function Tv(t,e,n,r,i){let o=Le(),s=sT(o,t,e,n,r,i);return s!==Tr&&zx(o,Uo(),s),Tv}function ot(t,e,n){tT(e)&&(e=e());let r=Le(),i=jh();if(Vo(r,i,e)){let o=Yt(),s=yu();yv(o,s,r,t,e,r[lt],n,!1)}return ot}function ht(t,e){let n=tT(t);return n&&t.set(e),n}function st(t,e){let n=Le(),r=Yt(),i=un();return aT(r,n,n[lt],i,t,e),st}function v2(t,e,n){let r=Yt();if(r.firstCreatePass){let i=Ni(t);qy(n,r.data,r.blueprint,i,!0),qy(e,r.data,r.blueprint,i,!1)}}function qy(t,e,n,r,i){if(t=on(t),Array.isArray(t))for(let o=0;o<t.length;o++)qy(t[o],e,n,r,i);else{let o=Yt(),s=Le(),a=un(),c=oa(t)?t:on(t.provide),l=tx(t),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(oa(t)||!t.multi){let y=new Oo(l,i,q),b=iy(c,e,i?d:d+g,f);b===-1?(_y(Eh(a,s),o,c),ry(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[b]=y,s[b]=y)}else{let y=iy(c,e,d+g,f),b=iy(c,e,d,d+g),P=y>=0&&n[y],C=b>=0&&n[b];if(i&&!C||!i&&!P){_y(Eh(a,s),o,c);let O=E2(i?w2:_2,n.length,i,r,l);!i&&C&&(n[b].providerFactory=O),ry(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=cT(n[i?b:y],l,!i&&r);ry(o,t,y>-1?y:b,O)}!i&&r&&C&&n[b].componentProviders++}}}function ry(t,e,n,r){let i=oa(e),o=KO(e);if(i||o){let c=(o?on(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function cT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function iy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _2(t,e,n,r){return zy(this.multi,[])}function w2(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=sa(n,n[Se],this.providerFactory.index,r);o=a.slice(0,s),zy(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],zy(i,o);return o}function zy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function E2(t,e,n,r,i){let o=new Oo(t,n,q);return o.multi=[],o.index=e,o.componentProviders=0,cT(o,i,r&&!n),o}function Eu(t,e=[]){return n=>{n.providersResolver=(r,i)=>v2(r,i?i(t):t,e)}}var b2=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=XD(!1,r.type),o=i.length>0?rf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(F(cn))});let t=e;return t})();function uT(t){nf("NgStandalone"),t.getStandaloneInjector=e=>e.get(b2).getOrCreateStandaloneInjector(t)}function ji(t,e){return eT(t,e)}var sh=null;function I2(t){sh!==null&&(t.defaultEncapsulation!==sh.defaultEncapsulation||t.preserveWhitespaces!==sh.preserveWhitespaces)||(sh=t)}var ri=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},af=new ri("17.2.3"),cf=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Sv=new H(""),bu=new H(""),uf=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Av||(C2(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(F(pe),F(lf),F(bu))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),lf=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Av?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function C2(t){Av=t}var Av;function zo(t){return!!t&&typeof t.then=="function"}function lT(t){return!!t&&typeof t.subscribe=="function"}var df=new H(""),dT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=K(df,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(zo(s))r.push(s);else if(lT(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hf=new H("");function D2(){tC(()=>{throw new ie(600,!1)})}function x2(t){return t.isBoundToModule}function T2(t,e,n){try{let r=n();return zo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function hT(t,e){return Array.isArray(e)?e.reduce(hT,t):J(J({},t),e)}var Ho=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(yx),this.afterRenderEffectManager=K(Dv),this.componentTypes=[],this.components=[],this.isStable=K(qo).hasPendingTasks.pipe(se(r=>!r)),this._injector=K(cn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Dh;if(!this._injector.get(dT).done){let y=!o&&mD(r),b=!1;throw new ie(405,b)}let a;o?a=r:a=this._injector.get(tf).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=x2(a)?void 0:this._injector.get(Oi),l=i||a.selector,d=a.create(Ut.NULL,[],l,c),f=d.location.nativeElement,g=d.injector.get(Sv,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),dh(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===Qx)throw new ie(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!oy(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>oy(s))&&(i.execute(),!this._views.some(({_lView:s})=>oy(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[ue]|=1024):r[ue]&64?s=0:s=1,Yx(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;dh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(hf,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>dh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ie(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function oy(t){return Qy(t)}var Hy=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ff=(()=>{let e=class e{compileModuleSync(r){return new Ph(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=yD(r),s=Ix(o.declarations).reduce((a,c)=>{let l=Ri(c);return l&&a.push(new aa(l)),a},[]);return new Hy(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),S2=new H("");function A2(t,e,n){let r=new Ph(n);return Promise.resolve(r)}function aD(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var M2=(()=>{let e=class e{constructor(){this.zone=K(pe),this.applicationRef=K(Ho)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function P2(t){return[{provide:pe,useFactory:t},{provide:ia,multi:!0,useFactory:()=>{let e=K(M2,{optional:!0});return()=>e.initialize()}},{provide:ia,multi:!0,useFactory:()=>{let e=K(k2);return()=>{e.initialize()}}},{provide:yx,useFactory:R2}]}function R2(){let t=K(pe),e=K(Ir);return n=>t.runOutsideAngular(()=>e.handleError(n))}function N2(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var k2=(()=>{let e=class e{constructor(){this.subscription=new ut,this.initialized=!1,this.zone=K(pe),this.pendingTasks=K(qo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function O2(){return typeof $localize<"u"&&$localize.locale||Nh}var Mv=new H("",{providedIn:"root",factory:()=>K(Mv,Ie.Optional|Ie.SkipSelf)||O2()});var fT=new H(""),pT=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=fL(i?.ngZone,N2({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=qL(r.moduleType,this.injector,P2(()=>o)),a=s.injector.get(Ir,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{dh(this._modules,s),c.unsubscribe()})}),T2(a,o,()=>{let c=s.injector.get(dT);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(Mv,Nh);return g2(l||Nh),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=hT({},i);return A2(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(Ho);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new ie(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(fT,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(F(Ut))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ou=null,gT=new H("");function F2(t){if(ou&&!ou.get(gT,!1))throw new ie(400,!1);D2(),ou=t;let e=t.get(pT);return j2(t),e}function Pv(t,e,n=[]){let r=`Platform: ${e}`,i=new H(r);return(o=[])=>{let s=mT();if(!s||s.injector.get(gT,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):F2(V2(a,r))}return L2(i)}}function V2(t=[],e){return Ut.create({name:e,providers:[{provide:Wh,useValue:"platform"},{provide:fT,useValue:new Set([()=>ou=null])},...t]})}function L2(t){let e=mT();if(!e)throw new ie(401,!1);return e}function mT(){return ou?.get(pT)??null}function j2(t){t.get(ev,null)?.forEach(n=>n())}function Rv(){return!1}var yT=Pv(null,"core",[]),vT=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(F(Ho))},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({});let t=e;return t})();function Ui(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function _T(t){let e=Ri(t);if(!e)return null;let n=new aa(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var CT=null;function Sr(){return CT}function DT(t){CT??=t}var pf=class{};var Mt=new H(""),Vv=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>K(B2),providedIn:"platform"});let t=e;return t})(),xT=new H(""),B2=(()=>{let e=class e extends Vv{constructor(){super(),this._doc=K(Mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sr().getBaseHref(this._doc)}onPopState(r){let i=Sr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Sr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Lv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function wT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ai(t){return t&&t[0]!=="?"?"?"+t:t}var ci=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>K(jv),providedIn:"root"});let t=e;return t})(),TT=new H(""),jv=(()=>{let e=class e extends ci{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??K(Mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Lv(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ai(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ai(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ai(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(F(Vv),F(TT,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ST=(()=>{let e=class e extends ci{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Lv(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ai(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ai(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(F(Vv),F(TT,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),ga=(()=>{let e=class e{constructor(r){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=z2(wT(ET(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ai(i))}normalize(r){return e.stripTrailingSlash(q2(this._basePath,ET(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ai(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ai(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=ai,e.joinWithSlash=Lv,e.stripTrailingSlash=wT,e.\u0275fac=function(i){return new(i||e)(F(ci))},e.\u0275prov=G({token:e,factory:()=>$2(),providedIn:"root"});let t=e;return t})();function $2(){return new ga(F(ci))}function q2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ET(t){return t.replace(/\/index.html$/,"")}function z2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function gf(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Nv=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ar=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Nv(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),bT(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);bT(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(q(da),q(ef),q(bv))},e.\u0275dir=jt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function bT(t,e){t.context.$implicit=e.item}var Pt=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new kv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){IT("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){IT("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(q(da),q(ef))},e.\u0275dir=jt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),kv=class{constructor(){this.$implicit=null,this.ngIf=null}};function IT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${sn(e)}'.`)}var mf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({});let t=e;return t})(),Uv="browser",H2="server";function G2(t){return t===Uv}function Go(t){return t===H2}var AT=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>G2(K(vt))?new Ov(K(Mt),window):new Fv});let t=e;return t})(),Ov=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=W2(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function W2(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Fv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},pa=class{};var Cu=class{},vf=class{},Wo=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var $v=class{encodeKey(e){return MT(e)}encodeValue(e){return MT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Y2(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var Z2=/%(\d[a-f0-9])/gi,X2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MT(t){return encodeURIComponent(t).replace(Z2,(e,n)=>X2[n]??e)}function yf(t){return`${t}`}var Bi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $v,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Y2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(yf):[yf(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(yf(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(yf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var qv=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function J2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function PT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function RT(t){return typeof Blob<"u"&&t instanceof Blob}function NT(t){return typeof FormData<"u"&&t instanceof FormData}function ej(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Iu=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(J2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Wo,this.context??=new qv,!this.params)this.params=new Bi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:PT(this.body)||RT(this.body)||NT(this.body)||ej(this.body)||typeof this.body=="string"?this.body:this.body instanceof Bi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||NT(this.body)?null:RT(this.body)?this.body.type||null:PT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Bi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,g)=>f.set(g,e.setHeaders[g]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,g)=>f.set(g,e.setParams[g]),l)),new t(n,r,o,{params:l,headers:c,context:d,reportProgress:a,responseType:i,withCredentials:s})}},ma=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ma||{}),Du=class{constructor(e,n=Ef.Ok,r="OK"){this.headers=e.headers||new Wo,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},zv=class t extends Du{constructor(e={}){super(e),this.type=ma.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_f=class t extends Du{constructor(e={}){super(e),this.type=ma.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wf=class extends Du{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ef=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Ef||{});function Bv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Sn=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Iu)s=r;else{let l;o.headers instanceof Wo?l=o.headers:l=new Wo(o.headers);let d;o.params&&(o.params instanceof Bi?d=o.params:d=new Bi({fromObject:o.params})),s=new Iu(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=re(s).pipe(Jr(l=>this.handler.handle(l)));if(r instanceof Iu||o.observe==="events")return a;let c=a.pipe(Dt(l=>l instanceof _f));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(se(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(se(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(se(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(se(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Bi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Bv(o,i))}post(r,i,o={}){return this.request("POST",r,Bv(o,i))}put(r,i,o={}){return this.request("PUT",r,Bv(o,i))}};e.\u0275fac=function(i){return new(i||e)(F(Cu))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function VT(t,e){return e(t)}function tj(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function nj(t,e,n){return(r,i)=>Dr(n,()=>e(r,o=>t(o,i)))}var Hv=new H(""),Gv=new H(""),rj=new H(""),ij=new H("");function oj(){let t=null;return(e,n)=>{t===null&&(t=(K(Hv,{optional:!0})??[]).reduceRight(tj,VT));let r=K(qo),i=r.add();return t(e,n).pipe(Ai(()=>r.remove(i)))}}var kT=(()=>{let e=class e extends Cu{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=K(qo);let o=K(ij,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Gv),...this.injector.get(rj,[])]));this.chain=o.reduceRight((s,a)=>nj(s,a,this.injector),VT)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Ai(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(F(vf),F(cn))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();var sj=/^\)\]\}',?\n/;function aj(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var OT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new ie(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ee(i.\u0275loadImpl()):re(null)).pipe($e(()=>new he(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((C,O)=>a.setRequestHeader(C,O.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let C=r.detectContentTypeHeader();C!==null&&a.setRequestHeader("Content-Type",C)}if(r.responseType){let C=r.responseType.toLowerCase();a.responseType=C!=="json"?C:"text"}let c=r.serializeBody(),l=null,d=()=>{if(l!==null)return l;let C=a.statusText||"OK",O=new Wo(a.getAllResponseHeaders()),$=aj(a)||r.url;return l=new zv({headers:O,status:a.status,statusText:C,url:$}),l},f=()=>{let{headers:C,status:O,statusText:$,url:V}=d(),B=null;O!==Ef.NoContent&&(B=typeof a.response>"u"?a.responseText:a.response),O===0&&(O=B?Ef.Ok:0);let X=O>=200&&O<300;if(r.responseType==="json"&&typeof B=="string"){let Z=B;B=B.replace(sj,"");try{B=B!==""?JSON.parse(B):null}catch(E){B=Z,X&&(X=!1,B={error:E,text:B})}}X?(s.next(new _f({body:B,headers:C,status:O,statusText:$,url:V||void 0})),s.complete()):s.error(new wf({error:B,headers:C,status:O,statusText:$,url:V||void 0}))},g=C=>{let{url:O}=d(),$=new wf({error:C,status:a.status||0,statusText:a.statusText||"Unknown Error",url:O||void 0});s.error($)},y=!1,b=C=>{y||(s.next(d()),y=!0);let O={type:ma.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(O.total=C.total),r.responseType==="text"&&a.responseText&&(O.partialText=a.responseText),s.next(O)},P=C=>{let O={type:ma.UploadProgress,loaded:C.loaded};C.lengthComputable&&(O.total=C.total),s.next(O)};return a.addEventListener("load",f),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),r.reportProgress&&(a.addEventListener("progress",b),c!==null&&a.upload&&a.upload.addEventListener("progress",P)),a.send(c),s.next({type:ma.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",f),a.removeEventListener("timeout",g),r.reportProgress&&(a.removeEventListener("progress",b),c!==null&&a.upload&&a.upload.removeEventListener("progress",P)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(F(pa))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),LT=new H(""),cj="XSRF-TOKEN",uj=new H("",{providedIn:"root",factory:()=>cj}),lj="X-XSRF-TOKEN",dj=new H("",{providedIn:"root",factory:()=>lj}),bf=class{},hj=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=gf(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(F(Mt),F(vt),F(uj))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function fj(t,e){let n=t.url.toLowerCase();if(!K(LT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=K(bf).getToken(),i=K(dj);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var jT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(jT||{});function pj(t,e){return{\u0275kind:t,\u0275providers:e}}function gj(...t){let e=[Sn,OT,kT,{provide:Cu,useExisting:kT},{provide:vf,useExisting:OT},{provide:Gv,useValue:fj,multi:!0},{provide:LT,useValue:!0},{provide:bf,useClass:hj}];for(let n of t)e.push(...n.\u0275providers);return Gh(e)}var FT=new H("");function mj(){return pj(jT.LegacyInterceptors,[{provide:FT,useFactory:oj},{provide:Gv,useExisting:FT,multi:!0}])}var UT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({providers:[gj(mj())]});let t=e;return t})();var Qv=class extends pf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Yv=class t extends Qv{static makeCurrent(){DT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yj();return n==null?null:vj(n)}resetBaseElement(){xu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gf(document.cookie,e)}},xu=null;function yj(){return xu=xu||document.querySelector("base"),xu?xu.getAttribute("href"):null}function vj(t){return new URL(t,document.baseURI).pathname}var Zv=class{addToWindow(e){an.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new ie(5103,!1);return o},an.getAllAngularTestabilities=()=>e.getAllTestabilities(),an.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=an.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};an.frameworkStabilizers||(an.frameworkStabilizers=[]),an.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Sr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},_j=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Xv=new H(""),zT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new ie(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(F(Xv),F(pe))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),If=class{constructor(e){this._doc=e}},Wv="ng-app-id",HT=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Go(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Wv}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Wv),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Wv,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(F(Mt),F(zh),F(tv,8),F(vt))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Kv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},e_=/%COMP%/g,GT="%COMP%",wj=`_nghost-${GT}`,Ej=`_ngcontent-${GT}`,bj=!0,Ij=new H("",{providedIn:"root",factory:()=>bj});function Cj(t){return Ej.replace(e_,t)}function Dj(t){return wj.replace(e_,t)}function WT(t,e){return e.map(n=>n.replace(e_,t))}var BT=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Go(c),this.defaultRenderer=new Tu(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===_r.ShadowDom&&(i=Ve(J({},i),{encapsulation:_r.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Cf?o.applyToHost(r):o instanceof Su&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case _r.Emulated:s=new Cf(l,d,i,this.appId,f,a,c,g);break;case _r.ShadowDom:return new Jv(l,d,r,i,a,c,this.nonce,g);default:s=new Su(l,d,i,f,a,c,g);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(F(zT),F(HT),F(zh),F(Ij),F(Mt),F(vt),F(pe),F(tv))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Tu=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Kv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($T(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($T(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ie(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Kv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Kv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ni.DashCase|ni.Important)?e.style.setProperty(n,r,i&ni.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ni.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Sr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function $T(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Jv=class extends Tu{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=WT(i.id,i.styles);for(let d of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Su=class extends Tu{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?WT(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Cf=class extends Su{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=Cj(l),this.hostAttr=Dj(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xj=(()=>{let e=class e extends If{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(F(Mt))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),qT=["alt","control","meta","shift"],Tj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Aj=(()=>{let e=class e extends If{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),qT.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=Tj[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),qT.forEach(a=>{if(a!==o){let c=Sj[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(F(Mt))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function Mj(){Yv.makeCurrent()}function Pj(){return new Ir}function Rj(){return UD(document),document}var Nj=[{provide:vt,useValue:Uv},{provide:ev,useValue:Mj,multi:!0},{provide:Mt,useFactory:Rj,deps:[]}],KT=Pv(yT,"browser",Nj),kj=new H(""),Oj=[{provide:bu,useClass:Zv,deps:[]},{provide:Sv,useClass:uf,deps:[pe,lf,bu]},{provide:uf,useClass:uf,deps:[pe,lf,bu]}],Fj=[{provide:Wh,useValue:"root"},{provide:Ir,useFactory:Pj,deps:[]},{provide:Xv,useClass:xj,multi:!0,deps:[Mt,pe,vt]},{provide:Xv,useClass:Aj,multi:!0,deps:[Mt]},BT,HT,zT,{provide:fu,useExisting:BT},{provide:pa,useClass:_j,deps:[]},[]],QT=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:zh,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(F(kj,12))},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({providers:[...Fj,...Oj],imports:[mf,vT]});let t=e;return t})();var YT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(F(Mt))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var we="primary",qu=Symbol("RouteTitle"),o_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ba(t){return new o_(t)}function Vj(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Lj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Mr(t[n],e[n]))return!1;return!0}function Mr(t,e){let n=t?s_(t):void 0,r=e?s_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!sS(t[i],e[i]))return!1;return!0}function s_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function sS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function aS(t){return t.length>0?t[t.length-1]:null}function Hi(t){return Fm(t)?t:zo(t)?Ee(Promise.resolve(t)):re(t)}var jj={exact:uS,subset:lS},cS={exact:Uj,subset:Bj,ignored:()=>!0};function XT(t,e,n){return jj[n.paths](t.root,e.root,n.matrixParams)&&cS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Uj(t,e){return Mr(t,e)}function uS(t,e,n){if(!Qo(t.segments,e.segments)||!Tf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!uS(t.children[r],e.children[r],n))return!1;return!0}function Bj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sS(t[n],e[n]))}function lS(t,e,n){return dS(t,e,e.segments,n)}function dS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Qo(i,n)||e.hasChildren()||!Tf(i,n,r))}else if(t.segments.length===n.length){if(!Qo(t.segments,n)||!Tf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!lS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Qo(t.segments,i)||!Tf(t.segments,i,r)||!t.children[we]?!1:dS(t.children[we],e,o,r)}}function Tf(t,e,n){return e.every((r,i)=>cS[n](t[i].parameters,r.parameters))}var $i=class{constructor(e=new Fe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ba(this.queryParams),this._queryParamMap}toString(){return zj.serialize(this)}},Fe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sf(this)}},Ko=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ba(this.parameters),this._parameterMap}toString(){return fS(this)}};function $j(t,e){return Qo(t,e)&&t.every((n,r)=>Mr(n.parameters,e[r].parameters))}function Qo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function qj(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===we&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==we&&(n=n.concat(e(i,r)))}),n}var zu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>new Ou,providedIn:"root"});let t=e;return t})(),Ou=class{parse(e){let n=new c_(e);return new $i(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Au(e.root,!0)}`,r=Wj(e.queryParams),i=typeof e.fragment=="string"?`#${Hj(e.fragment)}`:"";return`${n}${r}${i}`}},zj=new Ou;function Sf(t){return t.segments.map(e=>fS(e)).join("/")}function Au(t,e){if(!t.hasChildren())return Sf(t);if(e){let n=t.children[we]?Au(t.children[we],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==we&&r.push(`${i}:${Au(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=qj(t,(r,i)=>i===we?[Au(t.children[we],!1)]:[`${i}:${Au(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[we]!=null?`${Sf(t)}/${n[0]}`:`${Sf(t)}/(${n.join("//")})`}}function hS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Df(t){return hS(t).replace(/%3B/gi,";")}function Hj(t){return encodeURI(t)}function a_(t){return hS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Af(t){return decodeURIComponent(t)}function JT(t){return Af(t.replace(/\+/g,"%20"))}function fS(t){return`${a_(t.path)}${Gj(t.parameters)}`}function Gj(t){return Object.entries(t).map(([e,n])=>`;${a_(e)}=${a_(n)}`).join("")}function Wj(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Df(n)}=${Df(i)}`).join("&"):`${Df(n)}=${Df(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Kj=/^[^\/()?;#]+/;function t_(t){let e=t.match(Kj);return e?e[0]:""}var Qj=/^[^\/()?;=#]+/;function Yj(t){let e=t.match(Qj);return e?e[0]:""}var Zj=/^[^=?&#]+/;function Xj(t){let e=t.match(Zj);return e?e[0]:""}var Jj=/^[^&#]+/;function eU(t){let e=t.match(Jj);return e?e[0]:""}var c_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[we]=new Fe(e,n)),r}parseSegment(){let e=t_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ie(4009,!1);return this.capture(e),new Ko(Af(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Yj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=t_(this.remaining);i&&(r=i,this.capture(r))}e[Af(n)]=Af(r)}parseQueryParam(e){let n=Xj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=eU(this.remaining);s&&(r=s,this.capture(r))}let i=JT(n),o=JT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=t_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ie(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=we);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[we]:new Fe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ie(4011,!1)}};function pS(t){return t.segments.length>0?new Fe([],{[we]:t}):t}function gS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=gS(i);if(r===we&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Fe(t.segments,e);return tU(n)}function tU(t){if(t.numberOfChildren===1&&t.children[we]){let e=t.children[we];return new Fe(t.segments.concat(e.segments),e.children)}return t}function Ia(t){return t instanceof $i}function nU(t,e,n=null,r=null){let i=mS(t);return yS(i,e,n,r)}function mS(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Fe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=pS(r);return e??i}function yS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return n_(i,i,i,n,r);let o=rU(e);if(o.toRoot())return n_(i,i,new Fe([],{}),n,r);let s=iU(o,i,t),a=s.processChildren?Ru(s.segmentGroup,s.index,o.commands):_S(s.segmentGroup,s.index,o.commands);return n_(i,s.segmentGroup,a,n,r)}function Mf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fu(t){return typeof t=="object"&&t!=null&&t.outlets}function n_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;t===e?s=n:s=vS(t,e,n);let a=pS(gS(s));return new $i(a,o,i)}function vS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=vS(o,e,n)}),new Fe(t.segments,r)}var Pf=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Mf(r[0]))throw new ie(4003,!1);let i=r.find(Fu);if(i&&i!==aS(r))throw new ie(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Pf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Pf(n,e,r)}var wa=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function iU(t,e,n){if(t.isAbsolute)return new wa(e,!0,0);if(!n)return new wa(e,!1,NaN);if(n.parent===null)return new wa(n,!0,0);let r=Mf(t.commands[0])?0:1,i=n.segments.length-1+r;return oU(n,i,t.numberOfDoubleDots)}function oU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ie(4005,!1);i=r.segments.length}return new wa(r,!1,i-o)}function sU(t){return Fu(t[0])?t[0].outlets:{[we]:t}}function _S(t,e,n){if(t??=new Fe([],{}),t.segments.length===0&&t.hasChildren())return Ru(t,e,n);let r=aU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Fe(t.segments.slice(0,r.pathIndex),{});return o.children[we]=new Fe(t.segments.slice(r.pathIndex),t.children),Ru(o,0,i)}else return r.match&&i.length===0?new Fe(t.segments,{}):r.match&&!t.hasChildren()?u_(t,e,n):r.match?Ru(t,0,i):u_(t,e,n)}function Ru(t,e,n){if(n.length===0)return new Fe(t.segments,{});{let r=sU(n),i={};if(Object.keys(r).some(o=>o!==we)&&t.children[we]&&t.numberOfChildren===1&&t.children[we].segments.length===0){let o=Ru(t.children[we],e,n);return new Fe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_S(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Fe(t.segments,i)}}function aU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Fu(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!tS(c,l,s))return o;r+=2}else{if(!tS(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function u_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Fu(o)){let c=cU(o.outlets);return new Fe(r,c)}if(i===0&&Mf(n[0])){let c=t.segments[e];r.push(new Ko(c.path,eS(n[0]))),i++;continue}let s=Fu(o)?o.outlets[we]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Mf(a)?(r.push(new Ko(s,eS(a))),i+=2):(r.push(new Ko(s,{})),i++)}return new Fe(r,{})}function cU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=u_(new Fe([],{}),0,r))}),e}function eS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function tS(t,e,n){return t==n.path&&Mr(e,n.parameters)}var Nu="imperative",Rt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Rt||{}),Bn=class{constructor(e,n){this.id=e,this.url=n}},Ca=class extends Bn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Rt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Pr=class extends Bn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Rt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Un=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Un||{}),Rf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Rf||{}),qi=class extends Bn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Rt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zi=class extends Bn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Rt.NavigationSkipped}},Vu=class extends Bn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Rt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nf=class extends Bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Rt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},l_=class extends Bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Rt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},d_=class extends Bn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Rt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},h_=class extends Bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Rt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},f_=class extends Bn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Rt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},p_=class{constructor(e){this.route=e,this.type=Rt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},g_=class{constructor(e){this.route=e,this.type=Rt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},m_=class{constructor(e){this.snapshot=e,this.type=Rt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},y_=class{constructor(e){this.snapshot=e,this.type=Rt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},v_=class{constructor(e){this.snapshot=e,this.type=Rt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},__=class{constructor(e){this.snapshot=e,this.type=Rt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kf=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Rt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Lu=class{},ju=class{constructor(e){this.url=e}};var w_=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hu,this.attachRef=null}},Hu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new w_,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Of=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=E_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=E_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=b_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return b_(e,this._root).map(n=>n.value)}};function E_(t,e){if(t===e.value)return e;for(let n of e.children){let r=E_(t,n);if(r)return r}return null}function b_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=b_(t,n);if(r.length)return r.unshift(e),r}return[]}var An=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _a(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ff=class extends Of{constructor(e,n){super(e),this.snapshot=n,R_(this,e)}toString(){return this.snapshot.toString()}};function wS(t){let e=uU(t),n=new Lt([new Ko("",{})]),r=new Lt({}),i=new Lt({}),o=new Lt({}),s=new Lt(""),a=new Bt(n,r,o,s,i,we,t,e.root);return a.snapshot=e.root,new Ff(new An(a,[]),e)}function uU(t){let e={},n={},r={},i="",o=new Uu([],e,r,i,n,we,t,null,{});return new Vf("",new An(o,[]))}var Bt=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(se(l=>l[qu]))??re(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>ba(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>ba(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function P_(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:J(J({},e.params),t.params),data:J(J({},e.data),t.data),resolve:J(J(J(J({},t.data),e.data),i?.data),t._resolvedData)}:r={params:J({},t.params),data:J({},t.data),resolve:J(J({},t.data),t._resolvedData??{})},i&&bS(i)&&(r.resolve[qu]=i.title),r}var Uu=class{get title(){return this.data?.[qu]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ba(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ba(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Vf=class extends Of{constructor(e,n){super(n),this.url=e,R_(this,n)}toString(){return ES(this._root)}};function R_(t,e){e.value._routerState=t,e.children.forEach(n=>R_(t,n))}function ES(t){let e=t.children.length>0?` { ${t.children.map(ES).join(", ")} } `:"";return`${t.value}${e}`}function r_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Mr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Mr(e.params,n.params)||t.paramsSubject.next(n.params),Lj(e.url,n.url)||t.urlSubject.next(n.url),Mr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function I_(t,e){let n=Mr(t.params,e.params)&&$j(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||I_(t.parent,e.parent))}function bS(t){return typeof t.title=="string"||t.title===null}var N_=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=K(Hu),this.location=K(da),this.changeDetector=K(Vi),this.environmentInjector=K(cn),this.inputBinder=K($f,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ie(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ie(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new C_(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=jt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xr]});let t=e;return t})(),C_=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Bt?this.route:e===Hu?this.childContexts:this.parent.get(e,n)}},$f=new H(""),nS=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=tu([i.queryParams,i.params,i.data]).pipe($e(([s,a,c],l)=>(c=J(J(J({},s),a),c),l===0?re(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=_T(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function lU(t,e,n){let r=Bu(t,e._root,n?n._root:void 0);return new Ff(r,e)}function Bu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=dU(t,e,n);return new An(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Bu(t,a)),s}}let r=hU(e.value),i=e.children.map(o=>Bu(t,o));return new An(r,i)}}function dU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Bu(t,r,i);return Bu(t,r)})}function hU(t){return new Bt(new Lt(t.url),new Lt(t.params),new Lt(t.queryParams),new Lt(t.fragment),new Lt(t.data),t.outlet,t.component,t)}var IS="ngNavigationCancelingError";function CS(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ia(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DS(!1,Un.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function DS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[IS]=!0,n.cancellationCode=e,n}function fU(t){return xS(t)&&Ia(t.url)}function xS(t){return!!t&&t[IS]}var pU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["ng-component"]],standalone:!0,features:[uT],decls:1,vars:0,template:function(i,o){i&1&&te(0,"router-outlet")},dependencies:[N_],encapsulation:2});let t=e;return t})();function gU(t,e){return t.providers&&!t._injector&&(t._injector=rf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function k_(t){let e=t.children&&t.children.map(k_),n=e?Ve(J({},t),{children:e}):J({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==we&&(n.component=pU),n}function Rr(t){return t.outlet||we}function mU(t,e){let n=t.filter(r=>Rr(r)===e);return n.push(...t.filter(r=>Rr(r)!==e)),n}function Gu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var yU=(t,e,n,r)=>se(i=>(new D_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),D_=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),r_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=_a(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_a(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_a(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=_a(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new __(o.value.snapshot))}),e.children.length&&this.forwardEvent(new y_(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(r_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),r_(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Gu(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Lf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ea=class{constructor(e,n){this.component=e,this.route=n}};function vU(t,e,n){let r=t._root,i=e?e._root:null;return Mu(r,i,n,[r.value])}function _U(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!BD(t)?t:e.get(t):r}function Mu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_a(e);return t.children.forEach(s=>{wU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ku(a,n.getContext(s),i)),i}function wU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=EU(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Lf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Mu(t,e,a?a.children:null,r,i):Mu(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ea(a.outlet.component,s))}else s&&ku(e,a,i),i.canActivateChecks.push(new Lf(r)),o.component?Mu(t,null,a?a.children:null,r,i):Mu(t,null,n,r,i);return i}function EU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Qo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qo(t.url,e.url)||!Mr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!I_(t,e)||!Mr(t.queryParams,e.queryParams);case"paramsChange":default:return!I_(t,e)}}function ku(t,e,n){let r=_a(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ku(s,e.children.getContext(o),n):ku(s,null,n):ku(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ea(e.outlet.component,i)):n.canDeactivateChecks.push(new Ea(null,i)):n.canDeactivateChecks.push(new Ea(null,i))}function Wu(t){return typeof t=="function"}function bU(t){return typeof t=="boolean"}function IU(t){return t&&Wu(t.canLoad)}function CU(t){return t&&Wu(t.canActivate)}function DU(t){return t&&Wu(t.canActivateChild)}function xU(t){return t&&Wu(t.canDeactivate)}function TU(t){return t&&Wu(t.canMatch)}function TS(t){return t instanceof Xr||t?.name==="EmptyError"}var xf=Symbol("INITIAL_VALUE");function Da(){return $e(t=>tu(t.map(e=>e.pipe(ei(1),Ao(xf)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===xf)return xf;if(n===!1||n instanceof $i)return n}return!0}),Dt(e=>e!==xf),ei(1)))}function SU(t,e){return yt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?re(Ve(J({},n),{guardsResult:!0})):AU(s,r,i,t).pipe(yt(a=>a&&bU(a)?MU(r,o,t,e):re(a)),se(a=>Ve(J({},n),{guardsResult:a})))})}function AU(t,e,n,r){return Ee(t).pipe(yt(i=>OU(i.component,i.route,n,e,r)),On(i=>i!==!0,!0))}function MU(t,e,n,r){return Ee(e).pipe(Jr(i=>zs(RU(i.route.parent,r),PU(i.route,r),kU(t,i.path,n),NU(t,i.route,n))),On(i=>i!==!0,!0))}function PU(t,e){return t!==null&&e&&e(new v_(t)),re(!0)}function RU(t,e){return t!==null&&e&&e(new m_(t)),re(!0)}function NU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let i=r.map(o=>Xd(()=>{let s=Gu(e)??n,a=xa(o,s),c=CU(a)?a.canActivate(e,t):Dr(s,()=>a(e,t));return Hi(c).pipe(On())}));return re(i).pipe(Da())}function kU(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>_U(s)).filter(s=>s!==null).map(s=>Xd(()=>{let a=s.guards.map(c=>{let l=Gu(s.node)??n,d=xa(c,l),f=DU(d)?d.canActivateChild(r,t):Dr(l,()=>d(r,t));return Hi(f).pipe(On())});return re(a).pipe(Da())}));return re(o).pipe(Da())}function OU(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return re(!0);let s=o.map(a=>{let c=Gu(e)??i,l=xa(a,c),d=xU(l)?l.canDeactivate(t,e,n,r):Dr(c,()=>l(t,e,n,r));return Hi(d).pipe(On())});return re(s).pipe(Da())}function FU(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return re(!0);let o=i.map(s=>{let a=xa(s,t),c=IU(a)?a.canLoad(e,n):Dr(t,()=>a(e,n));return Hi(c)});return re(o).pipe(Da(),SS(r))}function SS(t){return Am(nt(e=>{if(Ia(e))throw CS(t,e)}),se(e=>e===!0))}function VU(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return re(!0);let o=i.map(s=>{let a=xa(s,t),c=TU(a)?a.canMatch(e,n):Dr(t,()=>a(e,n));return Hi(c)});return re(o).pipe(Da(),SS(r))}var $u=class{constructor(e){this.segmentGroup=e||null}},jf=class extends Error{constructor(e){super(),this.urlTree=e}};function va(t){return qs(new $u(t))}function LU(t){return qs(new ie(4e3,!1))}function jU(t){return qs(DS(!1,Un.GuardRejected))}var x_=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return re(r);if(i.numberOfChildren>1||!i.children[we])return LU(e.redirectTo);i=i.children[we]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new jf(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new $i(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Fe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ie(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},T_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UU(t,e,n,r,i){let o=O_(t,e,n);return o.matched?(r=gU(e,r),VU(r,e,n,i).pipe(se(s=>s===!0?o:J({},T_)))):re(o)}function O_(t,e,n){if(e.path==="**")return BU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?J({},T_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Vj)(n,t,e);if(!i)return J({},T_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?J(J({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function BU(t){return{matched:!0,parameters:t.length>0?aS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function rS(t,e,n,r){return n.length>0&&zU(t,n,r)?{segmentGroup:new Fe(e,qU(r,new Fe(n,t.children))),slicedSegments:[]}:n.length===0&&HU(t,n,r)?{segmentGroup:new Fe(t.segments,$U(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Fe(t.segments,t.children),slicedSegments:n}}function $U(t,e,n,r){let i={};for(let o of n)if(qf(t,e,o)&&!r[Rr(o)]){let s=new Fe([],{});i[Rr(o)]=s}return J(J({},r),i)}function qU(t,e){let n={};n[we]=e;for(let r of t)if(r.path===""&&Rr(r)!==we){let i=new Fe([],{});n[Rr(r)]=i}return n}function zU(t,e,n){return n.some(r=>qf(t,e,r)&&Rr(r)!==we)}function HU(t,e,n){return n.some(r=>qf(t,e,r))}function qf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function GU(t,e,n,r){return Rr(t)!==r&&(r===we||!qf(e,n,t))?!1:O_(e,t,n).matched}function WU(t,e,n){return e.length===0&&!t.children[n]}var S_=class{};function KU(t,e,n,r,i,o,s="emptyOnly"){return new A_(t,e,n,r,i,s,o).recognize()}var QU=31,A_=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new x_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ie(4002,`'${e.segmentGroup}'`)}recognize(){let e=rS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(n=>{let r=new Uu([],Object.freeze({}),Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,{},we,this.rootComponentType,null,{}),i=new An(r,n),o=new Vf("",i),s=nU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,we).pipe(Ti(r=>{if(r instanceof jf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $u?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=P_(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(se(o=>o instanceof An?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Ee(i).pipe(Jr(o=>{let s=r.children[o],a=mU(n,o);return this.processSegmentGroup(e,a,s,o)}),So((o,s)=>(o.push(...s),o)),Si(null),$m(),yt(o=>{if(o===null)return va(r);let s=AS(o);return YU(s),re(s)}))}processSegment(e,n,r,i,o,s){return Ee(n).pipe(Jr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Ti(c=>{if(c instanceof $u)return re(null);throw c}))),On(a=>!!a),Ti(a=>{if(TS(a))return WU(r,i,o)?re(new S_):va(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return GU(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):va(i):va(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:d}=O_(n,i,o);if(!a)return va(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QU&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,f).pipe(yt(g=>this.processSegment(e,r,n,g.concat(d),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=UU(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe($e(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe($e(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:d,remainingSegments:f,parameters:g}=a,y=new Uu(d,g,Object.freeze(J({},this.urlTree.queryParams)),this.urlTree.fragment,XU(r),Rr(r),r.component??r._loadedComponent??null,r,JU(r)),{segmentGroup:b,slicedSegments:P}=rS(n,d,f,c);if(P.length===0&&b.hasChildren())return this.processChildren(l,c,b).pipe(se(O=>O===null?null:new An(y,O)));if(c.length===0&&P.length===0)return re(new An(y,[]));let C=Rr(r)===o;return this.processSegment(l,c,b,P,C?we:o,!0).pipe(se(O=>new An(y,O instanceof An?[O]:[])))}))):va(n)))}getChildConfig(e,n,r){return n.children?re({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?re({routes:n._loadedRoutes,injector:n._loadedInjector}):FU(e,n,r,this.urlSerializer).pipe(yt(i=>i?this.configLoader.loadChildren(e,n).pipe(nt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):jU(n))):re({routes:[],injector:e})}};function YU(t){t.sort((e,n)=>e.value.outlet===we?-1:n.value.outlet===we?1:e.value.outlet.localeCompare(n.value.outlet))}function ZU(t){let e=t.value.routeConfig;return e&&e.path===""}function AS(t){let e=[],n=new Set;for(let r of t){if(!ZU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=AS(r.children);e.push(new An(r.value,i))}return e.filter(r=>!n.has(r))}function XU(t){return t.data||{}}function JU(t){return t.resolve||{}}function eB(t,e,n,r,i,o){return yt(s=>KU(t,e,n,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:c})=>Ve(J({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function tB(t,e){return yt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return re(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of MS(c))s.add(l);let a=0;return Ee(s).pipe(Jr(c=>o.has(c)?nB(c,r,t,e):(c.data=P_(c,c.parent,t).resolve,re(void 0))),nt(()=>a++),Hs(1),yt(c=>a===s.size?re(n):gn))})}function MS(t){let e=t.children.map(n=>MS(n)).flat();return[t,...e]}function nB(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!bS(i)&&(o[qu]=i.title),rB(o,t,e,r).pipe(se(s=>(t._resolvedData=s,t.data=P_(t,t.parent,n).resolve,null)))}function rB(t,e,n,r){let i=s_(t);if(i.length===0)return re({});let o={};return Ee(i).pipe(yt(s=>iB(t[s],e,n,r).pipe(On(),nt(a=>{o[s]=a}))),Hs(1),Um(o),Ti(s=>TS(s)?gn:qs(s)))}function iB(t,e,n,r){let i=Gu(e)??r,o=xa(t,i),s=o.resolve?o.resolve(e,n):Dr(i,()=>o(e,n));return Hi(s)}function i_(t){return $e(e=>{let n=t(e);return n?Ee(n).pipe(se(()=>e)):re(e)})}var PS=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===we);return i}getResolvedTitleForRoute(r){return r.data[qu]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>K(oB),providedIn:"root"});let t=e;return t})(),oB=(()=>{let e=class e extends PS{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(F(YT))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ku=new H("",{providedIn:"root",factory:()=>({})}),Uf=new H(""),F_=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(ff)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return re(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Hi(r.loadComponent()).pipe(se(RS),nt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ai(()=>{this.componentLoaders.delete(r)})),o=new js(i,()=>new mt).pipe(Ls());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return re({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=sB(i,this.compiler,r,this.onLoadEndListener).pipe(Ai(()=>{this.childrenLoaders.delete(i)})),a=new js(s,()=>new mt).pipe(Ls());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sB(t,e,n,r){return Hi(t.loadChildren()).pipe(se(RS),yt(i=>i instanceof pu||Array.isArray(i)?re(i):Ee(e.compileModuleAsync(i))),se(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Uf,[],{optional:!0,self:!0}).flat()),{routes:s.map(k_),injector:o}}))}function aB(t){return t&&typeof t=="object"&&"default"in t}function RS(t){return aB(t)?t.default:t}var V_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>K(cB),providedIn:"root"});let t=e;return t})(),cB=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NS=new H(""),kS=new H("");function uB(t,e,n){let r=t.get(kS),i=t.get(Mt);return t.get(pe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),lB(t))),{onViewTransitionCreated:c}=r;return c&&Dr(t,()=>c({transition:a,from:e,to:n})),s})}function lB(t){return new Promise(e=>{Cv(e,{injector:t})})}var L_=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mt,this.transitionAbortSubject=new mt,this.configLoader=K(F_),this.environmentInjector=K(cn),this.urlSerializer=K(zu),this.rootContexts=K(Hu),this.location=K(ga),this.inputBindingEnabled=K($f,{optional:!0})!==null,this.titleStrategy=K(PS),this.options=K(Ku,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=K(V_),this.createViewTransition=K(NS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null;let r=o=>this.events.next(new p_(o)),i=o=>this.events.next(new g_(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ve(J(J({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Lt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nu,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dt(s=>s.id!==0),se(s=>Ve(J({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),$e(s=>{this.currentTransition=s;let a=!1,c=!1;return re(s).pipe(nt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ve(J({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$e(l=>{let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new zi(l.id,this.urlSerializer.serialize(l.rawUrl),g,Rf.IgnoredSameUrlNavigation)),l.resolve(null),gn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return re(l).pipe($e(g=>{let y=this.transitions?.getValue();return this.events.next(new Ca(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?gn:Promise.resolve(g)}),eB(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Ve(J({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let y=new Nf(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:y,source:b,restoredState:P,extras:C}=l,O=new Ca(g,this.urlSerializer.serialize(y),b,P);this.events.next(O);let $=wS(this.rootComponentType).snapshot;return this.currentTransition=s=Ve(J({},l),{targetSnapshot:$,urlAfterRedirects:y,extras:Ve(J({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,re(s)}else{let g="";return this.events.next(new zi(l.id,this.urlSerializer.serialize(l.extractedUrl),g,Rf.IgnoredByUrlHandlingStrategy)),l.resolve(null),gn}}),nt(l=>{let d=new l_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),se(l=>(this.currentTransition=s=Ve(J({},l),{guards:vU(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),SU(this.environmentInjector,l=>this.events.next(l)),nt(l=>{if(s.guardsResult=l.guardsResult,Ia(l.guardsResult))throw CS(this.urlSerializer,l.guardsResult);let d=new d_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Dt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Un.GuardRejected),!1)),i_(l=>{if(l.guards.canActivateChecks.length)return re(l).pipe(nt(d=>{let f=new h_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),$e(d=>{let f=!1;return re(d).pipe(tB(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",Un.NoDataFromResolver)}}))}),nt(d=>{let f=new f_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),i_(l=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(nt(y=>{f.component=y}),se(()=>{})));for(let y of f.children)g.push(...d(y));return g};return tu(d(l.targetSnapshot.root)).pipe(Si(null),ei(1))}),i_(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:l,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?Ee(f).pipe(se(()=>s)):re(s)}),se(l=>{let d=lU(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ve(J({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),nt(()=>{this.events.next(new Lu)}),yU(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ei(1),nt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),zm(this.transitionAbortSubject.pipe(nt(l=>{throw l}))),Ai(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Un.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ti(l=>{if(c=!0,xS(l))this.events.next(new qi(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),fU(l)?this.events.next(new ju(l.url)):s.resolve(!1);else{this.events.next(new Vu(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return gn}))}))}cancelNavigationTransition(r,i,o){let s=new qi(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dB(t){return t!==Nu}var hB=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>K(fB),providedIn:"root"});let t=e;return t})(),M_=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},fB=(()=>{let e=class e extends M_{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=la(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>K(pB),providedIn:"root"});let t=e;return t})(),pB=(()=>{let e=class e extends OS{constructor(){super(...arguments),this.location=K(ga),this.urlSerializer=K(zu),this.options=K(Ku,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=K(V_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $i,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=wS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ca)this.stateMemento=this.createStateMemento();else if(r instanceof zi)this.rawUrlTree=i.initialUrl;else if(r instanceof Nf){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Lu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof qi&&(r.code===Un.GuardRejected||r.code===Un.NoDataFromResolver)?this.restoreHistory(i):r instanceof Vu?this.restoreHistory(i,!0):r instanceof Pr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=J(J({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=J(J({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=la(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Pu||{});function FS(t,e){t.events.pipe(Dt(n=>n instanceof Pr||n instanceof qi||n instanceof Vu||n instanceof zi),se(n=>n instanceof Pr||n instanceof zi?Pu.COMPLETE:(n instanceof qi?n.code===Un.Redirect||n.code===Un.SupersededByNewNavigation:!1)?Pu.REDIRECTING:Pu.FAILED),Dt(n=>n!==Pu.REDIRECTING),ei(1)).subscribe(()=>{e()})}function gB(t){throw t}var mB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qe=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=K(cf),this.stateManager=K(OS),this.options=K(Ku,{optional:!0})||{},this.pendingTasks=K(qo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=K(L_),this.urlSerializer=K(zu),this.location=K(ga),this.urlHandlingStrategy=K(V_),this._events=new mt,this.errorHandler=this.options.errorHandler||gB,this.navigated=!1,this.routeReuseStrategy=K(hB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=K(Uf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!K($f,{optional:!0}),this.eventsSubscription=new ut,this.isNgZoneEnabled=K(pe)instanceof pe&&pe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof qi&&i.code!==Un.Redirect&&i.code!==Un.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Pr)this.navigated=!0;else if(i instanceof ju){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||dB(o.source)};this.scheduleNavigation(a,Nu,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}_B(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=J({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(k_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=J(J({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let y=o?o.snapshot:this.routerState.snapshot.root;g=mS(y)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),g=this.currentUrlTree.root}return yS(g,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ia(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Nu,null,i)}navigate(r,i={skipLocationChange:!1}){return vB(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=J({},mB):i===!1?o=J({},yB):o=i,Ia(r))return XT(this.currentUrlTree,r,o);let s=this.parseUrl(r);return XT(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,d;a?(c=a.resolve,l=a.reject,d=a.promise):d=new Promise((g,y)=>{c=g,l=y});let f=this.pendingTasks.add();return FS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ie(4008,!1)}function _B(t){return!(t instanceof Lu)&&!(t instanceof ju)}var Nr=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new mt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof Pr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:wx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(q(Qe),q(Bt),cv("tabindex"),q($o),q(Cr),q(ci))},e.\u0275dir=jt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&xe("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&je("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[St.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ui],skipLocationChange:[St.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ui],replaceUrl:[St.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ui],routerLink:"routerLink"},standalone:!0,features:[xv,xr]});let t=e;return t})();var Bf=class{};var wB=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(r=>r instanceof Pr),Jr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=rf(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Ee(o).pipe(xi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=re(null);let s=o.pipe(yt(a=>a===null?re(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ee([s,a]).pipe(xi())}else return s})}};e.\u0275fac=function(i){return new(i||e)(F(Qe),F(ff),F(cn),F(Bf),F(F_))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),VS=new H(""),EB=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ca?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Pr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof zi&&r.code===Rf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof kf&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new kf(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Nx()},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function bB(t){return t.routerState.root}function Qu(t,e){return{\u0275kind:t,\u0275providers:e}}function IB(){let t=K(Ut);return e=>{let n=t.get(Ho);if(e!==n.components[0])return;let r=t.get(Qe),i=t.get(LS);t.get(j_)===1&&r.initialNavigation(),t.get(jS,null,Ie.Optional)?.setUpPreloading(),t.get(VS,null,Ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LS=new H("",{factory:()=>new mt}),j_=new H("",{providedIn:"root",factory:()=>1});function CB(){return Qu(2,[{provide:j_,useValue:0},{provide:df,multi:!0,deps:[Ut],useFactory:e=>{let n=e.get(xT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Qe),o=e.get(LS);FS(i,()=>{r(!0)}),e.get(L_).afterPreactivation=()=>(r(!0),o.closed?re(void 0):o),i.initialNavigation()}))}}])}function DB(){return Qu(3,[{provide:df,multi:!0,useFactory:()=>{let e=K(Qe);return()=>{e.setUpLocationChangeListener()}}},{provide:j_,useValue:2}])}var jS=new H("");function xB(t){return Qu(0,[{provide:jS,useExisting:wB},{provide:Bf,useExisting:t}])}function TB(){return Qu(8,[nS,{provide:$f,useExisting:nS}])}function SB(t){let e=[{provide:NS,useValue:uB},{provide:kS,useValue:J({skipNextTransition:!!t?.skipInitialTransition},t)}];return Qu(9,e)}var iS=new H("ROUTER_FORROOT_GUARD"),AB=[ga,{provide:zu,useClass:Ou},Qe,Hu,{provide:Bt,useFactory:bB,deps:[Qe]},F_,[]],Yu=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[AB,[],{provide:Uf,multi:!0,useValue:r},{provide:iS,useFactory:NB,deps:[[Qe,new vn,new iv]]},{provide:Ku,useValue:i||{}},i?.useHash?PB():RB(),MB(),i?.preloadingStrategy?xB(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?kB(i):[],i?.bindToComponentInputs?TB().\u0275providers:[],i?.enableViewTransitions?SB().\u0275providers:[],OB()]}}static forChild(r){return{ngModule:e,providers:[{provide:Uf,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(F(iS,8))},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({});let t=e;return t})();function MB(){return{provide:VS,useFactory:()=>{let t=K(AT),e=K(pe),n=K(Ku),r=K(L_),i=K(zu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new EB(i,r,t,e,n)}}}function PB(){return{provide:ci,useClass:ST}}function RB(){return{provide:ci,useClass:jv}}function NB(t){return"guarded"}function kB(t){return[t.initialNavigation==="disabled"?DB().\u0275providers:[],t.initialNavigation==="enabledBlocking"?CB().\u0275providers:[]]}var oS=new H("");function OB(){return[{provide:oS,useFactory:IB},{provide:hf,multi:!0,useExisting:oS}]}function FB(t,e){if(t&1&&(At(),S(0,"linearGradient"),te(1,"stop",5)(2,"stop",6),T()),t&2){let n=ne(2);je("id",n.svg.outerLinearGradient.id),U(),je("stop-color",n.svg.outerLinearGradient.colorStop1)("stop-opacity",1),U(),je("stop-color",n.svg.outerLinearGradient.colorStop2)("stop-opacity",1)}}function VB(t,e){if(t&1&&(At(),S(0,"radialGradient"),te(1,"stop",5)(2,"stop",6),T()),t&2){let n=ne(2);je("id",n.svg.radialGradient.id),U(),je("stop-color",n.svg.radialGradient.colorStop1)("stop-opacity",1),U(),je("stop-color",n.svg.radialGradient.colorStop2)("stop-opacity",1)}}function LB(t,e){if(t&1&&(At(),te(0,"circle")),t&2){let n=ne(3);je("cx",n.svg.backgroundCircle.cx)("cy",n.svg.backgroundCircle.cy)("r",n.svg.backgroundCircle.r)("fill",n.svg.backgroundCircle.fill)("fill-opacity",n.svg.backgroundCircle.fillOpacity)("stroke",n.svg.backgroundCircle.stroke)("stroke-width",n.svg.backgroundCircle.strokeWidth)}}function jB(t,e){if(t&1&&(At(),te(0,"circle")),t&2){let n=ne(3);of("fill","url(",n.window.location.href,"#",n.svg.radialGradient.id,")"),je("cx",n.svg.backgroundCircle.cx)("cy",n.svg.backgroundCircle.cy)("r",n.svg.backgroundCircle.r)("fill-opacity",n.svg.backgroundCircle.fillOpacity)("stroke",n.svg.backgroundCircle.stroke)("stroke-width",n.svg.backgroundCircle.strokeWidth)}}function UB(t,e){if(t&1&&(At(),ha(0),ve(1,LB,1,7,"circle",2)(2,jB,1,8,"circle",2),fa()),t&2){let n=ne(2);U(),ce("ngIf",!n.options.backgroundGradient),U(),ce("ngIf",n.options.backgroundGradient)}}function BB(t,e){if(t&1&&(At(),te(0,"circle")),t&2){let n=ne(2);je("cx",n.svg.circle.cx)("cy",n.svg.circle.cy)("r",n.svg.circle.r)("fill",n.svg.circle.fill)("stroke",n.svg.circle.stroke)("stroke-width",n.svg.circle.strokeWidth)}}function $B(t,e){if(t&1&&(At(),te(0,"path")),t&2){let n=ne(3);je("d",n.svg.path.d)("stroke",n.svg.path.stroke)("stroke-width",n.svg.path.strokeWidth)("stroke-linecap",n.svg.path.strokeLinecap)("fill",n.svg.path.fill)}}function qB(t,e){if(t&1&&(At(),te(0,"path")),t&2){let n=ne(3);of("stroke","url(",n.window.location.href,"#",n.svg.outerLinearGradient.id,")"),je("d",n.svg.path.d)("stroke-width",n.svg.path.strokeWidth)("stroke-linecap",n.svg.path.strokeLinecap)("fill",n.svg.path.fill)}}function zB(t,e){if(t&1&&(At(),ha(0),ve(1,$B,1,5,"path",2)(2,qB,1,6,"path",2),fa()),t&2){let n=ne(2);U(),ce("ngIf",!n.options.outerStrokeGradient),U(),ce("ngIf",n.options.outerStrokeGradient)}}function HB(t,e){if(t&1&&(At(),S(0,"tspan"),z(1),T()),t&2){let n=e.$implicit,r=ne(4);je("x",r.svg.title.x)("y",r.svg.title.y)("dy",n.dy)("font-size",r.svg.title.fontSize)("font-weight",r.svg.title.fontWeight)("fill",r.svg.title.color),U(),wn(n.span)}}function GB(t,e){if(t&1&&(At(),ha(0),ve(1,HB,2,7,"tspan",8),fa()),t&2){let n=ne(3);U(),ce("ngForOf",n.svg.title.tspans)}}function WB(t,e){if(t&1&&(At(),S(0,"tspan"),z(1),T()),t&2){let n=ne(3);je("font-size",n.svg.units.fontSize)("font-weight",n.svg.units.fontWeight)("fill",n.svg.units.color),U(),wn(n.svg.units.text)}}function KB(t,e){if(t&1&&(At(),S(0,"tspan"),z(1),T()),t&2){let n=e.$implicit,r=ne(4);je("x",r.svg.subtitle.x)("y",r.svg.subtitle.y)("dy",n.dy)("font-size",r.svg.subtitle.fontSize)("font-weight",r.svg.subtitle.fontWeight)("fill",r.svg.subtitle.color),U(),wn(n.span)}}function QB(t,e){if(t&1&&(At(),ha(0),ve(1,KB,2,7,"tspan",8),fa()),t&2){let n=ne(3);U(),ce("ngForOf",n.svg.subtitle.tspans)}}function YB(t,e){if(t&1&&(At(),S(0,"text",7),ve(1,GB,2,1,"ng-container",2)(2,WB,2,4,"tspan",2)(3,QB,2,1,"ng-container",2),T()),t&2){let n=ne(2);je("x",n.svg.circle.cx)("y",n.svg.circle.cy)("text-anchor",n.svg.title.textAnchor),U(),ce("ngIf",n.options.showTitle),U(),ce("ngIf",n.options.showUnits),U(),ce("ngIf",n.options.showSubtitle)}}function ZB(t,e){if(t&1&&(At(),te(0,"image",9)),t&2){let n=ne(2);je("height",n.svg.image.height)("width",n.svg.image.width)("href",n.svg.image.src,null,"xlink")("x",n.svg.image.x)("y",n.svg.image.y)}}function XB(t,e){if(t&1){let n=dt();At(),S(0,"svg",1),xe("click",function(i){Ce(n);let o=ne();return De(o.emitClickEvent(i))}),S(1,"defs"),ve(2,FB,3,5,"linearGradient",2)(3,VB,3,5,"radialGradient",2),T(),ve(4,UB,3,2,"ng-container",2)(5,BB,1,6,"circle",2)(6,zB,3,2,"ng-container",2)(7,YB,4,6,"text",3)(8,ZB,1,5,"image",4),T()}if(t&2){let n=ne();je("viewBox",n.svg.viewBox)("height",n.svg.height)("width",n.svg.width)("class",n.options.class),U(2),ce("ngIf",n.options.outerStrokeGradient),U(),ce("ngIf",n.options.backgroundGradient),U(),ce("ngIf",n.options.showBackground),U(),ce("ngIf",n.options.showInnerStroke),U(),ce("ngIf",+n.options.percent!=0||n.options.showZeroOuterStroke),U(),ce("ngIf",!n.options.showImage&&(n.options.showTitle||n.options.showUnits||n.options.showSubtitle)),U(),ce("ngIf",n.options.showImage)}}var Ta=class{constructor(){this.class="",this.backgroundGradient=!1,this.backgroundColor="transparent",this.backgroundGradientStopColor="transparent",this.backgroundOpacity=1,this.backgroundStroke="transparent",this.backgroundStrokeWidth=0,this.backgroundPadding=5,this.percent=0,this.radius=90,this.space=4,this.toFixed=0,this.maxPercent=1e3,this.renderOnClick=!0,this.units="%",this.unitsFontSize="10",this.unitsFontWeight="normal",this.unitsColor="#444444",this.outerStrokeGradient=!1,this.outerStrokeWidth=8,this.outerStrokeColor="#78C000",this.outerStrokeGradientStopColor="transparent",this.outerStrokeLinecap="round",this.innerStrokeColor="#C7E596",this.innerStrokeWidth=4,this.titleFormat=void 0,this.title="auto",this.titleColor="#444444",this.titleFontSize="20",this.titleFontWeight="normal",this.subtitleFormat=void 0,this.subtitle="progress",this.subtitleColor="#A9A9A9",this.subtitleFontSize="10",this.subtitleFontWeight="normal",this.imageSrc=void 0,this.imageHeight=0,this.imageWidth=0,this.animation=!0,this.animateTitle=!0,this.animateSubtitle=!1,this.animationDuration=500,this.showTitle=!0,this.showSubtitle=!0,this.showUnits=!0,this.showImage=!1,this.showBackground=!0,this.showInnerStroke=!0,this.clockwise=!0,this.responsive=!1,this.startFromZero=!0,this.showZeroOuterStroke=!0,this.lazy=!1}},US=(()=>{class t{constructor(n,r,i,o){this.ngZone=r,this.elRef=i,this.onClick=new Xe,this.svgElement=null,this.isInViewport=!1,this.onViewportChanged=new Xe,this._viewportChangedSubscriber=null,this.options=new Ta,this.defaultOptions=new Ta,this._lastPercent=0,this._gradientUUID=null,this.render=()=>{this.applyOptions(),this.options.lazy?(this.svgElement===null&&this.draw(this._lastPercent),this.isInViewport&&(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)):(this.options.animation&&this.options.animationDuration>0?this.animate(this._lastPercent,this.options.percent):this.draw(this.options.percent),this._lastPercent=this.options.percent)},this.polarToCartesian=(s,a,c,l)=>{let d=l*Math.PI/180,f=s+Math.sin(d)*c,g=a-Math.cos(d)*c;return{x:f,y:g}},this.draw=s=>{s=s===void 0?this.options.percent:Math.abs(s);let a=s>100?100:s,c=this.options.radius*2+this.options.outerStrokeWidth*2;this.options.showBackground&&(c+=this.options.backgroundStrokeWidth*2+this.max(0,this.options.backgroundPadding*2));let l={x:c/2,y:c/2},d={x:l.x,y:l.y-this.options.radius},f=this.polarToCartesian(l.x,l.y,this.options.radius,360*(this.options.clockwise?a:100-a)/100);a===100&&(f.x=f.x+(this.options.clockwise?-.01:.01));let g,y;a>50?[g,y]=this.options.clockwise?[1,1]:[1,0]:[g,y]=this.options.clockwise?[0,1]:[0,0];let b=this.options.animateTitle?s:this.options.percent,P=b>this.options.maxPercent?`${this.options.maxPercent.toFixed(this.options.toFixed)}+`:b.toFixed(this.options.toFixed),C=this.options.animateSubtitle?s:this.options.percent,O={x:l.x,y:l.y,textAnchor:"middle",color:this.options.titleColor,fontSize:this.options.titleFontSize,fontWeight:this.options.titleFontWeight,texts:[],tspans:[]};if(this.options.titleFormat!==void 0&&this.options.titleFormat.constructor.name==="Function"){let Z=this.options.titleFormat(b);Z instanceof Array?O.texts=[...Z]:O.texts.push(Z.toString())}else this.options.title==="auto"?O.texts.push(P):this.options.title instanceof Array?O.texts=[...this.options.title]:O.texts.push(this.options.title.toString());let $={x:l.x,y:l.y,textAnchor:"middle",color:this.options.subtitleColor,fontSize:this.options.subtitleFontSize,fontWeight:this.options.subtitleFontWeight,texts:[],tspans:[]};if(this.options.subtitleFormat!==void 0&&this.options.subtitleFormat.constructor.name==="Function"){let Z=this.options.subtitleFormat(C);Z instanceof Array?$.texts=[...Z]:$.texts.push(Z.toString())}else this.options.subtitle instanceof Array?$.texts=[...this.options.subtitle]:$.texts.push(this.options.subtitle.toString());let V={text:`${this.options.units}`,fontSize:this.options.unitsFontSize,fontWeight:this.options.unitsFontWeight,color:this.options.unitsColor},B=0,X=1;if(this.options.showTitle&&(B+=O.texts.length),this.options.showSubtitle&&(B+=$.texts.length),this.options.showTitle)for(let Z of O.texts)O.tspans.push({span:Z,dy:this.getRelativeY(X,B)}),X++;if(this.options.showSubtitle)for(let Z of $.texts)$.tspans.push({span:Z,dy:this.getRelativeY(X,B)}),X++;this._gradientUUID===null&&(this._gradientUUID=this.uuid()),this.svg={viewBox:`0 0 ${c} ${c}`,width:this.options.responsive?"100%":c,height:this.options.responsive?"100%":c,backgroundCircle:{cx:l.x,cy:l.y,r:this.options.radius+this.options.outerStrokeWidth/2+this.options.backgroundPadding,fill:this.options.backgroundColor,fillOpacity:this.options.backgroundOpacity,stroke:this.options.backgroundStroke,strokeWidth:this.options.backgroundStrokeWidth},path:{d:`M ${d.x} ${d.y}
        A ${this.options.radius} ${this.options.radius} 0 ${g} ${y} ${f.x} ${f.y}`,stroke:this.options.outerStrokeColor,strokeWidth:this.options.outerStrokeWidth,strokeLinecap:this.options.outerStrokeLinecap,fill:"none"},circle:{cx:l.x,cy:l.y,r:this.options.radius-this.options.space-this.options.outerStrokeWidth/2-this.options.innerStrokeWidth/2,fill:"none",stroke:this.options.innerStrokeColor,strokeWidth:this.options.innerStrokeWidth},title:O,units:V,subtitle:$,image:{x:l.x-this.options.imageWidth/2,y:l.y-this.options.imageHeight/2,src:this.options.imageSrc,width:this.options.imageWidth,height:this.options.imageHeight},outerLinearGradient:{id:"outer-linear-"+this._gradientUUID,colorStop1:this.options.outerStrokeColor,colorStop2:this.options.outerStrokeGradientStopColor==="transparent"?"#FFF":this.options.outerStrokeGradientStopColor},radialGradient:{id:"radial-"+this._gradientUUID,colorStop1:this.options.backgroundColor,colorStop2:this.options.backgroundGradientStopColor==="transparent"?"#FFF":this.options.backgroundGradientStopColor}}},this.getAnimationParameters=(s,a)=>{let l,d,f,g=this.options.startFromZero||s<0?0:s,y=a<0?0:this.min(a,this.options.maxPercent),b=Math.abs(Math.round(y-g));return b>=100?(l=100,!this.options.animateTitle&&!this.options.animateSubtitle?d=1:d=Math.round(b/l)):(l=b,d=1),f=Math.round(this.options.animationDuration/l),f<10&&(f=10,l=this.options.animationDuration/f,!this.options.animateTitle&&!this.options.animateSubtitle&&b>100?d=Math.round(100/l):d=Math.round(b/l)),d<1&&(d=1),{times:l,step:d,interval:f}},this.animate=(s,a)=>{this._timerSubscription&&!this._timerSubscription.closed&&this._timerSubscription.unsubscribe();let c=this.options.startFromZero?0:s,l=a,{step:d,interval:f}=this.getAnimationParameters(c,l),g=c;c<l?this._timerSubscription=nu(0,f).subscribe(()=>{g+=d,g<=l?!this.options.animateTitle&&!this.options.animateSubtitle&&g>=100?(this.draw(l),this._timerSubscription.unsubscribe()):this.draw(g):(this.draw(l),this._timerSubscription.unsubscribe())}):this._timerSubscription=nu(0,f).subscribe(()=>{g-=d,g>=l?!this.options.animateTitle&&!this.options.animateSubtitle&&l>=100?(this.draw(l),this._timerSubscription.unsubscribe()):this.draw(g):(this.draw(l),this._timerSubscription.unsubscribe())})},this.applyOptions=()=>{for(let s of Object.keys(this.options))this.hasOwnProperty(s)&&this[s]!==void 0?this.options[s]=this[s]:this.templateOptions&&this.templateOptions[s]!==void 0&&(this.options[s]=this.templateOptions[s]);this.options.radius=Math.abs(+this.options.radius),this.options.space=+this.options.space,this.options.percent=+this.options.percent>0?+this.options.percent:0,this.options.maxPercent=Math.abs(+this.options.maxPercent),this.options.animationDuration=Math.abs(this.options.animationDuration),this.options.outerStrokeWidth=Math.abs(+this.options.outerStrokeWidth),this.options.innerStrokeWidth=Math.abs(+this.options.innerStrokeWidth),this.options.backgroundPadding=+this.options.backgroundPadding},this.getRelativeY=(s,a)=>(-.18+1*(s-a/2)).toFixed(2)+"em",this.min=(s,a)=>s<a?s:a,this.max=(s,a)=>s>a?s:a,this.uuid=()=>{var s=new Date().getTime(),a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var l=(s+Math.random()*16)%16|0;return s=Math.floor(s/16),(c=="x"?l:l&3|8).toString(16)});return a},this.checkViewport=()=>{this.findSvgElement();let s=this.isInViewport;this.isInViewport=this.isElementInViewport(this.svgElement),s!==this.isInViewport&&this.onViewportChanged.observers.length>0&&this.ngZone.run(()=>{this.onViewportChanged.emit({oldValue:s,newValue:this.isInViewport})})},this.onScroll=s=>{this.checkViewport()},this.loadEventsForLazyMode=()=>{if(this.options.lazy){this.ngZone.runOutsideAngular(()=>{this.document.addEventListener("scroll",this.onScroll,!0),this.window.addEventListener("resize",this.onScroll,!0)}),this._viewportChangedSubscriber===null&&(this._viewportChangedSubscriber=this.onViewportChanged.subscribe(({oldValue:a,newValue:c})=>{c&&this.render()}));let s=nu(0,50).subscribe(()=>{this.svgElement===null?this.checkViewport():s.unsubscribe()})}},this.unloadEventsForLazyMode=()=>{this.document.removeEventListener("scroll",this.onScroll,!0),this.window.removeEventListener("resize",this.onScroll,!0),this._viewportChangedSubscriber!==null&&(this._viewportChangedSubscriber.unsubscribe(),this._viewportChangedSubscriber=null)},this.document=o.get(Mt),this.window=this.document.defaultView,Object.assign(this.options,n),Object.assign(this.defaultOptions,n)}emitClickEvent(n){this.options.renderOnClick&&this.animate(0,this.options.percent),this.onClick.observers.length>0&&this.onClick.emit(n)}isDrawing(){return this._timerSubscription&&!this._timerSubscription.closed}findSvgElement(){if(this.svgElement===null){let n=this.elRef.nativeElement.getElementsByTagName("svg");n.length>0&&(this.svgElement=n[0])}}isElementInViewport(n){if(n==null)return!1;let r=n.getBoundingClientRect(),i=n.parentNode,o;do{if(o=i.getBoundingClientRect(),r.top>=o.bottom||r.bottom<=o.top||r.left>=o.right||r.right<=o.left)return!1;i=i.parentNode}while(i!=this.document.body);return!(r.top>=(this.window.innerHeight||this.document.documentElement.clientHeight)||r.bottom<=0||r.left>=(this.window.innerWidth||this.document.documentElement.clientWidth)||r.right<=0)}ngOnInit(){this.loadEventsForLazyMode()}ngOnDestroy(){this.unloadEventsForLazyMode()}ngOnChanges(n){this.render(),"lazy"in n&&(n.lazy.currentValue?this.loadEventsForLazyMode():this.unloadEventsForLazyMode())}}return t.\u0275fac=function(n){return new(n||t)(q(Ta),q(pe),q(Cr),q(Ut))},t.\u0275cmp=le({type:t,selectors:[["circle-progress"]],inputs:{name:"name",class:"class",backgroundGradient:"backgroundGradient",backgroundColor:"backgroundColor",backgroundGradientStopColor:"backgroundGradientStopColor",backgroundOpacity:"backgroundOpacity",backgroundStroke:"backgroundStroke",backgroundStrokeWidth:"backgroundStrokeWidth",backgroundPadding:"backgroundPadding",radius:"radius",space:"space",percent:"percent",toFixed:"toFixed",maxPercent:"maxPercent",renderOnClick:"renderOnClick",units:"units",unitsFontSize:"unitsFontSize",unitsFontWeight:"unitsFontWeight",unitsColor:"unitsColor",outerStrokeGradient:"outerStrokeGradient",outerStrokeWidth:"outerStrokeWidth",outerStrokeColor:"outerStrokeColor",outerStrokeGradientStopColor:"outerStrokeGradientStopColor",outerStrokeLinecap:"outerStrokeLinecap",innerStrokeColor:"innerStrokeColor",innerStrokeWidth:"innerStrokeWidth",titleFormat:"titleFormat",title:"title",titleColor:"titleColor",titleFontSize:"titleFontSize",titleFontWeight:"titleFontWeight",subtitleFormat:"subtitleFormat",subtitle:"subtitle",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",subtitleFontWeight:"subtitleFontWeight",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",animation:"animation",animateTitle:"animateTitle",animateSubtitle:"animateSubtitle",animationDuration:"animationDuration",showTitle:"showTitle",showSubtitle:"showSubtitle",showUnits:"showUnits",showImage:"showImage",showBackground:"showBackground",showInnerStroke:"showInnerStroke",clockwise:"clockwise",responsive:"responsive",startFromZero:"startFromZero",showZeroOuterStroke:"showZeroOuterStroke",lazy:"lazy",templateOptions:[St.None,"options","templateOptions"]},outputs:{onClick:"onClick"},features:[xr],decls:1,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet",3,"click"],[4,"ngIf"],["alignment-baseline","baseline",4,"ngIf"],["preserveAspectRatio","none",4,"ngIf"],["offset","5%"],["offset","95%"],["alignment-baseline","baseline"],[4,"ngFor","ngForOf"],["preserveAspectRatio","none"]],template:function(n,r){n&1&&ve(0,XB,9,11,"svg",0),n&2&&ce("ngIf",r.svg)},dependencies:[Ar,Pt],encapsulation:2}),t})(),BS=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[{provide:Ta,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Oe({imports:[mf]}),t})();var QS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(q($o),q(Cr))},e.\u0275dir=jt({type:e});let t=e;return t})(),e$=(()=>{let e=class e extends QS{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=la(e)))(o||e)}})(),e.\u0275dir=jt({type:e,features:[si]});let t=e;return t})(),YS=new H("");var t$={provide:YS,useExisting:Bo(()=>$n),multi:!0};function n$(){let t=Sr()?Sr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var r$=new H(""),$n=(()=>{let e=class e extends QS{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!n$())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(q($o),q(Cr),q(r$,8))},e.\u0275dir=jt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&xe("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Eu([t$]),si]});let t=e;return t})();function Gi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function ZS(t){return t!=null&&typeof t.length=="number"}var B_=new H(""),XS=new H(""),i$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Mn=class{static min(e){return o$(e)}static max(e){return s$(e)}static required(e){return JS(e)}static requiredTrue(e){return a$(e)}static email(e){return c$(e)}static minLength(e){return u$(e)}static maxLength(e){return l$(e)}static pattern(e){return d$(e)}static nullValidator(e){return Hf(e)}static compose(e){return oA(e)}static composeAsync(e){return sA(e)}};function o$(t){return e=>{if(Gi(e.value)||Gi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function s$(t){return e=>{if(Gi(e.value)||Gi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function JS(t){return Gi(t.value)?{required:!0}:null}function a$(t){return t.value===!0?null:{required:!0}}function c$(t){return Gi(t.value)||i$.test(t.value)?null:{email:!0}}function u$(t){return e=>Gi(e.value)||!ZS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function l$(t){return e=>ZS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function d$(t){if(!t)return Hf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Gi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Hf(t){return null}function eA(t){return t!=null}function tA(t){return zo(t)?Ee(t):t}function nA(t){let e={};return t.forEach(n=>{e=n!=null?J(J({},e),n):e}),Object.keys(e).length===0?null:e}function rA(t,e){return e.map(n=>n(t))}function h$(t){return!t.validate}function iA(t){return t.map(e=>h$(e)?e:n=>e.validate(n))}function oA(t){if(!t)return null;let e=t.filter(eA);return e.length==0?null:function(n){return nA(rA(n,e))}}function $_(t){return t!=null?oA(iA(t)):null}function sA(t){if(!t)return null;let e=t.filter(eA);return e.length==0?null:function(n){let r=rA(n,e).map(tA);return Vm(r).pipe(se(nA))}}function q_(t){return t!=null?sA(iA(t)):null}function $S(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function f$(t){return t._rawValidators}function p$(t){return t._rawAsyncValidators}function U_(t){return t?Array.isArray(t)?t:[t]:[]}function Gf(t,e){return Array.isArray(t)?t.includes(e):t===e}function qS(t,e){let n=U_(e);return U_(t).forEach(i=>{Gf(n,i)||n.push(i)}),n}function zS(t,e){return U_(e).filter(n=>!Gf(t,n))}var Wf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=q_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Aa=class extends Wf{get formDirective(){return null}get path(){return null}},el=class extends Wf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Kf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},g$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},WY=Ve(J({},g$),{"[class.ng-submitted]":"isSubmitted"}),kr=(()=>{let e=class e extends Kf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(q(el,2))},e.\u0275dir=jt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&sf("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[si]});let t=e;return t})(),Or=(()=>{let e=class e extends Kf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(q(Aa,10))},e.\u0275dir=jt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&sf("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[si]});let t=e;return t})();var Zu="VALID",zf="INVALID",Sa="PENDING",Xu="DISABLED";function aA(t){return(Yf(t)?t.validators:t)||null}function m$(t){return Array.isArray(t)?$_(t):t||null}function cA(t,e){return(Yf(e)?e.asyncValidators:t)||null}function y$(t){return Array.isArray(t)?q_(t):t||null}function Yf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function v$(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new ie(1e3,"");if(!r[n])throw new ie(1001,"")}function _$(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new ie(1002,"")})}var Qf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zu}get invalid(){return this.status===zf}get pending(){return this.status==Sa}get disabled(){return this.status===Xu}get enabled(){return this.status!==Xu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zS(e,this._rawAsyncValidators))}hasValidator(e){return Gf(this._rawValidators,e)}hasAsyncValidator(e){return Gf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Sa,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xu,this.errors=null,this._forEachChild(r=>{r.disable(Ve(J({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ve(J({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Zu,this._forEachChild(r=>{r.enable(Ve(J({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ve(J({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zu||this.status===Sa)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xu:Zu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Sa,this._hasOwnPendingAsyncValidator=!0;let n=tA(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Xu:this.errors?zf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sa)?Sa:this._anyControlsHaveStatus(zf)?zf:Zu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=m$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=y$(this._rawAsyncValidators)}},Ma=class extends Qf{constructor(e,n,r){super(aA(n),cA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){_$(this,!0,e),Object.keys(e).forEach(r=>{v$(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Zf=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Xf}),Xf="always";function w$(t,e){return[...e.path,t]}function uA(t,e,n=Xf){lA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),b$(t,e),C$(t,e),I$(t,e),E$(t,e)}function HS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function E$(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function lA(t,e){let n=f$(t);e.validator!==null?t.setValidators($S(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=p$(t);e.asyncValidator!==null?t.setAsyncValidators($S(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();HS(e._rawValidators,i),HS(e._rawAsyncValidators,i)}function b$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&dA(t,e)})}function I$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&dA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function dA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function C$(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function D$(t,e){t==null,lA(t,e)}function x$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function T$(t){return Object.getPrototypeOf(t.constructor)===e$}function S$(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function A$(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===$n?n=o:T$(o)?r=o:i=o}),i||r||n||null}var M$={provide:Aa,useExisting:Bo(()=>rr)},Ju=Promise.resolve(),rr=(()=>{let e=class e extends Aa{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Xe,this.form=new Ma({},$_(r),q_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ju.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),uA(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ju.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ju.then(()=>{let i=this._findContainer(r.path),o=new Ma({});D$(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ju.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Ju.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,S$(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(q(B_,10),q(XS,10),q(Zf,8))},e.\u0275dir=jt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&xe("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[St.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Eu([M$]),si]});let t=e;return t})();function GS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Yo=class extends Qf{constructor(e=null,n,r){super(aA(n),cA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(WS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){WS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var P$={provide:el,useExisting:Bo(()=>ir)},KS=Promise.resolve(),ir=(()=>{let e=class e extends el{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Yo,this._registered=!1,this.name="",this.update=new Xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=A$(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),x$(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){uA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){KS.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Ui(i);KS.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?w$(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(q(Aa,9),q(B_,10),q(XS,10),q(YS,10),q(Vi,8),q(Zf,8))},e.\u0275dir=jt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[St.None,"disabled","isDisabled"],model:[St.None,"ngModel","model"],options:[St.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Eu([P$]),si,xr]});let t=e;return t})(),Fr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=jt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var R$=new H("");var N$=(()=>{let e=class e{constructor(){this._validator=Hf}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Hf,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=jt({type:e,features:[xr]});let t=e;return t})();var k$={provide:B_,useExisting:Bo(()=>or),multi:!0};var or=(()=>{let e=class e extends N${constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ui,this.createValidator=r=>JS}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=la(e)))(o||e)}})(),e.\u0275dir=jt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&je("required",o._enabled?"":null)},inputs:{required:"required"},features:[Eu([k$]),si]});let t=e;return t})();var hA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({});let t=e;return t})();var fA=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Zf,useValue:r.callSetDisabledState??Xf}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({imports:[hA]});let t=e;return t})(),pA=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:R$,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Zf,useValue:r.callSetDisabledState??Xf}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({imports:[hA]});let t=e;return t})();var gA=(()=>{let e=class e{constructor(){this.title="#Argentina Programa - FrontEnd"}ngOnInit(){console.log("[app.components]")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){i&1&&te(0,"router-outlet")},dependencies:[N_],styles:[`body{background:linear-gradient(-180deg,#ffffff80,#00000080)}
`],encapsulation:2});let t=e;return t})();var mA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-page-not-found"]],decls:1,vars:0,consts:[["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/che404.png?alt=media&token=1d7437f1-42a8-46a4-807b-90430409218b","alt",""]],template:function(i,o){i&1&&te(0,"img",0)}});let t=e;return t})();var z_="AuthToken",H_="AuthUsername",Jf="AuthAuthorities",Nt=(()=>{let e=class e{constructor(){this.roles=[]}setToken(r){window.sessionStorage.removeItem(z_),window.sessionStorage.setItem(z_,r)}getToken(){return sessionStorage.getItem(z_)}setUsername(r){window.sessionStorage.removeItem(H_),window.sessionStorage.setItem(H_,r)}getUsername(){return sessionStorage.getItem(H_)}setAuthorities(r){window.sessionStorage.removeItem(Jf),window.sessionStorage.setItem(Jf,JSON.stringify(r))}getAuthorities(){return this.roles=[],sessionStorage.getItem(Jf)&&JSON.parse(sessionStorage.getItem(Jf)).forEach(r=>{this.roles.push(r.authority)}),this.roles}logOut(){window.sessionStorage.clear()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $t={production:!1,URL:"http://localhost:8080/",firebaseConfig:{apiKey:"AIzaSyBH_g3d8yMuuJOfZqttgwQWfbEbyj_9kz8",authDomain:"front-ad0dc.firebaseapp.com",projectId:"front-ad0dc",storageBucket:"front-ad0dc.appspot.com",messagingSenderId:"782994755810",appId:"1:782994755810:web:b002b5319a822a5379cebb",measurementId:"G-MLKW7W7WXG"}};var yA=(()=>{let e=class e{constructor(r){this.httpClient=r,this.authURL=$t.URL+"auth/"}nuevo(r){return this.httpClient.post(this.authURL+"nuevo",r)}login(r){return this.httpClient.post(this.authURL+"login",r)}};e.\u0275fac=function(i){return new(i||e)(F(Sn))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var F$="firebase",V$="10.12.3";Tt(F$,V$,"app");var ln=new ri("ANGULARFIRE2_VERSION");function W_(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var nl=(t,e)=>{let n=e?[e]:xd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},qn=class{constructor(){return nl(L$)}},L$="app-check";function Pa(){}var ep=class{zone;delegate;constructor(e,n=km){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},G_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa)),n.pipe(nt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},sr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ep(Zone.current)),this.insideAngular=n.run(()=>new ep(Zone.current,Di)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(F(pe))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function j$(t){return rl().ngZone.runOutsideAngular(()=>t())}function Zo(t){return rl().ngZone.run(()=>t())}function K_(t){return t.pipe(yn(rl().outsideAngular))}function kt(t){return U$(rl())(t)}function U$(t){return function(n){return n=n.lift(new G_(t.ngZone)),n.pipe(kn(t.outsideAngular),yn(t.insideAngular))}}var B$=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Zo(()=>t.apply(void 0,r))},li=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Zo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa))),r[o]=B$(r[o],n));let i=j$(()=>t.apply(this,r));if(!e)if(i instanceof he){let o=rl();return i.pipe(kn(o.outsideAngular),yn(o.insideAngular))}else return Zo(()=>i);return i instanceof he?i.pipe(kt):i instanceof Promise?Zo(()=>new Promise((o,s)=>i.then(a=>Zo(()=>o(a)),a=>Zo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Zo(()=>i)};var Xo=class{constructor(e){return e}},il=class{constructor(){return xd()}};function $$(t){return t&&t.length===1?t[0]:new Xo(Ns())}var Y_=new H("angularfire2._apps"),q$={provide:Xo,useFactory:$$,deps:[[new vn,Y_]]},z$={provide:il,deps:[[new vn,Y_]]};function H$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xo(r)}}var G$=(()=>{class t{constructor(n){Tt("angularfire",ln.full,"core"),Tt("angularfire",ln.full,"app"),Tt("angular",af.full,n.toString())}static \u0275fac=function(r){return new(r||t)(F(vt))};static \u0275mod=ke({type:t});static \u0275inj=Oe({providers:[q$,z$]})}return t})();function vA(t,...e){return{ngModule:G$,providers:[{provide:Y_,useFactory:H$(t),multi:!0,deps:[pe,Ut,sr,...e]}]}}var _A=li(QI,!0);var W$=new Map,K$={activated:!1,tokenObservers:[]},Q$={initialized:!1,enabled:!1};function ar(t){return W$.get(t)||Object.assign({},K$)}function CA(){return Q$}var Y$="https://content-firebaseappcheck.googleapis.com/v1";var Z$="exchangeDebugToken",wA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},xZ=24*60*60*1e3;var X_=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return A(this,null,function*(){this.stop();try{this.pending=new mm,this.pending.promise.catch(n=>{}),yield X$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new mm,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function X$(t){return new Promise(e=>{setTimeout(e,t)})}var J$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Wi=new KI("appCheck","AppCheck",J$);function DA(t){if(!ar(t).activated)throw Wi.create("use-before-activation",{appName:t.name})}function xA(r,i){return A(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(y){throw Wi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(c.status!==200)throw Wi.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(y){throw Wi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Wi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(d[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function TA(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Y$}/projects/${n}/apps/${r}:${Z$}?key=${i}`,body:{debug_token:e}}}var e4="firebase-app-check-database",t4=1,J_="firebase-app-check-store";var tp=null;function n4(){return tp||(tp=new Promise((t,e)=>{try{let n=indexedDB.open(e4,t4);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Wi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(J_,{keyPath:"compositeKey"})}}}catch(n){e(Wi.create("storage-open",{originalErrorMessage:n?.message}))}}),tp)}function r4(t,e){return i4(o4(t),e)}function i4(t,e){return A(this,null,function*(){let r=(yield n4()).transaction(J_,"readwrite"),o=r.objectStore(J_).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Wi.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function o4(t){return`${t.options.appId}-${t.name}`}var e0=new Id("@firebase/app-check");function Z_(t,e){return Ed()?r4(t,e).catch(n=>{e0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function SA(){return CA().enabled}function AA(){return A(this,null,function*(){let t=CA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var s4={error:"UNKNOWN_ERROR"};function a4(t){return WI.encodeString(JSON.stringify(t),!1)}function t0(t,e=!1){return A(this,null,function*(){let n=t.app;DA(n);let r=ar(n),i=r.token,o;if(i&&!ol(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(ol(c)?i=c:yield Z_(n,void 0))}if(!e&&i&&ol(i))return{token:i.token};let s=!1;if(SA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=xA(TA(n,yield AA()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield Z_(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield ar(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?e0.warn(c.message):e0.error(c),o=c}let a;return i?o?ol(i)?a={token:i.token,internalError:o}:a=bA(o):(a={token:i.token},r.token=i,yield Z_(n,i)):a=bA(o),s&&d4(n,a),a})}function c4(t){return A(this,null,function*(){let e=t.app;DA(e);let{provider:n}=ar(e);if(SA()){let r=yield AA(),{token:i}=yield xA(TA(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function u4(t,e,n,r){let{app:i}=t,o=ar(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ol(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),EA(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>EA(t))}function MA(t,e){let n=ar(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function EA(t){let{app:e}=t,n=ar(e),r=n.tokenRefresher;r||(r=l4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function l4(t){let{app:e}=t;return new X_(()=>A(this,null,function*(){let n=ar(e),r;if(n.token?r=yield t0(t,!0):r=yield t0(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=ar(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},wA.RETRIAL_MIN_WAIT,wA.RETRIAL_MAX_WAIT)}function d4(t,e){let n=ar(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ol(t){return t.expireTimeMillis-Date.now()>0}function bA(t){return{token:a4(s4),error:t}}var n0=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=ar(this.app);for(let n of e)MA(this.app,n.next);return Promise.resolve()}};function h4(t,e){return new n0(t,e)}function f4(t){return{getToken:e=>t0(t,e),getLimitedUseToken:()=>c4(t),addTokenListener:e=>u4(t,"INTERNAL",e),removeTokenListener:e=>MA(t.app,e)}}var p4="@firebase/app-check",g4="0.8.5";var m4="app-check",IA="app-check-internal";function y4(){Co(new Zn(m4,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return h4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(IA).initialize()})),Co(new Zn(IA,t=>{let e=t.getProvider("app-check").getImmediate();return f4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Tt(p4,g4)}y4();var v4=["localhost","0.0.0.0","127.0.0.1"],LZ=typeof window<"u"&&v4.includes(window.location.hostname);var _4="firebase",w4="10.12.3";Ct.registerVersion(_4,w4,"app-compat");var E4=["ngOnDestroy"],RA=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(E4.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(d=>{let f=d?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,f),f})})})});var np=class{constructor(e){return e}},Ki=new H("angularfire2.app.options"),Qi=new H("angularfire2.app.name");function Jo(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=Ct.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Ct.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;b4("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new np(s)}var b4=(t,...e)=>{Rv()&&typeof console<"u"&&console[t](...e)},I4={provide:np,useFactory:Jo,deps:[Ki,pe,[new vn,Qi]]},NA=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Ki,useValue:n},{provide:Qi,useValue:r}]}}constructor(n){Ct.registerVersion("angularfire",ln.full,"core"),Ct.registerVersion("angularfire",ln.full,"app-compat"),Ct.registerVersion("angular",af.full,n.toString())}static \u0275fac=function(r){return new(r||t)(F(vt))};static \u0275mod=ke({type:t});static \u0275inj=Oe({providers:[I4]})}return t})();function Ra(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return C4(i,s)||(PA("error",`${e} was already initialized on the ${n} Firebase App with different settings.${D4?" You may need to reload as Firebase is not HMR aware.":""}`),PA("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function C4(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var D4=typeof module<"u"&&!!module.hot,PA=(t,...e)=>{Rv()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var i0=new H("angularfire2.auth.use-emulator"),o0=new H("angularfire2.auth.settings"),s0=new H("angularfire2.auth.tenant-id"),a0=new H("angularfire2.auth.langugage-code"),c0=new H("angularfire2.auth.use-device-language"),u0=new H("angularfire.auth.persistence"),l0=(t,e,n,r,i,o,s,a)=>Ra(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,d]of Object.entries(s))c.settings[l]=d;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]),sl=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,c,l,d,f,g,y){let b=new mt,P=re(void 0).pipe(yn(s.outsideAngular),$e(()=>o.runOutsideAngular(()=>import("./chunk-BRWMIDMN.js"))),se(()=>Jo(n,o,r)),se(C=>l0(C,o,a,l,d,f,c,g)),eh({bufferSize:1,refCount:!1}));if(Go(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=re(null);else{P.pipe(On()).subscribe();let C=P.pipe($e(V=>V.getRedirectResult().then(B=>B,()=>null)),kt,eh({bufferSize:1,refCount:!1})),O=P.pipe($e(V=>new he(B=>({unsubscribe:o.runOutsideAngular(()=>V.onAuthStateChanged(X=>B.next(X),X=>B.error(X),()=>B.complete()))})))),$=P.pipe($e(V=>new he(B=>({unsubscribe:o.runOutsideAngular(()=>V.onIdTokenChanged(X=>B.next(X),X=>B.error(X),()=>B.complete()))}))));this.authState=C.pipe(th(O),kn(s.outsideAngular),yn(s.insideAngular)),this.user=C.pipe(th($),kn(s.outsideAngular),yn(s.insideAngular)),this.idToken=this.user.pipe($e(V=>V?Ee(V.getIdToken()):re(null))),this.idTokenResult=this.user.pipe($e(V=>V?Ee(V.getIdTokenResult()):re(null))),this.credential=Lm(C,b,this.authState.pipe(Dt(V=>!V))).pipe(se(V=>V?.user?V:null),kn(s.outsideAngular),yn(s.insideAngular))}return RA(this,P,o,{spy:{apply:(C,O,$)=>{(C.startsWith("signIn")||C.startsWith("createUser"))&&$.then(V=>b.next(V))}}})}static \u0275fac=function(r){return new(r||t)(F(Ki),F(Qi,8),F(vt),F(pe),F(sr),F(i0,8),F(o0,8),F(s0,8),F(a0,8),F(c0,8),F(u0,8),F(qn,8))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),kA=(()=>{class t{constructor(){Ct.registerVersion("angularfire",ln.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ke({type:t});static \u0275inj=Oe({providers:[sl]})}return t})();var FA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},VA={};var Yi,d0;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(I,D,M){for(var w=Array(arguments.length-2),Kr=2;Kr<arguments.length;Kr++)w[Kr-2]=arguments[Kr];return v.prototype[D].apply(I,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(D=0;16>D;++D)I[D]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],D=E.g[2];var M=E.g[3],w=v+(M^_&(D^M))+I[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=M+(D^v&(_^D))+I[1]+3905402710&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(_^M&(v^_))+I[2]+606105819&4294967295,D=M+(w<<17&4294967295|w>>>15),w=_+(v^D&(M^v))+I[3]+3250441966&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(M^_&(D^M))+I[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(D^v&(_^D))+I[5]+1200080426&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(_^M&(v^_))+I[6]+2821735955&4294967295,D=M+(w<<17&4294967295|w>>>15),w=_+(v^D&(M^v))+I[7]+4249261313&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(M^_&(D^M))+I[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(D^v&(_^D))+I[9]+2336552879&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(_^M&(v^_))+I[10]+4294925233&4294967295,D=M+(w<<17&4294967295|w>>>15),w=_+(v^D&(M^v))+I[11]+2304563134&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(M^_&(D^M))+I[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=M+(D^v&(_^D))+I[13]+4254626195&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(_^M&(v^_))+I[14]+2792965006&4294967295,D=M+(w<<17&4294967295|w>>>15),w=_+(v^D&(M^v))+I[15]+1236535329&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(D^M&(_^D))+I[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^D&(v^_))+I[6]+3225465664&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(M^v))+I[11]+643717713&4294967295,D=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(D^M))+I[0]+3921069994&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(D^M&(_^D))+I[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^D&(v^_))+I[10]+38016083&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(M^v))+I[15]+3634488961&4294967295,D=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(D^M))+I[4]+3889429448&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(D^M&(_^D))+I[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^D&(v^_))+I[14]+3275163606&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(M^v))+I[3]+4107603335&4294967295,D=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(D^M))+I[8]+1163531501&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(D^M&(_^D))+I[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=M+(_^D&(v^_))+I[2]+4243563512&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(M^v))+I[7]+1735328473&4294967295,D=M+(w<<14&4294967295|w>>>18),w=_+(M^v&(D^M))+I[12]+2368359562&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(_^D^M)+I[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^D)+I[8]+2272392833&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^_)+I[11]+1839030562&4294967295,D=M+(w<<16&4294967295|w>>>16),w=_+(D^M^v)+I[14]+4259657740&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(_^D^M)+I[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^D)+I[4]+1272893353&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^_)+I[7]+4139469664&4294967295,D=M+(w<<16&4294967295|w>>>16),w=_+(D^M^v)+I[10]+3200236656&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(_^D^M)+I[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^D)+I[0]+3936430074&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^_)+I[3]+3572445317&4294967295,D=M+(w<<16&4294967295|w>>>16),w=_+(D^M^v)+I[6]+76029189&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(_^D^M)+I[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=M+(v^_^D)+I[12]+3873151461&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^_)+I[15]+530742520&4294967295,D=M+(w<<16&4294967295|w>>>16),w=_+(D^M^v)+I[2]+3299628645&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(D^(_|~M))+I[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~D))+I[7]+1126891415&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~_))+I[14]+2878612391&4294967295,D=M+(w<<15&4294967295|w>>>17),w=_+(M^(D|~v))+I[5]+4237533241&4294967295,_=D+(w<<21&4294967295|w>>>11),w=v+(D^(_|~M))+I[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~D))+I[3]+2399980690&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~_))+I[10]+4293915773&4294967295,D=M+(w<<15&4294967295|w>>>17),w=_+(M^(D|~v))+I[1]+2240044497&4294967295,_=D+(w<<21&4294967295|w>>>11),w=v+(D^(_|~M))+I[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~D))+I[15]+4264355552&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~_))+I[6]+2734768916&4294967295,D=M+(w<<15&4294967295|w>>>17),w=_+(M^(D|~v))+I[13]+1309151649&4294967295,_=D+(w<<21&4294967295|w>>>11),w=v+(D^(_|~M))+I[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=M+(_^(v|~D))+I[11]+3174756917&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~_))+I[2]+718787259&4294967295,D=M+(w<<15&4294967295|w>>>17),w=_+(M^(D|~v))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+M&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,I=this.B,D=this.h,M=0;M<v;){if(D==0)for(;M<=_;)i(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<v;)if(I[D++]=E.charCodeAt(M++),D==this.blockSize){i(this,I),D=0;break}}else for(;M<v;)if(I[D++]=E[M++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var I=0;32>I;I+=8)E[_++]=this.g[v]>>>I&255;return E};function o(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function s(E,v){this.h=v;for(var _=[],I=!0,D=E.length-1;0<=D;D--){var M=E[D]|0;I&&M==v||(_[D]=M,I=!1)}this.g=_}var a={};function c(E){return-128<=E&&128>E?o(E,function(v){return new s([v|0],0>v?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return C(l(-E));for(var v=[],_=1,I=0;E>=_;I++)v[I]=E/_|0,_*=4294967296;return new s(v,0)}function d(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return C(d(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),I=f,D=0;D<E.length;D+=8){var M=Math.min(8,E.length-D),w=parseInt(E.substring(D,D+M),v);8>M?(M=l(Math.pow(v,M)),I=I.j(M).add(l(w))):(I=I.j(_),I=I.add(l(w)))}return I}var f=c(0),g=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(P(this))return-C(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var I=this.i(_);E+=(0<=I?I:4294967296+I)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(b(this))return"0";if(P(this))return"-"+C(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,I="";;){var D=B(_,v).g;_=O(_,D.j(v));var M=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=D,b(_))return M+I;for(;6>M.length;)M="0"+M;I=M+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function b(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function P(E){return E.h==-1}t.l=function(E){return E=O(this,E),P(E)?-1:b(E)?0:1};function C(E){for(var v=E.g.length,_=[],I=0;I<v;I++)_[I]=~E.g[I];return new s(_,~E.h).add(g)}t.abs=function(){return P(this)?C(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0,D=0;D<=v;D++){var M=I+(this.i(D)&65535)+(E.i(D)&65535),w=(M>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);I=w>>>16,M&=65535,w&=65535,_[D]=w<<16|M}return new s(_,_[_.length-1]&-2147483648?-1:0)};function O(E,v){return E.add(C(v))}t.j=function(E){if(b(this)||b(E))return f;if(P(this))return P(E)?C(this).j(C(E)):C(C(this).j(E));if(P(E))return C(this.j(C(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],I=0;I<2*v;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<E.g.length;D++){var M=this.i(I)>>>16,w=this.i(I)&65535,Kr=E.i(D)>>>16,Rc=E.i(D)&65535;_[2*I+2*D]+=w*Rc,$(_,2*I+2*D),_[2*I+2*D+1]+=M*Rc,$(_,2*I+2*D+1),_[2*I+2*D+1]+=w*Kr,$(_,2*I+2*D+1),_[2*I+2*D+2]+=M*Kr,$(_,2*I+2*D+2)}for(I=0;I<v;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=v;I<2*v;I++)_[I]=0;return new s(_,0)};function $(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function V(E,v){this.g=E,this.h=v}function B(E,v){if(b(v))throw Error("division by zero");if(b(E))return new V(f,f);if(P(E))return v=B(C(E),v),new V(C(v.g),C(v.h));if(P(v))return v=B(E,C(v)),new V(C(v.g),v.h);if(30<E.g.length){if(P(E)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,I=v;0>=I.l(E);)_=X(_),I=X(I);var D=Z(_,1),M=Z(I,1);for(I=Z(I,2),_=Z(_,2);!b(I);){var w=M.add(I);0>=w.l(E)&&(D=D.add(_),M=w),I=Z(I,1),_=Z(_,1)}return v=O(E,D.j(v)),new V(D,v)}for(D=f;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),M=l(_),w=M.j(v);P(w)||0<w.l(E);)_-=I,M=l(_),w=M.j(v);b(M)&&(M=g),D=D.add(M),E=O(E,w)}return new V(D,E)}t.A=function(E){return B(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)&E.i(I);return new s(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)|E.i(I);return new s(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)^E.i(I);return new s(_,this.h^E.h)};function X(E){for(var v=E.g.length+1,_=[],I=0;I<v;I++)_[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(_,E.h)}function Z(E,v){var _=v>>5;v%=32;for(var I=E.g.length-_,D=[],M=0;M<I;M++)D[M]=0<v?E.i(M+_)>>>v|E.i(M+_+1)<<32-v:E.i(M+_);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,d0=VA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=d,Yi=VA.Integer=s}).apply(typeof FA<"u"?FA:typeof self<"u"?self:typeof window<"u"?window:{});var rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},di={};var h0,f0,Na,p0,al,ip,g0,m0,y0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,p){return u==Array.prototype||u==Object.prototype||(u[h]=p.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rp=="object"&&rp];for(var h=0;h<u.length;++h){var p=u[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(u,h){if(h)e:{var p=r;u=u.split(".");for(var m=0;m<u.length-1;m++){var x=u[m];if(!(x in p))break e;p=p[x]}u=u[u.length-1],m=p[u],h=h(m),h!=m&&h!=null&&e(p,u,{configurable:!0,writable:!0,value:h})}}function o(u,h){u instanceof String&&(u+="");var p=0,m=!1,x={next:function(){if(!m&&p<u.length){var N=p++;return{value:h(N,u[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(u){return u||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function l(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,p){return u.call.apply(u.bind,arguments)}function f(u,h,p){if(!u)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,m),u.apply(h,x)}}return function(){return u.apply(h,arguments)}}function g(u,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function y(u,h){var p=Array.prototype.slice.call(arguments,1);return function(){var m=p.slice();return m.push.apply(m,arguments),u.apply(this,m)}}function b(u,h){function p(){}p.prototype=h.prototype,u.aa=h.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(m,x,N){for(var W=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)W[Be-2]=arguments[Be];return h.prototype[x].apply(m,W)}}function P(u){let h=u.length;if(0<h){let p=Array(h);for(let m=0;m<h;m++)p[m]=u[m];return p}return[]}function C(u,h){for(let p=1;p<arguments.length;p++){let m=arguments[p];if(c(m)){let x=u.length||0,N=m.length||0;u.length=x+N;for(let W=0;W<N;W++)u[x+W]=m[W]}else u.push(m)}}class O{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function $(u){return/^[\s\xa0]*$/.test(u)}function V(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function B(u){return B[" "](u),u}B[" "]=function(){};var X=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Z(u,h,p){for(let m in u)h.call(p,u[m],m,u)}function E(u,h){for(let p in u)h.call(void 0,u[p],p,u)}function v(u){let h={};for(let p in u)h[p]=u[p];return h}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,h){let p,m;for(let x=1;x<arguments.length;x++){m=arguments[x];for(p in m)u[p]=m[p];for(let N=0;N<_.length;N++)p=_[N],Object.prototype.hasOwnProperty.call(m,p)&&(u[p]=m[p])}}function D(u){var h=1;u=u.split(":");let p=[];for(;0<h&&u.length;)p.push(u.shift()),h--;return u.length&&p.push(u.join(":")),p}function M(u){a.setTimeout(()=>{throw u},0)}function w(){var u=qg;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class Kr{constructor(){this.h=this.g=null}add(h,p){let m=Rc.get();m.set(h,p),this.h?this.h.next=m:this.g=m,this.h=m}}var Rc=new O(()=>new IN,u=>u.reset());class IN{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Nc,kc=!1,qg=new Kr,qb=()=>{let u=a.Promise.resolve(void 0);Nc=()=>{u.then(CN)}};var CN=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){M(p)}var h=Rc;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}kc=!1};function Ei(){this.s=this.s,this.C=this.C}Ei.prototype.s=!1,Ei.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ei.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ht(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var DN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return u}();function Oc(u,h){if(Ht.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,m=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(X){e:{try{B(h.nodeName);var x=!0;break e}catch{}x=!1}x||(h=null)}}else p=="mouseover"?h=u.fromElement:p=="mouseout"&&(h=u.toElement);this.relatedTarget=h,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:xN[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Oc.aa.h.call(this)}}b(Oc,Ht);var xN={2:"touch",3:"pen",4:"mouse"};Oc.prototype.h=function(){Oc.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fc="closure_listenable_"+(1e6*Math.random()|0),TN=0;function SN(u,h,p,m,x){this.listener=u,this.proxy=null,this.src=h,this.type=p,this.capture=!!m,this.ha=x,this.key=++TN,this.da=this.fa=!1}function nd(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function rd(u){this.src=u,this.g={},this.h=0}rd.prototype.add=function(u,h,p,m,x){var N=u.toString();u=this.g[N],u||(u=this.g[N]=[],this.h++);var W=Hg(u,h,m,x);return-1<W?(h=u[W],p||(h.fa=!1)):(h=new SN(h,this.src,N,!!m,x),h.fa=p,u.push(h)),h};function zg(u,h){var p=h.type;if(p in u.g){var m=u.g[p],x=Array.prototype.indexOf.call(m,h,void 0),N;(N=0<=x)&&Array.prototype.splice.call(m,x,1),N&&(nd(h),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Hg(u,h,p,m){for(var x=0;x<u.length;++x){var N=u[x];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==m)return x}return-1}var Gg="closure_lm_"+(1e6*Math.random()|0),Wg={};function zb(u,h,p,m,x){if(m&&m.once)return Gb(u,h,p,m,x);if(Array.isArray(h)){for(var N=0;N<h.length;N++)zb(u,h[N],p,m,x);return null}return p=Zg(p),u&&u[Fc]?u.K(h,p,l(m)?!!m.capture:!!m,x):Hb(u,h,p,!1,m,x)}function Hb(u,h,p,m,x,N){if(!h)throw Error("Invalid event type");var W=l(x)?!!x.capture:!!x,Be=Qg(u);if(Be||(u[Gg]=Be=new rd(u)),p=Be.add(h,p,m,W,N),p.proxy)return p;if(m=AN(),p.proxy=m,m.src=u,m.listener=p,u.addEventListener)DN||(x=W),x===void 0&&(x=!1),u.addEventListener(h.toString(),m,x);else if(u.attachEvent)u.attachEvent(Kb(h.toString()),m);else if(u.addListener&&u.removeListener)u.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return p}function AN(){function u(p){return h.call(u.src,u.listener,p)}let h=MN;return u}function Gb(u,h,p,m,x){if(Array.isArray(h)){for(var N=0;N<h.length;N++)Gb(u,h[N],p,m,x);return null}return p=Zg(p),u&&u[Fc]?u.L(h,p,l(m)?!!m.capture:!!m,x):Hb(u,h,p,!0,m,x)}function Wb(u,h,p,m,x){if(Array.isArray(h))for(var N=0;N<h.length;N++)Wb(u,h[N],p,m,x);else m=l(m)?!!m.capture:!!m,p=Zg(p),u&&u[Fc]?(u=u.i,h=String(h).toString(),h in u.g&&(N=u.g[h],p=Hg(N,p,m,x),-1<p&&(nd(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete u.g[h],u.h--)))):u&&(u=Qg(u))&&(h=u.g[h.toString()],u=-1,h&&(u=Hg(h,p,m,x)),(p=-1<u?h[u]:null)&&Kg(p))}function Kg(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[Fc])zg(h.i,u);else{var p=u.type,m=u.proxy;h.removeEventListener?h.removeEventListener(p,m,u.capture):h.detachEvent?h.detachEvent(Kb(p),m):h.addListener&&h.removeListener&&h.removeListener(m),(p=Qg(h))?(zg(p,u),p.h==0&&(p.src=null,h[Gg]=null)):nd(u)}}}function Kb(u){return u in Wg?Wg[u]:Wg[u]="on"+u}function MN(u,h){if(u.da)u=!0;else{h=new Oc(h,this);var p=u.listener,m=u.ha||u.src;u.fa&&Kg(u),u=p.call(m,h)}return u}function Qg(u){return u=u[Gg],u instanceof rd?u:null}var Yg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zg(u){return typeof u=="function"?u:(u[Yg]||(u[Yg]=function(h){return u.handleEvent(h)}),u[Yg])}function Gt(){Ei.call(this),this.i=new rd(this),this.M=this,this.F=null}b(Gt,Ei),Gt.prototype[Fc]=!0,Gt.prototype.removeEventListener=function(u,h,p,m){Wb(this,u,h,p,m)};function tn(u,h){var p,m=u.F;if(m)for(p=[];m;m=m.F)p.push(m);if(u=u.M,m=h.type||h,typeof h=="string")h=new Ht(h,u);else if(h instanceof Ht)h.target=h.target||u;else{var x=h;h=new Ht(m,u),I(h,x)}if(x=!0,p)for(var N=p.length-1;0<=N;N--){var W=h.g=p[N];x=id(W,m,!0,h)&&x}if(W=h.g=u,x=id(W,m,!0,h)&&x,x=id(W,m,!1,h)&&x,p)for(N=0;N<p.length;N++)W=h.g=p[N],x=id(W,m,!1,h)&&x}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var p=u.g[h],m=0;m<p.length;m++)nd(p[m]);delete u.g[h],u.h--}}this.F=null},Gt.prototype.K=function(u,h,p,m){return this.i.add(String(u),h,!1,p,m)},Gt.prototype.L=function(u,h,p,m){return this.i.add(String(u),h,!0,p,m)};function id(u,h,p,m){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var x=!0,N=0;N<h.length;++N){var W=h[N];if(W&&!W.da&&W.capture==p){var Be=W.listener,Vt=W.ha||W.src;W.fa&&zg(u.i,W),x=Be.call(Vt,m)!==!1&&x}}return x&&!m.defaultPrevented}function Qb(u,h,p){if(typeof u=="function")p&&(u=g(u,p));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function Yb(u){u.g=Qb(()=>{u.g=null,u.i&&(u.i=!1,Yb(u))},u.l);let h=u.h;u.h=null,u.m.apply(null,h)}class PN extends Ei{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Yb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vc(u){Ei.call(this),this.h=u,this.g={}}b(Vc,Ei);var Zb=[];function Xb(u){Z(u.g,function(h,p){this.g.hasOwnProperty(p)&&Kg(h)},u),u.g={}}Vc.prototype.N=function(){Vc.aa.N.call(this),Xb(this)},Vc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xg=a.JSON.stringify,RN=a.JSON.parse,NN=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Jg(){}Jg.prototype.h=null;function Jb(u){return u.h||(u.h=u.i())}function eI(){}var Lc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function em(){Ht.call(this,"d")}b(em,Ht);function tm(){Ht.call(this,"c")}b(tm,Ht);var wo={},tI=null;function od(){return tI=tI||new Gt}wo.La="serverreachability";function nI(u){Ht.call(this,wo.La,u)}b(nI,Ht);function jc(u){let h=od();tn(h,new nI(h))}wo.STAT_EVENT="statevent";function rI(u,h){Ht.call(this,wo.STAT_EVENT,u),this.stat=h}b(rI,Ht);function nn(u){let h=od();tn(h,new rI(h,u))}wo.Ma="timingevent";function iI(u,h){Ht.call(this,wo.Ma,u),this.size=h}b(iI,Ht);function Uc(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function Bc(){this.g=!0}Bc.prototype.xa=function(){this.g=!1};function kN(u,h,p,m,x,N){u.info(function(){if(u.g)if(N)for(var W="",Be=N.split("&"),Vt=0;Vt<Be.length;Vt++){var Ne=Be[Vt].split("=");if(1<Ne.length){var Wt=Ne[0];Ne=Ne[1];var Kt=Wt.split("_");W=2<=Kt.length&&Kt[1]=="type"?W+(Wt+"="+Ne+"&"):W+(Wt+"=redacted&")}}else W=null;else W=N;return"XMLHTTP REQ ("+m+") [attempt "+x+"]: "+h+`
`+p+`
`+W})}function ON(u,h,p,m,x,N,W){u.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+x+"]: "+h+`
`+p+`
`+N+" "+W})}function As(u,h,p,m){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+VN(u,p)+(m?" "+m:"")})}function FN(u,h){u.info(function(){return"TIMEOUT: "+h})}Bc.prototype.info=function(){};function VN(u,h){if(!u.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var m=p[u];if(!(2>m.length)){var x=m[1];if(Array.isArray(x)&&!(1>x.length)){var N=x[0];if(N!="noop"&&N!="stop"&&N!="close")for(var W=1;W<x.length;W++)x[W]=""}}}}return Xg(p)}catch{return h}}var sd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nm;function ad(){}b(ad,Jg),ad.prototype.g=function(){return new XMLHttpRequest},ad.prototype.i=function(){return{}},nm=new ad;function bi(u,h,p,m){this.j=u,this.i=h,this.l=p,this.R=m||1,this.U=new Vc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sI}function sI(){this.i=null,this.g="",this.h=!1}var aI={},rm={};function im(u,h,p){u.L=1,u.v=dd(Qr(h)),u.m=p,u.P=!0,cI(u,null)}function cI(u,h){u.F=Date.now(),cd(u),u.A=Qr(u.v);var p=u.A,m=u.R;Array.isArray(m)||(m=[String(m)]),bI(p.i,"t",m),u.C=0,p=u.j.J,u.h=new sI,u.g=UI(u.j,p?h:null,!u.m),0<u.O&&(u.M=new PN(g(u.Y,u,u.g),u.O)),h=u.U,p=u.g,m=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(Zb[0]=x.toString()),x=Zb);for(var N=0;N<x.length;N++){var W=zb(p,x[N],m||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),jc(),kN(u.i,u.u,u.A,u.l,u.R,u.m)}bi.prototype.ca=function(u){u=u.target;let h=this.M;h&&Yr(u)==3?h.j():this.Y(u)},bi.prototype.Y=function(u){try{if(u==this.g)e:{let Kt=Yr(this.g);var h=this.g.Ba();let Rs=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||AI(this.g)))){this.J||Kt!=4||h==7||(h==8||0>=Rs?jc(3):jc(2)),om(this);var p=this.g.Z();this.X=p;t:if(uI(this)){var m=AI(this.g);u="";var x=m.length,N=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Eo(this),$c(this);var W="";break t}this.h.i=new a.TextDecoder}for(h=0;h<x;h++)this.h.h=!0,u+=this.h.i.decode(m[h],{stream:!(N&&h==x-1)});m.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,ON(this.i,this.u,this.A,this.l,this.R,Kt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Vt=this.g;if((Be=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Be)){var Ne=Be;break t}}Ne=null}if(p=Ne)As(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sm(this,p);else{this.o=!1,this.s=3,nn(12),Eo(this),$c(this);break e}}if(this.P){p=!0;let Yn;for(;!this.J&&this.C<W.length;)if(Yn=LN(this,W),Yn==rm){Kt==4&&(this.s=4,nn(14),p=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==aI){this.s=4,nn(15),As(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else As(this.i,this.l,Yn,null),sm(this,Yn);if(uI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||W.length!=0||this.h.h||(this.s=1,nn(16),p=!1),this.o=this.o&&p,!p)As(this.i,this.l,W,"[Invalid Chunked Response]"),Eo(this),$c(this);else if(0<W.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),hm(Wt),Wt.M=!0,nn(11))}}else As(this.i,this.l,W,null),sm(this,W);Kt==4&&Eo(this),this.o&&!this.J&&(Kt==4?FI(this.j,this):(this.o=!1,cd(this)))}else tk(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,nn(12)):(this.s=0,nn(13)),Eo(this),$c(this)}}}catch{}finally{}};function uI(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function LN(u,h){var p=u.C,m=h.indexOf(`
`,p);return m==-1?rm:(p=Number(h.substring(p,m)),isNaN(p)?aI:(m+=1,m+p>h.length?rm:(h=h.slice(m,m+p),u.C=m+p,h)))}bi.prototype.cancel=function(){this.J=!0,Eo(this)};function cd(u){u.S=Date.now()+u.I,lI(u,u.I)}function lI(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Uc(g(u.ba,u),h)}function om(u){u.B&&(a.clearTimeout(u.B),u.B=null)}bi.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(FN(this.i,this.A),this.L!=2&&(jc(),nn(17)),Eo(this),this.s=2,$c(this)):lI(this,this.S-u)};function $c(u){u.j.G==0||u.J||FI(u.j,u)}function Eo(u){om(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,Xb(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function sm(u,h){try{var p=u.j;if(p.G!=0&&(p.g==u||am(p.h,u))){if(!u.K&&am(p.h,u)&&p.G==3){try{var m=p.Da.g.parse(h)}catch{m=null}if(Array.isArray(m)&&m.length==3){var x=m;if(x[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)md(p),pd(p);else break e;dm(p),nn(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=Uc(g(p.Za,p),6e3));if(1>=fI(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Io(p,11)}else if((u.K||p.g==u)&&md(p),!$(h))for(x=p.Da.g.parse(h),h=0;h<x.length;h++){let Ne=x[h];if(p.T=Ne[0],Ne=Ne[1],p.G==2)if(Ne[0]=="c"){p.K=Ne[1],p.ia=Ne[2];let Wt=Ne[3];Wt!=null&&(p.la=Wt,p.j.info("VER="+p.la));let Kt=Ne[4];Kt!=null&&(p.Aa=Kt,p.j.info("SVER="+p.Aa));let Rs=Ne[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(m=1.5*Rs,p.L=m,p.j.info("backChannelRequestTimeoutMs_="+m)),m=p;let Yn=u.g;if(Yn){let vd=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vd){var N=m.h;N.g||vd.indexOf("spdy")==-1&&vd.indexOf("quic")==-1&&vd.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(cm(N,N.h),N.h=null))}if(m.D){let fm=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;fm&&(m.ya=fm,Ge(m.I,m.D,fm))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),m=p;var W=u;if(m.qa=jI(m,m.J?m.ia:null,m.W),W.K){pI(m.h,W);var Be=W,Vt=m.L;Vt&&(Be.I=Vt),Be.B&&(om(Be),cd(Be)),m.g=W}else kI(m);0<p.i.length&&gd(p)}else Ne[0]!="stop"&&Ne[0]!="close"||Io(p,7);else p.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Io(p,7):lm(p):Ne[0]!="noop"&&p.l&&p.l.ta(Ne),p.v=0)}}jc(4)}catch{}}var jN=class{constructor(u,h){this.g=u,this.map=h}};function dI(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hI(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fI(u){return u.h?1:u.g?u.g.size:0}function am(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function cm(u,h){u.g?u.g.add(h):u.h=h}function pI(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}dI.prototype.cancel=function(){if(this.i=gI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function gI(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(let p of u.g.values())h=h.concat(p.D);return h}return P(u.i)}function UN(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var h=[],p=u.length,m=0;m<p;m++)h.push(u[m]);return h}h=[],p=0;for(m in u)h[p++]=u[m];return h}function BN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var h=[];u=u.length;for(var p=0;p<u;p++)h.push(p);return h}h=[],p=0;for(let m in u)h[p++]=m;return h}}}function mI(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var p=BN(u),m=UN(u),x=m.length,N=0;N<x;N++)h.call(void 0,m[N],p&&p[N],u)}var yI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $N(u,h){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var m=u[p].indexOf("="),x=null;if(0<=m){var N=u[p].substring(0,m);x=u[p].substring(m+1)}else N=u[p];h(N,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function bo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof bo){this.h=u.h,ud(this,u.j),this.o=u.o,this.g=u.g,ld(this,u.s),this.l=u.l;var h=u.i,p=new Hc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),vI(this,p),this.m=u.m}else u&&(h=String(u).match(yI))?(this.h=!1,ud(this,h[1]||"",!0),this.o=qc(h[2]||""),this.g=qc(h[3]||"",!0),ld(this,h[4]),this.l=qc(h[5]||"",!0),vI(this,h[6]||"",!0),this.m=qc(h[7]||"")):(this.h=!1,this.i=new Hc(null,this.h))}bo.prototype.toString=function(){var u=[],h=this.j;h&&u.push(zc(h,_I,!0),":");var p=this.g;return(p||h=="file")&&(u.push("//"),(h=this.o)&&u.push(zc(h,_I,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(zc(p,p.charAt(0)=="/"?HN:zN,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",zc(p,WN)),u.join("")};function Qr(u){return new bo(u)}function ud(u,h,p){u.j=p?qc(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function ld(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function vI(u,h,p){h instanceof Hc?(u.i=h,KN(u.i,u.h)):(p||(h=zc(h,GN)),u.i=new Hc(h,u.h))}function Ge(u,h,p){u.i.set(h,p)}function dd(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qc(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zc(u,h,p){return typeof u=="string"?(u=encodeURI(u).replace(h,qN),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qN(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _I=/[#\/\?@]/g,zN=/[#\?:]/g,HN=/[#\?]/g,GN=/[#\?@]/g,WN=/#/g;function Hc(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function Ii(u){u.g||(u.g=new Map,u.h=0,u.i&&$N(u.i,function(h,p){u.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Hc.prototype,t.add=function(u,h){Ii(this),this.i=null,u=Ms(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(h),this.h+=1,this};function wI(u,h){Ii(u),h=Ms(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function EI(u,h){return Ii(u),h=Ms(u,h),u.g.has(h)}t.forEach=function(u,h){Ii(this),this.g.forEach(function(p,m){p.forEach(function(x){u.call(h,x,m,this)},this)},this)},t.na=function(){Ii(this);let u=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let m=0;m<h.length;m++){let x=u[m];for(let N=0;N<x.length;N++)p.push(h[m])}return p},t.V=function(u){Ii(this);let h=[];if(typeof u=="string")EI(this,u)&&(h=h.concat(this.g.get(Ms(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)h=h.concat(u[p])}return h},t.set=function(u,h){return Ii(this),this.i=null,u=Ms(this,u),EI(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},t.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function bI(u,h,p){wI(u,h),0<p.length&&(u.i=null,u.g.set(Ms(u,h),P(p)),u.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var m=h[p];let N=encodeURIComponent(String(m)),W=this.V(m);for(m=0;m<W.length;m++){var x=N;W[m]!==""&&(x+="="+encodeURIComponent(String(W[m]))),u.push(x)}}return this.i=u.join("&")};function Ms(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function KN(u,h){h&&!u.j&&(Ii(u),u.i=null,u.g.forEach(function(p,m){var x=m.toLowerCase();m!=x&&(wI(this,m),bI(this,x,p))},u)),u.j=h}function QN(u,h){let p=new Bc;if(a.Image){let m=new Image;m.onload=y(Ci,p,"TestLoadImage: loaded",!0,h,m),m.onerror=y(Ci,p,"TestLoadImage: error",!1,h,m),m.onabort=y(Ci,p,"TestLoadImage: abort",!1,h,m),m.ontimeout=y(Ci,p,"TestLoadImage: timeout",!1,h,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=u}else h(!1)}function YN(u,h){let p=new Bc,m=new AbortController,x=setTimeout(()=>{m.abort(),Ci(p,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:m.signal}).then(N=>{clearTimeout(x),N.ok?Ci(p,"TestPingServer: ok",!0,h):Ci(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(x),Ci(p,"TestPingServer: error",!1,h)})}function Ci(u,h,p,m,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),m(p)}catch{}}function ZN(){this.g=new NN}function XN(u,h,p){let m=p||"";try{mI(u,function(x,N){let W=x;l(x)&&(W=Xg(x)),h.push(m+N+"="+encodeURIComponent(W))})}catch(x){throw h.push(m+"type="+encodeURIComponent("_badmap")),x}}function Gc(u){this.l=u.Ub||null,this.j=u.eb||!1}b(Gc,Jg),Gc.prototype.g=function(){return new hd(this.l,this.j)},Gc.prototype.i=function(u){return function(){return u}}({});function hd(u,h){Gt.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(hd,Gt),t=hd.prototype,t.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,Kc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kc(this)),this.g&&(this.readyState=3,Kc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;II(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function II(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?Wc(this):Kc(this),this.readyState==3&&II(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Wc(this))},t.Qa=function(u){this.g&&(this.response=u,Wc(this))},t.ga=function(){this.g&&Wc(this)};function Wc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kc(u)}t.setRequestHeader=function(u,h){this.u.append(u,h)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=h.next();return u.join(`\r
`)};function Kc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function CI(u){let h="";return Z(u,function(p,m){h+=m,h+=":",h+=p,h+=`\r
`}),h}function um(u,h,p){e:{for(m in p){var m=!1;break e}m=!0}m||(p=CI(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ge(u,h,p))}function tt(u){Gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(tt,Gt);var JN=/^https?$/i,ek=["POST","PUT"];t=tt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,h,p,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nm.g(),this.v=this.o?Jb(this.o):Jb(nm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(N){DI(this,N);return}if(u=p||"",p=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var x in m)p.set(x,m[x]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())p.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),x=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ek,h,void 0))||m||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,W]of p)this.g.setRequestHeader(N,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{SI(this),this.u=!0,this.g.send(u),this.u=!1}catch(N){DI(this,N)}};function DI(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,xI(u),fd(u)}function xI(u){u.A||(u.A=!0,tn(u,"complete"),tn(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,tn(this,"complete"),tn(this,"abort"),fd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fd(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?TI(this):this.bb())},t.bb=function(){TI(this)};function TI(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Yr(u)!=4||u.Z()!=2)){if(u.u&&Yr(u)==4)Qb(u.Ea,0,u);else if(tn(u,"readystatechange"),Yr(u)==4){u.h=!1;try{let W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var m;if(m=W===0){var x=String(u.D).match(yI)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),m=!JN.test(x?x.toLowerCase():"")}p=m}if(p)tn(u,"complete"),tn(u,"success");else{u.m=6;try{var N=2<Yr(u)?u.g.statusText:""}catch{N=""}u.l=N+" ["+u.Z()+"]",xI(u)}}finally{fd(u)}}}}function fd(u,h){if(u.g){SI(u);let p=u.g,m=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||tn(u,"ready");try{p.onreadystatechange=m}catch{}}}function SI(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Yr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),RN(h)}};function AI(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function tk(u){let h={};u=(u.g&&2<=Yr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<u.length;m++){if($(u[m]))continue;var p=D(u[m]);let x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[x]||[];h[x]=N,N.push(p)}E(h,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qc(u,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||h}function MI(u){this.Aa=0,this.i=[],this.j=new Bc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qc("baseRetryDelayMs",5e3,u),this.cb=Qc("retryDelaySeedMs",1e4,u),this.Wa=Qc("forwardChannelMaxRetries",2,u),this.wa=Qc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new dI(u&&u.concurrentRequestLimit),this.Da=new ZN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=MI.prototype,t.la=8,t.G=1,t.connect=function(u,h,p,m){nn(0),this.W=u,this.H=h||{},p&&m!==void 0&&(this.H.OSID=p,this.H.OAID=m),this.F=this.X,this.I=jI(this,null,this.W),gd(this)};function lm(u){if(PI(u),u.G==3){var h=u.U++,p=Qr(u.I);if(Ge(p,"SID",u.K),Ge(p,"RID",h),Ge(p,"TYPE","terminate"),Yc(u,p),h=new bi(u,u.j,h),h.L=2,h.v=dd(Qr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=UI(h.j,null),h.g.ea(h.v)),h.F=Date.now(),cd(h)}LI(u)}function pd(u){u.g&&(hm(u),u.g.cancel(),u.g=null)}function PI(u){pd(u),u.u&&(a.clearTimeout(u.u),u.u=null),md(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function gd(u){if(!hI(u.h)&&!u.s){u.s=!0;var h=u.Ga;Nc||qb(),kc||(Nc(),kc=!0),qg.add(h,u),u.B=0}}function nk(u,h){return fI(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Uc(g(u.Ga,u,h),VI(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let x=new bi(this,this.j,u),N=this.o;if(this.S&&(N?(N=v(N),I(N,this.S)):N=this.S),this.m!==null||this.O||(x.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var m=this.i[p];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(h+=m,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=NI(this,x,h),p=Qr(this.I),Ge(p,"RID",u),Ge(p,"CVER",22),this.D&&Ge(p,"X-HTTP-Session-Id",this.D),Yc(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(CI(N)))+"&"+h:this.m&&um(p,this.m,N)),cm(this.h,x),this.Ua&&Ge(p,"TYPE","init"),this.P?(Ge(p,"$req",h),Ge(p,"SID","null"),x.T=!0,im(x,p,null)):im(x,p,h),this.G=2}}else this.G==3&&(u?RI(this,u):this.i.length==0||hI(this.h)||RI(this))};function RI(u,h){var p;h?p=h.l:p=u.U++;let m=Qr(u.I);Ge(m,"SID",u.K),Ge(m,"RID",p),Ge(m,"AID",u.T),Yc(u,m),u.m&&u.o&&um(m,u.m,u.o),p=new bi(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),h&&(u.i=h.D.concat(u.i)),h=NI(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),cm(u.h,p),im(p,m,h)}function Yc(u,h){u.H&&Z(u.H,function(p,m){Ge(h,m,p)}),u.l&&mI({},function(p,m){Ge(h,m,p)})}function NI(u,h,p){p=Math.min(u.i.length,p);var m=u.l?g(u.l.Na,u.l,u):null;e:{var x=u.i;let N=-1;for(;;){let W=["count="+p];N==-1?0<p?(N=x[0].g,W.push("ofs="+N)):N=0:W.push("ofs="+N);let Be=!0;for(let Vt=0;Vt<p;Vt++){let Ne=x[Vt].g,Wt=x[Vt].map;if(Ne-=N,0>Ne)N=Math.max(0,x[Vt].g-100),Be=!1;else try{XN(Wt,W,"req"+Ne+"_")}catch{m&&m(Wt)}}if(Be){m=W.join("&");break e}}}return u=u.i.splice(0,p),h.D=u,m}function kI(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;Nc||qb(),kc||(Nc(),kc=!0),qg.add(h,u),u.v=0}}function dm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Uc(g(u.Fa,u),VI(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,OI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Uc(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nn(10),pd(this),OI(this))};function hm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function OI(u){u.g=new bi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=Qr(u.qa);Ge(h,"RID","rpc"),Ge(h,"SID",u.K),Ge(h,"AID",u.T),Ge(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(h,"TO",u.ja),Ge(h,"TYPE","xmlhttp"),Yc(u,h),u.m&&u.o&&um(h,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=dd(Qr(h)),p.m=null,p.P=!0,cI(p,u)}t.Za=function(){this.C!=null&&(this.C=null,pd(this),dm(this),nn(19))};function md(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function FI(u,h){var p=null;if(u.g==h){md(u),hm(u),u.g=null;var m=2}else if(am(u.h,h))p=h.D,pI(u.h,h),m=1;else return;if(u.G!=0){if(h.o)if(m==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var x=u.B;m=od(),tn(m,new iI(m,p)),gd(u)}else kI(u);else if(x=h.s,x==3||x==0&&0<h.X||!(m==1&&nk(u,h)||m==2&&dm(u)))switch(p&&0<p.length&&(h=u.h,h.i=h.i.concat(p)),x){case 1:Io(u,5);break;case 4:Io(u,10);break;case 3:Io(u,6);break;default:Io(u,2)}}}function VI(u,h){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*h}function Io(u,h){if(u.j.info("Error code "+h),h==2){var p=g(u.fb,u),m=u.Xa;let x=!m;m=new bo(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ud(m,"https"),dd(m),x?QN(m.toString(),p):YN(m.toString(),p)}else nn(2);u.G=0,u.l&&u.l.sa(h),LI(u),PI(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function LI(u){if(u.G=0,u.ka=[],u.l){let h=gI(u.h);(h.length!=0||u.i.length!=0)&&(C(u.ka,h),C(u.ka,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.ra()}}function jI(u,h,p){var m=p instanceof bo?Qr(p):new bo(p);if(m.g!="")h&&(m.g=h+"."+m.g),ld(m,m.s);else{var x=a.location;m=x.protocol,h=h?h+"."+x.hostname:x.hostname,x=+x.port;var N=new bo(null);m&&ud(N,m),h&&(N.g=h),x&&ld(N,x),p&&(N.l=p),m=N}return p=u.D,h=u.ya,p&&h&&Ge(m,p,h),Ge(m,"VER",u.la),Yc(u,m),m}function UI(u,h,p){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new tt(new Gc({eb:p})):new tt(u.pa),h.Ha(u.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function BI(){}t=BI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yd(){}yd.prototype.g=function(u,h){return new xn(u,h)};function xn(u,h){Gt.call(this),this.g=new MI(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!$(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!$(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new Ps(this)}b(xn,Gt),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){lm(this.g)},xn.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Xg(u),u=p);h.i.push(new jN(h.Ya++,u)),h.G==3&&gd(h)},xn.prototype.N=function(){this.g.l=null,delete this.j,lm(this.g),delete this.g,xn.aa.N.call(this)};function $I(u){em.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(let p in h){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}b($I,em);function qI(){tm.call(this),this.status=1}b(qI,tm);function Ps(u){this.g=u}b(Ps,BI),Ps.prototype.ua=function(){tn(this.g,"a")},Ps.prototype.ta=function(u){tn(this.g,new $I(u))},Ps.prototype.sa=function(u){tn(this.g,new qI)},Ps.prototype.ra=function(){tn(this.g,"b")},yd.prototype.createWebChannel=yd.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,y0=di.createWebChannelTransport=function(){return new yd},m0=di.getStatEventTarget=function(){return od()},g0=di.Event=wo,ip=di.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sd.NO_ERROR=0,sd.TIMEOUT=8,sd.HTTP_ERROR=6,al=di.ErrorCode=sd,oI.COMPLETE="complete",p0=di.EventType=oI,eI.EventType=Lc,Lc.OPEN="a",Lc.CLOSE="b",Lc.ERROR="c",Lc.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,Na=di.WebChannel=eI,f0=di.FetchXmlHttpFactory=Gc,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,h0=di.XhrIo=tt}).apply(typeof rp<"u"?rp:typeof self<"u"?self:typeof window<"u"?window:{});var LA="@firebase/firestore";var Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");var lc="10.12.3";var ro=new Id("@firebase/firestore");function La(){return ro.logLevel}function LM(t){ro.setLogLevel(t)}function j(t,...e){if(ro.logLevel<=gr.DEBUG){let n=e.map(wE);ro.debug(`Firestore (${lc}): ${t}`,...n)}}function ft(t,...e){if(ro.logLevel<=gr.ERROR){let n=e.map(wE);ro.error(`Firestore (${lc}): ${t}`,...n)}}function Hn(t,...e){if(ro.logLevel<=gr.WARN){let n=e.map(wE);ro.warn(`Firestore (${lc}): ${t}`,...n)}}function wE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ee(t="Unexpected state"){let e=`FIRESTORE (${lc}) INTERNAL ASSERTION FAILED: `+t;throw ft(e),new Error(e)}function oe(t,e){t||ee()}function jM(t,e){t||ee()}function Y(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends bd{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var bt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var gp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},b0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}},I0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},C0=class{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new bt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bt,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>A(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe(typeof r.accessToken=="string"),new gp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return oe(e===null||typeof e=="string"),new Et(e)}},D0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},x0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new D0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},T0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},S0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe(typeof n.token=="string"),this.R=n.token,new T0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function x4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var mp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=x4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ge(t,e){return t<e?-1:t>e?1:0}function Wa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function UM(t){return t+"\0"}var Je=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Je(0,0))}static max(){return new t(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var yp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends yp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},T4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pt=class t extends yp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return T4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new L(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var Ka=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function A0(t){return t.fields.find(e=>e.kind===2)}function ts(t){return t.fields.filter(e=>e.kind!==2)}Ka.UNKNOWN_ID=-1;var za=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var _l=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,Gn.min())}};function BM(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Gn(i,Q.empty(),e)}function $M(t){return new Gn(t.readTime,t.key,-1)}var Gn=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ae.min(),Q.empty(),-1)}static max(){return new t(ae.max(),Q.empty(),-1)}};function EE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}var qM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function po(t){return A(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==qM)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var R=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(d=>{s[l]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var _p=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new bt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new as(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=bE(r.target.error);this.V.reject(new as(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new as(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(j("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new P0(n)}},io=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Zc())===12.2&&ft("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return j("SimpleDb","Removing database:",e),ns(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ed())return!1;if(t.C())return!0;let e=Zc(),n=t.S(e),r=0<n&&n<10,i=zM(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return A(this,null,function*(){return this.db||(j("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new as(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new L(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new L(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new as(e,s))},i.onupgradeneeded=o=>{j("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{j("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return A(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=_p.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),R.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&s<3;if(j("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function zM(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var M0=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ns(this.B.delete())}},as=class extends L{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function go(t){return t.name==="IndexedDbTransactionError"}var P0=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(j("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(j("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ns(r)}add(e){return j("SimpleDb","ADD",this.store.name,e,e),ns(this.store.add(e))}get(e){return ns(this.store.get(e)).next(n=>(n===void 0&&(n=null),j("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return j("SimpleDb","DELETE",this.store.name,e),ns(this.store.delete(e))}count(){return j("SimpleDb","COUNT",this.store.name),ns(this.store.count())}U(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new R((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new R((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){j("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.H=!1;let i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.W(i,n)}Y(e){let n=this.cursor({});return new R((r,i)=>{n.onerror=o=>{let s=bE(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){let r=[];return new R((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new M0(a),l=n(a.primaryKey,a.value,c);if(l instanceof R){let d=l.catch(f=>(c.done(),R.reject(f)));r.push(d)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>R.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function ns(t){return new R((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=bE(r.target.error);n(i)}})}var jA=!1;function bE(t){let e=io.S(Zc());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jA||(jA=!0,setTimeout(()=>{throw r},0)),r}}return t}var R0=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){j("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>A(this,null,function*(){this.task=null;try{j("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){go(n)?j("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield po(n)}yield this.X(6e4)}))}},N0=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return A(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let r=new Set,i=n,o=!0;return R.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return j("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(j("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{let s=$M(o);EE(s,r)>0&&(r=s)}),new Gn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var Pn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Bl(t){return t==null}function wl(t){return t===0&&1/t==-1/0}function HM(t){return typeof t=="number"&&Number.isInteger(t)&&!wl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function dn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UA(e)),e=S4(t.get(n),e);return UA(e)}function S4(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function UA(t){return t+""}function Vr(t){let e=t.length;if(oe(e>=2),e===2)return oe(t.charAt(0)===""&&t.charAt(1)===""),Pe.emptyPath();let n=e-2,r=[],i="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&ee(),t.charAt(s+1)){case"":let a=t.substring(o,s),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:ee()}o=s+2}return new Pe(r)}var BA=["userId","batchId"];function up(t,e){return[t,dn(e)]}function GM(t,e,n){return[t,dn(e),n]}var A4={},M4=["prefixPath","collectionGroup","readTime","documentId"],P4=["prefixPath","collectionGroup","documentId"],R4=["collectionGroup","readTime","prefixPath","documentId"],N4=["canonicalId","targetId"],k4=["targetId","path"],O4=["path","targetId"],F4=["collectionId","parent"],V4=["indexId","uid"],L4=["uid","sequenceNumber"],j4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],U4=["indexId","uid","orderedDocumentKey"],B4=["userId","collectionPath","documentId"],$4=["userId","collectionPath","largestBatchId"],q4=["userId","collectionGroup","largestBatchId"],WM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],z4=[...WM,"documentOverlays"],KM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QM=KM,YM=[...QM,"indexConfiguration","indexState","indexEntries"],H4=YM;var El=class extends vp{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function Ft(t,e){let n=Y(t);return io.F(n._e,e)}function $A(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ke=class t{constructor(e,n){this.comparator=e,this.root=n||jr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qa(this.root,e,this.comparator,!0)}},qa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},jr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};jr.EMPTY=null,jr.RED=!0,jr.BLACK=!1;jr.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new jr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ze=class t{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wp(this.data.getIterator())}getIteratorFrom(e){return new wp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},wp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function ka(t){return t.hasNext()?t.getNext():void 0}var Rn=class t{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ze(pt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ep=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function XM(){return typeof atob<"u"}var Ot=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ep("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ot.EMPTY_BYTE_STRING=new Ot("");var G4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(t){if(oe(!!t),typeof t=="string"){let e=0,n=G4.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oo(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}function dg(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function IE(t){let e=t.mapValue.fields.__previous_value__;return dg(e)?IE(e):e}function bl(t){let e=pi(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}var k0=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},so=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var to={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lp={nullValue:"NULL_VALUE"};function cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dg(t)?4:JM(t)?9007199254740991:10:ee()}function $r(t,e){if(t===e)return!0;let n=cs(t);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bl(t).isEqual(bl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=pi(i.timestampValue),a=pi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return oo(i.bytesValue).isEqual(oo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return at(i.geoPointValue.latitude)===at(o.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return at(i.integerValue)===at(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=at(i.doubleValue),a=at(o.doubleValue);return s===a?wl(s)===wl(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($A(s)!==$A(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!$r(s[c],a[c])))return!1;return!0}(t,e);default:return ee()}}function Il(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function ao(t,e){if(t===e)return 0;let n=cs(t),r=cs(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=at(o.integerValue||o.doubleValue),c=at(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return qA(t.timestampValue,e.timestampValue);case 4:return qA(bl(t),bl(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(o,s){let a=oo(o),c=oo(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=ge(a[l],c[l]);if(d!==0)return d}return ge(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ge(at(o.latitude),at(s.latitude));return a!==0?a:ge(at(o.longitude),at(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let d=ao(a[l],c[l]);if(d)return d}return ge(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===to.mapValue&&s===to.mapValue)return 0;if(o===to.mapValue)return 1;if(s===to.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=ge(c[f],d[f]);if(g!==0)return g;let y=ao(a[c[f]],l[d[f]]);if(y!==0)return y}return ge(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ee()}}function qA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);let n=pi(t),r=pi(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function Qa(t){return O0(t)}function O0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=O0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${O0(n.fields[s])}`;return i+"}"}(t.mapValue):ee()}function us(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function F0(t){return!!t&&"integerValue"in t}function Cl(t){return!!t&&"arrayValue"in t}function zA(t){return!!t&&"nullValue"in t}function HA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dp(t){return!!t&&"mapValue"in t}function pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return _s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pl(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function W4(t){return"nullValue"in t?lp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?us(so.empty(),Q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ee()}function K4(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?us(so.empty(),Q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?to:ee()}function GA(t,e){let n=ao(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function WA(t,e){let n=ao(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Xt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=pl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());dp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_s(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(pl(this.value))}};function e1(t){let e=[];return _s(t.fields,(n,r)=>{let i=new pt([n]);if(dp(r)){let o=e1(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Rn(e)}var It=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ae.min(),ae.min(),ae.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ae.min(),ae.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ae.min(),ae.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var qr=class{constructor(e,n){this.position=e,this.inclusive=n}};function KA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),n.key):r=ao(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}var ls=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Q4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var bp=class{},Te=class t extends bp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j0(e,n,r):n==="array-contains"?new $0(e,r):n==="in"?new Ip(e,r):n==="not-in"?new q0(e,r):n==="array-contains-any"?new z0(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U0(e,r):new B0(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ao(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ue=class t extends bp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Ya(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Ya(t){return t.op==="and"}function V0(t){return t.op==="or"}function CE(t){return t1(t)&&Ya(t)}function t1(t){for(let e of t.filters)if(e instanceof Ue)return!1;return!0}function L0(t){if(t instanceof Te)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(CE(t))return t.filters.map(e=>L0(e)).join(",");{let e=t.filters.map(n=>L0(n)).join(",");return`${t.op}(${e})`}}function n1(t,e){return t instanceof Te?function(r,i){return i instanceof Te&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&n1(s,i.filters[a]),!0):!1}(t,e):void ee()}function r1(t,e){let n=t.filters.concat(e);return Ue.create(n,t.op)}function i1(t){return t instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(t):t instanceof Ue?function(n){return n.op.toString()+" {"+n.getFilters().map(i1).join(" ,")+"}"}(t):"Filter"}var j0=class extends Te{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){let n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}},U0=class extends Te{constructor(e,n){super(e,"in",n),this.keys=o1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},B0=class extends Te{constructor(e,n){super(e,"not-in",n),this.keys=o1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function o1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}var $0=class extends Te{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Cl(n)&&Il(n.arrayValue,this.value)}},Ip=class extends Te{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Il(this.value.arrayValue,n)}},q0=class extends Te{constructor(e,n){super(e,"not-in",n)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Il(this.value.arrayValue,n)}},z0=class extends Te{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Cl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Il(this.value.arrayValue,r))}};var H0=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function G0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new H0(t,e,n,r,i,o,s)}function ds(t){let e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>L0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Bl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qa(r)).join(",")),e.ue=n}return e.ue}function $l(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!n1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QA(t.startAt,e.startAt)&&QA(t.endAt,e.endAt)}function Cp(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Dp(t,e){return t.filters.filter(n=>n instanceof Te&&n.field.isEqual(e))}function YA(t,e,n){let r=lp,i=!0;for(let o of Dp(t,e)){let s=lp,a=!0;switch(o.op){case"<":case"<=":s=W4(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=lp}GA({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];GA({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function ZA(t,e,n){let r=to,i=!0;for(let o of Dp(t,e)){let s=to,a=!0;switch(o.op){case">=":case">":s=K4(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=to}WA({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];WA({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}var cr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function s1(t,e,n,r,i,o,s,a){return new cr(t,e,n,r,i,o,s,a)}function dc(t){return new cr(t)}function XA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DE(t){return t.collectionGroup!==null}function Ha(t){let e=Y(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ze(pt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ls(o,r))}),n.has(pt.keyField().canonicalString())||e.ce.push(new ls(pt.keyField(),r))}return e.ce}function hn(t){let e=Y(t);return e.le||(e.le=Y4(e,Ha(t))),e.le}function Y4(t,e){if(t.limitType==="F")return G0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ls(i.field,o)});let n=t.endAt?new qr(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qr(t.startAt.position,t.startAt.inclusive):null;return G0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function W0(t,e){let n=t.filters.concat([e]);return new cr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xp(t,e,n){return new cr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ql(t,e){return $l(hn(t),hn(e))&&t.limitType===e.limitType}function a1(t){return`${ds(hn(t))}|lt:${t.limitType}`}function ja(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>i1(i)).join(", ")}]`),Bl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qa(i)).join(",")),`Target(${r})`}(hn(t))}; limitType=${t.limitType})`}function zl(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ha(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=KA(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,Ha(r),i)||r.endAt&&!function(s,a,c){let l=KA(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,Ha(r),i))}(t,e)}function c1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function u1(t){return(e,n)=>{let r=!1;for(let i of Ha(t)){let o=Z4(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Z4(t,e,n){let r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?ao(c,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var zr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ZM(this.inner)}size(){return this.innerSize}};var X4=new Ke(Q.comparator);function Cn(){return X4}var l1=new Ke(Q.comparator);function hl(...t){let e=l1;for(let n of t)e=e.insert(n.key,n);return e}function d1(t){let e=l1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lr(){return gl()}function h1(){return gl()}function gl(){return new zr(t=>t.toString(),(t,e)=>t.isEqual(e))}var J4=new Ke(Q.comparator),e3=new ze(Q.comparator);function _e(...t){let e=e3;for(let n of t)e=e.add(n);return e}var t3=new ze(ge);function xE(){return t3}function f1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wl(e)?"-0":e}}function p1(t){return{integerValue:""+t}}function g1(t,e){return HM(e)?p1(e):f1(t,e)}var Za=class{constructor(){this._=void 0}};function n3(t,e,n){return t instanceof co?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dg(o)&&(o=IE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof gi?y1(t,e):t instanceof mi?v1(t,e):function(i,o){let s=m1(i,o),a=JA(s)+JA(i.Pe);return F0(s)&&F0(i.Pe)?p1(a):f1(i.serializer,a)}(t,e)}function r3(t,e,n){return t instanceof gi?y1(t,e):t instanceof mi?v1(t,e):n}function m1(t,e){return t instanceof uo?function(r){return F0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var co=class extends Za{},gi=class extends Za{constructor(e){super(),this.elements=e}};function y1(t,e){let n=_1(e);for(let r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}var mi=class extends Za{constructor(e){super(),this.elements=e}};function v1(t,e){let n=_1(e);for(let r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}var uo=class extends Za{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function JA(t){return at(t.integerValue||t.doubleValue)}function _1(t){return Cl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var hs=class{constructor(e,n){this.field=e,this.transform=n}};function i3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gi&&i instanceof gi||r instanceof mi&&i instanceof mi?Wa(r.elements,i.elements,$r):r instanceof uo&&i instanceof uo?$r(r.Pe,i.Pe):r instanceof co&&i instanceof co}(t.transform,e.transform)}var K0=class{constructor(e,n){this.version=e,this.transformResults=n}},ct=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function hp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Xa=class{};function w1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ho(t.key,ct.none()):new lo(t.key,t.data,ct.none());{let n=t.data,r=Xt.empty(),i=new ze(pt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ur(t.key,r,new Rn(i.toArray()),ct.none())}}function o3(t,e,n){t instanceof lo?function(i,o,s){let a=i.value.clone(),c=tM(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ur?function(i,o,s){if(!hp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=tM(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(E1(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ml(t,e,n,r){return t instanceof lo?function(o,s,a,c){if(!hp(o.precondition,s))return a;let l=o.value.clone(),d=nM(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ur?function(o,s,a,c){if(!hp(o.precondition,s))return a;let l=nM(o.fieldTransforms,c,s),d=s.data;return d.setAll(E1(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return hp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function s3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=m1(r.transform,i||null);o!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,o))}return n||null}function eM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wa(r,i,(o,s)=>i3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var lo=class extends Xa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ur=class extends Xa{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function E1(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function tM(t,e,n){let r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,r3(s,a,n[i]))}return r}function nM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,n3(o,s,e))}return r}var ho=class extends Xa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Dl=class extends Xa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var xl=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&o3(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ml(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ml(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=h1();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=w1(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>eM(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>eM(n,r))}},Q0=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=function(){return J4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Tl=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Y0=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var _t,Me;function b1(t){switch(t){default:return ee();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function I1(t){if(t===void 0)return ft("GRPC error has no .code"),k.UNKNOWN;switch(t){case _t.OK:return k.OK;case _t.CANCELLED:return k.CANCELLED;case _t.UNKNOWN:return k.UNKNOWN;case _t.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case _t.INTERNAL:return k.INTERNAL;case _t.UNAVAILABLE:return k.UNAVAILABLE;case _t.UNAUTHENTICATED:return k.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case _t.NOT_FOUND:return k.NOT_FOUND;case _t.ALREADY_EXISTS:return k.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return k.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case _t.ABORTED:return k.ABORTED;case _t.OUT_OF_RANGE:return k.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return k.UNIMPLEMENTED;case _t.DATA_LOSS:return k.DATA_LOSS;default:return ee()}}(Me=_t||(_t={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";var rM=null;function C1(){return new TextEncoder}var a3=new Yi([4294967295,4294967295],0);function iM(t){let e=C1().encode(t),n=new d0;return n.update(e),new Uint8Array(n.digest())}function oM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yi([n,r],0),new Yi([i,o],0)]}var Z0=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ss(`Invalid padding: ${n}`);if(r<0)throw new ss(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ss(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ss(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Yi.fromNumber(r)));return i.compare(a3)===1&&(i=new Yi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=iM(e),[r,i]=oM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=iM(e),[r,i]=oM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ss=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sl=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ae.min(),i,new Ke(ge),Cn(),_e())}},Al=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var Ga=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Tp=class{constructor(e,n){this.targetId=e,this.me=n}},Sp=class{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ap=class{constructor(){this.fe=0,this.ge=aM(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Al(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=aM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},X0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cn(),this.qe=sM(),this.Qe=new Ke(ge)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Cp(o))if(r===0){let s=new Q(o.path);this.Ue(n,s,It.newNoDocument(s,ae.min()))}else oe(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}rM?.et(function(d,f,g,y,b){var P,C,O,$,V,B;let X={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},Z=f.unchangedNames;return Z&&(X.bloomFilter={applied:b===0,hashCount:(P=Z?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:($=(O=(C=Z?.bits)===null||C===void 0?void 0:C.bitmap)===null||O===void 0?void 0:O.length)!==null&&$!==void 0?$:0,padding:(B=(V=Z?.bits)===null||V===void 0?void 0:V.padding)!==null&&B!==void 0?B:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),X}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=oo(r).toUint8Array()}catch(c){if(c instanceof Ep)return Hn("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Z0(s,i,o)}catch(c){return Hn(c instanceof ss?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Cp(a.target)){let c=new Q(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,It.newNoDocument(c,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=_e();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Sl(e,n,this.Qe,this.ke,r);return this.ke=Cn(),this.qe=sM(),this.Qe=new Ke(ge),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ap,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ze(ge),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ap),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function sM(){return new Ke(Q.comparator)}function aM(){return new Ke(Q.comparator)}var c3={asc:"ASCENDING",desc:"DESCENDING"},u3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l3={and:"AND",or:"OR"},J0=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ew(t,e){return t.useProto3Json||Bl(e)?e:{value:e}}function Ja(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function d3(t,e){return Ja(t,e.toTimestamp())}function gt(t){return oe(!!t),ae.fromTimestamp(function(n){let r=pi(n);return new Je(r.seconds,r.nanos)}(t))}function TE(t,e){return tw(t,e).canonicalString()}function tw(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function x1(t){let e=Pe.fromString(t);return oe(F1(e)),e}function Ml(t,e){return TE(t.databaseId,e.path)}function Ur(t,e){let n=x1(e);if(n.get(1)!==t.databaseId.projectId)throw new L(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(A1(n))}function T1(t,e){return TE(t.databaseId,e)}function S1(t){let e=x1(t);return e.length===4?Pe.emptyPath():A1(e)}function nw(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function A1(t){return oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cM(t,e,n){return{name:Ml(t,e),fields:n.value.mapValue.fields}}function M1(t,e,n){let r=Ur(t,e.name),i=gt(e.updateTime),o=e.createTime?gt(e.createTime):ae.min(),s=new Xt({mapValue:{fields:e.fields}}),a=It.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function h3(t,e){return"found"in e?function(r,i){oe(!!i.found),i.found.name,i.found.updateTime;let o=Ur(r,i.found.name),s=gt(i.found.updateTime),a=i.found.createTime?gt(i.found.createTime):ae.min(),c=new Xt({mapValue:{fields:i.found.fields}});return It.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(r,i){oe(!!i.missing),oe(!!i.readTime);let o=Ur(r,i.missing),s=gt(i.readTime);return It.newNoDocument(o,s)}(t,e):ee()}function f3(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,d){return l.useProto3Json?(oe(d===void 0||typeof d=="string"),Ot.fromBase64String(d||"")):(oe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let d=l.code===void 0?k.UNKNOWN:I1(l.code);return new L(d,l.message||"")}(s);n=new Sp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ur(t,r.document.name),o=gt(r.document.updateTime),s=r.document.createTime?gt(r.document.createTime):ae.min(),a=new Xt({mapValue:{fields:r.document.fields}}),c=It.newFoundDocument(i,o,s,a),l=r.targetIds||[],d=r.removedTargetIds||[];n=new Ga(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ur(t,r.document),o=r.readTime?gt(r.readTime):ae.min(),s=It.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ga([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ur(t,r.document),o=r.removedTargetIds||[];n=new Ga([],o,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Y0(i,o),a=r.targetId;n=new Tp(a,s)}}return n}function Pl(t,e){let n;if(e instanceof lo)n={update:cM(t,e.key,e.value)};else if(e instanceof ho)n={delete:Ml(t,e.key)};else if(e instanceof ur)n={update:cM(t,e.key,e.data),updateMask:_3(e.fieldMask)};else{if(!(e instanceof Dl))return ee();n={verify:Ml(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof co)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof uo)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:d3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee()}(t,e.precondition)),n}function rw(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?ct.updateTime(gt(o.updateTime)):o.exists!==void 0?ct.exists(o.exists):ct.none()}(e.currentDocument):ct.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;if("setToServerValue"in a)oe(a.setToServerValue==="REQUEST_TIME"),c=new co;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new gi(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new mi(d)}else"increment"in a?c=new uo(s,a.increment):ee();let l=pt.fromServerFormat(a.fieldPath);return new hs(l,c)}(t,i)):[];if(e.update){e.update.name;let i=Ur(t,e.update.name),o=new Xt({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let l=c.fieldPaths||[];return new Rn(l.map(d=>pt.fromServerFormat(d)))}(e.updateMask);return new ur(i,o,s,n,r)}return new lo(i,o,n,r)}if(e.delete){let i=Ur(t,e.delete);return new ho(i,n)}if(e.verify){let i=Ur(t,e.verify);return new Dl(i,n)}return ee()}function p3(t,e){return t&&t.length>0?(oe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?gt(i.updateTime):gt(o);return s.isEqual(ae.min())&&(s=gt(o)),new K0(s,i.transformResults||[])}(n,e))):[]}function P1(t,e){return{documents:[T1(t,e.path)]}}function R1(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=T1(t,i);let o=function(l){if(l.length!==0)return O1(Ue.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(d=>function(g){return{field:Ua(g.field),direction:m3(g.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=ew(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function N1(t){let e=S1(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){oe(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){let g=k1(f);return g instanceof Ue&&CE(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(g=>function(b){return new ls(Ba(b.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Bl(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(f){let g=!!f.before,y=f.values||[];return new qr(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(f){let g=!f.before,y=f.values||[];return new qr(y,g)}(n.endAt)),s1(e,i,s,o,a,"F",c,l)}function g3(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function k1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ba(n.unaryFilter.field);return Te.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ba(n.unaryFilter.field);return Te.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ba(n.unaryFilter.field);return Te.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ba(n.unaryFilter.field);return Te.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Te.create(Ba(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ue.create(n.compositeFilter.filters.map(r=>k1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function m3(t){return c3[t]}function y3(t){return u3[t]}function v3(t){return l3[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function Ba(t){return pt.fromServerFormat(t.fieldPath)}function O1(t){return t instanceof Te?function(n){if(n.op==="=="){if(HA(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(zA(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HA(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(zA(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:y3(n.op),value:n.value}}}(t):t instanceof Ue?function(n){let r=n.getFilters().map(i=>O1(i));return r.length===1?r[0]:{compositeFilter:{op:v3(n.op),filters:r}}}(t):ee()}function _3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function F1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ec=class t{constructor(e,n,r,i,o=ae.min(),s=ae.min(),a=Ot.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Mp=class{constructor(e){this.ct=e}};function w3(t,e){let n;if(e.document)n=M1(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=Q.fromSegments(e.noDocument.path),i=ps(e.noDocument.readTime);n=It.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ee();{let r=Q.fromSegments(e.unknownDocument.path),i=ps(e.unknownDocument.version);n=It.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let o=new Je(i[0],i[1]);return ae.fromTimestamp(o)}(e.readTime)),n}function uM(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Pp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:Ml(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Ja(o,s.version.toTimestamp()),createTime:Ja(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:fs(e.version)};else{if(!e.isUnknownDocument())return ee();r.unknownDocument={path:n.path.toArray(),version:fs(e.version)}}return r}function Pp(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function fs(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ps(t){let e=new Je(t.seconds,t.nanoseconds);return ae.fromTimestamp(e)}function rs(t,e){let n=(e.baseMutations||[]).map(o=>rw(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>rw(t.ct,o)),i=Je.fromMillis(e.localWriteTimeMs);return new xl(e.batchId,i,n,r)}function fl(t){let e=ps(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ps(t.lastLimboFreeSnapshotVersion):ae.min(),r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return oe(o.documents.length===1),hn(dc(S1(o.documents[0])))}(t.query):function(o){return hn(N1(o))}(t.query),new ec(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ot.fromBase64String(t.resumeToken))}function V1(t,e){let n=fs(e.snapshotVersion),r=fs(e.lastLimboFreeSnapshotVersion),i;i=Cp(e.target)?P1(t.ct,e.target):R1(t.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ds(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function SE(t){let e=N1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xp(e,e.limit,"L"):e}function v0(t,e){return new Tl(e.largestBatchId,rw(t.ct,e.overlayMutation))}function lM(t,e){let n=e.path.lastSegment();return[t,dn(e.path.popLast()),n]}function dM(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:fs(r.readTime),documentKey:dn(r.documentKey.path),largestBatchId:r.largestBatchId}}var iw=class{getBundleMetadata(e,n){return hM(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:ps(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return hM(e).put(function(i){return{bundleId:i.id,createTime:fs(gt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return fM(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:SE(o.bundledQuery),readTime:ps(o.readTime)}}(r)})}saveNamedQuery(e,n){return fM(e).put(function(i){return{name:i.name,readTime:fs(gt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function hM(t){return Ft(t,"bundles")}function fM(t){return Ft(t,"namedQueries")}var Rp=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return cl(e).get(lM(this.userId,n)).next(r=>r?v0(this.serializer,r):null)}getOverlays(e,n){let r=Lr();return R.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((o,s)=>{let a=new Tl(n,s);i.push(this.ht(e,a))}),R.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(s=>i.add(dn(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(cl(e).j("collectionPathOverlayIndex",a))}),R.waitFor(o)}getOverlaysForCollection(e,n,r){let i=Lr(),o=dn(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return cl(e).U("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let l=v0(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let o=Lr(),s,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return cl(e).J({index:"collectionGroupOverlayIndex",range:a},(c,l,d)=>{let f=v0(this.serializer,l);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>o)}ht(e,n){return cl(e).put(function(i,o,s){let[a,c,l]=lM(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Pl(i.ct,s.mutation)}}(this.serializer,this.userId,n))}};function cl(t){return Ft(t,"documentOverlays")}var hi=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(at(e.integerValue));else if("doubleValue"in e){let r=at(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),wl(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=pi(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(oo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?JM(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ee()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Q.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};hi.bt=new hi;function E3(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function pM(t){let e=64-function(r){let i=0;for(let o=0;o<8;++o){let s=E3(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}var ow=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{let i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{let i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){let n=this.Bt(e),r=pM(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){let n=this.Bt(e),r=pM(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},sw=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},aw=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},is=class{constructor(){this.Gt=new ow,this.zt=new sw(this.Gt),this.jt=new aw(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var os=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function Zi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=gM(t.arrayValue,e.arrayValue),n!==0?n:(n=gM(t.directionalValue,e.directionalValue),n!==0?n:Q.comparator(t.documentKey,e.documentKey)))}function gM(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var Np=class{constructor(e){this.Yt=new ze((n,r)=>pt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(oe(e.collectionGroup===this.collectionId),this.en)return!1;let n=A0(e);if(n!==void 0&&!this.nn(n))return!1;let r=ts(e),i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[o];if(!this.rn(a,c)||!this.sn(this.Zt[s++],c))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new ze(pt.comparator),n=[];for(let r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new za(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new za(r.field,0))}for(let r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new za(r.field,r.dir==="asc"?0:1)));return new Ka(Ka.UNKNOWN_ID,this.collectionId,n,_l.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function L1(t){var e,n;if(oe(t instanceof Te||t instanceof Ue),t instanceof Te){if(t instanceof Ip){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Te.create(t.field,"==",o)))||[];return Ue.create(i,"or")}return t}let r=t.filters.map(i=>L1(i));return Ue.create(r,t.op)}function b3(t){if(t.getFilters().length===0)return[];let e=lw(L1(t));return oe(j1(e)),cw(e)||uw(e)?[e]:e.getFilters()}function cw(t){return t instanceof Te}function uw(t){return t instanceof Ue&&CE(t)}function j1(t){return cw(t)||uw(t)||function(n){if(n instanceof Ue&&V0(n)){for(let r of n.getFilters())if(!cw(r)&&!uw(r))return!1;return!0}return!1}(t)}function lw(t){if(oe(t instanceof Te||t instanceof Ue),t instanceof Te)return t;if(t.filters.length===1)return lw(t.filters[0]);let e=t.filters.map(r=>lw(r)),n=Ue.create(e,t.op);return n=kp(n),j1(n)?n:(oe(n instanceof Ue),oe(Ya(n)),oe(n.filters.length>1),n.filters.reduce((r,i)=>AE(r,i)))}function AE(t,e){let n;return oe(t instanceof Te||t instanceof Ue),oe(e instanceof Te||e instanceof Ue),n=t instanceof Te?e instanceof Te?function(i,o){return Ue.create([i,o],"and")}(t,e):mM(t,e):e instanceof Te?mM(e,t):function(i,o){if(oe(i.filters.length>0&&o.filters.length>0),Ya(i)&&Ya(o))return r1(i,o.getFilters());let s=V0(i)?i:o,a=V0(i)?o:i,c=s.filters.map(l=>AE(l,a));return Ue.create(c,"or")}(t,e),kp(n)}function mM(t,e){if(Ya(e))return r1(e,t.getFilters());{let n=e.filters.map(r=>AE(t,r));return Ue.create(n,"or")}}function kp(t){if(oe(t instanceof Te||t instanceof Ue),t instanceof Te)return t;let e=t.getFilters();if(e.length===1)return kp(e[0]);if(t1(t))return t;let n=e.map(i=>kp(i)),r=[];return n.forEach(i=>{i instanceof Te?r.push(i):i instanceof Ue&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ue.create(r,t.op)}var dw=class{constructor(){this._n=new Rl}addToCollectionParentIndex(e,n){return this._n.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(Gn.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(Gn.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}},Rl=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(Pe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(Pe.comparator)).toArray()}};var op=new Uint8Array(0),hw=class{constructor(e,n){this.databaseId=n,this.an=new Rl,this.un=new zr(r=>ds(r),(r,i)=>$l(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let o={collectionId:r,parent:dn(i)};return yM(e).put(o)}return R.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[UM(n),""],!1,!0);return yM(e).U(i).next(o=>{for(let s of o){if(s.collectionId!==n)break;r.push(Vr(s.parent))}return r})}addFieldIndex(e,n){let r=ul(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;let o=r.add(i);if(n.indexState){let s=Fa(e);return o.next(a=>{s.put(dM(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let r=ul(e),i=Fa(e),o=Oa(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=ul(e),r=Oa(e),i=Fa(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return R.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new Np(r).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let r=Oa(e),i=!0,o=new Map;return R.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=_e(),a=[];return R.forEach(o,(c,l)=>{j("IndexedDbIndexManager",`Using index ${function(V){return`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map(B=>`${B.fieldPath}:${B.kind}`).join(",")}`}(c)} to execute ${ds(n)}`);let d=function(V,B){let X=A0(B);if(X===void 0)return null;for(let Z of Dp(V,X.fieldPath))switch(Z.op){case"array-contains-any":return Z.value.arrayValue.values||[];case"array-contains":return[Z.value]}return null}(l,c),f=function(V,B){let X=new Map;for(let Z of ts(B))for(let E of Dp(V,Z.fieldPath))switch(E.op){case"==":case"in":X.set(Z.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return X.set(Z.fieldPath.canonicalString(),E.value),Array.from(X.values())}return null}(l,c),g=function(V,B){let X=[],Z=!0;for(let E of ts(B)){let v=E.kind===0?YA(V,E.fieldPath,V.startAt):ZA(V,E.fieldPath,V.startAt);X.push(v.value),Z&&(Z=v.inclusive)}return new qr(X,Z)}(l,c),y=function(V,B){let X=[],Z=!0;for(let E of ts(B)){let v=E.kind===0?ZA(V,E.fieldPath,V.endAt):YA(V,E.fieldPath,V.endAt);X.push(v.value),Z&&(Z=v.inclusive)}return new qr(X,Z)}(l,c),b=this.hn(c,l,g),P=this.hn(c,l,y),C=this.Pn(c,l,f),O=this.In(c.indexId,d,b,g.inclusive,P,y.inclusive,C);return R.forEach(O,$=>r.G($,n.limit).next(V=>{V.forEach(B=>{let X=Q.fromSegments(B.documentKey);s.has(X)||(s=s.add(X),a.push(X))})}))}).next(()=>a)}return R.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=b3(Ue.create(e.filters,"and")).map(r=>G0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){let c=(n!=null?n.length:1)*Math.max(r.length,o.length),l=c/(n!=null?n.length:1),d=[];for(let f=0;f<c;++f){let g=n?this.Tn(n[f/l]):op,y=this.En(e,g,r[f%l],i),b=this.dn(e,g,o[f%l],s),P=a.map(C=>this.En(e,g,C,!0));d.push(...this.createRange(y,b,P))}return d}En(e,n,r,i){let o=new os(e,Q.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){let o=new os(e,Q.empty(),n,r);return i?o.Jt():o}ln(e,n){let r=new Np(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2,i=this.cn(n);return R.forEach(i,o=>this.ln(e,o).next(s=>{s?r!==0&&s.fields.length<function(c){let l=new ze(pt.comparator),d=!1;for(let f of c.filters)for(let g of f.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:l=l.add(g.field));for(let f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(d?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){let r=new is;for(let i of ts(e)){let o=n.data.field(i.fieldPath);if(o==null)return null;let s=r.Ht(i.kind);hi.bt.Pt(o,s)}return r.Wt()}Tn(e){let n=new is;return hi.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let r=new is;return hi.bt.Pt(us(this.databaseId,n),r.Ht(function(o){let s=ts(o);return s.length===0?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new is);let o=0;for(let s of ts(e)){let a=r[o++];for(let c of i)if(this.Vn(n,s.fieldPath)&&Cl(a))i=this.mn(i,s,a);else{let l=c.Ht(s.kind);hi.bt.Pt(a,l)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let c=new is;c.seed(a.Wt()),hi.bt.Pt(s,c.Ht(n.kind)),o.push(c)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof Te&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=ul(e),i=Fa(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{let s=[];return R.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(d,f){let g=f?new _l(f.sequenceNumber,new Gn(ps(f.readTime),new Q(Vr(f.documentKey)),f.largestBatchId)):_l.empty(),y=d.fields.map(([b,P])=>new za(pt.fromServerFormat(b),P));return new Ka(d.indexId,d.collectionGroup,y,g)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ge(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=ul(e),o=Fa(e);return this.gn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>R.forEach(a,c=>o.put(dM(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){let r=new Map;return R.forEach(n,(i,o)=>{let s=r.get(i.collectionGroup);return(s?R.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),R.forEach(a,c=>this.pn(e,i,c).next(l=>{let d=this.yn(o,c);return l.isEqual(d)?R.resolve():this.wn(e,o,c,l,d)}))))})}Sn(e,n,r,i){return Oa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Oa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){let i=Oa(e),o=new ze(Zi);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new os(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new ze(Zi),i=this.An(n,e);if(i==null)return r;let o=A0(n);if(o!=null){let s=e.data.field(o.fieldPath);if(Cl(s))for(let a of s.arrayValue.values||[])r=r.add(new os(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new os(n.indexId,e.key,op,i));return r}wn(e,n,r,i,o){j("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(c,l,d,f,g){let y=c.getIterator(),b=l.getIterator(),P=ka(y),C=ka(b);for(;P||C;){let O=!1,$=!1;if(P&&C){let V=d(P,C);V<0?$=!0:V>0&&(O=!0)}else P!=null?$=!0:O=!0;O?(f(C),C=ka(b)):$?(g(P),P=ka(y)):(P=ka(y),C=ka(b))}}(i,o,Zi,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),R.waitFor(s)}gn(e){let n=1;return Fa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Zi(s,a)).filter((s,a,c)=>!a||Zi(s,c[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=Zi(s,e),c=Zi(s,n);if(a===0)i[0]=e.Jt();else if(a>0&&c<0)i.push(s),i.push(s.Jt());else if(c>0)break}i.push(n);let o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];let a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,op,[]],c=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,op,[]];o.push(IDBKeyRange.bound(a,c))}return o}Dn(e,n){return Zi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(vM)}getMinOffset(e,n){return R.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||ee())).next(vM)}};function yM(t){return Ft(t,"collectionParents")}function Oa(t){return Ft(t,"indexEntries")}function ul(t){return Ft(t,"indexConfiguration")}function Fa(t){return Ft(t,"indexState")}function vM(t){oe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;EE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Gn(e.readTime,e.documentKey,n)}var _M={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function U1(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.J({range:s},(d,f,g)=>(a++,g.delete()));o.push(c.next(()=>{oe(a===1)}));let l=[];for(let d of n.mutations){let f=GM(e,d.key.path,n.batchId);o.push(i.delete(f)),l.push(d.key)}return R.waitFor(o).next(()=>l)}function Op(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ee();e=t.noDocument}return JSON.stringify(e).length}zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(41943040,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);var Fp=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){oe(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xi(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let o=$a(e),s=Xi(e);return s.add({}).next(a=>{oe(typeof a=="number");let c=new xl(a,n,r,i),l=function(y,b,P){let C=P.baseMutations.map($=>Pl(y.ct,$)),O=P.mutations.map($=>Pl(y.ct,$));return{userId:b,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:C,mutations:O}}(this.serializer,this.userId,c),d=[],f=new ze((g,y)=>ge(g.canonicalString(),y.canonicalString()));for(let g of i){let y=GM(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),d.push(s.put(l)),d.push(o.put(y,A4))}return f.forEach(g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),R.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return Xi(e).get(n).next(r=>r?(oe(r.userId===this.userId),rs(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?R.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Xi(e).J({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(oe(a.batchId>=r),o=rs(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Xi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xi(e).U("userMutationsIndex",n).next(r=>r.map(i=>rs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=up(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return $a(e).J({range:i},(s,a,c)=>{let[l,d,f]=s,g=Vr(d);if(l===this.userId&&n.path.isEqual(g))return Xi(e).get(f).next(y=>{if(!y)throw ee();oe(y.userId===this.userId),o.push(rs(this.serializer,y))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(ge),i=[];return n.forEach(o=>{let s=up(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=$a(e).J({range:a},(l,d,f)=>{let[g,y,b]=l,P=Vr(y);g===this.userId&&o.path.isEqual(P)?r=r.add(b):f.done()});i.push(c)}),R.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=up(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ze(ge);return $a(e).J({range:s},(c,l,d)=>{let[f,g,y]=c,b=Vr(g);f===this.userId&&r.isPrefixOf(b)?b.length===i&&(a=a.add(y)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let r=[],i=[];return n.forEach(o=>{i.push(Xi(e).get(o).next(s=>{if(s===null)throw ee();oe(s.userId===this.userId),r.push(rs(this.serializer,s))}))}),R.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return U1(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),R.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return R.resolve();let r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return $a(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){let c=Vr(o[1]);i.push(c)}else a.done()}).next(()=>{oe(i.length===0)})})}containsKey(e,n){return B1(e,this.userId,n)}xn(e){return $1(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function B1(t,e,n){let r=up(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return $a(t).J({range:o,H:!0},(a,c,l)=>{let[d,f,g]=a;d===e&&f===i&&(s=!0),l.done()}).next(()=>s)}function Xi(t){return Ft(t,"mutations")}function $a(t){return Ft(t,"documentMutations")}function $1(t){return Ft(t,"mutationQueues")}var tc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var fw=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let r=new tc(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ae.fromTimestamp(new Je(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Va(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(oe(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0,o=[];return Va(e).J((s,a)=>{let c=fl(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>R.waitFor(o)).next(()=>i)}forEachTarget(e,n){return Va(e).J((r,i)=>{let o=fl(i);n(o)})}Bn(e){return wM(e).get("targetGlobalKey").next(n=>(oe(n!==null),n))}kn(e,n){return wM(e).put("targetGlobalKey",n)}qn(e,n){return Va(e).put(V1(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=ds(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Va(e).J({range:i,index:"queryTargetsIndex"},(s,a,c)=>{let l=fl(a);$l(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){let i=[],o=Ji(e);return n.forEach(s=>{let a=dn(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),R.waitFor(i)}removeMatchingKeys(e,n,r){let i=Ji(e);return R.forEach(n,o=>{let s=dn(o.path);return R.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){let r=Ji(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ji(e),o=_e();return i.J({range:r,H:!0},(s,a,c)=>{let l=Vr(s[1]),d=new Q(l);o=o.add(d)}).next(()=>o)}containsKey(e,n){let r=dn(n.path),i=IDBKeyRange.bound([r],[UM(r)],!1,!0),o=0;return Ji(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],c,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}ot(e,n){return Va(e).get(n).next(r=>r?fl(r):null)}};function Va(t){return Ft(t,"targets")}function wM(t){return Ft(t,"targetGlobal")}function Ji(t){return Ft(t,"targetDocuments")}function EM([t,e],[n,r]){let i=ge(t,n);return i===0?ge(e,r):i}var pw=class{constructor(e){this.Kn=e,this.buffer=new ze(EM),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();EM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},gw=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){j("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>A(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?j("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield po(n)}yield this.zn(3e5)}))}},mw=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return R.resolve(Pn.oe);let r=new pw(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(_M)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_M):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),La()<=gr.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),R.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function I3(t,e){return new mw(t,e)}var yw=class{constructor(e,n){this.db=e,this.garbageCollector=I3(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return sp(e,r)}removeReference(e,n,r){return sp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return sp(e,n)}er(e,n){return function(i,o){let s=!1;return $1(i).Y(a=>B1(i,a,o).next(c=>(c&&(s=!0),R.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Xn(e,(s,a)=>{if(a<=n){let c=this.er(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ae.min()),Ji(e).delete(function(f){return[0,dn(f.path)]}(s))))});i.push(c)}}).next(()=>R.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return sp(e,n)}Xn(e,n){let r=Ji(e),i,o=Pn.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{s===0?(o!==Pn.oe&&n(new Q(Vr(i)),o),o=l,i=c):o=Pn.oe}).next(()=>{o!==Pn.oe&&n(new Q(Vr(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function sp(t,e){return Ji(t).put(function(r,i){return{targetId:0,path:dn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var Vp=class{constructor(){this.changes=new zr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var vw=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return es(e).put(r)}removeEntry(e,n,r){return es(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Pp(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=It.newInvalidDocument(n);return es(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ll(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:It.newInvalidDocument(n)};return es(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ll(n))},(i,o)=>{r={document:this.nr(n,o),size:Op(o)}}).next(()=>r)}getEntries(e,n){let r=Cn();return this.ir(e,n,(i,o)=>{let s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=Cn(),i=new Ke(Q.comparator);return this.ir(e,n,(o,s)=>{let a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,Op(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return R.resolve();let i=new ze(CM);n.forEach(c=>i=i.add(c));let o=IDBKeyRange.bound(ll(i.first()),ll(i.last())),s=i.getIterator(),a=s.getNext();return es(e).J({index:"documentKeyIndex",range:o},(c,l,d)=>{let f=Q.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&CM(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?d.$(ll(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Pp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return es(e).U(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let d=Cn();for(let f of l){let g=this.nr(Q.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(zl(n,g)||i.has(g.key))&&(d=d.insert(g.key,g))}return d})}getAllFromCollectionGroup(e,n,r,i){let o=Cn(),s=IM(n,r),a=IM(n,Gn.max());return es(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,d)=>{let f=this.nr(Q.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new _w(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return bM(e).get("remoteDocumentGlobalKey").next(n=>(oe(!!n),n))}tr(e,n){return bM(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let r=w3(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ae.min())))return r}return It.newInvalidDocument(e)}};function q1(t){return new vw(t)}var _w=class extends Vp{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new zr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new ze((o,s)=>ge(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=uM(this.ar.serializer,s);i=i.add(o.path.popLast());let l=Op(c);r+=l-a.size,n.push(this.ar.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){let c=uM(this.ar.serializer,s.convertToNoDocument(ae.min()));n.push(this.ar.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),R.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function bM(t){return Ft(t,"remoteDocumentGlobal")}function es(t){return Ft(t,"remoteDocumentsV14")}function ll(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IM(t,e){let n=e.documentKey.path.toArray();return[t,Pp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function CM(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ge(n[o],r[o]),i)return i;return i=ge(n.length,r.length),i||(i=ge(n[n.length-2],r[r.length-2]),i||ge(n[n.length-1],r[r.length-1]))}var ww=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Lp=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ml(r.mutation,i,Rn.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=Lr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=hl();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Lr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Cn(),s=gl(),a=function(){return gl()}();return n.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof ur)?o=o.insert(l.key,l):d!==void 0?(s.set(l.key,d.mutation.getFieldMask()),ml(d.mutation,l,d.mutation.getFieldMask(),Je.now())):s.set(l.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),n.forEach((l,d)=>{var f;return a.set(l,new ww(d,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=gl(),i=new Ke((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let d=r.get(c)||Rn.empty();d=a.applyToLocalView(l,d),r.set(c,d);let f=(i.get(a.batchId)||_e()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,f=h1();d.forEach(g=>{if(!o.has(g)){let y=w1(n.get(g),r.get(g));y!==null&&f.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):R.resolve(Lr()),a=-1,c=o;return s.next(l=>R.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?R.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,_e())).next(d=>({batchId:a,changes:d1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=hl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=hl();return this.indexManager.getCollectionParents(e,o).next(a=>R.forEach(a,c=>{let l=function(f,g){return new cr(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let d=l.getKey();s.get(d)===null&&(s=s.insert(d,It.newInvalidDocument(d)))});let a=hl();return s.forEach((c,l)=>{let d=o.get(c);d!==void 0&&ml(d.mutation,l,Rn.empty(),Je.now()),zl(n,l)&&(a=a.insert(c,l))}),a})}};var Ew=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return R.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gt(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:SE(i.bundledQuery),readTime:gt(i.readTime)}}(n)),R.resolve()}};var bw=class{constructor(){this.overlays=new Ke(Q.comparator),this.hr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Lr();return R.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),R.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){let i=Lr(),o=n.length+1,s=new Q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ke((l,d)=>l-d),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=o.get(l.largestBatchId);d===null&&(d=Lr(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=Lr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return R.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Tl(n,r));let o=this.hr.get(n);o===void 0&&(o=_e(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var Nl=class{constructor(){this.Pr=new ze(wt.Ir),this.Tr=new ze(wt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new wt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new wt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new Q(new Pe([])),r=new wt(n,e),i=new wt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new Q(new Pe([])),r=new wt(n,e),i=new wt(n,e+1),o=_e();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new wt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},wt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Q.comparator(e.key,n.key)||ge(e.pr,n.pr)}static Er(e,n){return ge(e.pr,n.pr)||Q.comparator(e.key,n.key)}};var Iw=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ze(wt.Ir)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new xl(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new wt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,n){return R.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(ge);return n.forEach(i=>{let o=new wt(i,0),s=new wt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),R.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Q.isDocumentKey(o)||(o=o.child(""));let s=new wt(new Q(o),0),a=new ze(ge);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.pr)),!0)},s),R.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){oe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return R.forEach(n.mutations,i=>{let o=new wt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new wt(n,0),i=this.wr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Cw=class{constructor(e){this.vr=e,this.docs=function(){return new Ke(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Cn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():It.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Cn(),s=n.path,a=new Q(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||EE($M(d),r)<=0||(i.has(d.key)||zl(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ee()}Fr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dw(this)}getSize(e){return R.resolve(this.size)}},Dw=class extends Vp{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var xw=class{constructor(e){this.persistence=e,this.Mr=new zr(n=>ds(n),$l),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Nl,this.targetCount=0,this.Lr=tc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),R.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.qn(n),R.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),R.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Nr.containsKey(n))}};var jp=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new Pn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new xw(this),this.indexManager=new dw,this.remoteDocumentCache=function(i){return new Cw(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Mp(n),this.$r=new Ew(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Iw(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new Tw(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Tw=class extends vp{constructor(e){super(),this.currentSequenceNumber=e}},Up=class t{constructor(e){this.persistence=e,this.zr=new Nl,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw ee()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),R.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Jr,r=>{let i=Q.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ae.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return R.or([()=>R.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Sw=class{constructor(e){this.serializer=e}O(e,n,r,i){let o=new _p("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BA,{unique:!0}),c.createObjectStore("documentMutations")}(e),DM(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=R.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),DM(e)),s=s.next(()=>function(c){let l=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ae.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(c,l){return l.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BA,{unique:!0});let f=l.store("mutations"),g=d.map(y=>f.put(y));return R.waitFor(g)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:B4});l.createIndex("collectionPathOverlayIndex",$4,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",q4,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:M4});l.createIndex("documentKeyIndex",P4),l.createIndex("collectionGroupIndex",R4)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:V4}).createIndex("sequenceNumberIndex",L4,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:j4}).createIndex("documentKeyIndex",U4,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),s}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Op(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>R.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>R.forEach(a,c=>{oe(c.userId===o.userId);let l=rs(this.serializer,c);return U1(e,o.userId,l).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let o=[];return r.J((s,a)=>{let c=new Pe(s),l=function(f){return[0,dn(f)]}(c);o.push(n.get(l).next(d=>d?R.resolve():(f=>n.put({targetId:0,path:dn(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>R.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:F4});let r=n.store("collectionParents"),i=new Rl,o=s=>{if(i.add(s)){let a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:dn(c)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{let c=new Pe(s);return o(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,c],l)=>{let d=Vr(a);return o(d.popLast())}))}ri(e){let n=e.store("targets");return n.J((r,i)=>{let o=fl(i),s=V1(this.serializer,o);return n.put(s)})}ii(e,n){let r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new Q(Pe.fromString(f.document.name).popFirst(5)):f.noDocument?Q.fromSegments(f.noDocument.path):f.unknownDocument?Q.fromSegments(f.unknownDocument.path):ee()}(s).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(l))}).next(()=>R.waitFor(i))}si(e,n){let r=n.store("mutations"),i=q1(this.serializer),o=new jp(Up.Hr,this.serializer.ct);return r.U().next(s=>{let a=new Map;return s.forEach(c=>{var l;let d=(l=a.get(c.userId))!==null&&l!==void 0?l:_e();rs(this.serializer,c).keys().forEach(f=>d=d.add(f)),a.set(c.userId,d)}),R.forEach(a,(c,l)=>{let d=new Et(l),f=Rp.lt(this.serializer,d),g=o.getIndexManager(d),y=Fp.lt(d,this.serializer,g,o.referenceDelegate);return new Lp(i,y,f,g).recalculateAndSaveOverlaysForDocumentKeys(new El(n,Pn.oe),c).next()})})}};function DM(t){t.createObjectStore("targetDocuments",{keyPath:k4}).createIndex("documentTargetsIndex",O4,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",N4,{unique:!0}),t.createObjectStore("targetGlobal")}var _0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Aw=class t{constructor(e,n,r,i,o,s,a,c,l,d,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=l,this.ai=d,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=g=>Promise.resolve(),!t.D())throw new L(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yw(this,i),this.Ti=n+"main",this.serializer=new Mp(c),this.Ei=new io(this.Ti,this.ui,new Sw(this.serializer)),this.Qr=new fw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=q1(this.serializer),this.$r=new iw,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&ft("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(k.FAILED_PRECONDITION,_0);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Pn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>A(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(n=>A(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>A(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ap(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(go(e))return j("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return j("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return dl(e).get("owner").next(n=>R.resolve(this.Si(n)))}bi(e){return ap(e).delete(this.clientId)}Di(){return A(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=Ft(n,"clientMetadata");return r.U().next(i=>{let o=this.vi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return R.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?R.resolve(!0):dl(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new L(k.FAILED_PRECONDITION,_0);return!1}}return!(!this.networkEnabled||!this.inForeground)||ap(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&j("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return A(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new El(e,Pn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>ap(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Fp.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hw(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Rp.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){j("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",o=function(c){return c===16?H4:c===15?YM:c===14?QM:c===13?KM:c===12?z4:c===11?WM:void ee()}(this.ui),s;return this.Ei.runTransaction(e,i,o,a=>(s=new El(a,this.kr?this.kr.next():Pn.oe),n==="readwrite-primary"?this.gi(s).next(c=>!!c||this.pi(s)).next(c=>{if(!c)throw ft(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new L(k.FAILED_PRECONDITION,qM);return r(s)}).next(c=>this.wi(s).next(()=>c)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return dl(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new L(k.FAILED_PRECONDITION,_0)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dl(e).put("owner",n)}static D(){return io.D()}yi(e){let n=dl(e);return n.get("owner").next(r=>this.Si(r)?(j("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):R.resolve())}Ci(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(ft(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;ym()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return j("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ft("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){ft("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function dl(t){return Ft(t,"owner")}function ap(t){return Ft(t,"clientMetadata")}function ME(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Mw=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=_e(),i=_e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Pw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Bp=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return ym()?8:zM(Zc())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Pw;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(La()<=gr.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),R.resolve()):(La()<=gr.DEBUG&&j("QueryEngine","Query:",ja(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(La()<=gr.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hn(n))):R.resolve())}ji(e,n){if(XA(n))return R.resolve(null);let r=hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xp(n,null,"F"),r=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,s,c.readTime)?this.ji(e,xp(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,r,i){return XA(n)||i.isEqual(ae.min())?R.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?R.resolve(null):(La()<=gr.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ja(n)),this.es(e,s,n,BM(i,-1)).next(a=>a))})}Zi(e,n){let r=new ze(u1(e));return n.forEach((i,o)=>{zl(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return La()<=gr.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",ja(n)),this.zi.getDocumentsMatchingQuery(e,n,Gn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Rw=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ke(ge),this.rs=new zr(o=>ds(o),$l),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lp(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function z1(t,e,n,r){return new Rw(t,e,n,r)}function H1(t,e){return A(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=_e();for(let l of i){s.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})})}function C3(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let f=l.batch,g=f.keys(),y=R.resolve();return g.forEach(b=>{y=y.next(()=>d.getEntry(c,b)).next(P=>{let C=l.docVersions.get(b);oe(C!==null),P.version.compareTo(C)<0&&(f.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),d.addEntry(P)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function G1(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function D3(t,e){let n=Y(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(n.Qr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,d.addedDocuments,f)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Ot.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(P,C,O){return P.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(g,y,d)&&a.push(n.Qr.updateTargetData(o,y))});let c=Cn(),l=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(W1(o,s,e.documentUpdates).next(d=>{c=d.cs,l=d.ls})),!r.isEqual(ae.min())){let d=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return R.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ns=i,o))}function W1(t,e,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Cn();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:s,ls:i}})}function x3(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nc(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,R.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new ec(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function rc(t,e,n){return A(this,null,function*(){let r=Y(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!go(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function $p(t,e,n){let r=Y(t),i=ae.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,d){let f=Y(c),g=f.rs.get(d);return g!==void 0?R.resolve(f.ns.get(g)):f.Qr.getTargetData(l,d)}(r,s,hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ae.min(),n?o:_e())).next(a=>(Y1(r,c1(e),a),{documents:a,hs:o})))}function K1(t,e){let n=Y(t),r=Y(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function Q1(t,e){let n=Y(t),r=n.ss.get(e)||ae.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,BM(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Y1(n,e,i),i))}function Y1(t,e,n){let r=t.ss.get(e)||ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}function T3(t,e,n,r){return A(this,null,function*(){let i=Y(t),o=_e(),s=Cn();for(let l of n){let d=e.Ps(l.metadata.name);l.document&&(o=o.add(d));let f=e.Is(l);f.setReadTime(e.Ts(l.metadata.readTime)),s=s.insert(d,f)}let a=i.os.newChangeBuffer({trackRemovals:!0}),c=yield nc(i,function(d){return hn(dc(Pe.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>W1(l,a,s).next(d=>(a.apply(l),d)).next(d=>i.Qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.Qr.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,d.cs,d.ls)).next(()=>d.cs)))})}function S3(r,i){return A(this,arguments,function*(t,e,n=_e()){let o=yield nc(t,hn(SE(e.bundledQuery))),s=Y(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=gt(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.$r.saveNamedQuery(a,e);let l=o.withResumeToken(Ot.EMPTY_BYTE_STRING,c);return s.ns=s.ns.insert(l.targetId,l),s.Qr.updateTargetData(a,l).next(()=>s.Qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Qr.addMatchingKeys(a,n,o.targetId)).next(()=>s.$r.saveNamedQuery(a,e))})})}function xM(t,e){return`firestore_clients_${t}_${e}`}function TM(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function w0(t,e){return`firestore_targets_${t}_${e}`}var qp=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){let i=JSON.parse(r),o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new L(i.error.code,i.error.message))),s?new t(e,n,i.state,o):(ft("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},yl=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){let r=JSON.parse(n),i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new L(r.error.code,r.error.message))),o?new t(e,r.state,i):(ft("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},zp=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=xE();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=HM(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ft("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},Nw=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(ft("SharedClientState",`Failed to parse online state: ${e}`),null)}},kl=class{constructor(){this.activeTargetIds=xE()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},vl=class{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Ke(ge),this.started=!1,this.ys=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=xM(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new kl),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return A(this,null,function*(){let e=yield this.syncEngine.Bi();for(let r of e){if(r===this.Vs)continue;let i=this.getItem(xM(this.persistenceKey,r));if(i){let o=zp.Es(r,i);o&&(this.ps=this.ps.insert(o.clientId,o))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let r=this.xs(n);r&&this.Os(r)}for(let r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(w0(this.persistenceKey,e));if(r){let i=yl.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(w0(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return j("SharedClientState","READ",e,n),n}setItem(e,n){j("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){j("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(j("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void ft("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>A(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let r=this.$s(n.key);return this.Us(r,null)}{let r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){let r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){let r=function(o){let s=Pn.oe;if(o!=null)try{let a=JSON.parse(o);oe(typeof a=="number"),s=a}catch(a){ft("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);r!==Pn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){let r=this.Js(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){let i=new qp(this.currentUser,e,n,r),o=TM(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Bs(e){let n=TM(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){let i=w0(this.persistenceKey,e),o=new yl(e,n,r);this.setItem(i,o.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let r=this.$s(e);return zp.Es(r,n)}Gs(e,n){let r=this.Ds.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return qp.Es(new Et(o),i,n)}js(e,n){let r=this.Cs.exec(e),i=Number(r[1]);return yl.Es(i,n)}xs(e){return Nw.Es(e)}Js(e){return JSON.parse(e)}zs(e){return A(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);j("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=xE();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},Hp=class{constructor(){this.no=new kl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new kl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var kw=class{io(e){}shutdown(){}};var Gp=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var cp=null;function E0(){return cp===null?cp=function(){return 268435456+Math.round(2147483648*Math.random())}():cp++,"0x"+cp.toString(16)}var A3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Ow=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Zt="WebChannelConnection",Fw=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){let a=E0(),c=this.vo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,o,s),this.Mo(n,c,l,i).then(d=>(j("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Hn("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){let i=A3[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let o=E0();return new Promise((s,a)=>{let c=new h0;c.setWithCredentials(!0),c.listenOnce(p0.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case al.NO_ERROR:let d=c.getResponseJson();j(Zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case al.TIMEOUT:j(Zt,`RPC '${e}' ${o} timed out`),a(new L(k.DEADLINE_EXCEEDED,"Request time out"));break;case al.HTTP_ERROR:let f=c.getStatus();if(j(Zt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let b=function(C){let O=C.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(O)>=0?O:k.UNKNOWN}(y.status);a(new L(b,y.message))}else a(new L(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new L(k.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{j(Zt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);j(Zt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}Oo(e,n,r){let i=E0(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=y0(),a=m0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new f0({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=o.join("");j(Zt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c),g=!1,y=!1,b=new Ow({lo:C=>{y?j(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(g||(j(Zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),j(Zt,`RPC '${e}' stream ${i} sending:`,C),f.send(C))},ho:()=>f.close()}),P=(C,O,$)=>{C.listen(O,V=>{try{$(V)}catch(B){setTimeout(()=>{throw B},0)}})};return P(f,Na.EventType.OPEN,()=>{y||(j(Zt,`RPC '${e}' stream ${i} transport opened.`),b.mo())}),P(f,Na.EventType.CLOSE,()=>{y||(y=!0,j(Zt,`RPC '${e}' stream ${i} transport closed`),b.po())}),P(f,Na.EventType.ERROR,C=>{y||(y=!0,Hn(Zt,`RPC '${e}' stream ${i} transport errored:`,C),b.po(new L(k.UNAVAILABLE,"The operation could not be completed")))}),P(f,Na.EventType.MESSAGE,C=>{var O;if(!y){let $=C.data[0];oe(!!$);let V=$,B=V.error||((O=V[0])===null||O===void 0?void 0:O.error);if(B){j(Zt,`RPC '${e}' stream ${i} received error:`,B);let X=B.status,Z=function(_){let I=_t[_];if(I!==void 0)return I1(I)}(X),E=B.message;Z===void 0&&(Z=k.INTERNAL,E="Unknown error status: "+X+" with message "+B.message),y=!0,b.po(new L(Z,E)),f.close()}else j(Zt,`RPC '${e}' stream ${i} received:`,$),b.yo($)}}),P(a,g0.STAT_EVENT,C=>{C.stat===ip.PROXY?j(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===ip.NOPROXY&&j(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.fo()},0),b}};function Z1(){return typeof window<"u"?window:null}function fp(){return typeof document<"u"?document:null}function Hl(t){return new J0(t,!0)}var Ol=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Wp=class{constructor(e,n,r,i,o,s,a,c){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Ol(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return A(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return A(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return A(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(ft(n.toString()),ft("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new L(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>A(this,null,function*(){this.state=0,this.start()}))}c_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Vw=class extends Wp{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=f3(this.serializer,e),r=function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?gt(s.readTime):ae.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=nw(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=Cp(c)?{documents:P1(o,c)}:{query:R1(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=D1(o,s.resumeToken);let l=ew(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=Ja(o,s.snapshotVersion.toTimestamp());let l=ew(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=g3(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=nw(this.serializer),n.removeTarget=e,this.i_(n)}},Lw=class extends Wp{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=p3(e.writeResults,e.commitTime),r=gt(e.commitTime);return this.listener.A_(r,n)}return oe(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=nw(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Pl(this.serializer,r))};this.i_(n)}};var jw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new L(k.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,tw(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(k.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,tw(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(k.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Uw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ft(n),this.y_=!1):j("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Bw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(()=>A(this,null,function*(){mo(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(c){return A(this,null,function*(){let l=Y(c);l.M_.add(4),yield hc(l),l.N_.set("Unknown"),l.M_.delete(4),yield Gl(l)})}(this))}))}),this.N_=new Uw(r,i)}};function Gl(t){return A(this,null,function*(){if(mo(t))for(let e of t.x_)yield e(!0)})}function hc(t){return A(this,null,function*(){for(let e of t.x_)yield e(!1)})}function hg(t,e){let n=Y(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),NE(n)?RE(n):pc(n).Xo()&&PE(n,e))}function ic(t,e){let n=Y(t),r=pc(n);n.F_.delete(e),r.Xo()&&X1(n,e),n.F_.size===0&&(r.Xo()?r.n_():mo(n)&&n.N_.set("Unknown"))}function PE(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pc(t).P_(e)}function X1(t,e){t.L_.xe(e),pc(t).I_(e)}function RE(t){t.L_=new X0({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pc(t).start(),t.N_.w_()}function NE(t){return mo(t)&&!pc(t).Zo()&&t.F_.size>0}function mo(t){return Y(t).M_.size===0}function J1(t){t.L_=void 0}function M3(t){return A(this,null,function*(){t.N_.set("Online")})}function P3(t){return A(this,null,function*(){t.F_.forEach((e,n)=>{PE(t,e)})})}function R3(t,e){return A(this,null,function*(){J1(t),NE(t)?(t.N_.D_(e),RE(t)):t.N_.set("Unknown")})}function N3(t,e,n){return A(this,null,function*(){if(t.N_.set("Online"),e instanceof Sp&&e.state===2&&e.cause)try{yield function(i,o){return A(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Kp(t,r)}else if(e instanceof Ga?t.L_.Ke(e):e instanceof Tp?t.L_.He(e):t.L_.We(e),!n.isEqual(ae.min()))try{let r=yield G1(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.F_.get(l);d&&o.F_.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let d=o.F_.get(c);if(!d)return;o.F_.set(c,d.withResumeToken(Ot.EMPTY_BYTE_STRING,d.snapshotVersion)),X1(o,c);let f=new ec(d.target,c,l,d.sequenceNumber);PE(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield Kp(t,r)}})}function Kp(t,e,n){return A(this,null,function*(){if(!go(e))throw e;t.M_.add(1),yield hc(t),t.N_.set("Offline"),n||(n=()=>G1(t.localStore)),t.asyncQueue.enqueueRetryable(()=>A(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Gl(t)}))})}function eP(t,e){return e().catch(n=>Kp(t,n,e))}function fc(t){return A(this,null,function*(){let e=Y(t),n=fo(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;k3(e);)try{let i=yield x3(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,O3(e,i)}catch(i){yield Kp(e,i)}tP(e)&&nP(e)})}function k3(t){return mo(t)&&t.v_.length<10}function O3(t,e){t.v_.push(e);let n=fo(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function tP(t){return mo(t)&&!fo(t).Zo()&&t.v_.length>0}function nP(t){fo(t).start()}function F3(t){return A(this,null,function*(){fo(t).V_()})}function V3(t){return A(this,null,function*(){let e=fo(t);for(let n of t.v_)e.d_(n.mutations)})}function L3(t,e,n){return A(this,null,function*(){let r=t.v_.shift(),i=Q0.from(r,e,n);yield eP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield fc(t)})}function j3(t,e){return A(this,null,function*(){e&&fo(t).E_&&(yield function(r,i){return A(this,null,function*(){if(function(s){return b1(s)&&s!==k.ABORTED}(i.code)){let o=r.v_.shift();fo(r).t_(),yield eP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield fc(r)}})}(t,e)),tP(t)&&nP(t)})}function SM(t,e){return A(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=mo(n);n.M_.add(3),yield hc(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Gl(n)})}function $w(t,e){return A(this,null,function*(){let n=Y(t);e?(n.M_.delete(2),yield Gl(n)):e||(n.M_.add(2),yield hc(n),n.N_.set("Unknown"))})}function pc(t){return t.B_||(t.B_=function(n,r,i){let o=Y(n);return o.f_(),new Vw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:M3.bind(null,t),To:P3.bind(null,t),Ao:R3.bind(null,t),h_:N3.bind(null,t)}),t.x_.push(e=>A(this,null,function*(){e?(t.B_.t_(),NE(t)?RE(t):t.N_.set("Unknown")):(yield t.B_.stop(),J1(t))}))),t.B_}function fo(t){return t.k_||(t.k_=function(n,r,i){let o=Y(n);return o.f_(),new Lw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:F3.bind(null,t),Ao:j3.bind(null,t),R_:V3.bind(null,t),A_:L3.bind(null,t)}),t.x_.push(e=>A(this,null,function*(){e?(t.k_.t_(),yield fc(t)):(yield t.k_.stop(),t.v_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var qw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gc(t,e){if(ft("AsyncQueue",`${e}: ${t}`),go(t))return new L(k.UNAVAILABLE,`${e}: ${t}`);throw t}var Qp=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=hl(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Yp=class{constructor(){this.q_=new Ke(Q.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ee():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},oc=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Qp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ql(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var zw=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},Hw=class{constructor(){this.queries=new zr(e=>a1(e),ql),this.onlineState="Unknown",this.z_=new Set}};function kE(t,e){return A(this,null,function*(){let n=Y(t),r=3,i=e.query,o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new zw,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield n.onListen(i,!0);break;case 1:o.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=gc(s,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&FE(n)})}function OE(t,e){return A(this,null,function*(){let n=Y(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function U3(t,e){let n=Y(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&FE(n)}function B3(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let o of i.U_)o.onError(n);r.queries.delete(e)}function FE(t){t.z_.forEach(e=>{e.next()})}var Gw,AM;(AM=Gw||(Gw={})).J_="default",AM.Cache="cache";var Fl=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Gw.Cache}};var Ww=class{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}};var Zp=class{constructor(e){this.serializer=e}Ps(e){return Ur(this.serializer,e)}Is(e){return e.metadata.exists?M1(this.serializer,e.document,!1):It.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return gt(e)}},Kw=class{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rP(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;let r=Pe.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){let n=new Map,r=new Zp(this.serializer);for(let i of e)if(i.metadata.queries){let o=r.Ps(i.metadata.name);for(let s of i.metadata.queries){let a=(n.get(s)||_e()).add(o);n.set(s,a)}}return n}complete(){return A(this,null,function*(){let e=yield T3(this.localStore,new Zp(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(let r of this.queries)yield S3(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}})}};function rP(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Xp=class{constructor(e){this.key=e}},Jp=class{constructor(e){this.key=e}},eg=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_e(),this.mutatedKeys=_e(),this.Ia=u1(e),this.Ta=new Qp(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new Yp,i=n?n.Ta:this.Ta,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),y=zl(this.query,f)?f:null,b=!!g&&this.mutatedKeys.has(g.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),C=!1;g&&y?g.data.isEqual(y.data)?b!==P&&(r.track({type:3,doc:y}),C=!0):this.Ra(g,y)||(r.track({type:2,doc:y}),C=!0,(c&&this.Ia(y,c)>0||l&&this.Ia(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),C=!0):g&&!y&&(r.track({type:1,doc:g}),C=!0,(c||l)&&(a=!0)),C&&(y?(s=s.add(y),o=P?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((d,f)=>function(y,b){let P=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return P(y)-P(b)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,l=c!==this.ha;return this.ha=c,s.length!==0||l?{snapshot:new oc(this.query,e.Ta,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Yp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=_e(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Jp(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Xp(r))}),n}pa(e){this.la=e.hs,this.Pa=_e();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return oc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Qw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Yw=class{constructor(e){this.key=e,this.wa=!1}},Zw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new zr(a=>a1(a),ql),this.Da=new Map,this.Ca=new Set,this.va=new Ke(Q.comparator),this.Fa=new Map,this.Ma=new Nl,this.xa={},this.Oa=new Map,this.Na=tc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function $3(t,e,n=!0){return A(this,null,function*(){let r=fg(t),i,o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield iP(r,e,n,!0),i})}function q3(t,e){return A(this,null,function*(){let n=fg(t);yield iP(n,e,!0,!1)})}function iP(t,e,n,r){return A(this,null,function*(){let i=yield nc(t.localStore,hn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield VE(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&hg(t.remoteStore,i),a})}function VE(t,e,n,r,i){return A(this,null,function*(){t.Ba=(f,g,y)=>function(P,C,O,$){return A(this,null,function*(){let V=C.view.da(O);V.Xi&&(V=yield $p(P.localStore,C.query,!1).then(({documents:E})=>C.view.da(E,V)));let B=$&&$.targetChanges.get(C.targetId),X=$&&$.targetMismatches.get(C.targetId)!=null,Z=C.view.applyChanges(V,P.isPrimaryClient,B,X);return Xw(P,C.targetId,Z.fa),Z.snapshot})}(t,f,g,y);let o=yield $p(t.localStore,e,!0),s=new eg(e,o.hs),a=s.da(o.documents),c=Al.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);Xw(t,n,l.fa);let d=new Qw(e,n,s);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot})}function z3(t,e,n){return A(this,null,function*(){let r=Y(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!ql(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield rc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ic(r.remoteStore,i.targetId),sc(r,i.targetId)}).catch(po))):(sc(r,i.targetId),yield rc(r.localStore,i.targetId,!0))})}function H3(t,e){return A(this,null,function*(){let n=Y(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ic(n.remoteStore,r.targetId))})}function G3(t,e,n){return A(this,null,function*(){let r=BE(t);try{let i=yield function(s,a){let c=Y(s),l=Je.now(),d=a.reduce((y,b)=>y.add(b.key),_e()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Cn(),P=_e();return c.os.getEntries(y,d).next(C=>{b=C,b.forEach((O,$)=>{$.isValidDocument()||(P=P.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,b)).next(C=>{f=C;let O=[];for(let $ of a){let V=s3($,f.get($.key).overlayedDocument);V!=null&&O.push(new ur($.key,V,e1(V.value.mapValue),ct.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,O,a)}).next(C=>{g=C;let O=C.applyToLocalDocumentSet(f,P);return c.documentOverlayCache.saveOverlays(y,C.batchId,O)})}).then(()=>({batchId:g.batchId,changes:d1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.xa[s.currentUser.toKey()];l||(l=new Ke(ge)),l=l.insert(a,c),s.xa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield _i(r,i.changes),yield fc(r.remoteStore)}catch(i){let o=gc(i,"Failed to persist write");n.reject(o)}})}function oP(t,e){return A(this,null,function*(){let n=Y(t);try{let r=yield D3(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Fa.get(o);s&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?oe(s.wa):i.removedDocuments.size>0&&(oe(s.wa),s.wa=!1))}),yield _i(n,r,e)}catch(r){yield po(r)}})}function MM(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((o,s)=>{let a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=Y(s);c.onlineState=a;let l=!1;c.queries.forEach((d,f)=>{for(let g of f.U_)g.j_(a)&&(l=!0)}),l&&FE(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function W3(t,e,n){return A(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Ke(Q.comparator);s=s.insert(o,It.newNoDocument(o,ae.min()));let a=_e().add(o),c=new Sl(ae.min(),new Map,new Ke(ge),s,a);yield oP(r,c),r.va=r.va.remove(o),r.Fa.delete(e),UE(r)}else yield rc(r.localStore,e,!1).then(()=>sc(r,e,n)).catch(po)})}function K3(t,e){return A(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield C3(n.localStore,e);jE(n,r,null),LE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield _i(n,i)}catch(i){yield po(i)}})}function Q3(t,e,n){return A(this,null,function*(){let r=Y(t);try{let i=yield function(s,a){let c=Y(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(oe(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(r.localStore,e);jE(r,e,n),LE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield _i(r,i)}catch(i){yield po(i)}})}function Y3(t,e){return A(this,null,function*(){let n=Y(t);mo(n.remoteStore)||j("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(s){let a=Y(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();let i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){let i=gc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function LE(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function jE(t,e,n){let r=Y(t),i=r.xa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function sc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||sP(t,r)})}function sP(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(ic(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),UE(t))}function Xw(t,e,n){for(let r of n)r instanceof Xp?(t.Ma.addReference(r.key,e),Z3(t,r)):r instanceof Jp?(j("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||sP(t,r.key)):ee()}function Z3(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(j("SyncEngine","New document in limbo: "+n),t.Ca.add(r),UE(t))}function UE(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new Q(Pe.fromString(e)),r=t.Na.next();t.Fa.set(r,new Yw(n)),t.va=t.va.insert(n,r),hg(t.remoteStore,new ec(hn(dc(n.path)),r,"TargetPurposeLimboResolution",Pn.oe))}}function _i(t,e,n){return A(this,null,function*(){let r=Y(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{s.push(r.Ba(c,e,n).then(l=>{var d;if((l||n)&&r.isPrimaryClient){let f=l?!l.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){i.push(l);let f=Mw.Ki(c.targetId,l);o.push(f)}}))}),yield Promise.all(s),r.Sa.h_(i),yield function(c,l){return A(this,null,function*(){let d=Y(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>R.forEach(l,g=>R.forEach(g.qi,y=>d.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>R.forEach(g.Qi,y=>d.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!go(f))throw f;j("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let g=f.targetId;if(!f.fromCache){let y=d.ns.get(g),b=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(b);d.ns=d.ns.insert(g,P)}}})}(r.localStore,o))})}function X3(t,e){return A(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield H1(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(c=>{c.reject(new L(k.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _i(n,r.us)}})}function J3(t,e){let n=Y(t),r=n.Fa.get(e);if(r&&r.wa)return _e().add(r.key);{let i=_e(),o=n.Da.get(e);if(!o)return i;for(let s of o){let a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function e5(t,e){return A(this,null,function*(){let n=Y(t),r=yield $p(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&Xw(n,e.targetId,i.fa),i})}function t5(t,e){return A(this,null,function*(){let n=Y(t);return Q1(n.localStore,e).then(r=>_i(n,r))})}function n5(t,e,n,r){return A(this,null,function*(){let i=Y(t),o=yield function(a,c){let l=Y(a),d=Y(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.vn(f,c).next(g=>g?l.localDocuments.getDocuments(f,g):R.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?yield fc(i.remoteStore):n==="acknowledged"||n==="rejected"?(jE(i,e,r||null),LE(i,e),function(a,c){Y(Y(a).mutationQueue).Mn(c)}(i.localStore,e)):ee(),yield _i(i,o)):j("SyncEngine","Cannot apply mutation batch with id: "+e)})}function r5(t,e){return A(this,null,function*(){let n=Y(t);if(fg(n),BE(n),e===!0&&n.La!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield PM(n,r.toArray());n.La=!0,yield $w(n.remoteStore,!0);for(let o of i)hg(n.remoteStore,o)}else if(e===!1&&n.La!==!1){let r=[],i=Promise.resolve();n.Da.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(sc(n,s),rc(n.localStore,s,!0))),ic(n.remoteStore,s)}),yield i,yield PM(n,r),function(s){let a=Y(s);a.Fa.forEach((c,l)=>{ic(a.remoteStore,l)}),a.Ma.mr(),a.Fa=new Map,a.va=new Ke(Q.comparator)}(n),n.La=!1,yield $w(n.remoteStore,!1)}})}function PM(t,e,n){return A(this,null,function*(){let r=Y(t),i=[],o=[];for(let s of e){let a,c=r.Da.get(s);if(c&&c.length!==0){a=yield nc(r.localStore,hn(c[0]));for(let l of c){let d=r.ba.get(l),f=yield e5(r,d);f.snapshot&&o.push(f.snapshot)}}else{let l=yield K1(r.localStore,s);a=yield nc(r.localStore,l),yield VE(r,aP(l),s,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(o),i})}function aP(t){return s1(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function i5(t){return function(n){return Y(Y(n).persistence).Bi()}(Y(t).localStore)}function o5(t,e,n,r){return A(this,null,function*(){let i=Y(t);if(i.La)return void j("SyncEngine","Ignoring unexpected query state notification.");let o=i.Da.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield Q1(i.localStore,c1(o[0])),a=Sl.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ot.EMPTY_BYTE_STRING);yield _i(i,s,a);break}case"rejected":yield rc(i.localStore,e,!0),sc(i,e,r);break;default:ee()}})}function s5(t,e,n){return A(this,null,function*(){let r=fg(t);if(r.La){for(let i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){j("SyncEngine","Adding an already active target "+i);continue}let o=yield K1(r.localStore,i),s=yield nc(r.localStore,o);yield VE(r,aP(o),s.targetId,!1,s.resumeToken),hg(r.remoteStore,s)}for(let i of n)r.Da.has(i)&&(yield rc(r.localStore,i,!1).then(()=>{ic(r.remoteStore,i),sc(r,i)}).catch(po))}})}function fg(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W3.bind(null,e),e.Sa.h_=U3.bind(null,e.eventManager),e.Sa.ka=B3.bind(null,e.eventManager),e}function BE(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q3.bind(null,e),e}function a5(t,e,n){let r=Y(t);(function(o,s,a){return A(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(y,b){let P=Y(y),C=gt(b.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",O=>P.$r.getBundleMetadata(O,b.id)).then(O=>!!O&&O.createTime.compareTo(C)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(rP(c));let l=new Kw(c,o.localStore,s.serializer),d=yield s.qa();for(;d;){let g=yield l._a(d);g&&a._updateProgress(g),d=yield s.qa()}let f=yield l.complete();return yield _i(o,f.ca,void 0),yield function(y,b){let P=Y(y);return P.persistence.runTransaction("Save bundle","readwrite",C=>P.$r.saveBundleMetadata(C,b))}(o.localStore,c),a._completeWith(f.progress),Promise.resolve(f.ua)}catch(c){return Hn("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var Vl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return A(this,null,function*(){this.serializer=Hl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return z1(this.persistence,new Bp,e.initialUser,this.serializer)}createPersistence(e){return new jp(Up.Hr,this.serializer)}createSharedClientState(e){return new Hp}terminate(){return A(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var tg=class t extends Vl{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return A(this,null,function*(){yield pm(t.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield BE(this.Qa.syncEngine),yield fc(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return z1(this.persistence,new Bp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new gw(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new N0(n,this.persistence);return new R0(e.asyncQueue,r)}createPersistence(e){let n=ME(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new Aw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Z1(),fp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Hp}},Jw=class t extends tg{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return A(this,null,function*(){yield pm(t.prototype,this,"initialize").call(this,e);let n=this.Qa.syncEngine;this.sharedClientState instanceof vl&&(this.sharedClientState.syncEngine={Zs:n5.bind(null,n),Xs:o5.bind(null,n),eo:s5.bind(null,n),Bi:i5.bind(null,n),Ys:t5.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(r=>A(this,null,function*(){yield r5(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=Z1();if(!vl.D(n))throw new L(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=ME(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vl(n,e.asyncQueue,r,e.clientId,e.initialUser)}},Ll=class{initialize(e,n){return A(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X3.bind(null,this.syncEngine),yield $w(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Hw}()}createDatastore(e){let n=Hl(e.databaseInfo.databaseId),r=function(o){return new Fw(o)}(e.databaseInfo);return function(o,s,a,c){return new jw(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Bw(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>MM(this.syncEngine,n,0),function(){return Gp.D()?new Gp:new kw}())}createSyncEngine(e,n){return function(i,o,s,a,c,l,d){let f=new Zw(i,o,s,a,c,l);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return A(this,null,function*(){var e;yield function(r){return A(this,null,function*(){let i=Y(r);j("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield hc(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function RM(t,e=10240){let n=0;return{read(){return A(this,null,function*(){if(n<t.byteLength){let i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})},cancel(){return A(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var ac=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ft("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var eE=class{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new bt,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}getMetadata(){return A(this,null,function*(){return this.metadata.promise})}qa(){return A(this,null,function*(){return yield this.getMetadata(),this.Ga()})}Ga(){return A(this,null,function*(){let e=yield this.za();if(e===null)return null;let n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);let i=yield this.Ha(r);return new Ww(JSON.parse(i),e.length+r)})}Ja(){return this.buffer.findIndex(e=>e===123)}za(){return A(this,null,function*(){for(;this.Ja()<0&&!(yield this.Ya()););if(this.buffer.length===0)return null;let e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Ha(e){return A(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ya())&&this.ja("Reached the end of bundle when more is expected.");let n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){return A(this,null,function*(){let e=yield this.Ua.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var tE=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return A(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new L(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(i,o){return A(this,null,function*(){let s=Y(i),a={documents:o.map(f=>Ml(s.serializer,f))},c=yield s.xo("BatchGetDocuments",s.serializer.databaseId,Pe.emptyPath(),a,o.length),l=new Map;c.forEach(f=>{let g=h3(s.serializer,f);l.set(g.key.toString(),g)});let d=[];return o.forEach(f=>{let g=l.get(f.toString());oe(!!g),d.push(g)}),d})}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ho(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return A(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=Q.fromPath(r);this.mutations.push(new Dl(i,this.precondition(i)))}),yield function(r,i){return A(this,null,function*(){let o=Y(r),s={writes:i.map(a=>Pl(o.serializer,a))};yield o.Co("Commit",o.serializer.databaseId,Pe.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ee();n=ae.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new L(k.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ae.min())?ct.exists(!1):ct.updateTime(n):ct.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ae.min()))throw new L(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(n)}return ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var nE=class{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Za=r.maxAttempts,this.Yo=new Ol(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(()=>A(this,null,function*(){let e=new tE(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})}))}tu(e){try{let n=this.updateFunction(e);return!Bl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!b1(n)}return!1}};var rE=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>A(this,null,function*(){j("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(j("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>A(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=gc(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function pp(t,e){return A(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>A(this,null,function*(){r.isEqual(i)||(yield H1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function iE(t,e){return A(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield $E(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>SM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>SM(e.remoteStore,i)),t._onlineComponents=e})}function cP(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function $E(t){return A(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield pp(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!cP(n))throw n;Hn("Error using user provided cache. Falling back to memory cache: "+n),yield pp(t,new Vl)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield pp(t,new Vl);return t._offlineComponents})}function pg(t){return A(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield iE(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield iE(t,new Ll))),t._onlineComponents})}function uP(t){return $E(t).then(e=>e.persistence)}function qE(t){return $E(t).then(e=>e.localStore)}function lP(t){return pg(t).then(e=>e.remoteStore)}function zE(t){return pg(t).then(e=>e.syncEngine)}function c5(t){return pg(t).then(e=>e.datastore)}function cc(t){return A(this,null,function*(){let e=yield pg(t),n=e.eventManager;return n.onListen=$3.bind(null,e.syncEngine),n.onUnlisten=z3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H3.bind(null,e.syncEngine),n})}function u5(t){return t.asyncQueue.enqueue(()=>A(this,null,function*(){let e=yield uP(t),n=yield lP(t);return e.setNetworkEnabled(!0),function(i){let o=Y(i);return o.M_.delete(0),Gl(o)}(n)}))}function l5(t){return t.asyncQueue.enqueue(()=>A(this,null,function*(){let e=yield uP(t),n=yield lP(t);return e.setNetworkEnabled(!1),function(i){return A(this,null,function*(){let o=Y(i);o.M_.add(0),yield hc(o),o.N_.set("Offline")})}(n)}))}function d5(t,e){let n=new bt;return t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(i,o,s){return A(this,null,function*(){try{let a=yield function(l,d){let f=Y(l);return f.persistence.runTransaction("read document","readonly",g=>f.localDocuments.getDocument(g,d))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new L(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=gc(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield qE(t),e,n)})),n.promise}function dP(t,e,n={}){let r=new bt;return t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(o,s,a,c,l){let d=new ac({next:g=>{s.enqueueAndForget(()=>OE(o,f));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new L(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?l.reject(new L(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),f=new Fl(dc(a.path),d,{includeMetadataChanges:!0,ra:!0});return kE(o,f)}(yield cc(t),t.asyncQueue,e,n,r)})),r.promise}function h5(t,e){let n=new bt;return t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(i,o,s){return A(this,null,function*(){try{let a=yield $p(i,o,!0),c=new eg(o,a.hs),l=c.da(a.documents),d=c.applyChanges(l,!1);s.resolve(d.snapshot)}catch(a){let c=gc(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield qE(t),e,n)})),n.promise}function hP(t,e,n={}){let r=new bt;return t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(o,s,a,c,l){let d=new ac({next:g=>{s.enqueueAndForget(()=>OE(o,f)),g.fromCache&&c.source==="server"?l.reject(new L(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),f=new Fl(a,d,{includeMetadataChanges:!0,ra:!0});return kE(o,f)}(yield cc(t),t.asyncQueue,e,n,r)})),r.promise}function f5(t,e){let n=new ac(e);return t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(i,o){Y(i).z_.add(o),o.next()}(yield cc(t),n)})),()=>{n.$a(),t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return function(i,o){Y(i).z_.delete(o)}(yield cc(t),n)}))}}function p5(t,e,n,r){let i=function(s,a){let c;return c=typeof s=="string"?C1().encode(s):s,function(d,f){return new eE(d,f)}(function(d,f){if(d instanceof Uint8Array)return RM(d,f);if(d instanceof ArrayBuffer)return RM(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,Hl(e));t.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){a5(yield zE(t),i,r)}))}function g5(t,e){return t.asyncQueue.enqueue(()=>A(this,null,function*(){return function(r,i){let o=Y(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield qE(t),e)}))}function fP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var NM=new Map;function HE(t,e,n){if(!n)throw new L(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GE(t,e,n,r){if(e===!0&&r===!0)throw new L(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kM(t){if(!Q.isDocumentKey(t))throw new L(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OM(t){if(Q.isDocumentKey(t))throw new L(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function Re(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=gg(t);throw new L(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function pP(t,e){if(e<=0)throw new L(k.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var ng=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ng({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ng(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new b0;switch(r.type){case"firstParty":return new x0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=NM.get(n);r&&(j("ComponentProvider","Removing Datastore"),NM.delete(n),r.terminate())}(this),Promise.resolve()}};function gP(t,e,n,r={}){var i;let o=(t=Re(t,gs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Hn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Et.MOCK_USER;else{a=wd(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Et(l)}t._authCredentials=new I0(new gp(a,c))}}var qt=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},He=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Br=class t extends qt{constructor(e,n,r){super(e,n,dc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new Q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function WE(t,e,...n){if(t=Ae(t),HE("collection","path",e),t instanceof gs){let r=Pe.fromString(e,...n);return OM(r),new Br(t,null,r)}{if(!(t instanceof He||t instanceof Br))throw new L(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return OM(r),new Br(t.firestore,null,r)}}function mP(t,e){if(t=Re(t,gs),HE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new L(k.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qt(t,null,function(r){return new cr(Pe.emptyPath(),r)}(e))}function Wl(t,e,...n){if(t=Ae(t),arguments.length===1&&(e=mp.newId()),HE("doc","path",e),t instanceof gs){let r=Pe.fromString(e,...n);return kM(r),new He(t,null,new Q(r))}{if(!(t instanceof He||t instanceof Br))throw new L(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return kM(r),new He(t.firestore,t instanceof Br?t.converter:null,new Q(r))}}function KE(t,e){return t=Ae(t),e=Ae(e),(t instanceof He||t instanceof Br)&&(e instanceof He||e instanceof Br)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function QE(t,e){return t=Ae(t),e=Ae(e),t instanceof qt&&e instanceof qt&&t.firestore===e.firestore&&ql(t._query,e._query)&&t.converter===e.converter}var oE=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Ol(this,"async_queue_retry"),this.hu=()=>{let n=fp();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=fp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new bt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return A(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!go(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ft("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=qw.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&ee()}verifyOperationInProgress(){}du(){return A(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function sE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var aE=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new bt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var yP=-1,Ye=class extends gs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new oE}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vP(this),this._firestoreClient.terminate()}};function xt(t){return t._firestoreClient||vP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vP(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,d){return new k0(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,fP(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new rE(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function _P(t,e){SP(t=Re(t,Ye));let n=xt(t);if(n._uninitializedComponentsProvider)throw new L(k.FAILED_PRECONDITION,"SDK cache is already specified.");Hn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings(),i=new Ll;return EP(n,i,new tg(i,r.cacheSizeBytes,e?.forceOwnership))}function wP(t){SP(t=Re(t,Ye));let e=xt(t);if(e._uninitializedComponentsProvider)throw new L(k.FAILED_PRECONDITION,"SDK cache is already specified.");Hn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new Ll;return EP(e,r,new Jw(r,n.cacheSizeBytes))}function EP(t,e,n){let r=new bt;return t.asyncQueue.enqueue(()=>A(this,null,function*(){try{yield pp(t,n),yield iE(t,e),r.resolve()}catch(i){let o=i;if(!cP(o))throw o;Hn("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function bP(t){if(t._initialized&&!t._terminated)throw new L(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new bt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>A(this,null,function*(){try{yield function(r){return A(this,null,function*(){if(!io.D())return Promise.resolve();let i=r+"main";yield io.delete(i)})}(ME(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function IP(t){return function(n){let r=new bt;return n.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return Y3(yield zE(n),r)})),r.promise}(xt(t=Re(t,Ye)))}function CP(t){return u5(xt(t=Re(t,Ye)))}function DP(t){return l5(xt(t=Re(t,Ye)))}function xP(t,e){let n=xt(t=Re(t,Ye)),r=new aE;return p5(n,t._databaseId,e,r),r}function TP(t,e){return g5(xt(t=Re(t,Ye)),e).then(n=>n?new qt(t,null,n.query):null)}function SP(t){if(t._initialized||t._terminated)throw new L(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Hr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ot.fromBase64String(e))}catch(n){throw new L(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var lr=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yi=class{constructor(e){this._methodName=e}};var ms=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}};var m5=/^__.*__$/,cE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new lo(e,this.data,n,this.fieldTransforms)}},rg=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ur(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function AP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var ig=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return og(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(AP(this.fu)&&m5.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},uE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hl(e)}Fu(e,n,r,i=!1){return new ig({fu:e,methodName:n,vu:r,path:pt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ws(t){let e=t._freezeSettings(),n=Hl(t._databaseId);return new uE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mg(t,e,n,r,i,o={}){let s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);XE("Data must be an object, but it was:",s,r);let a=RP(r,s),c,l;if(o.merge)c=new Rn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let g=pE(e,f,n);if(!s.contains(g))throw new L(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);kP(d,g)||d.push(g)}c=new Rn(d),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new cE(new Xt(a),c,l)}var jl=class t extends yi{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function MP(t,e,n){return new ig({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var lE=class t extends yi{_toFieldTransform(e){return new hs(e.path,new co)}isEqual(e){return e instanceof t}},dE=class t extends yi{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=MP(this,e,!0),r=this.Mu.map(o=>Es(o,n)),i=new gi(r);return new hs(e.path,i)}isEqual(e){return e instanceof t&&vm(this.Mu,e.Mu)}},hE=class t extends yi{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=MP(this,e,!0),r=this.Mu.map(o=>Es(o,n)),i=new mi(r);return new hs(e.path,i)}isEqual(e){return e instanceof t&&vm(this.Mu,e.Mu)}},fE=class t extends yi{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){let n=new uo(e.serializer,g1(e.serializer,this.xu));return new hs(e.path,n)}isEqual(e){return e instanceof t&&this.xu===e.xu}};function YE(t,e,n,r){let i=t.Fu(1,e,n);XE("Data must be an object, but it was:",i,r);let o=[],s=Xt.empty();_s(r,(c,l)=>{let d=JE(e,c,n);l=Ae(l);let f=i.Su(d);if(l instanceof jl)o.push(d);else{let g=Es(l,f);g!=null&&(o.push(d),s.set(d,g))}});let a=new Rn(o);return new rg(s,a,i.fieldTransforms)}function ZE(t,e,n,r,i,o){let s=t.Fu(1,e,n),a=[pE(e,r,n)],c=[i];if(o.length%2!=0)throw new L(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(pE(e,o[g])),c.push(o[g+1]);let l=[],d=Xt.empty();for(let g=a.length-1;g>=0;--g)if(!kP(l,a[g])){let y=a[g],b=c[g];b=Ae(b);let P=s.Su(y);if(b instanceof jl)l.push(y);else{let C=Es(b,P);C!=null&&(l.push(y),d.set(y,C))}}let f=new Rn(l);return new rg(d,f,s.fieldTransforms)}function PP(t,e,n,r=!1){return Es(n,t.Fu(r?4:3,e))}function Es(t,e){if(NP(t=Ae(t)))return XE("Unsupported field value:",e,t),RP(t,e);if(t instanceof yi)return function(r,i){if(!AP(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Es(a,i.bu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ae(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Je.fromDate(r);return{timestampValue:Ja(i.serializer,o)}}if(r instanceof Je){let o=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ja(i.serializer,o)}}if(r instanceof ms)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hr)return{bytesValue:D1(i.serializer,r._byteString)};if(r instanceof He){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:TE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${gg(r)}`)}(t,e)}function RP(t,e){let n={};return ZM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(t,(r,i)=>{let o=Es(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function NP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof ms||t instanceof Hr||t instanceof He||t instanceof yi)}function XE(t,e,n){if(!NP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=gg(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function pE(t,e,n){if((e=Ae(e))instanceof lr)return e._internalPath;if(typeof e=="string")return JE(t,e);throw og("Field path arguments must be of type string or ",t,!1,void 0,n)}var y5=new RegExp("[~\\*/\\[\\]]");function JE(t,e,n){if(e.search(y5)>=0)throw og(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lr(...e.split("."))._internalPath}catch{throw og(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function og(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new L(k.INVALID_ARGUMENT,a+t+c)}function kP(t,e){return t.some(n=>n.isEqual(e))}var ys=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new gE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},gE=class extends ys{data(){return super.data()}};function yg(t,e){return typeof e=="string"?JE(t,e):e instanceof lr?e._internalPath:e._delegate._internalPath}function OP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ul=class{},vs=class extends Ul{};function wi(t,e,...n){let r=[];e instanceof Ul&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof mE).length,a=o.filter(c=>c instanceof sg).length;if(s>1||s>0&&a>0)throw new L(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var sg=class t extends vs{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return HP(e._query,n),new qt(e.firestore,e.converter,W0(e._query,n))}_parse(e){let n=ws(e.firestore);return function(o,s,a,c,l,d,f){let g;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new L(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){VM(f,d);let y=[];for(let b of f)y.push(FM(c,o,b));g={arrayValue:{values:y}}}else g=FM(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||VM(f,d),g=PP(a,s,f,d==="in"||d==="not-in");return Te.create(l,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function FP(t,e,n){let r=e,i=yg("where",t);return sg._create(i,r,n)}var mE=class t extends Ul{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ue.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)HP(s,c),s=W0(s,c)}(e._query,n),new qt(e.firestore,e.converter,W0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var yE=class t extends vs{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new L(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ls(o,s)}(e._query,this._field,this._direction);return new qt(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new cr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function VP(t,e="asc"){let n=e,r=yg("orderBy",t);return yE._create(r,n)}var ag=class t extends vs{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new qt(e.firestore,e.converter,xp(e._query,this._limit,this._limitType))}};function LP(t){return pP("limit",t),ag._create("limit",t,"F")}function jP(t){return pP("limitToLast",t),ag._create("limitToLast",t,"L")}var cg=class t extends vs{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=zP(e,this.type,this._docOrFields,this._inclusive);return new qt(e.firestore,e.converter,function(i,o){return new cr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}};function UP(...t){return cg._create("startAt",t,!0)}function BP(...t){return cg._create("startAfter",t,!1)}var ug=class t extends vs{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=zP(e,this.type,this._docOrFields,this._inclusive);return new qt(e.firestore,e.converter,function(i,o){return new cr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}};function $P(...t){return ug._create("endBefore",t,!1)}function qP(...t){return ug._create("endAt",t,!0)}function zP(t,e,n,r){if(n[0]=Ae(n[0]),n[0]instanceof ys)return function(o,s,a,c,l){if(!c)throw new L(k.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of Ha(o))if(f.field.isKeyField())d.push(us(s,c.key));else{let g=c.data.field(f.field);if(dg(g))throw new L(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let y=f.field.canonicalString();throw new L(k.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}d.push(g)}return new qr(d,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=ws(t.firestore);return function(s,a,c,l,d,f){let g=s.explicitOrderBy;if(d.length>g.length)throw new L(k.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let y=[];for(let b=0;b<d.length;b++){let P=d[b];if(g[b].field.isKeyField()){if(typeof P!="string")throw new L(k.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof P}`);if(!DE(s)&&P.indexOf("/")!==-1)throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${P}' contains a slash.`);let C=s.path.child(Pe.fromString(P));if(!Q.isDocumentKey(C))throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);let O=new Q(C);y.push(us(a,O))}else{let C=PP(c,l,P);y.push(C)}}return new qr(y,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function FM(t,e,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new L(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DE(e)&&n.indexOf("/")!==-1)throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Pe.fromString(n));if(!Q.isDocumentKey(r))throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return us(t,new Q(r))}if(n instanceof He)return us(t,n._key);throw new L(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gg(n)}.`)}function VM(t,e){if(!Array.isArray(t)||t.length===0)throw new L(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HP(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var uc=class{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return _s(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ms(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=IE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){let n=pi(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pe.fromString(e);oe(F1(r));let i=new so(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(n)||ft(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function vg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var vE=class extends uc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}};var fi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Wn=class extends ys{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new no(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(yg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},no=class extends Wn{data(e={}){return super.data(e)}},dr=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new no(this._firestore,this._userDataWriter,r.key,r,new fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new no(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new no(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:v5(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function v5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function eb(t,e){return t instanceof Wn&&e instanceof Wn?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof dr&&e instanceof dr&&t._firestore===e._firestore&&QE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function GP(t){t=Re(t,He);let e=Re(t.firestore,Ye);return dP(xt(e),t._key).then(n=>ib(e,t,n))}var vi=class extends uc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}};function WP(t){t=Re(t,He);let e=Re(t.firestore,Ye),n=xt(e),r=new vi(e);return d5(n,t._key).then(i=>new Wn(e,r,t._key,i,new fi(i!==null&&i.hasLocalMutations,!0),t.converter))}function KP(t){t=Re(t,He);let e=Re(t.firestore,Ye);return dP(xt(e),t._key,{source:"server"}).then(n=>ib(e,t,n))}function QP(t){t=Re(t,qt);let e=Re(t.firestore,Ye),n=xt(e),r=new vi(e);return OP(t._query),hP(n,t._query).then(i=>new dr(e,r,t,i))}function YP(t){t=Re(t,qt);let e=Re(t.firestore,Ye),n=xt(e),r=new vi(e);return h5(n,t._query).then(i=>new dr(e,r,t,i))}function ZP(t){t=Re(t,qt);let e=Re(t.firestore,Ye),n=xt(e),r=new vi(e);return hP(n,t._query,{source:"server"}).then(i=>new dr(e,r,t,i))}function tb(t,e,n){t=Re(t,He);let r=Re(t.firestore,Ye),i=vg(t.converter,e,n);return mc(r,[mg(ws(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ct.none())])}function nb(t,e,n,...r){t=Re(t,He);let i=Re(t.firestore,Ye),o=ws(i),s;return s=typeof(e=Ae(e))=="string"||e instanceof lr?ZE(o,"updateDoc",t._key,e,n,r):YE(o,"updateDoc",t._key,e),mc(i,[s.toMutation(t._key,ct.exists(!0))])}function XP(t){return mc(Re(t.firestore,Ye),[new ho(t._key,ct.none())])}function JP(t,e){let n=Re(t.firestore,Ye),r=Wl(t),i=vg(t.converter,e);return mc(n,[mg(ws(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ct.exists(!1))]).then(()=>r)}function rb(t,...e){var n,r,i;t=Ae(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||sE(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(sE(e[s])){let f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,d;if(t instanceof He)l=Re(t.firestore,Ye),d=dc(t._key.path),c={next:f=>{e[s]&&e[s](ib(l,t,f))},error:e[s+1],complete:e[s+2]};else{let f=Re(t,qt);l=Re(f.firestore,Ye),d=f._query;let g=new vi(l);c={next:y=>{e[s]&&e[s](new dr(l,g,f,y))},error:e[s+1],complete:e[s+2]},OP(t._query)}return function(g,y,b,P){let C=new ac(P),O=new Fl(y,C,b);return g.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return kE(yield cc(g),O)})),()=>{C.$a(),g.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return OE(yield cc(g),O)}))}}(xt(l),d,a,c)}function eR(t,e){return f5(xt(t=Re(t,Ye)),sE(e)?e:{next:e})}function mc(t,e){return function(r,i){let o=new bt;return r.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return G3(yield zE(r),i,o)})),o.promise}(xt(t),e)}function ib(t,e,n){let r=n.docs.get(e._key),i=new vi(t);return new Wn(t,i,e._key,r,new fi(n.hasPendingWrites,n.fromCache),e.converter)}var _5={maxAttempts:5};var lg=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ws(e)}set(e,n,r){this._verifyNotCommitted();let i=eo(e,this._firestore),o=vg(i.converter,n,r),s=mg(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ct.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let o=eo(e,this._firestore),s;return s=typeof(n=Ae(n))=="string"||n instanceof lr?ZE(this._dataReader,"WriteBatch.update",o._key,n,r,i):YE(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,ct.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=eo(e,this._firestore);return this._mutations=this._mutations.concat(new ho(n._key,ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function eo(t,e){if((t=Ae(t)).firestore!==e)throw new L(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var _E=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ws(n)}get(n){let r=eo(n,this._firestore),i=new vE(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return ee();let s=o[0];if(s.isFoundDocument())return new ys(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new ys(this._firestore,i,r._key,null,r.converter);throw ee()})}set(n,r,i){let o=eo(n,this._firestore),s=vg(o.converter,r,i),a=mg(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){let s=eo(n,this._firestore),a;return a=typeof(r=Ae(r))=="string"||r instanceof lr?ZE(this._dataReader,"Transaction.update",s._key,r,i,o):YE(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){let r=eo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=eo(e,this._firestore),r=new vi(this._firestore);return super.get(e).then(i=>new Wn(this._firestore,r,n._key,i._document,new fi(!1,!1),n.converter))}};function tR(t,e,n){t=Re(t,Ye);let r=Object.assign(Object.assign({},_5),n);return function(o){if(o.maxAttempts<1)throw new L(k.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){let c=new bt;return o.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){let l=yield c5(o);new nE(o.asyncQueue,l,a,s,c).Xa()})),c.promise}(xt(t),i=>e(new _E(t,i)),r)}function nR(){return new jl("deleteField")}function rR(){return new lE("serverTimestamp")}function iR(...t){return new dE("arrayUnion",t)}function oR(...t){return new hE("arrayRemove",t)}function sR(t){return new fE("increment",t)}(function(e,n=!0){(function(i){lc=i})(Dd),Co(new Zn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ye(new C0(r.getProvider("auth-internal")),new S0(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(l.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Tt(LA,"4.6.4",e),Tt(LA,"4.6.4","esm2017")})();var w5="@firebase/firestore-compat",E5="0.3.33";function lb(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new L("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function aR(){if(typeof Uint8Array>"u")throw new L("unimplemented","Uint8Arrays are not available in this environment.")}function cR(){if(!XM())throw new L("unimplemented","Blobs are unavailable in Firestore in this environment.")}var _g=class t{constructor(e){this._delegate=e}static fromBase64String(e){return cR(),new t(Hr.fromBase64String(e))}static fromUint8Array(e){return aR(),new t(Hr.fromUint8Array(e))}toBase64(){return cR(),this._delegate.toBase64()}toUint8Array(){return aR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function ob(t){return b5(t,["next","error","complete"])}function b5(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var sb=class{enableIndexedDbPersistence(e,n){return _P(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return wP(e._delegate)}clearIndexedDbPersistence(e){return bP(e._delegate)}},wg=class{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof so||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Hn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){gP(this._delegate,e,n,r)}enableNetwork(){return CP(this._delegate)}disableNetwork(){return DP(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,GE("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return IP(this._delegate)}onSnapshotsInSync(e){return eR(this._delegate,e)}get app(){if(!this._appCompat)throw new L("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _c(this,WE(this._delegate,e))}catch(n){throw fn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Gr(this,Wl(this._delegate,e))}catch(n){throw fn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ds(this,mP(this._delegate,e))}catch(n){throw fn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return tR(this._delegate,n=>e(new Eg(this,n)))}batch(){return xt(this._delegate),new bg(new lg(this._delegate,e=>mc(this._delegate,e)))}loadBundle(e){return xP(this._delegate,e)}namedQuery(e){return TP(this._delegate,e).then(n=>n?new Ds(this,n):null)}},yc=class extends uc{constructor(e){super(),this.firestore=e}convertBytes(e){return new _g(new Hr(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return Gr.forKey(n,this.firestore,null)}};function I5(t){LM(t)}var Eg=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new yc(e)}get(e){let n=bs(e);return this._delegate.get(n).then(r=>new Is(this._firestore,new Wn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){let i=bs(e);return r?(lb("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let o=bs(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){let n=bs(e);return this._delegate.delete(n),this}},bg=class{constructor(e){this._delegate=e}set(e,n,r){let i=bs(e);return r?(lb("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let o=bs(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){let n=bs(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},vc=class t{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){let r=new no(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Cs(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let r=t.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new t(e,new yc(e),n),i.set(n,o)),o}};vc.INSTANCES=new WeakMap;var Gr=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new yc(e)}static forPath(e,n,r){if(e.length%2!==0)throw new L("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new He(n._delegate,r,new Q(e)))}static forKey(e,n,r){return new t(n,new He(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _c(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _c(this.firestore,WE(this._delegate,e))}catch(n){throw fn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ae(e),e instanceof He?KE(this._delegate,e):!1}set(e,n){n=lb("DocumentReference.set",n);try{return n?tb(this._delegate,e,n):tb(this._delegate,e)}catch(r){throw fn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?nb(this._delegate,e):nb(this._delegate,e,n,...r)}catch(i){throw fn(i,"updateDoc()","DocumentReference.update()")}}delete(){return XP(this._delegate)}onSnapshot(...e){let n=uR(e),r=lR(e,i=>new Is(this.firestore,new Wn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return rb(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=WP(this._delegate):e?.source==="server"?n=KP(this._delegate):n=GP(this._delegate),n.then(r=>new Is(this.firestore,new Wn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(vc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function fn(t,e,n){return t.message=t.message.replace(e,n),t}function uR(t){for(let e of t)if(typeof e=="object"&&!ob(e))return e;return{}}function lR(t,e){var n,r;let i;return ob(t[0])?i=t[0]:ob(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Is=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Gr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return eb(this._delegate,e._delegate)}},Cs=class extends Is{data(e){let n=this._delegate.data(e);return this._delegate._converter||jM(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Ds=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new yc(e)}where(e,n,r){try{return new t(this.firestore,wi(this._delegate,FP(e,n,r)))}catch(i){throw fn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,wi(this._delegate,VP(e,n)))}catch(r){throw fn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,wi(this._delegate,LP(e)))}catch(n){throw fn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,wi(this._delegate,jP(e)))}catch(n){throw fn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,wi(this._delegate,UP(...e)))}catch(n){throw fn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,wi(this._delegate,BP(...e)))}catch(n){throw fn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,wi(this._delegate,$P(...e)))}catch(n){throw fn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,wi(this._delegate,qP(...e)))}catch(n){throw fn(n,"endAt()","Query.endAt()")}}isEqual(e){return QE(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=YP(this._delegate):e?.source==="server"?n=ZP(this._delegate):n=QP(this._delegate),n.then(r=>new Kl(this.firestore,new dr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let n=uR(e),r=lR(e,i=>new Kl(this.firestore,new dr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return rb(this._delegate,n,r)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(vc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},ab=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Cs(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},Kl=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ds(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Cs(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new ab(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Cs(this._firestore,r))})}isEqual(e){return eb(this._delegate,e._delegate)}},_c=class t extends Ds{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Gr(this.firestore,e):null}doc(e){try{return e===void 0?new Gr(this.firestore,Wl(this._delegate)):new Gr(this.firestore,Wl(this._delegate,e))}catch(n){throw fn(n,"doc()","CollectionReference.doc()")}}add(e){return JP(this._delegate,e).then(n=>new Gr(this.firestore,n))}isEqual(e){return KE(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(vc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function bs(t){return Re(t,He)}var cb=class t{constructor(...e){this._delegate=new lr(...e)}static documentId(){return new t(pt.keyField().canonicalString())}isEqual(e){return e=Ae(e),e instanceof lr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var ub=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=rR();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=nR();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=iR(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=oR(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=sR(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var C5={Firestore:wg,GeoPoint:ms,Timestamp:Je,Blob:_g,Transaction:Eg,WriteBatch:bg,DocumentReference:Gr,DocumentSnapshot:Is,Query:Ds,QueryDocumentSnapshot:Cs,QuerySnapshot:Kl,CollectionReference:_c,FieldPath:cb,FieldValue:ub,setLogLevel:I5,CACHE_SIZE_UNLIMITED:yP};function D5(t,e){t.INTERNAL.registerComponent(new Zn("firestore-compat",n=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},C5)))}function x5(t){D5(t,(e,n)=>new wg(e,n,new sb)),t.registerVersion(w5,E5)}x5(Ct);function T5(t,e=Di){return new he(n=>{let r;return e!=null?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}function dR(t,e){return T5(t,e)}function S5(t,e){return dR(t,e).pipe(Ao(void 0),ru(),se(n=>{let[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function fb(t,e){return dR(t,e).pipe(se(n=>({payload:n,type:"query"})))}var Ig=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let r=this.ref.collection(e),{ref:i,query:o}=mR(r,n);return new Dg(i,o,this.afs)}snapshotChanges(){return S5(this.ref,this.afs.schedulers.outsideAngular).pipe(kt)}valueChanges(e={}){return this.snapshotChanges().pipe(se(({payload:n})=>e.idField?Ve(J({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return Ee(this.ref.get(e)).pipe(kt)}};function Cg(t,e){return fb(t,e).pipe(Ao(void 0),ru(),se(n=>{let[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{let l=o.find(f=>f.doc.ref.isEqual(a.ref)),d=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function hR(t,e,n){return Cg(t,n).pipe(So((r,i)=>A5(r,i.map(o=>o.payload),e),[]),Bm(),se(r=>r.map(i=>({type:i.type,payload:i}))))}function A5(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=M5(t,r))}),t}function db(t,e,n,...r){let i=t.slice();return i.splice(e,n,...r),i}function M5(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return db(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return db(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return db(t,e.oldIndex,1);break}return t}function fR(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var Dg=class{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=Cg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(se(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(Ao(void 0),ru(),Dt(([r,i])=>i.length>0||!r),se(([,r])=>r),kt)}auditTrail(e){return this.stateChanges(e).pipe(So((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=fR(e);return hR(this.query,n,this.afs.schedulers.outsideAngular).pipe(kt)}valueChanges(e={}){return fb(this.query,this.afs.schedulers.outsideAngular).pipe(se(n=>n.payload.docs.map(r=>e.idField?Ve(J({},r.data()),{[e.idField]:r.id}):r.data())),kt)}get(e){return Ee(this.query.get(e)).pipe(kt)}add(e){return this.ref.add(e)}doc(e){return new Ig(this.ref.doc(e),this.afs)}},hb=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?Cg(this.query,this.afs.schedulers.outsideAngular).pipe(kt):Cg(this.query,this.afs.schedulers.outsideAngular).pipe(se(n=>n.filter(r=>e.indexOf(r.type)>-1)),Dt(n=>n.length>0),kt)}auditTrail(e){return this.stateChanges(e).pipe(So((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=fR(e);return hR(this.query,n,this.afs.schedulers.outsideAngular).pipe(kt)}valueChanges(e={}){return fb(this.query,this.afs.schedulers.outsideAngular).pipe(se(r=>r.payload.docs.map(i=>e.idField?J({[e.idField]:i.id},i.data()):i.data())),kt)}get(e){return Ee(this.query.get(e)).pipe(kt)}},pR=new H("angularfire2.enableFirestorePersistence"),gR=new H("angularfire2.firestore.persistenceSettings"),P5=new H("angularfire2.firestore.settings"),R5=new H("angularfire2.firestore.use-emulator");function mR(t,e=n=>n){return{query:e(t),ref:t}}var pb=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,o,s,a,c,l,d,f,g,y,b,P,C,O,$){this.schedulers=c;let V=Jo(n,a,r),B=d;f&&l0(V,a,g,b,P,C,y,O),[this.firestore,this.persistenceEnabled$]=Ra(`${V.name}.firestore`,"AngularFirestore",V.name,()=>{let X=a.runOutsideAngular(()=>V.firestore());if(o&&X.settings(o),B&&X.useEmulator(...B),i&&!Go(s)){let Z=()=>{try{return Ee(X.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(E){return typeof console<"u"&&console.warn(E),re(!1)}};return[X,a.runOutsideAngular(Z)]}else return[X,re(!1)]},[o,B,i])}collection(n,r){let i;typeof n=="string"?i=this.firestore.collection(n):i=n;let{ref:o,query:s}=mR(i,r),a=this.schedulers.ngZone.run(()=>o);return new Dg(a,s,this)}collectionGroup(n,r){let i=r||(s=>s),o=this.firestore.collectionGroup(n);return new hb(i(o),this)}doc(n){let r;typeof n=="string"?r=this.firestore.doc(n):r=n;let i=this.schedulers.ngZone.run(()=>r);return new Ig(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(F(Ki),F(Qi,8),F(pR,8),F(P5,8),F(vt),F(pe),F(sr),F(gR,8),F(R5,8),F(sl,8),F(i0,8),F(o0,8),F(s0,8),F(a0,8),F(c0,8),F(u0,8),F(qn,8))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),yR=(()=>{class t{constructor(){Ct.registerVersion("angularfire",ln.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:pR,useValue:!0},{provide:gR,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ke({type:t});static \u0275inj=Oe({providers:[pb]})}return t})();function k5(t,e){if(t&1){let n=dt();S(0,"div")(1,"p"),z(2),T(),S(3,"button",11),xe("click",function(){Ce(n);let i=ne();return De(i.updatePassword())}),z(4,"Modificar contrase\xF1a"),T(),S(5,"button",11),xe("click",function(){Ce(n);let i=ne();return De(i.deleteAccount())}),z(6,"Eliminar cuenta"),T()()}if(t&2){let n=ne();U(2),En("Usuario autenticado: ",n.nombreUsuario,"")}}var vR=(()=>{let e=class e{constructor(r,i,o,s,a){this.tokenService=r,this.authService=i,this.router=o,this.afAuth=s,this.db=a,this.isLogged=!1,this.isLogginFail=!1,this.roles=[],this.registerUser={email:"",password:""},this.loginUser={email:"",password:""}}ngOnInit(){console.log("Login component"),this.tokenService.getToken()&&(console.log("token true"),this.isLogged=!0,this.isLogginFail=!1,this.roles=this.tokenService.getAuthorities()),this.afAuth.authState.subscribe(r=>{r?(console.log(r),this.currentUser=r):this.currentUser=null})}register(){return A(this,null,function*(){try{let r=yield this.afAuth.createUserWithEmailAndPassword(this.registerUser.email,this.registerUser.password);console.log("Usuario registrado con \xE9xito",r),console.log("Correo electr\xF3nico de verificaci\xF3n enviado")}catch(r){console.error("Error al registrar el usuario:",r)}})}updatePassword(){return A(this,null,function*(){try{let r="nueva_contrase\xF1a";yield this.currentUser.updatePassword(this.password),console.log("Contrase\xF1a actualizada con \xE9xito")}catch(r){console.error("Error al actualizar la contrase\xF1a:",r)}})}deleteAccount(){return A(this,null,function*(){try{yield this.currentUser.delete(),console.log("Cuenta eliminada con \xE9xito")}catch(r){console.error("Error al eliminar la cuenta:",r)}})}onLogin(){this.nombreUsuario==="usuario1"&&this.password==="usuario1"&&(console.log("logged true"),this.isLogged=!0,this.isLogginFail=!1,this.router.navigate(["/home"]))}};e.\u0275fac=function(i){return new(i||e)(q(Nt),q(yA),q(Qe),q(sl),q(pb))},e.\u0275cmp=le({type:e,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"vh-100"],[1,"background"],[1,"shape"],["novalidate","",3,"ngSubmit"],["f","ngForm"],["for","nombreUsuario",1,"form-label"],["type","email","id","nombreUsuario","name","nombreUsuario","placeholder","Enter a valid Username","required","","title","Ingrese el nombre de usuario",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Enter password","required","","title","Ingrese la contrase\xF1a",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary"],[4,"ngIf"],[3,"click"]],template:function(i,o){i&1&&(S(0,"section",0)(1,"div",1),te(2,"div",2)(3,"div",2),T(),S(4,"form",3,4),xe("ngSubmit",function(){return o.onLogin()}),S(6,"h3"),z(7,"Autenticaci\xF3n de usuario"),T(),S(8,"label",5),z(9," Username "),T(),S(10,"input",6),st("ngModelChange",function(a){return ht(o.nombreUsuario,a)||(o.nombreUsuario=a),a}),T(),S(11,"label",7),z(12,"Password"),T(),S(13,"input",8),st("ngModelChange",function(a){return ht(o.password,a)||(o.password=a),a}),T(),S(14,"button",9),z(15,"Iniciar sesi\xF3n"),T()(),ve(16,k5,7,1,"div",10),T()),i&2&&(U(10),ot("ngModel",o.nombreUsuario),U(3),ot("ngModel",o.password),U(3),ce("ngIf",o.isLogged))},dependencies:[Pt,Fr,$n,kr,Or,or,ir,rr],styles:[".background[_ngcontent-%COMP%]{width:430px;height:520px;position:absolute;transform:translate(-50%,-50%);left:50%;top:50%}.background[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{height:200px;width:200px;position:absolute;border-radius:50%}form[_ngcontent-%COMP%]{height:520px;width:400px;position:absolute;transform:translate(-50%,-50%);top:50%;left:50%;border-radius:10px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.1);box-shadow:0 0 40px #08071099;padding:50px 35px}form[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{letter-spacing:.5px;outline:none;border:none}form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:500;line-height:42px;text-align:center}label[_ngcontent-%COMP%]{display:block;margin-top:30px;font-size:16px}input[_ngcontent-%COMP%]{display:block;height:50px;width:100%;border-radius:3px;padding:0 10px;margin-top:8px;font-size:14px}button[_ngcontent-%COMP%]{margin-top:50px;width:100%;padding:15px 0;font-size:18px;border-radius:5px;cursor:pointer}"]});let t=e;return t})();var _R=(()=>{let e=class e{ngOnInit(){console.log("DEBUG: FOOTER")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-footer"]],decls:13,vars:0,consts:[[1,"container"],["id","footer",1,"card","mat-card","border","shadow"],[1,"d-flex","container-fluid","align-items-center","justify-content-center"],["data-bs-toggle","tooltip","data-bs-placement","bottom","title","Go to Informaci\xF3n Page...",1,"btn","btn-primary"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"p"),z(3,'Proyecto Integrador Argentina Programa | "Yo Programo2" | Portafolio/CV Personal. | '),T(),S(4,"p"),z(5,"Backend hecho en Java con Spring framework | Frontend hecho en TypeScript con Angular framework."),T(),S(6,"p"),z(7,"2023 \xA9 HERNAN CANESTRARO"),T(),S(8,"div",2)(9,"button",3),z(10,"Info"),T()(),S(11,"p"),z(12,"Gracias por usar la aplicaci\xF3n!!!"),T()()())},styles:[".logo[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:20px;-webkit-filter:drop-shadow(5px 5px 5px #222);filter:drop-shadow(5px 5px 5px #222)}@media (max-width: 768px){.logo[_ngcontent-%COMP%]{margin-top:-20px;margin-bottom:20px}}.mat-card[_ngcontent-%COMP%]{width:80vw;border-radius:32px;margin:10px 20px;padding:20px;box-shadow:#00000059 0 5px 15px}.card[_ngcontent-%COMP%]{border-radius:10px}.btn-right[_ngcontent-%COMP%]{float:right;margin-left:10px}@media (max-width: 768px){.btn-right[_ngcontent-%COMP%]{margin-top:5px}}.layout[_ngcontent-%COMP%]{padding-top:25px;padding-bottom:25px;display:flex;justify-content:space-between;align-items:center}.border[_ngcontent-%COMP%]{border:1px solid #5298de;border-radius:5px}.shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #f23a3a94}ul[_ngcontent-%COMP%]{padding:0}p#preline[_ngcontent-%COMP%]{white-space:pre-line}#footer[_ngcontent-%COMP%]{width:95%;background-color:#000;border-radius:32px;color:#9acd32;padding:20px 0;text-align:center}.row[_ngcontent-%COMP%]{padding:20px}div[_ngcontent-%COMP%]{text-align:center}#nombre[_ngcontent-%COMP%]{margin-top:10%}.animate[_ngcontent-%COMP%]{transition:all .5s ease}a[_ngcontent-%COMP%]{text-decoration:none;color:#333}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.card-body[_ngcontent-%COMP%]{height:200px}.img-profile[_ngcontent-%COMP%]{width:100px;height:auto;border-radius:50%;overflow:hidden;box-shadow:0 0 0 5px #fff}.img-profile[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{box-shadow:0 0 0 5px #00ffd1;transition:box-shadow .3s ease-in-out}.img-profile[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.3)}img[_ngcontent-%COMP%]{margin:auto;width:100%;height:auto;vertical-align:top}.btn-right[_ngcontent-%COMP%]{float:right;margin-right:10px}.btn-circle[_ngcontent-%COMP%]{width:40px;height:40px;padding:5px 0;border-radius:20px;text-align:center;font-size:20px;line-height:1.42857}#gmail[_ngcontent-%COMP%]{width:50px}body[_ngcontent-%COMP%]{height:100vh;background-color:#fff;background-image:linear-gradient(315deg,#fff,#d7e1ec 74%)}.social-links[_ngcontent-%COMP%]{display:grid;place-items:center}.social-btn[_ngcontent-%COMP%]{cursor:pointer;height:50px;width:50px;color:#333;transition:1s}.social-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:0px;overflow:hidden;transition:1s;text-align:center;color:#333}.social-btn[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{width:300px}.social-btn[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{padding:2px;width:max-content;margin-left:5px}.flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]});let t=e;return t})();var yo=class{constructor(e="",n="",r="",i="",o="",s=""){this.nombre=e,this.apellido=n,this.descripcion=r,this.titulo=i,this.img=o,this.imgBanner=s}};var wc=(()=>{let e=class e{constructor(r){this.httpClient=r,this.URL=$t.URL+"personas/"}lista(){return this.httpClient.get(this.URL+"lista")}detail(r){return this.httpClient.get(this.URL+`detail/${r}`)}update(r,i){return this.httpClient.put(this.URL+`update/${r}`,i)}delete(r){return this.httpClient.delete(this.URL+`delete/${r}`)}};e.\u0275fac=function(i){return new(i||e)(F(Sn))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function F5(t,e){t&1&&(S(0,"button",14),te(1,"i",15),T())}var wR=(()=>{let e=class e{constructor(r,i){this.personaService=r,this.tokenService=i,this.persona=new yo,this.isLogged=!1}ngOnInit(){this.cargarPersona(),this.tokenService.getToken()?this.isLogged=!0:this.isLogged=!1}cargarPersona(){this.personaService.detail(1).subscribe(r=>{this.persona=r},r=>{console.log("Error al cargar la persona",r)})}};e.\u0275fac=function(i){return new(i||e)(q(wc),q(Nt))},e.\u0275cmp=le({type:e,selectors:[["app-about"]],decls:25,vars:6,consts:[[1,"container"],[1,"row"],[1,"card-body","position-relative"],["type","button","class","btn btn-circle btn-right btn-primary","routerLink","/edit-about/1",4,"ngIf"],[1,"img-profile","position-absolute","top-0","start-50","translate-middle"],["alt","img-profile",1,"animate",3,"src"],[1,"row","mt-5"],[1,"col","text-center"],[1,"d-flex"],[1,"d-flex","justify-content-between"],[1,"social-links"],[1,"social-btn","flex-center"],["href","mailto:joaquinvillalba8@gmail.com"],["id","gmail","src","../../../assets/gmail-d.png","alt","gmail","width","24","height","24","viewBox","0 0 24 24"],["type","button","routerLink","/edit-about/1",1,"btn","btn-circle","btn-right","btn-primary"],[1,"bi","bi-pencil"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"div",2),ve(3,F5,2,0,"button",3),S(4,"div",4),te(5,"img",5),T(),S(6,"div",6)(7,"div",7)(8,"h2")(9,"strong"),z(10),T()(),S(11,"h6"),z(12),T()(),S(13,"div",8)(14,"div",7)(15,"p"),z(16),T(),S(17,"div",9)(18,"div",7)(19,"div",10)(20,"div",11)(21,"a",12),te(22,"img",13),T(),S(23,"span"),z(24,"hernancanestraro@gmail.com"),T()()()()()()()()()()()),i&2&&(U(3),ce("ngIf",o.isLogged),U(2),_n("src",o.persona.img,rt),U(5),Tv("",o.persona.nombre," ",o.persona.apellido,""),U(2),wn(o.persona.titulo),U(4),wn(o.persona.descripcion))},dependencies:[Pt,Nr],styles:[".row[_ngcontent-%COMP%]{padding:20px}div[_ngcontent-%COMP%]{text-align:center}#nombre[_ngcontent-%COMP%]{margin-top:10%}.animate[_ngcontent-%COMP%]{transition:all .5s ease}a[_ngcontent-%COMP%]{text-decoration:none;color:#333}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.card-body[_ngcontent-%COMP%]{height:200px}.img-profile[_ngcontent-%COMP%]{width:100px;height:auto;border-radius:50%;overflow:hidden;box-shadow:0 0 0 5px #fff;left:44%;top:-18%;position:relative}.img-profile[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 5px #00ffd1;transition:box-shadow .3s ease-in-out}.img-profile[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.3)}img[_ngcontent-%COMP%]{margin:auto;width:100%;height:auto;vertical-align:top}.btn-right[_ngcontent-%COMP%]{float:right;margin-right:10px}.btn-circle[_ngcontent-%COMP%]{width:40px;height:40px;padding:5px 0;border-radius:20px;text-align:center;font-size:20px;line-height:1.42857}#gmail[_ngcontent-%COMP%]{width:50px}body[_ngcontent-%COMP%]{height:100vh;background-color:#fff;background-image:linear-gradient(315deg,#fff,#d7e1ec 74%)}.social-links[_ngcontent-%COMP%]{display:grid;place-items:center}.social-btn[_ngcontent-%COMP%]{cursor:pointer;height:50px;width:50px;color:#333;transition:1s}.social-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:0px;overflow:hidden;transition:1s;text-align:center;color:#333}.social-btn[_ngcontent-%COMP%]:hover{width:300px}.social-btn[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{padding:2px;width:max-content;margin-left:5px}.flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]});let t=e;return t})();var Ec=(()=>{let e=class e{constructor(r){this.httpClient=r,this.URL=$t.URL+"educacion/"}lista(){return this.httpClient.get(this.URL+"lista")}detail(r){return this.httpClient.get(this.URL+`detail/${r}`)}save(r){return this.httpClient.post(this.URL+"create",r)}update(r,i){return this.httpClient.put(this.URL+`update/${r}`,i)}delete(r){return this.httpClient.delete(this.URL+`delete/${r}`)}};e.\u0275fac=function(i){return new(i||e)(F(Sn))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function L5(t,e){if(t&1){let n=dt();S(0,"div",4)(1,"div",5)(2,"button",6),te(3,"i",7),T(),S(4,"button",8),xe("click",function(){let o=Ce(n).$implicit,s=ne();return De(s.delete(o.id))}),te(5,"i",9),T()(),S(6,"div",10)(7,"div",11),te(8,"img",12),T(),S(9,"div",13)(10,"h2"),z(11),T(),S(12,"h4"),z(13),T(),S(14,"h5"),z(15),T(),S(16,"p",14),z(17),T()()()()}if(t&2){let n=e.$implicit,r=e.index;je("data-index",r),U(2),it("routerLink","/edit-educacion/",n.id,""),U(6),_n("src",n.img,rt),it("alt","education_ ",n.id,""),U(3),En("Titulo: ",n.titulo,""),U(2),En("\u{1F3EB} Establecimiento: ",n.nombreE,""),U(2),En("Periodo: ",n.periodo,""),U(2),En("Descripci\xF3n: ",n.descripcionE,"")}}var ER=(()=>{let e=class e{constructor(r,i){this.sEducacion=r,this.sToken=i,this.educacion=[],this.isLogged=!0}ngOnInit(){console.log("CargaEducacion"),this.cargarEducacion(),this.sToken.getToken()?(console.log("token true"),this.isLogged=!0):(console.log("token false"),alert("no logueado"),this.isLogged=!1)}selectItem(r){console.log(r)}cargarEducacion(){this.sEducacion.lista().subscribe(r=>{this.educacion=r,console.log(this.educacion)})}delete(r){r!==void 0&&this.sEducacion.delete(r).subscribe(i=>{this.cargarEducacion()},i=>alert("No se pudo borrar la educacion"))}};e.\u0275fac=function(i){return new(i||e)(q(Ec),q(Nt))},e.\u0275cmp=le({type:e,selectors:[["app-educacion"]],decls:7,vars:1,consts:[[1,"contenedor"],[1,"encabezado"],["type","button","routerLink","/new-educacion","title","Agregar Educacion",1,"icono-a\xF1adir"],["click","selectItem(Educacion);",4,"ngFor","ngForOf"],["click","selectItem(Educacion);"],[1,"acciones"],["title","Editar",1,"icono-editar",3,"routerLink"],[1,"bi","bi-pencil"],["title","Borrar",1,"icono-borrar",3,"click"],[1,"bi","bi-trash3"],[1,"contenido"],[1,"imagen"],[2,"margin","2%",3,"src","alt"],[1,"informacion"],["id","preline"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"h1"),z(3,"Educacion"),T(),S(4,"button",2),z(5," Agregar Educacion "),T()(),ve(6,L5,18,8,"div",3),T()),i&2&&(U(6),ce("ngForOf",o.educacion))},dependencies:[Ar,Nr],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;padding:20px;border:2px solid #ccc;border-radius:10px;box-shadow:4px 4px 8px #0003,-4px -4px 8px #fff9;background-color:#f9f9f9}.encabezado[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border:2px solid #34e265ad;border-radius:5px;background-color:#a9a9a9;flex-direction:row;padding-bottom:10px}.icono-anadir[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;background-color:#28a745;color:#fff;border:none;border-radius:5px;box-shadow:2px 2px 5px #0003;transition:box-shadow .2s,transform .2s;margin-right:2vw}.icono-anadir[_ngcontent-%COMP%]:hover{box-shadow:3px 3px 8px #0000004d;transform:translateY(-2px)}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-bottom:2px;border:1px solid blue;border-radius:10px;padding:2px}.icono-editar[_ngcontent-%COMP%], .icono-borrar[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;background-color:#007bff;color:#fff;border:none;border-radius:5px;box-shadow:2px 2px 5px #0003;transition:box-shadow .2s,transform .2s}.icono-borrar[_ngcontent-%COMP%]{background-color:#dc3545}.icono-editar[_ngcontent-%COMP%]:hover, .icono-borrar[_ngcontent-%COMP%]:hover{box-shadow:3px 3px 8px #0000004d;transform:translateY(-2px)}.contenido[_ngcontent-%COMP%]{display:flex;border:2px solid #ccc;padding-top:5px}.imagen[_ngcontent-%COMP%]{flex:0 0 25%;border:2px solid #ccc;border-radius:10px;overflow:hidden;box-shadow:2px 2px 5px #0003}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;height:-webkit-fill-available;margin-top:20px;-webkit-filter:drop-shadow(5px 5px 5px #222);filter:drop-shadow(5px 5px 5px #222)}.informacion[_ngcontent-%COMP%]{flex:1;padding-left:20px;border:1px solid #ccc;border-radius:10px}.row[_ngcontent-%COMP%]{padding:20px}.xlist[_ngcontent-%COMP%]{width:95%}.logo[_ngcontent-%COMP%]{width:95%;max-width:100%;height:-webkit-fill-available;margin-top:20px;-webkit-filter:drop-shadow(5px 5px 5px #222);filter:drop-shadow(5px 5px 5px #222)}@media (max-width: 768px){.logo[_ngcontent-%COMP%]{margin-top:-20px;margin-bottom:20px}}.mat-card[_ngcontent-%COMP%]{display:flex;width:80vw;border-radius:32px;margin:10px 20px;padding:20px;box-shadow:#00000059 0 5px 15px}.card[_ngcontent-%COMP%]{border-radius:10px}.btn-right[_ngcontent-%COMP%]{float:right;margin-left:10px}@media (max-width: 768px){.btn-right[_ngcontent-%COMP%]{margin-top:5px}}.layout[_ngcontent-%COMP%]{padding:5px;display:flex;justify-content:space-between;align-items:center;margin:5px}ul[_ngcontent-%COMP%]{padding:0}p#preline[_ngcontent-%COMP%]{white-space:pre-line}.border[_ngcontent-%COMP%]{border:1px solid #5298de;border-radius:5px}.shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #f23a3a94}"]});let t=e;return t})();var bc=(()=>{let e=class e{constructor(r){this.httpClient=r,this.URL=$t.URL+"experiencia/"}lista(){return this.httpClient.get(this.URL+"lista")}detail(r){return this.httpClient.get(this.URL+`existe/${r}`)}save(r){return this.httpClient.post(this.URL+"create",r)}update(r,i){return this.httpClient.put(this.URL+`update/${r}`,i)}delete(r){return this.httpClient.delete(this.URL+`delete/${r}`)}};e.\u0275fac=function(i){return new(i||e)(F(Sn))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function U5(t,e){if(t&1){let n=dt();S(0,"div",4)(1,"div",5)(2,"button",6),te(3,"i",7),T(),S(4,"button",8),xe("click",function(){Ce(n);let i=ne();return De(i.delete(i.id))}),te(5,"i",9),T()(),S(6,"div",10)(7,"div",11),te(8,"img",12),T(),S(9,"div",13)(10,"h2"),z(11),T(),S(12,"h3"),z(13),T(),S(14,"h5"),z(15),T(),S(16,"p"),z(17),T()()()()}if(t&2){let n=e.$implicit,r=e.index;je("data-index",r),U(2),it("routerLink","/edit-experiencia/",n.id,""),U(6),_n("src",n.img,rt),it("alt","img-exp-",n.id,""),U(3),En(" Empresa: ",n.nombreE,""),U(2),En(" Puesto: ",n.puesto,""),U(2),En(" Periodo: ",n.periodo,""),U(2),En(" Actividades: ",n.descripcionE,"")}}var bR=(()=>{let e=class e{delete(r){throw new Error("Method not implemented.")}constructor(r,i){this.sExperiencia=r,this.sToken=i,this.experiencia=[],this.isLogged=!0,this.form=new Ma({ubicacion:new Yo(["",[Mn.required,Mn.minLength(2)]]),puesto:new Yo(["",[Mn.required,Mn.minLength(2)]]),periodo:new Yo(["",[Mn.required,Mn.minLength(2)]]),empresa:new Yo(["",[Mn.required,Mn.minLength(2)]]),actividades:new Yo(["",[Mn.required,Mn.minLength(2)]])})}ngOnInit(){console.log("EXPERIENCIA component"),this.cargarExperiencia(),this.sToken.getToken()?(this.isLogged=!0,console.log("isLogged")):(console.log("isLogged false"),this.isLogged=!1)}cargarExperiencia(){this.sExperiencia.lista().subscribe(r=>{this.experiencia=r,console.log(this.experiencia)})}selectItem(r){console.log(r)}};e.\u0275fac=function(i){return new(i||e)(q(bc),q(Nt))},e.\u0275cmp=le({type:e,selectors:[["app-experiencia"]],decls:7,vars:1,consts:[[1,"contenedor",2,"margin-top","12vw"],[1,"encabezado"],["type","button","routerLink","/new-experiencia","title","Agregar Experiencia",1,"icono-a\xF1adir"],["click","selectItem(Experiencia);",4,"ngFor","ngForOf"],["click","selectItem(Experiencia);"],[1,"acciones"],["title","Editar",1,"icono-editar",3,"routerLink"],[1,"bi","bi-pencil"],["title","Borrar",1,"icono-borrar",3,"click"],[1,"bi","bi-trash3"],[1,"contenido"],[1,"imagen"],[1,"img-fluid","logo",2,"margin","2%",3,"src","alt"],[1,"informacion"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"h2"),z(3,"Experiencia Laboral"),T(),S(4,"button",2),z(5," Agregar Experiencia "),T()(),ve(6,U5,18,8,"div",3),T()),i&2&&(U(6),ce("ngForOf",o.experiencia))},dependencies:[Ar,Nr],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;padding:20px;border:2px solid #ccc;border-radius:10px;box-shadow:4px 4px 8px #0003,-4px -4px 8px #fff9;background-color:#f9f9f9}.encabezado[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border:2px solid #34e265ad;border-radius:5px;background-color:#a9a9a9;flex-direction:row;padding-bottom:10px}.icono-anadir[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;background-color:#28a745;color:#fff;border:none;border-radius:5px;box-shadow:2px 2px 5px #0003;transition:box-shadow .2s,transform .2s;margin-right:2vw}.icono-anadir[_ngcontent-%COMP%]:hover{box-shadow:3px 3px 8px #0000004d;transform:translateY(-2px)}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-bottom:2px;border:1px solid blue;border-radius:10px;padding:2px}.icono-editar[_ngcontent-%COMP%], .icono-borrar[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;background-color:#007bff;color:#fff;border:none;border-radius:5px;box-shadow:2px 2px 5px #0003;transition:box-shadow .2s,transform .2s}.icono-borrar[_ngcontent-%COMP%]{background-color:#dc3545}.icono-editar[_ngcontent-%COMP%]:hover, .icono-borrar[_ngcontent-%COMP%]:hover{box-shadow:3px 3px 8px #0000004d;transform:translateY(-2px)}.contenido[_ngcontent-%COMP%]{display:flex;border:2px solid #ccc;padding-top:5px}.imagen[_ngcontent-%COMP%]{flex:0 0 25%;border:2px solid #ccc;border-radius:10px;overflow:hidden;box-shadow:2px 2px 5px #0003}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;height:-webkit-fill-available;margin-top:20px;-webkit-filter:drop-shadow(5px 5px 5px #222);filter:drop-shadow(5px 5px 5px #222)}.informacion[_ngcontent-%COMP%]{flex:1;padding-left:20px;border:1px solid #ccc;border-radius:10px}.row[_ngcontent-%COMP%]{padding:20px}.c[_ngcontent-%COMP%]{display:flex;justify-content:stretch}.logo[_ngcontent-%COMP%]{width:95%;max-width:100%;height:-webkit-fill-available;margin-top:20px;-webkit-filter:drop-shadow(5px 5px 5px #222);filter:drop-shadow(5px 5px 5px #222)}.minilogo[_ngcontent-%COMP%]{width:20px;height:20px}@media (max-width: 768px){.logo[_ngcontent-%COMP%]{margin-top:-20px;margin-bottom:20px}}.mat-card[_ngcontent-%COMP%]{display:flex;width:80vw;border-radius:32px;margin:10px 20px;padding:20px;box-shadow:#00000059 0 5px 15px}.card[_ngcontent-%COMP%]{border-radius:10px}.btn-right[_ngcontent-%COMP%]{float:right;margin-left:10px}@media (max-width: 768px){.btn-right[_ngcontent-%COMP%]{margin-top:5px}}.layout[_ngcontent-%COMP%]{padding:5px;display:flex;justify-content:space-between;align-items:center}ul[_ngcontent-%COMP%]{padding:0}p#preline[_ngcontent-%COMP%]{white-space:pre-line}.border[_ngcontent-%COMP%]{border:1px solid #5298de;border-radius:5px}.shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #f23a3a94}.btn-right[_ngcontent-%COMP%]{float:right;margin-left:5px}"]});let t=e;return t})();var xg=(()=>{let e=class e{constructor(r){this.httpClient=r,this.URL=$t.URL+"proyecto/"}lista(){return this.httpClient.get(this.URL+"lista")}detail(r){return this.httpClient.get(this.URL+`detail/${r}`)}save(r){return this.httpClient.post(this.URL+"create",r)}update(r,i){return this.httpClient.put(this.URL+`update/${r}`,i)}delete(r){return this.httpClient.delete(this.URL+`delete/${r}`)}};e.\u0275fac=function(i){return new(i||e)(F(Sn))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $5(t,e){if(t&1&&(S(0,"li")(1,"a",12),te(2,"i",13),T()()),t&2){let n=ne().$implicit;U(),_n("href",n.link,rt)}}function q5(t,e){if(t&1&&(S(0,"li")(1,"a",12),te(2,"i",14),T()()),t&2){let n=ne().$implicit;U(),_n("href",n.repo,rt)}}function z5(t,e){if(t&1){let n=dt();S(0,"div")(1,"div",15)(2,"button",16),te(3,"i",17),z(4," Editar "),T(),S(5,"button",18),xe("click",function(){Ce(n);let i=ne().$implicit,o=ne();return De(o.delete(i.id))}),te(6,"i",19),z(7," Borrar "),T()()()}if(t&2){let n=ne().$implicit;U(2),it("routerLink","/edit-project/",n.id,"")}}function H5(t,e){if(t&1&&(S(0,"div",4)(1,"div",5),te(2,"img",6),S(3,"div",7)(4,"h4"),z(5),T(),S(6,"h3",8),z(7),T(),S(8,"span",9),z(9),T()(),S(10,"ul",10),ve(11,$5,3,1,"li",11)(12,q5,3,1,"li",11),T()(),ve(13,z5,8,1,"div",11),T()),t&2){let n=e.$implicit,r=ne();U(2),it("alt","img-proj-",n.id,""),ce("src",n.img,rt),U(3),wn(n.fecha),U(2),wn(n.nombreP),U(2),wn(n.descripcionP),U(2),ce("ngIf",n.link),U(),ce("ngIf",n.repo),U(),ce("ngIf",r.isLogged)}}var IR=(()=>{let e=class e{constructor(r,i){this.sProyecto=r,this.sToken=i,this.proyecto=[],this.isLogged=!0}ngOnInit(){console.log("Proyectos component"),this.cargarProyectos(),this.sToken.getToken()?this.isLogged=!0:this.isLogged=!1}cargarProyectos(){this.sProyecto.lista().subscribe(r=>{this.proyecto=r,console.log(this.proyecto)})}delete(r){r!==void 0&&this.sProyecto.delete(r).subscribe(i=>{this.cargarProyectos()},i=>alert("No se pudo borrar el proyecto"))}selectItem(r){console.log(r)}};e.\u0275fac=function(i){return new(i||e)(q(xg),q(Nt))},e.\u0275cmp=le({type:e,selectors:[["app-proyectos"]],decls:7,vars:1,consts:[[1,"contenedor"],[1,"encabezado"],["type","button","routerLink","/new-project","title","Agregar Proyecto",1,"icono-a\xF1adir"],["class","col-md-4 col-sm-6",4,"ngFor","ngForOf"],[1,"col-md-4","col-sm-6"],[1,"box"],[3,"src","alt"],[1,"box-content"],[1,"title"],[1,"post"],[1,"icon"],[4,"ngIf"],[3,"href"],[1,"fa","fa-link"],[1,"fa","fa-github"],[1,"d-grid","gap-2","col-6","mx-auto"],[1,"btn","btn-outline-dark",3,"routerLink"],[1,"bi","bi-pencil"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash3"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"h2"),z(3,"Proyecto"),T(),S(4,"button",2),z(5," Agregar Proyecto "),T()(),ve(6,H5,14,8,"div",3),T()),i&2&&(U(6),ce("ngForOf",o.proyecto))},dependencies:[Ar,Pt,Nr],styles:['.contenedor[_ngcontent-%COMP%]{width:100%;padding:20px;border:2px solid #ccc;border-radius:10px;box-shadow:4px 4px 8px #0003,-4px -4px 8px #fff9;background-color:#f9f9f9}.encabezado[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border:2px solid #34e265ad;border-radius:5px;background-color:#a9a9a9;flex-direction:row;padding-bottom:10px}.icono-anadir[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;background-color:#28a745;color:#fff;border:none;border-radius:5px;box-shadow:2px 2px 5px #0003;transition:box-shadow .2s,transform .2s;margin-right:2vw}.icono-anadir[_ngcontent-%COMP%]:hover{box-shadow:3px 3px 8px #0000004d;transform:translateY(-2px)}.row[_ngcontent-%COMP%]{padding:20px}.border[_ngcontent-%COMP%]{border:1px solid #5298de;border-radius:5px}.shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #f23a3a94}.logo[_ngcontent-%COMP%]{width:95%;max-width:100%;height:-webkit-fill-available;margin-top:20px;-webkit-filter:drop-shadow(5px 5px 5px #222);filter:drop-shadow(5px 5px 5px #222)}.layout[_ngcontent-%COMP%]{padding:5px;display:flex;justify-content:space-between;align-items:center}ul[_ngcontent-%COMP%]{padding:0}.box[_ngcontent-%COMP%]{background:#000;overflow:hidden;position:relative;transition:all .4s ease-in-out;box-shadow:#00000059 0 5px 15px;margin-bottom:12px;margin-top:12px}.box[_ngcontent-%COMP%]:before{content:"";background:#fff;box-shadow:0 0 50px #00000080 inset;border-radius:0 20px;opacity:0;transform:perspective(1000px) rotateX(90deg);transform-style:preserve-3d;position:absolute;inset:12px;transition:all .3s ease-in}.box[_ngcontent-%COMP%]:hover:before{opacity:1;transform:perspective(1000px) rotateX(0)}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;transition:all .3s ease 0s}.box[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.5;transform:scale(1.1)}.box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]{color:#fff;background:#000;text-align:center;width:80%;padding:15px 10px;border-radius:0 20px;opacity:0;transform:translate(-50%) translateY(-200%);position:absolute;top:50%;left:50%;z-index:1;transition:all .3s ease-out;margin-bottom:10px}.box[_ngcontent-%COMP%]:hover   .box-content[_ngcontent-%COMP%]{opacity:1;transform:translate(-50%) translateY(-60%)}.box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;text-transform:uppercase;text-shadow:2px 2px 5px rgba(0,0,0,.5);margin:0 0 5px}.box[_ngcontent-%COMP%]   .post[_ngcontent-%COMP%]{font-size:16px;font-style:italic;text-transform:capitalize;letter-spacing:1px;text-shadow:2px 2px 5px rgba(0,0,0,.5)}.box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding:0;margin:10px 0 0;list-style:none;opacity:0;transform:translate(-50%);position:absolute;left:50%;bottom:-20px;transition:all .3s ease 0s}.box[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{opacity:1;bottom:20px}.box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin:0 5px}.box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;background:#000;font-size:14px;text-align:center;line-height:38px;width:50px;height:38px;outline-offset:-5px;outline:2px solid #fff;display:block;transition:all .35s ease 0s}.box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000;background:#fff;outline-color:#000;box-shadow:0 0 5px #00000080 inset}@media only screen and (max-width:990px){.box[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:12px}.icon[_ngcontent-%COMP%]{display:flex}.box[_ngcontent-%COMP%]   .box-content[_ngcontent-%COMP%]{max-height:60%}}@media only screen and (max-width: 769px){.title[_ngcontent-%COMP%]{font-size:14px!important}}']});let t=e;return t})();var Tg=(()=>{let e=class e{constructor(r){this.httpClient=r,this.URL=$t.URL+"skills/"}lista(){return this.httpClient.get(this.URL+"lista")}detail(r){return this.httpClient.get(this.URL+`detail/${r}`)}save(r){return this.httpClient.post(this.URL+"create",r)}update(r,i){return this.httpClient.put(this.URL+`update/${r}`,i)}delete(r){return this.httpClient.delete(this.URL+`delete/${r}`)}};e.\u0275fac=function(i){return new(i||e)(F(Sn))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function W5(t,e){if(t&1){let n=dt();S(0,"div",4),xe("click",function(){let o=Ce(n).$implicit,s=ne();return De(s.selectItem(o))}),S(1,"div",5)(2,"button",6),te(3,"i",7),T(),S(4,"button",8),xe("click",function(){let o=Ce(n).$implicit,s=ne();return De(s.delete(o.id))}),te(5,"i",9),T()(),S(6,"div",10)(7,"h3"),z(8),T(),te(9,"circle-progress",11),T()()}if(t&2){let n=e.$implicit,r=e.index;je("data-index",r),U(2),it("routerLink","/edit-hys/",n.id,""),U(6),wn(n.nombre),U(),ce("percent",n.porcentaje)("radius",90)("showImage",!0)("imageSrc",n.img)("showTitle",!1)("showSubtitle",!1)("imageHeight",80)("imageWidth",80)("subtitleColor","#FFFFFF")("outerStrokeWidth",5)("outerStrokeColor","#FFFFFF")("innerStrokeColor","#FFFFFF")("showInnerStroke",!1)("animation",!0)("animationDuration",300)("backgroundColor","#000000")}}var DR=(()=>{let e=class e{constructor(r,i){this.skillS=r,this.tokenService=i,this.skill=[],this.isLogged=!0}ngOnInit(){console.log("HysComponent"),this.cargarSkills(),this.tokenService.getToken()?this.isLogged=!0:this.isLogged=!1,console.log("CargaSkills")}cargarSkills(){this.skillS.lista().subscribe(r=>{this.skill=r,console.log("skill:",this.skill)})}selectItem(r){console.log("item"),console.log(r)}delete(r){if(r!=null){console.error("ID no v\xE1lido:",r);return}confirm("\xBFEst\xE1s seguro de que deseas eliminar esta skill?")&&this.skillS.delete(r).subscribe(()=>{console.log(`Skill con ID ${r} eliminada correctamente`,r),this.cargarSkills()},i=>{console.error("Error al eliminar la skill:",i),alert("No se pudo borrar la skill")})}};e.\u0275fac=function(i){return new(i||e)(q(Tg),q(Nt))},e.\u0275cmp=le({type:e,selectors:[["app-hys"]],decls:7,vars:1,consts:[[1,"contenedor"],[1,"encabezado"],["type","button","routerLink","/new-hys","title","Agregar Skill",1,"icono-a\xF1adir"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"acciones"],["title","Editar",1,"icono-editar",3,"routerLink"],[1,"bi","bi-pencil-fill"],["title","Borrar",1,"icono-borrar",3,"click"],[1,"bi","bi-trash-fill"],[1,"contenido"],[3,"percent","radius","showImage","imageSrc","showTitle","showSubtitle","imageHeight","imageWidth","subtitleColor","outerStrokeWidth","outerStrokeColor","innerStrokeColor","showInnerStroke","animation","animationDuration","backgroundColor"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"h1"),z(3,"Hard & Soft Skills"),T(),S(4,"button",2),z(5," Agregar Skill "),T()(),ve(6,W5,10,19,"div",3),T()),i&2&&(U(6),ce("ngForOf",o.skill))},dependencies:[Ar,Nr,US],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;padding:20px;border:2px solid #ccc;border-radius:10px;box-shadow:4px 4px 8px #0003,-4px -4px 8px #fff9;background-color:#f9f9f9}.encabezado[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border:2px solid #34e265ad;border-radius:5px;background-color:#a9a9a9;flex-direction:row;padding-bottom:10px}.icono-anadir[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;background-color:#28a745;color:#fff;border:none;border-radius:5px;box-shadow:2px 2px 5px #0003;transition:box-shadow .2s,transform .2s;margin-right:2vw}.icono-anadir[_ngcontent-%COMP%]:hover{box-shadow:3px 3px 8px #0000004d;transform:translateY(-2px)}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-bottom:2px;border:1px solid blue;border-radius:10px;padding:2px}.icono-editar[_ngcontent-%COMP%], .icono-borrar[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;background-color:#007bff;color:#fff;border:none;border-radius:5px;box-shadow:2px 2px 5px #0003;transition:box-shadow .2s,transform .2s}.icono-borrar[_ngcontent-%COMP%]{background-color:#dc3545}.icono-editar[_ngcontent-%COMP%]:hover, .icono-borrar[_ngcontent-%COMP%]:hover{box-shadow:3px 3px 8px #0000004d;transform:translateY(-2px)}.contenido[_ngcontent-%COMP%]{display:flex;border:2px solid #ccc;padding-top:5px}.imagen[_ngcontent-%COMP%]{flex:0 0 25%;border:2px solid #ccc;border-radius:10px;overflow:hidden;box-shadow:2px 2px 5px #0003}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;height:-webkit-fill-available;margin-top:20px;-webkit-filter:drop-shadow(5px 5px 5px #222);filter:drop-shadow(5px 5px 5px #222)}.informacion[_ngcontent-%COMP%]{flex:1;padding-left:20px;border:1px solid #ccc;border-radius:10px}.row[_ngcontent-%COMP%]{padding:20px}.circle[_ngcontent-%COMP%]{text-align:center}.btn-right[_ngcontent-%COMP%]{float:right;margin-left:10px;text-align:center}.layout[_ngcontent-%COMP%]{padding-top:25px;padding-bottom:25px;display:flex;justify-content:space-between;align-items:center}.btn[_ngcontent-%COMP%]{margin:10px 5px}circle-progress[_ngcontent-%COMP%]{-webkit-filter:drop-shadow(5px 5px 5px rgb(255,255,255));filter:drop-shadow(5px 5px 5px rgb(255,255,255))}h3[_ngcontent-%COMP%]{margin-top:5px;align-items:center;text-align:center}.logo[_ngcontent-%COMP%]{width:95%;max-width:100%;height:-webkit-fill-available;margin-top:20px;-webkit-filter:drop-shadow(5px 5px 5px #222);filter:drop-shadow(5px 5px 5px #222)}@media (max-width: 768px){.logo[_ngcontent-%COMP%]{margin-top:-20px;margin-bottom:20px}}.mat-card[_ngcontent-%COMP%]{display:flex;width:80vw;border-radius:32px;margin:10px 20px;padding:20px;box-shadow:#00000059 0 5px 15px}.card[_ngcontent-%COMP%]{border-radius:10px}.btn-right[_ngcontent-%COMP%]{float:right;margin-left:10px}@media (max-width: 768px){.btn-right[_ngcontent-%COMP%]{margin-top:5px}}.layout[_ngcontent-%COMP%]{padding:5px;display:flex;justify-content:space-between;align-items:center;margin:5px}ul[_ngcontent-%COMP%]{padding:0}p#preline[_ngcontent-%COMP%]{white-space:pre-line}.border[_ngcontent-%COMP%]{border:1px solid #5298de;border-radius:5px}.shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #f23a3a94}"]});let t=e;return t})();var xR=(()=>{let e=class e{constructor(r,i){this.personaService=r,this.tokenService=i,this.persona=new yo,this.isLogged=!1}ngOnInit(){this.cargarPersona(),this.tokenService.getToken()?this.isLogged=!0:this.isLogged=!1}cargarPersona(){this.personaService.detail(1).subscribe(r=>{this.persona=r})}};e.\u0275fac=function(i){return new(i||e)(q(wc),q(Nt))},e.\u0275cmp=le({type:e,selectors:[["app-banner"]],decls:2,vars:1,consts:[[1,"img-top"],["alt","banner-img",1,"card-img-top","img-fluid","animate",3,"src"]],template:function(i,o){i&1&&(S(0,"div",0),te(1,"img",1),T()),i&2&&(U(),_n("src",o.persona.imgBanner,rt))},styles:[".animate[_ngcontent-%COMP%]{transition:all .5s ease}.img-top[_ngcontent-%COMP%]{overflow:hidden;width:auto;height:auto}.img-top[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.5);filter:grayscale(0%)}img[_ngcontent-%COMP%]{margin:auto;width:100%;height:auto;vertical-align:top;filter:grayscale(100%)}"]});let t=e;return t})();var TR=(()=>{let e=class e{constructor(){}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-social"]],decls:12,vars:0,consts:[["href","https://www.linkedin.com/","title","Linkedin...",1,"social-icon"],[1,"fa","fa-linkedin"],["href","https://github.com/IOTHernan","title","Github...","title","Github",1,"social-icon"],["title","Github...",1,"fa","fa-github"],["href","https://instagram.com/@canestraro-che","title","Instagram...",1,"social-icon"],[1,"fa","fa-instagram"],["href","https://www.twitter.com/@canestraro-che","title","Twitter...",1,"social-icon"],[1,"fa","fa-twitter"],["href","https://sites.google.com/view/HCanestraro","title","Google sites...",1,"social-icon"],["src","https://firebasestorage.googleapis.com/v0/b/front-ad0dc.appspot.com/o/chegooglesites.jpeg?alt=media&token=65a0ba63-80d6-4cd9-9bad-ac5ed2bdcb81","width","24","height","24","alt","Google sites"],["href","https://www.youtube.com/@HCanestraro","title","Youtube canal...",1,"social-icon"],[1,"fa","fa-youtube"]],template:function(i,o){i&1&&(S(0,"a",0),te(1,"i",1),T(),S(2,"a",2),te(3,"i",3),T(),S(4,"a",4),te(5,"i",5),T(),S(6,"a",6),te(7,"i",7),T(),S(8,"a",8),te(9,"img",9),T(),S(10,"a",10),te(11,"i",11),T())},styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css";.social-icon[_ngcontent-%COMP%]{color:#fff;margin-right:5px;font-size:20px}.fa-linkedin[_ngcontent-%COMP%]{padding:10px 14px;-o-transition:.5s;-ms-transition:.5s;-moz-transition:.5s;-webkit-transition:.5s;transition:.5s}.fa-linkedin[_ngcontent-%COMP%]:hover{background-color:#035579;border-radius:20%}.fa-github[_ngcontent-%COMP%]{padding:10px 14px;-o-transition:.5s;-ms-transition:.5s;-moz-transition:.5s;-webkit-transition:.5s;transition:.5s}.fa-github[_ngcontent-%COMP%]:hover{background-color:#322f30;border-radius:20%}.fa-instagram[_ngcontent-%COMP%]{padding:10px 14px;-o-transition:.5s;-ms-transition:.5s;-moz-transition:.5s;-webkit-transition:.5s;transition:.5s}.fa-instagram[_ngcontent-%COMP%]:hover{background-color:#035579;border-radius:20%}.fa-youtube[_ngcontent-%COMP%]{padding:10px 14px;-o-transition:.5s;-ms-transition:.5s;-moz-transition:.5s;-webkit-transition:.5s;transition:.5s}.fa-youtube[_ngcontent-%COMP%]:hover{background-color:#035579;border-radius:20%}']});let t=e;return t})();function Z5(t,e){if(t&1){let n=dt();S(0,"button",6),xe("click",function(){Ce(n);let i=ne();return De(i.login())}),z(1," Login "),T()}}function X5(t,e){if(t&1){let n=dt();S(0,"button",6),xe("click",function(){Ce(n);let i=ne();return De(i.onLogOut())}),z(1," Logout "),T()}}var SR=(()=>{let e=class e{constructor(r,i){this.router=r,this.tokenService=i,this.isLogged=!1}ngOnInit(){this.tokenService.getToken()?this.isLogged=!0:this.isLogged=!1}onLogOut(){this.tokenService.logOut(),window.location.reload()}login(){this.router.navigate(["/login"])}};e.\u0275fac=function(i){return new(i||e)(q(Qe),q(Nt))},e.\u0275cmp=le({type:e,selectors:[["app-logo-ap"]],decls:8,vars:2,consts:[[1,"container"],[1,"row"],[1,"layout"],["id","logoAP","src","./../../../assets/media/APLogo.png","alt","logo-AP"],[1,"social"],["type","button","class","btn btn-outline-light",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-light",3,"click"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"div",2),te(3,"img",3),S(4,"div",4),te(5,"app-social"),ve(6,Z5,2,0,"button",5)(7,X5,2,0,"button",5),T()()()()),i&2&&(U(6),ce("ngIf",!o.isLogged),U(),ce("ngIf",o.isLogged))},dependencies:[Pt,TR],styles:["#logoAP[_ngcontent-%COMP%]{width:150px}.social[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.btn-right[_ngcontent-%COMP%]{float:right;margin-right:10px}@media (max-width: 359px){.layout[_ngcontent-%COMP%]{flex-direction:column}.social[_ngcontent-%COMP%]{display:flex;justify-content:column;align-items:center;margin-bottom:.2em}}.layout[_ngcontent-%COMP%]{display:flex;place-items:center;justify-content:space-between;align-items:center}"]});let t=e;return t})();var Sg=(()=>{let e=class e{constructor(){}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-header"]],decls:2,vars:0,template:function(i,o){i&1&&(S(0,"header"),te(1,"app-logo-ap"),T())},dependencies:[SR],styles:["header[_ngcontent-%COMP%]{background:#3d6f95}"]});let t=e;return t})();var _b=(()=>{let e=class e{constructor(){}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-home"]],decls:8,vars:0,template:function(i,o){i&1&&te(0,"app-header")(1,"app-banner")(2,"app-about")(3,"app-experiencia")(4,"app-educacion")(5,"app-hys")(6,"app-proyectos")(7,"app-footer")},dependencies:[_R,wR,ER,bR,IR,DR,xR,Sg]});let t=e;return t})();var Ic=class{constructor(e="",n="",r="",i="",o=""){this.nombreE=e,this.descripcionE=n,this.puesto=r,this.periodo=i,this.img=o}};var tz="auth";var Ag=class{constructor(){return nl(tz)}};var VR="firebasestorage.googleapis.com",LR="storageBucket",nz=2*60*1e3,rz=10*60*1e3,iz=1e3;var et=class t extends bd{constructor(e,n,r=0){super(wb(e),`Firebase Storage: ${n} (${wb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ze=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ze||{});function wb(t){return"storage/"+t}function Sb(){let t="An unknown error occurred, please check the error payload for server response.";return new et(Ze.UNKNOWN,t)}function oz(t){return new et(Ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function sz(t){return new et(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function az(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(Ze.UNAUTHENTICATED,t)}function cz(){return new et(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uz(t){return new et(Ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function jR(){return new et(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UR(){return new et(Ze.CANCELED,"User canceled the upload/download.")}function lz(t){return new et(Ze.INVALID_URL,"Invalid URL '"+t+"'.")}function dz(t){return new et(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hz(){return new et(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+LR+"' property when initializing the app?")}function BR(){return new et(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fz(){return new et(Ze.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function pz(){return new et(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gz(t){return new et(Ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xs(t){return new et(Ze.INVALID_ARGUMENT,t)}function $R(){return new et(Ze.APP_DELETED,"The Firebase app was deleted.")}function Ab(t){return new et(Ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yl(t,e){return new et(Ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ql(t){throw new et(Ze.INTERNAL_ERROR,"Internal error: "+t)}var pn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw dz(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function l(B){B.path_=decodeURIComponent(B.path)}let d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${d}/b/${i}/o${g}`,"i"),b={bucket:1,path:3},P=n===VR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",O=new RegExp(`^https?://${P}/${i}/${C}`,"i"),V=[{regex:a,indices:c,postModify:o},{regex:y,indices:b,postModify:l},{regex:O,indices:{bucket:1,path:2},postModify:l}];for(let B=0;B<V.length;B++){let X=V[B],Z=X.regex.exec(e);if(Z){let E=Z[X.indices.bucket],v=Z[X.indices.path];v||(v=""),r=new t(E,v),X.postModify(r);break}}if(r==null)throw lz(e);return r}},bb=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function mz(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let l=!1;function d(...C){l||(l=!0,e.apply(null,C))}function f(C){i=setTimeout(()=>{i=null,t(y,c())},C)}function g(){o&&clearTimeout(o)}function y(C,...O){if(l){g();return}if(C){g(),d.call(null,C,...O);return}if(c()||s){g(),d.call(null,C,...O);return}r<64&&(r*=2);let V;a===1?(a=2,V=0):V=(r+Math.random())*1e3,f(V)}let b=!1;function P(C){b||(b=!0,g(),!l&&(i!==null?(C||(a=2),clearTimeout(i),f(0)):C||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,P(!0)},n),P}function yz(t){t(!1)}function vz(t){return t!==void 0}function _z(t){return typeof t=="function"}function wz(t){return typeof t=="object"&&!Array.isArray(t)}function Rg(t){return typeof t=="string"||t instanceof String}function AR(t){return Mb()&&t instanceof Blob}function Mb(){return typeof Blob<"u"}function Ib(t,e,n,r){if(r<e)throw xs(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xs(`Invalid value for '${t}'. Expected ${n} or less.`)}function vo(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qR(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var xc=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(xc||{});function zR(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var Cb=class{constructor(e,n,r,i,o,s,a,c,l,d,f,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Dc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===xc.NO_ERROR,c=o.getStatus();if(!a||zR(c,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===xc.ABORT;r(!1,new Dc(!1,null,d));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new Dc(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());vz(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=Sb();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?$R():UR();s(c)}else{let c=jR();s(c)}};this.canceled_?n(!1,new Dc(!1,null,!0)):this.backoffId_=mz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Dc=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Ez(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Iz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Cz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Dz(t,e,n,r,i,o,s=!0){let a=qR(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return Iz(l,e),Ez(l,n),bz(l,o),Cz(l,r),new Cb(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function xz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Tz(...t){let e=xz();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Mb())return new Blob(t);throw new et(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Sz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function Az(t){if(typeof atob>"u")throw gz("base-64");return atob(t)}var Nn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Zl=class{constructor(e,n){this.data=e,this.contentType=n||null}};function Pb(t,e){switch(t){case Nn.RAW:return new Zl(HR(e));case Nn.BASE64:case Nn.BASE64URL:return new Zl(GR(t,e));case Nn.DATA_URL:return new Zl(Pz(e),Rz(e))}throw Sb()}function HR(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Mz(t){let e;try{e=decodeURIComponent(t)}catch{throw Yl(Nn.DATA_URL,"Malformed data URL.")}return HR(e)}function GR(t,e){switch(t){case Nn.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Yl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Nn.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Yl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Az(e)}catch(i){throw i.message.includes("polyfill")?i:Yl(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var Pg=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Yl(Nn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=Nz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function Pz(t){let e=new Pg(t);return e.base64?GR(Nn.BASE64,e.rest):Mz(e.rest)}function Rz(t){return new Pg(t).contentType}function Nz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Ts=class t{constructor(e,n){let r=0,i="";AR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(AR(this.data_)){let r=this.data_,i=Sz(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(Mb()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(Tz.apply(null,n))}else{let n=e.map(s=>Rg(s)?Pb(Nn.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function Rb(t){let e;try{e=JSON.parse(t)}catch{return null}return wz(e)?e:null}function kz(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Oz(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function WR(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Fz(t,e){return e}var zt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Fz}},Mg=null;function Vz(t){return!Rg(t)||t.length<2?t:WR(t)}function ed(){if(Mg)return Mg;let t=[];t.push(new zt("bucket")),t.push(new zt("generation")),t.push(new zt("metageneration")),t.push(new zt("name","fullPath",!0));function e(o,s){return Vz(s)}let n=new zt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new zt("size");return i.xform=r,t.push(i),t.push(new zt("timeCreated")),t.push(new zt("updated")),t.push(new zt("md5Hash",null,!0)),t.push(new zt("cacheControl",null,!0)),t.push(new zt("contentDisposition",null,!0)),t.push(new zt("contentEncoding",null,!0)),t.push(new zt("contentLanguage",null,!0)),t.push(new zt("contentType",null,!0)),t.push(new zt("metadata","customMetadata",!0)),Mg=t,Mg}function Lz(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new pn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function jz(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return Lz(r,t),r}function KR(t,e,n){let r=Rb(e);return r===null?null:jz(t,r,n)}function Uz(t,e,n,r){let i=Rb(e);if(i===null||!Rg(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let d=t.bucket,f=t.fullPath,g="/b/"+s(d)+"/o/"+s(f),y=vo(g,n,r),b=qR({alt:"media",token:l});return y+b})[0]}function Nb(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var MR="prefixes",PR="items";function Bz(t,e,n){let r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[MR])for(let i of n[MR]){let o=i.replace(/\/$/,""),s=t._makeStorageReference(new pn(e,o));r.prefixes.push(s)}if(n[PR])for(let i of n[PR]){let o=t._makeStorageReference(new pn(e,i.name));r.items.push(o)}return r}function $z(t,e,n){let r=Rb(n);return r===null?null:Bz(t,e,r)}var fr=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Wr(t){if(!t)throw Sb()}function Ng(t,e){function n(r,i){let o=KR(t,i,e);return Wr(o!==null),o}return n}function qz(t,e){function n(r,i){let o=$z(t,e,i);return Wr(o!==null),o}return n}function zz(t,e){function n(r,i){let o=KR(t,i,e);return Wr(o!==null),Uz(o,i,t.host,t._protocol)}return n}function Ac(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=cz():i=az():n.getStatus()===402?i=sz(t.bucket):n.getStatus()===403?i=uz(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function kg(t){let e=Ac(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=oz(t.path)),o.serverResponse=i.serverResponse,o}return n}function QR(t,e,n){let r=e.fullServerUrl(),i=vo(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new fr(i,o,Ng(t,n),s);return a.errorHandler=kg(e),a}function Hz(t,e,n,r,i){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);let s=e.bucketOnlyServerUrl(),a=vo(s,t.host,t._protocol),c="GET",l=t.maxOperationRetryTime,d=new fr(a,c,qz(t,e.bucket),l);return d.urlParams=o,d.errorHandler=Ac(e),d}function Gz(t,e,n){let r=e.fullServerUrl(),i=vo(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new fr(i,o,zz(t,n),s);return a.errorHandler=kg(e),a}function Wz(t,e,n,r){let i=e.fullServerUrl(),o=vo(i,t.host,t._protocol),s="PATCH",a=Nb(n,r),c={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,d=new fr(o,s,Ng(t,r),l);return d.headers=c,d.body=a,d.errorHandler=kg(e),d}function Kz(t,e){let n=e.fullServerUrl(),r=vo(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(c,l){}let a=new fr(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=kg(e),a}function Qz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function YR(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Qz(null,e)),r}function ZR(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let V="";for(let B=0;B<2;B++)V=V+Math.random().toString().slice(2);return V}let c=a();s["Content-Type"]="multipart/related; boundary="+c;let l=YR(e,r,i),d=Nb(l,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,g=`\r
--`+c+"--",y=Ts.getBlob(f,r,g);if(y===null)throw BR();let b={name:l.fullPath},P=vo(o,t.host,t._protocol),C="POST",O=t.maxUploadRetryTime,$=new fr(P,C,Ng(t,n),O);return $.urlParams=b,$.headers=s,$.body=y.uploadData(),$.errorHandler=Ac(e),$}var Tc=class{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}};function kb(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Wr(!1)}return Wr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Yz(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s=YR(e,r,i),a={name:s.fullPath},c=vo(o,t.host,t._protocol),l="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=Nb(s,n),g=t.maxUploadRetryTime;function y(P){kb(P);let C;try{C=P.getResponseHeader("X-Goog-Upload-URL")}catch{Wr(!1)}return Wr(Rg(C)),C}let b=new fr(c,l,y,g);return b.urlParams=a,b.headers=d,b.body=f,b.errorHandler=Ac(e),b}function Zz(t,e,n,r){let i={"X-Goog-Upload-Command":"query"};function o(l){let d=kb(l,["active","final"]),f=null;try{f=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Wr(!1)}f||Wr(!1);let g=Number(f);return Wr(!isNaN(g)),new Tc(g,r.size(),d==="final")}let s="POST",a=t.maxUploadRetryTime,c=new fr(n,s,o,a);return c.headers=i,c.errorHandler=Ac(e),c}var RR=256*1024;function Xz(t,e,n,r,i,o,s,a){let c=new Tc(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw fz();let l=c.total-c.current,d=l;i>0&&(d=Math.min(d,i));let f=c.current,g=f+d,y="";d===0?y="finalize":l===d?y="upload, finalize":y="upload";let b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${c.current}`},P=r.slice(f,g);if(P===null)throw BR();function C(B,X){let Z=kb(B,["active","final"]),E=c.current+d,v=r.size(),_;return Z==="final"?_=Ng(e,o)(B,X):_=null,new Tc(E,v,Z==="final",_)}let O="POST",$=e.maxUploadRetryTime,V=new fr(n,O,C,$);return V.headers=b,V.body=P.uploadData(),V.progressCallback=a||null,V.errorHandler=Ac(t),V}var XR={STATE_CHANGED:"state_changed"},Jt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Eb(t){switch(t){case"running":case"pausing":case"canceling":return Jt.RUNNING;case"paused":return Jt.PAUSED;case"success":return Jt.SUCCESS;case"canceled":return Jt.CANCELED;case"error":return Jt.ERROR;default:return Jt.ERROR}}var Db=class{constructor(e,n,r){if(_z(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{let o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function Cc(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var NR=null,xb=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ql("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Tb=class extends xb{initXhr(){this.xhr_.responseType="text"}};function hr(){return NR?NR():new Tb}var Xl=class{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=ed(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ze.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(zR(i.status,[]))if(o)i=jR();else{this.sleepTime=Math.max(this.sleepTime*2,iz),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ze.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let r=Yz(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,hr,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,r)=>{let i=Zz(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,hr,n,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=RR*this._chunkMultiplier,n=new Tc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=Xz(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let a=this._ref.storage._makeRequest(s,hr,i,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){RR*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let r=QR(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,hr,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let r=ZR(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,hr,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=UR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=Eb(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){let o=new Db(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Eb(this._state)){case Jt.SUCCESS:Cc(this._resolve.bind(null,this.snapshot))();break;case Jt.CANCELED:case Jt.ERROR:let n=this._reject;Cc(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Eb(this._state)){case Jt.RUNNING:case Jt.PAUSED:e.next&&Cc(e.next.bind(e,this.snapshot))();break;case Jt.SUCCESS:e.complete&&Cc(e.complete.bind(e))();break;case Jt.CANCELED:case Jt.ERROR:e.error&&Cc(e.error.bind(e,this._error))();break;default:e.error&&Cc(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var Sc=class t{constructor(e,n){this._service=e,n instanceof pn?this._location=n:this._location=pn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WR(this._location.path)}get storage(){return this._service}get parent(){let e=kz(this._location.path);if(e===null)return null;let n=new pn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Ab(e)}};function Jz(t,e,n){t._throwIfRoot("uploadBytes");let r=ZR(t.storage,t._location,ed(),new Ts(e,!0),n);return t.storage.makeRequestWithTokens(r,hr).then(i=>({metadata:i,ref:t}))}function eH(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Xl(t,new Ts(e),n)}function tH(t){let e={prefixes:[],items:[]};return JR(t,e).then(()=>e)}function JR(t,e,n){return A(this,null,function*(){let i=yield eN(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield JR(t,e,i.nextPageToken))})}function eN(t,e){e!=null&&typeof e.maxResults=="number"&&Ib("options.maxResults",1,1e3,e.maxResults);let n=e||{},r=Hz(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,hr)}function nH(t){t._throwIfRoot("getMetadata");let e=QR(t.storage,t._location,ed());return t.storage.makeRequestWithTokens(e,hr)}function rH(t,e){t._throwIfRoot("updateMetadata");let n=Wz(t.storage,t._location,e,ed());return t.storage.makeRequestWithTokens(n,hr)}function iH(t){t._throwIfRoot("getDownloadURL");let e=Gz(t.storage,t._location,ed());return t.storage.makeRequestWithTokens(e,hr).then(n=>{if(n===null)throw pz();return n})}function oH(t){t._throwIfRoot("deleteObject");let e=Kz(t.storage,t._location);return t.storage.makeRequestWithTokens(e,hr)}function tN(t,e){let n=Oz(t._location.path,e),r=new pn(t._location.bucket,n);return new Sc(t.storage,r)}function sH(t){return/^[A-Za-z]+:\/\//.test(t)}function aH(t,e){return new Sc(t,e)}function nN(t,e){if(t instanceof Jl){let n=t;if(n._bucket==null)throw hz();let r=new Sc(n,n._bucket);return e!=null?nN(r,e):r}else return e!==void 0?tN(t,e):t}function cH(t,e){if(e&&sH(e)){if(t instanceof Jl)return aH(t,e);throw xs("To use ref(service, url), the first argument must be a Storage instance.")}else return nN(t,e)}function kR(t,e){let n=e?.[LR];return n==null?null:pn.makeFromBucketSpec(n,t)}function uH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:wd(i,t.app.options.projectId))}var Jl=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=VR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nz,this._maxUploadRetryTime=rz,this._requests=new Set,i!=null?this._bucket=pn.makeFromBucketSpec(i,this._host):this._bucket=kR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pn.makeFromBucketSpec(this._url,e):this._bucket=kR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ib("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ib("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return A(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return A(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sc(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new bb($R());{let s=Dz(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return A(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},OR="@firebase/storage",FR="0.12.6";var rN="storage";function iN(t,e,n){return t=Ae(t),Jz(t,e,n)}function Ob(t,e,n){return t=Ae(t),eH(t,e,n)}function Fb(t){return t=Ae(t),nH(t)}function Vb(t,e){return t=Ae(t),rH(t,e)}function Og(t,e){return t=Ae(t),eN(t,e)}function Lb(t){return t=Ae(t),tH(t)}function Fg(t){return t=Ae(t),iH(t)}function jb(t){return t=Ae(t),oH(t)}function td(t,e){return t=Ae(t),cH(t,e)}function oN(t,e){return tN(t,e)}function sN(t=Ns(),e){t=Ae(t);let r=Cd(t,rN).getImmediate({identifier:e}),i=gm("storage");return i&&Vg(r,...i),r}function Vg(t,e,n,r={}){uH(t,e,n,r)}function lH(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Jl(n,r,i,e,Dd)}function dH(){Co(new Zn(rN,lH,"PUBLIC").setMultipleInstances(!0)),Tt(OR,FR,""),Tt(OR,FR,"esm2017")}dH();var pr=class{constructor(e){return e}},aN="storage",Ub=class{constructor(){return nl(aN)}};var Bb=new H("angularfire2.storage-instances");function hH(t,e){let n=W_(aN,t,e);return n&&new pr(n)}function fH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new pr(r)}}var pH={provide:Ub,deps:[[new vn,Bb]]},gH={provide:pr,useFactory:hH,deps:[[new vn,Bb],Xo]},mH=(()=>{class t{constructor(){Tt("angularfire",ln.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ke({type:t});static \u0275inj=Oe({providers:[gH,pH]})}return t})();function cN(t,...e){return{ngModule:mH,providers:[{provide:Bb,useFactory:fH(t),multi:!0,deps:[pe,Ut,sr,il,[new vn,Ag],[new vn,qn],...e]}]}}var Kn=li(Fg,!0);var Lg=li(sN,!0);var Qn=li(Og,!0);var en=li(td,!0);var uN=li(iN,!0);var Dn=(()=>{let e=class e{constructor(r){this.storage=r,this.url=""}uploadImage(r,i){let o=r.target.files[0],s=en(this.storage,"/"+i);uN(s,o).then(a=>{this.getImages()}).catch(a=>console.log(a))}getImages(){let r=en(this.storage,"imagen");Qn(r).then(i=>A(this,null,function*(){for(let o of i.items)this.url=yield Kn(o);console.log("imgS finish")})).catch(i=>console.log(i))}};e.\u0275fac=function(i){return new(i||e)(F(pr))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lN=(()=>{let e=class e{constructor(r,i,o){this.sExperiencia=r,this.router=i,this.imgService=o,this.nombreE="",this.descripcionE="",this.puesto="",this.periodo="",this.img=""}ngOnInit(){console.log("NewExperiencia component")}onCreate(){let r=new Ic(this.nombreE,this.descripcionE,this.puesto,this.periodo,this.img);this.sExperiencia.save(r).subscribe({next:i=>{alert("Experiencia a\xF1adida"),this.router.navigate([""])},error:i=>{alert("Error en a\xF1adir experiencia"),this.router.navigate([""])}})}uploadImage(r){let i="experience_"+this.nombreE;this.imgService.uploadImage(r,i),setTimeout(()=>{this.getImagen(i)},3e3)}getImagen(r){return A(this,null,function*(){try{let i=en(this.imgService.storage,"imagen"),s=(yield Qn(i)).items.find(a=>a.name===r);s?this.img=yield Kn(s):console.log("No se pudo encontrar la imagen de la experiencia:"+this.nombreE)}catch(i){console.error("Error al obtener la imagen:",i)}})}};e.\u0275fac=function(i){return new(i||e)(q(bc),q(Qe),q(Dn))},e.\u0275cmp=le({type:e,selectors:[["app-new-experiencia"]],decls:2,vars:0,template:function(i,o){i&1&&(S(0,"p"),z(1,"new-experiencia works!"),T())}});let t=e;return t})();var dN=(()=>{let e=class e{constructor(r,i,o,s,a){this.sExperiencia=r,this.activateRouter=i,this.router=o,this.imgService=s,this.storage=a,this.url="",this.expLab=new Ic}ngOnInit(){let r=this.activateRouter.snapshot.params.id;this.sExperiencia.detail(r).subscribe(i=>{this.expLab=i,this.getImagen()},i=>{alert("Error en editar experiencia"),this.router.navigate([""])})}onUpdate(){let r=this.activateRouter.snapshot.params.id;this.expLab.img=this.url,this.sExperiencia.update(r,this.expLab).subscribe(i=>{alert("Experiencia editada"),this.router.navigate([""])},i=>{alert("Error en editar experiencia"),this.router.navigate([""])})}uploadImage(r){this.url="";let i="experience_"+this.expLab.nombreE;this.imgService.uploadImage(r,i),setTimeout(()=>{this.getImagen(i)},2e3)}getImagen(r){return A(this,null,function*(){try{let i=en(this.storage,"imagen"),o=yield Qn(i),s=r||"experience_"+this.expLab.nombreE,a=o.items.find(c=>c.name===s);a?this.url=yield Kn(a):console.log("No se pudo encontrar la imagen de la experiencia: "+this.expLab.nombreE)}catch(i){console.error("Error al obtener la imagen:",i)}})}};e.\u0275fac=function(i){return new(i||e)(q(bc),q(Bt),q(Qe),q(Dn),q(pr))},e.\u0275cmp=le({type:e,selectors:[["app-edit-experiencia"]],decls:2,vars:0,template:function(i,o){i&1&&(S(0,"p"),z(1,"edit-experiencia works!"),T())}});let t=e;return t})();function yH(t,e){t&1&&(S(0,"button",34),z(1," Actualizar Perfil "),T())}function vH(t,e){t&1&&(S(0,"button",35),z(1," Actualizar Perfil "),T())}function _H(t,e){if(t&1){let n=dt();S(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),te(4,"img",5)(5,"span",6)(6,"span",7)(7,"span")(8,"img",8),T()(),S(9,"div",9)(10,"div",10)(11,"div",11)(12,"h4",12),z(13,"Editar Perfil"),T()(),S(14,"form",13,14),xe("ngSubmit",function(){Ce(n);let i=ne();return De(i.onUpdate())}),S(16,"div",15)(17,"div",16)(18,"label",17),z(19,"Nombre"),T(),S(20,"input",18),st("ngModelChange",function(i){Ce(n);let o=ne();return ht(o.persona.nombre,i)||(o.persona.nombre=i),De(i)}),T()(),S(21,"div",16)(22,"label",19),z(23,"Apellido"),T(),S(24,"input",20),st("ngModelChange",function(i){Ce(n);let o=ne();return ht(o.persona.apellido,i)||(o.persona.apellido=i),De(i)}),T()(),S(25,"div",16)(26,"label",21),z(27,"Titulo"),T(),S(28,"input",22),st("ngModelChange",function(i){Ce(n);let o=ne();return ht(o.persona.titulo,i)||(o.persona.titulo=i),De(i)}),T()(),S(29,"div",16)(30,"label",23),z(31,"Descripcion"),T(),S(32,"textarea",24),st("ngModelChange",function(i){Ce(n);let o=ne();return ht(o.persona.descripcion,i)||(o.persona.descripcion=i),De(i)}),z(33,"              "),T()(),S(34,"div",25)(35,"label",26),z(36,"Imagen"),T(),S(37,"input",27,28),xe("change",function(i){Ce(n);let o=ne();return De(o.uploadImage(i))}),T()(),S(39,"div",25)(40,"label",29),z(41,"Banner"),T(),S(42,"input",30,28),xe("change",function(i){Ce(n);let o=ne();return De(o.uploadBanner(i))}),T()()(),S(44,"div",31),ve(45,yH,2,0,"button",32),T(),ve(46,vH,2,0,"ng-template",null,33,ji),T()()()()()}if(t&2){let n=Li(47),r=ne();U(4),it("alt","img-perfil-",r.persona.id,""),ce("src",r.url,rt),U(4),it("alt","img-banner-",r.persona.id,""),ce("src",r.urlBanner,rt),U(12),ot("ngModel",r.persona.nombre),U(4),ot("ngModel",r.persona.apellido),U(4),ot("ngModel",r.persona.titulo),U(4),ot("ngModel",r.persona.descripcion),U(13),ce("ngIf",r.url&&r.urlBanner)("ngIfElse",n)}}var hN=(()=>{let e=class e{constructor(r,i,o,s){this.personaService=r,this.activateRouter=i,this.router=o,this.imgService=s,this.persona=new yo,this.url="",this.urlBanner=""}ngOnInit(){this.getImagen(),this.getBanner();let r=this.activateRouter.snapshot.params.id;this.personaService.detail(r).subscribe(i=>{this.persona=i},i=>{alert("Error en editar Persona"),this.router.navigate([""])})}onUpdate(){let r=this.activateRouter.snapshot.params.id;this.persona.img=this.url,this.persona.imgBanner=this.urlBanner,this.personaService.update(r,this.persona).subscribe(i=>{alert("Persona editada"),this.router.navigate([""])},i=>{alert("Error al editar Persona"),this.router.navigate([""])})}uploadImage(r){this.borrarImagenes();let o="perfil_"+this.activateRouter.snapshot.params.id;this.imgService.uploadImage(r,o),this.getImagen()}getImagen(){let r=en(this.imgService.storage,"imagen"),i=this.activateRouter.snapshot.params.id}uploadBanner(r){this.imgService.uploadImage(r,"banner_1"),this.getBanner()}getBanner(){let r=en(this.imgService.storage,"imagen")}borrarImagenes(){}};e.\u0275fac=function(i){return new(i||e)(q(wc),q(Bt),q(Qe),q(Dn))},e.\u0275cmp=le({type:e,selectors:[["app-edit-about"]],decls:1,vars:1,consts:[["class","container rounded bg-white mt-5 mb-5",4,"ngIf"],[1,"container","rounded","bg-white","mt-5","mb-5"],[1,"row"],[1,"col-md-3"],[1,"d-flex","flex-column","align-items-center","text-center","p-3","py-5"],["width","150px",1,"rounded-circle","mt-5","border",3,"src","alt"],[1,"font-weight-bold"],[1,"text-black-50"],["width","150px",1,"mt-5","border",3,"src","alt"],[1,"col-md-9"],[1,"p-3","py-5"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-right"],["novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"labels"],[1,"form-group","labels"],["for","nombreE"],["type","text","id","nombreE","name","nombreE","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","apellido"],["type","text","id","apellido","name","apellido","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","titulo"],["type","text","id","titulo","name","titulo","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","descripcion"],["type","text","id","descripcion","name","descripcion","required","","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-img","labels"],["for","img"],["type","file","id","img","name","img","accept",".jpg, .jpeg, .png",1,"form-control",3,"change"],["fileInput",""],["for","imgBanner"],["type","file","id","imgBanner","name","imgBanner","accept",".jpg, .jpeg, .png",1,"form-control",3,"change"],[1,"mt-5","text-center"],["class","btn btn-success",4,"ngIf","ngIfElse"],["btnDisabled",""],[1,"btn","btn-success"],["disabled","true",1,"btn","btn-outline-secondary"]],template:function(i,o){i&1&&ve(0,_H,48,10,"div",0),i&2&&ce("ngIf",o.persona)},dependencies:[Pt,Fr,$n,kr,Or,or,ir,rr],styles:[".form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#000}.labels[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]{border:solid;border-color:#000}.btn-outline-secondary[_ngcontent-%COMP%]:hover, .btn-outline-secondary[_ngcontent-%COMP%]:focus, .btn-outline-secondary[_ngcontent-%COMP%]:active, .btn-outline-secondary.active[_ngcontent-%COMP%], .open[_ngcontent-%COMP%] > .dropdown-toggle.btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:green;border-color:#000!important}"]});let t=e;return t})();var Mc=class{constructor(e="",n="",r="",i="",o=""){this.nombreE=e,this.descripcionE=n,this.titulo=r,this.periodo=i,this.img=o}};function wH(t,e){if(t&1&&te(0,"img",28),t&2){let n=ne();it("alt","img-educ-",n.nombreE,""),ce("src",n.img,rt)}}function EH(t,e){t&1&&(S(0,"button",29),z(1," Agregar Educacion "),T())}function bH(t,e){t&1&&(S(0,"button",30),z(1," Agregar Educacion "),T())}var fN=(()=>{let e=class e{constructor(r,i,o,s){this.sEducacion=r,this.activateRouter=i,this.router=o,this.imgService=s,this.nombreE="",this.descripcionE="",this.titulo="",this.periodo="",this.img=""}ngOnInit(){console.log("new educacion")}onCreate(){return A(this,null,function*(){let r=new Mc(this.nombreE,this.descripcionE,this.titulo,this.periodo,this.img);try{yield this.sEducacion.save(r).toPromise(),alert("Educaci\xF3n a\xF1adida"),this.router.navigate([""])}catch(i){console.error("Error al a\xF1adir Educaci\xF3n:",i),alert("Error al a\xF1adir Educaci\xF3n"),this.router.navigate([""])}})}uploadImage(r){return A(this,null,function*(){this.img="";let i=this.nombreE;try{yield this.imgService.uploadImage(r,i),yield this.getImagen()}catch(o){console.error("Error al subir la imagen:",o),alert("Error al subir la imagen")}})}getImagen(){return A(this,null,function*(){let r=Lg(),i=en(r,"imagen"),o=this.nombreE;console.log("getImagen:",r,i,o);try{let c=(yield Qn(i)).items.find(l=>l.name===o);if(c){let l=yield Kn(c);this.img=l}else console.error(`No se encontr\xF3 la imagen de la educaci\xF3n: ${o}`),alert(`No se encontr\xF3 la imagen de la educaci\xF3n: ${this.nombreE}`)}catch(s){console.error("Error al obtener la imagen de la educaci\xF3n:",s),alert(`Error al obtener la imagen de la educaci\xF3n: ${this.nombreE}`)}})}};e.\u0275fac=function(i){return new(i||e)(q(Ec),q(Bt),q(Qe),q(Dn))},e.\u0275cmp=le({type:e,selectors:[["app-new-educacion"]],decls:40,vars:7,consts:[[1,"container","rounded","bg-white","mt-5","mb-5"],[1,"row"],[1,"col-md-3"],[1,"d-flex","flex-column","align-items-center","text-center","p-3","py-5"],["class","mt-5 border","width","150px",3,"src","alt",4,"ngIf"],[1,"font-weight-bold"],[1,"text-black-50"],[1,"col-md-9"],[1,"p-3","py-5"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-right"],["novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"form-group","labels"],["for","titulo"],["type","text","id","titulo","name","titulo","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","nombreE"],["type","text","id","nombreE","name","nombreE","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","periodo"],["type","text","id","periodo","name","periodo","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","descripcionE"],["type","text","id","descripcionE","name","descripcionE","required","","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-img","labels"],["for","img"],["type","file","id","img","name","img","accept",".jpg, .jpeg, .png",1,"form-control",3,"change"],[1,"mt-5","text-center"],["class","btn btn-success",4,"ngIf","ngIfElse"],["btnDisabled",""],["width","150px",1,"mt-5","border",3,"src","alt"],[1,"btn","btn-success"],["disabled","true",1,"btn","btn-outline-secondary"]],template:function(i,o){if(i&1&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ve(4,wH,1,2,"img",4),te(5,"span",5)(6,"span",6)(7,"span"),T()(),S(8,"div",7)(9,"div",8)(10,"div",9)(11,"h4",10),z(12,"Nueva Educacion"),T()(),S(13,"form",11,12),xe("ngSubmit",function(){return o.onCreate()}),S(15,"div",13)(16,"label",14),z(17,"Titulo"),T(),S(18,"input",15),st("ngModelChange",function(a){return ht(o.titulo,a)||(o.titulo=a),a}),T()(),S(19,"div",13)(20,"label",16),z(21,"Nombre de la institucion"),T(),S(22,"input",17),st("ngModelChange",function(a){return ht(o.nombreE,a)||(o.nombreE=a),a}),T()(),S(23,"div",13)(24,"label",18),z(25,"Periodo"),T(),S(26,"input",19),st("ngModelChange",function(a){return ht(o.periodo,a)||(o.periodo=a),a}),T()(),S(27,"div",13)(28,"label",20),z(29,"Descripcion"),T(),S(30,"textarea",21),st("ngModelChange",function(a){return ht(o.descripcionE,a)||(o.descripcionE=a),a}),z(31,"							"),T()(),S(32,"div",22)(33,"label",23),z(34,"Logo"),T(),S(35,"input",24),xe("change",function(a){return o.uploadImage(a)}),T()(),S(36,"div",25),ve(37,EH,2,0,"button",26),T(),ve(38,bH,2,0,"ng-template",null,27,ji),T()()()()()),i&2){let s=Li(39);U(4),ce("ngIf",o.img),U(14),ot("ngModel",o.titulo),U(4),ot("ngModel",o.nombreE),U(4),ot("ngModel",o.periodo),U(4),ot("ngModel",o.descripcionE),U(7),ce("ngIf",o.img)("ngIfElse",s)}},dependencies:[Pt,Fr,$n,kr,Or,or,ir,rr],styles:[".form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#000}.labels[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]{border:solid;border-color:#000}"]});let t=e;return t})();function IH(t,e){t&1&&(S(0,"button",30),z(1," Actualizar Educacion "),T())}function CH(t,e){t&1&&(S(0,"button",31),z(1," Actualizar Educacion "),T())}function DH(t,e){if(t&1){let n=dt();S(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),te(4,"img",5)(5,"span",6)(6,"span",7)(7,"span"),T()(),S(8,"div",8)(9,"div",9)(10,"div",10)(11,"h2",11),z(12,"Editar Educacion"),T()(),S(13,"form",12,13),xe("ngSubmit",function(){Ce(n);let i=ne();return De(i.onUpdate())}),S(15,"div",14)(16,"label",15),z(17,"Titulo"),T(),S(18,"input",16),st("ngModelChange",function(i){Ce(n);let o=ne();return ht(o.educ.titulo,i)||(o.educ.titulo=i),De(i)}),T()(),S(19,"div",14)(20,"label",17),z(21,"Nombre de la institucion"),T(),S(22,"input",18),st("ngModelChange",function(i){Ce(n);let o=ne();return ht(o.educ.nombreE,i)||(o.educ.nombreE=i),De(i)}),T()(),S(23,"div",14)(24,"label",19),z(25,"Periodo"),T(),S(26,"input",20),st("ngModelChange",function(i){Ce(n);let o=ne();return ht(o.educ.periodo,i)||(o.educ.periodo=i),De(i)}),T()(),S(27,"div",14)(28,"label",21),z(29,"Descripcion"),T(),S(30,"textarea",22),st("ngModelChange",function(i){Ce(n);let o=ne();return ht(o.educ.descripcionE,i)||(o.educ.descripcionE=i),De(i)}),z(31," "),T()(),S(32,"div",23)(33,"label",24),z(34,"Logo"),T(),S(35,"input",25,26),xe("change",function(i){Ce(n);let o=ne();return De(o.uploadImage(i))}),T()(),S(37,"div",27),ve(38,IH,2,0,"button",28),T(),ve(39,CH,2,0,"ng-template",null,29,ji),T()()()()()}if(t&2){let n=Li(40),r=ne();U(4),_n("src",r.educ.img,rt),it("alt","img-educ-",r.educ.id,""),U(14),ot("ngModel",r.educ.titulo),U(4),ot("ngModel",r.educ.nombreE),U(4),ot("ngModel",r.educ.periodo),U(4),ot("ngModel",r.educ.descripcionE),U(8),ce("ngIf",r.url)("ngIfElse",n)}}var pN=(()=>{let e=class e{constructor(r,i,o,s,a){this.sEducacion=r,this.activateRouter=i,this.router=o,this.imgService=s,this.storage=a,this.educ=new Mc,this.url=""}ngOnInit(){console.log("ngOnInit edit-educacion");let r=this.activateRouter.snapshot.params.id;this.sEducacion.detail(r).subscribe(i=>{this.educ=i,this.url=this.educ.img,this.getImagen()},i=>{alert("Error al cargar los datos de la educaci\xF3n"),this.router.navigate([""])})}onUpdate(){let r=this.activateRouter.snapshot.params.id;this.educ.img=this.url,this.sEducacion.update(r,this.educ).subscribe(()=>{alert("Educaci\xF3n editada"),this.router.navigate([""])},i=>{alert("Error al editar la educaci\xF3n"),this.router.navigate([""])})}uploadImage(r){return A(this,null,function*(){this.url="";let i=r.target.files[0];if(!i){alert("No se seleccion\xF3 ning\xFAn archivo");return}let o="education_"+this.educ.nombreE;try{yield this.imgService.uploadImage(i,o),console.log("Imagen subida con \xE9xito"),yield this.getImagen()}catch(s){console.error("Error al subir la imagen:",s),alert("Error al subir la imagen")}})}getImagen(r){return A(this,null,function*(){try{console.log("getImagen:",r);let i=en(this.storage,"");console.log("imgsRef:",i);let o=yield Qn(i);console.log("response:",o);let s=r||this.educ.img;console.log("imageName:",s);let a=o.items.find(c=>c.name===s);console.log("imageItem:",a),a?this.url=yield Kn(a):console.log("No se pudo encontrar la imagen de la educaci\xF3n: "+this.educ.img)}catch(i){console.error("Error al obtener la imagen:",i)}})}};e.\u0275fac=function(i){return new(i||e)(q(Ec),q(Bt),q(Qe),q(Dn),q(pr))},e.\u0275cmp=le({type:e,selectors:[["app-edit-educacion"]],decls:1,vars:1,consts:[["class","card mat-card rounded bg-white mt-5 mb-5 p-3",4,"ngIf"],[1,"card","mat-card","rounded","bg-white","mt-5","mb-5","p-3"],[1,"row"],[1,"col-md-3"],[1,"d-flex","flex-column","align-items-center","text-center","p-3","py-5"],["width","150px","height","150px",1,"mt-5","border",3,"src","alt"],[1,"font-weight-bold"],[1,"text-black-50"],[1,"col-md-9"],[1,"p-3","py-5"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-right"],["novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"form-group","labels"],["for","titulo"],["type","text","id","titulo","name","titulo","required","","title","Titulo",1,"form-control",3,"ngModel","ngModelChange"],["for","nombreE"],["type","text","id","nombreE","name","nombreE","required","","title","Nombre de la institucion",1,"form-control",3,"ngModel","ngModelChange"],["for","periodo"],["type","text","id","periodo","name","periodo","required","","title","Periodo",1,"form-control",3,"ngModel","ngModelChange"],["for","descripcionE"],["type","text","id","descripcionE","name","descripcionE","required","","rows","3","title","Descripcion",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-img","labels"],["for","img"],["type","file","id","img","name","img","accept",".jpg, .jpeg, .png",1,"form-control",3,"change"],["fileInput",""],[1,"mt-5","text-center"],["class","btn btn-success",4,"ngIf","ngIfElse"],["btnDisabled",""],[1,"btn","btn-success"],["disabled","true",1,"btn","btn-outline-secondary"]],template:function(i,o){i&1&&ve(0,DH,41,8,"div",0),i&2&&ce("ngIf",o.educ)},dependencies:[Pt,Fr,$n,kr,Or,or,ir,rr],styles:[".form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#000}.labels[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]{border:solid;border-color:#000}.row[_ngcontent-%COMP%]{padding:20px}.logo[_ngcontent-%COMP%]{width:95%;max-width:100%;height:-webkit-fill-available;margin-top:20px;-webkit-filter:drop-shadow(5px 5px 5px #222);filter:drop-shadow(5px 5px 5px #222)}@media (max-width: 768px){.logo[_ngcontent-%COMP%]{margin-top:-20px;margin-bottom:20px}}.mat-card[_ngcontent-%COMP%]{display:flex;width:80vw;border-radius:32px;margin:10px 20px;padding:20px;box-shadow:#00000059 0 5px 15px}.card[_ngcontent-%COMP%]{border-radius:10px}.btn-right[_ngcontent-%COMP%]{float:right;margin-left:10px}@media (max-width: 768px){.btn-right[_ngcontent-%COMP%]{margin-top:5px}}.layout[_ngcontent-%COMP%]{padding:5px;display:flex;justify-content:space-between;align-items:center;margin:5px}ul[_ngcontent-%COMP%]{padding:0}p#preline[_ngcontent-%COMP%]{white-space:pre-line}.border[_ngcontent-%COMP%]{border:1px solid #5298de;border-radius:5px}.shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #f23a3a94}"]});let t=e;return t})();var gN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-new-hys"]],decls:2,vars:0,template:function(i,o){i&1&&(S(0,"p"),z(1,"new-hys works!"),T())}});let t=e;return t})();function xH(t,e){t&1&&(S(0,"button",28),z(1," Actualizar Skill "),T())}function TH(t,e){t&1&&(S(0,"button",29),z(1," Actualizar Skill "),T())}function SH(t,e){if(t&1){let n=dt();S(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),te(4,"img",6)(5,"span",7)(6,"span",8)(7,"span"),T()(),S(8,"div",9)(9,"div",10)(10,"div",11)(11,"h4",12),z(12,"Editar Skill"),T()(),S(13,"form",13,14),xe("ngSubmit",function(){Ce(n);let i=ne();return De(i.onUpdate())}),S(15,"div",15)(16,"div",16)(17,"label",17),z(18,"Nombre de la Skill"),T(),S(19,"input",18),st("ngModelChange",function(i){Ce(n);let o=ne();return ht(o.skill.nombre,i)||(o.skill.nombre=i),De(i)}),T()(),S(20,"div",16)(21,"label",19),z(22,"Ingrese el porcentaje"),T(),S(23,"input",20),st("ngModelChange",function(i){Ce(n);let o=ne();return ht(o.skill.porcentaje,i)||(o.skill.porcentaje=i),De(i)}),T()(),S(24,"div",21)(25,"label",22),z(26,"Logo"),T(),S(27,"input",23,24),xe("change",function(i){Ce(n);let o=ne();return De(o.uploadImage(i))}),T()()(),S(29,"div",25),ve(30,xH,2,0,"button",26),T(),ve(31,TH,2,0,"ng-template",null,27,ji),T()()()()()}if(t&2){let n=Li(32),r=ne();U(4),it("alt","img-hys-",r.skill.id,""),ce("src",r.url,rt),U(15),ot("ngModel",r.skill.nombre),U(4),ot("ngModel",r.skill.porcentaje),U(7),ce("ngIf",r.url)("ngIfElse",n)}}var mN=(()=>{let e=class e{constructor(r,i,o,s){this.skillS=r,this.activatedRouter=i,this.router=o,this.imgService=s,this.skill=null,this.url=""}ngOnInit(){this.cargarSkills();let r=this.activatedRouter.snapshot.params.id;this.skillS.detail(r).subscribe(i=>{this.skill=i,this.getImagen()},i=>{alert("Error al modificar"),this.router.navigate([""])})}cargarSkills(){this.skillS.lista().subscribe(r=>{this.skill=r.length>0?r[0]:null,console.log("skill:",this.skill)})}onUpdate(){let r=this.activatedRouter.snapshot.params.id;this.skill&&(this.skill.img=this.url,this.skillS.update(r,this.skill).subscribe(i=>{alert("Skill editada"),this.router.navigate([""])},i=>{alert("Error al modificar la skill"),this.router.navigate([""])}))}uploadImage(r){if(this.url="",this.skill){let i=this.skill.nombre;this.imgService.uploadImage(r,i),setTimeout(()=>{this.getImagen()},2e3)}}getImagen(){if(this.skill){let r=en(this.imgService.storage,"imagen");Qn(r).then(i=>A(this,null,function*(){let o=i.items.find(s=>s.name===this.skill?.nombre);o?this.url=yield Kn(o):console.log("No se pudo encontrar la imagen de la skill con nombre:",this.skill?.nombre)})).catch(i=>console.log("Error al obtener la imagen:",i))}}};e.\u0275fac=function(i){return new(i||e)(q(Tg),q(Bt),q(Qe),q(Dn))},e.\u0275cmp=le({type:e,selectors:[["app-edit-hys"]],decls:2,vars:1,consts:[[1,"vh-100"],["class","container rounded bg-white mt-5 mb-5",4,"ngIf"],[1,"container","rounded","bg-white","mt-5","mb-5"],[1,"row"],[1,"col-md-3"],[1,"d-flex","flex-column","align-items-center","text-center","p-3","py-5"],["width","150px",1,"mt-5","border",3,"src","alt"],[1,"font-weight-bold"],[1,"text-black-50"],[1,"col-md-9"],[1,"p-3","py-5"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-right"],["novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"labels"],[1,"form-group","labels"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","porcentaje"],["type","text","id","porcentaje","name","porcentaje","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-img","labels"],["for","img"],["type","file","id","img","name","img","accept",".jpg, .jpeg, .png",1,"form-control",3,"change"],["fileInput",""],[1,"mt-5","text-center"],["class","btn btn-success",4,"ngIf","ngIfElse"],["btnDisabled",""],[1,"btn","btn-success"],["disabled","true",1,"btn","btn-outline-secondary"]],template:function(i,o){i&1&&(S(0,"section",0),ve(1,SH,33,6,"div",1),T()),i&2&&(U(),ce("ngIf",o.skill))},dependencies:[Pt,Fr,$n,kr,Or,or,ir,rr],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;padding:20px;border:2px solid #ccc;border-radius:10px;box-shadow:4px 4px 8px #0003,-4px -4px 8px #fff9;background-color:#f9f9f9}.encabezado[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;border:2px solid #34e265ad;border-radius:5px;background-color:#a9a9a9;flex-direction:column;padding-bottom:10px}.icono-anadir[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;background-color:#28a745;color:#fff;border:none;border-radius:5px;box-shadow:2px 2px 5px #0003;transition:box-shadow .2s,transform .2s;margin-right:2vw}.icono-anadir[_ngcontent-%COMP%]:hover{box-shadow:3px 3px 8px #0000004d;transform:translateY(-2px)}.acciones[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-bottom:2px;border:1px solid blue;border-radius:10px;padding:2px}.icono-editar[_ngcontent-%COMP%], .icono-borrar[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;background-color:#007bff;color:#fff;border:none;border-radius:5px;box-shadow:2px 2px 5px #0003;transition:box-shadow .2s,transform .2s}.icono-borrar[_ngcontent-%COMP%]{background-color:#dc3545}.icono-editar[_ngcontent-%COMP%]:hover, .icono-borrar[_ngcontent-%COMP%]:hover{box-shadow:3px 3px 8px #0000004d;transform:translateY(-2px)}.contenido[_ngcontent-%COMP%]{display:flex;border:2px solid #ccc;padding-top:5px}.imagen[_ngcontent-%COMP%]{flex:0 0 25%;border:2px solid #ccc;border-radius:10px;overflow:hidden;box-shadow:2px 2px 5px #0003}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;height:-webkit-fill-available;margin-top:20px;-webkit-filter:drop-shadow(5px 5px 5px #222);filter:drop-shadow(5px 5px 5px #222)}.informacion[_ngcontent-%COMP%]{flex:1;padding-left:20px;border:1px solid #ccc;border-radius:10px}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#000}.labels[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]{border:solid;border-color:#000}"]});let t=e;return t})();var AH=[{path:"",component:_b},{path:"login",component:vR},{path:"new-experiencia",component:lN},{path:"edit-experiencia/:id",component:dN},{path:"new-educacion",component:fN},{path:"edit-educacion/:id",component:pN},{path:"edit-about/:id",component:hN},{path:"new-hys",component:gN},{path:"edit-hys/:id",component:mN},{path:"home",component:_b},{path:"**",component:mA},{path:"header",component:Sg}],yN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Oe({imports:[Yu.forRoot(AH),Yu]});let t=e;return t})();var Pc=class{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var jg=class{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Pc(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Pc(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(typeof n=="function"?o=s=>n(new Pc(s,this,this._ref)):o={next:n.next?s=>n.next(new Pc(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}},Ug=class{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Ss(e,this._service))}get items(){return this._delegate.items.map(e=>new Ss(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var Ss=class t{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let n=oN(this._delegate,e);return new t(n,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new jg(Ob(this._delegate,e,n),this)}putString(e,n=Nn.RAW,r){this._throwIfRoot("putString");let i=Pb(n,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new jg(new Xl(this._delegate,new Ts(i.data,!0),o),this)}listAll(){return Lb(this._delegate).then(e=>new Ug(e,this.storage))}list(e){return Og(this._delegate,e||void 0).then(n=>new Ug(n,this.storage))}getMetadata(){return Fb(this._delegate)}updateMetadata(e){return Vb(this._delegate,e)}getDownloadURL(){return Fg(this._delegate)}delete(){return this._throwIfRoot("delete"),jb(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw Ab(e)}};var Bg=class{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(vN(e))throw xs("ref() expected a child path but got a URL, use refFromURL instead.");return new Ss(td(this._delegate,e),this)}refFromURL(e){if(!vN(e))throw xs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pn.makeFromUrl(e,this._delegate.host)}catch{throw xs("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ss(td(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){Vg(this._delegate,e,n,r)}};function vN(t){return/^[A-Za-z]+:\/\//.test(t)}var MH="@firebase/storage-compat",PH="0.3.9";var RH="storage-compat";function NH(t,{instanceIdentifier:e}){let n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new Bg(n,r)}function kH(t){let e={TaskState:Jt,TaskEvent:XR,StringFormat:Nn,Storage:Bg,Reference:Ss};t.INTERNAL.registerComponent(new Zn(RH,NH,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(MH,PH)}kH(Ct);function OH(t){return new he(e=>{let n=s=>e.next(s),r=s=>e.error(s),i=()=>e.complete();n(t.snapshot);let o=t.on("state_changed",n);return t.then(s=>{n(s),i()},s=>{n(t.snapshot),r(s)}),function(){o()}}).pipe(jm(0))}function _N(t){let e=OH(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(se(n=>n.bytesTransferred/n.totalBytes*100))}}function $g(t){return{getDownloadURL:()=>re(void 0).pipe(K_,$e(()=>t.getDownloadURL()),kt),getMetadata:()=>re(void 0).pipe(K_,$e(()=>t.getMetadata()),kt),delete:()=>Ee(t.delete()),child:e=>$g(t.child(e)),updateMetadata:e=>Ee(t.updateMetadata(e)),put:(e,n)=>{let r=t.put(e,n);return _N(r)},putString:(e,n,r)=>{let i=t.putString(e,n,r);return _N(i)},list:e=>Ee(t.list(e)),listAll:()=>Ee(t.listAll())}}var FH=new H("angularfire2.storageBucket"),VH=new H("angularfire2.storage.maxUploadRetryTime"),LH=new H("angularfire2.storage.maxOperationRetryTime"),jH=new H("angularfire2.storage.use-emulator"),UH=(()=>{class t{storage;constructor(n,r,i,o,s,a,c,l,d,f){let g=Jo(n,s,r);this.storage=Ra(`${g.name}.storage.${i}`,"AngularFireStorage",g.name,()=>{let y=s.runOutsideAngular(()=>g.storage(i||void 0)),b=d;return b&&y.useEmulator(...b),c&&y.setMaxUploadRetryTime(c),l&&y.setMaxOperationRetryTime(l),y},[c,l])}ref(n){return $g(this.storage.ref(n))}refFromURL(n){return $g(this.storage.refFromURL(n))}upload(n,r,i){let o=this.storage.ref(n);return $g(o).put(r,i)}static \u0275fac=function(r){return new(r||t)(F(Ki),F(Qi,8),F(FH,8),F(vt),F(pe),F(sr),F(VH,8),F(LH,8),F(jH,8),F(qn,8))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var BH=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ke({type:t});static \u0275inj=Oe({})}return t})(),wN=(()=>{class t{constructor(){Ct.registerVersion("angularfire",ln.full,"gcs-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ke({type:t});static \u0275inj=Oe({providers:[UH],imports:[BH]})}return t})();var qH=(()=>{let e=class e{constructor(r){this.tokenService=r}intercept(r,i){let o=r,s=this.tokenService.getToken();return s!=null&&(o=r.clone({headers:r.headers.set("Authorization","Bearer "+s)})),i.handle(o)}};e.\u0275fac=function(i){return new(i||e)(F(Nt))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EN=[{provide:Hv,useClass:qH,multi:!0}];var bN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e,bootstrap:[gA]}),e.\u0275inj=Oe({providers:[EN],imports:[QT,yN,Yu.forRoot([]),pA,NA.initializeApp($t.firebaseConfig),UT,fA,yR,wN,kA,BS.forRoot({}),vA(()=>_A($t.firebaseConfig)),cN(()=>Lg())]});let t=e;return t})();$t.production&&void 0;KT().bootstrapModule(bN).catch(t=>console.error(t));
